/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __create = Object.create;
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __commonJS = (cb, mod) => function __require() {
  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;
};
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except2, desc2) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except2)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc2 = __getOwnPropDesc(from, key)) || desc2.enumerable });
  }
  return to;
};
var __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(
  // If the importer is in node compatibility mode or this is not an ESM
  // file that has been converted to a CommonJS file using a Babel-
  // compatible transform (i.e. "__esModule" has not been set), then set
  // "default" to the CommonJS "module.exports" for node compatibility.
  isNodeMode || !mod || !mod.__esModule ? __defProp(target, "default", { value: mod, enumerable: true }) : target,
  mod
));
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
var __publicField = (obj, key, value) => {
  __defNormalProp(obj, typeof key !== "symbol" ? key + "" : key, value);
  return value;
};

// node_modules/.pnpm/promise-limit@2.7.0/node_modules/promise-limit/index.js
var require_promise_limit = __commonJS({
  "node_modules/.pnpm/promise-limit@2.7.0/node_modules/promise-limit/index.js"(exports, module2) {
    function limiter(count) {
      var outstanding = 0;
      var jobs = [];
      function remove() {
        outstanding--;
        if (outstanding < count) {
          dequeue();
        }
      }
      function dequeue() {
        var job = jobs.shift();
        semaphore.queue = jobs.length;
        if (job) {
          run(job.fn).then(job.resolve).catch(job.reject);
        }
      }
      function queue(fn) {
        return new Promise(function(resolve, reject) {
          jobs.push({ fn, resolve, reject });
          semaphore.queue = jobs.length;
        });
      }
      function run(fn) {
        outstanding++;
        try {
          return Promise.resolve(fn()).then(function(result) {
            remove();
            return result;
          }, function(error) {
            remove();
            throw error;
          });
        } catch (err) {
          remove();
          return Promise.reject(err);
        }
      }
      var semaphore = function(fn) {
        if (outstanding >= count) {
          return queue(fn);
        } else {
          return run(fn);
        }
      };
      return semaphore;
    }
    function map(items, mapper) {
      var failed = false;
      var limit = this;
      return Promise.all(items.map(function() {
        var args = arguments;
        return limit(function() {
          if (!failed) {
            return mapper.apply(void 0, args).catch(function(e) {
              failed = true;
              throw e;
            });
          }
        });
      }));
    }
    function addExtras(fn) {
      fn.queue = 0;
      fn.map = map;
      return fn;
    }
    module2.exports = function(count) {
      if (count) {
        return addExtras(limiter(count));
      } else {
        return addExtras(function(fn) {
          return fn();
        });
      }
    };
  }
});

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => SQLitePlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian2 = require("obsidian");

// src/settings.ts
var import_obsidian = require("obsidian");
var DEFAULT_SETTINGS = {
  localDBPath: ".obsidian-sql-lite.db",
  remoteDBUrl: "",
  remoteDBSecret: ""
};
var SQLitePluginSettingTab = class extends import_obsidian.PluginSettingTab {
  plugin;
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian.Setting(containerEl).setName("DB URL").setDesc("The Turso DB url").addText((text2) => text2.setPlaceholder("Enter your url").setValue(this.plugin.settings.remoteDBUrl).onChange(async (value) => {
      this.plugin.settings.remoteDBUrl = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("DB Secret").setDesc("The Turso DB secret").addText((text2) => text2.setPlaceholder("Enter your secret").setValue(this.plugin.settings.remoteDBSecret).onChange(async (value) => {
      this.plugin.settings.remoteDBSecret = value;
      await this.plugin.saveSettings();
    }));
    new import_obsidian.Setting(containerEl).setName("Database file name").setDesc("The name of the SQLite database file (stored in .obsidian folder)").addText((text2) => text2.setPlaceholder("Enter file name").setValue(this.plugin.settings.localDBPath).onChange(async (value) => {
      this.plugin.settings.localDBPath = value;
      await this.plugin.saveSettings();
    }));
  }
};

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/entity.js
var entityKind = Symbol.for("drizzle:entityKind");
var hasOwnEntityKind = Symbol.for("drizzle:hasOwnEntityKind");
function is(value, type) {
  if (!value || typeof value !== "object") {
    return false;
  }
  if (value instanceof type) {
    return true;
  }
  if (!Object.prototype.hasOwnProperty.call(type, entityKind)) {
    throw new Error(
      `Class "${type.name ?? "<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`
    );
  }
  let cls = value.constructor;
  if (cls) {
    while (cls) {
      if (entityKind in cls && cls[entityKind] === type[entityKind]) {
        return true;
      }
      cls = Object.getPrototypeOf(cls);
    }
  }
  return false;
}

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/logger.js
var _a;
var ConsoleLogWriter = class {
  write(message) {
    console.log(message);
  }
};
_a = entityKind;
__publicField(ConsoleLogWriter, _a, "ConsoleLogWriter");
var _a2;
var DefaultLogger = class {
  writer;
  constructor(config) {
    this.writer = config?.writer ?? new ConsoleLogWriter();
  }
  logQuery(query, params) {
    const stringifiedParams = params.map((p) => {
      try {
        return JSON.stringify(p);
      } catch {
        return String(p);
      }
    });
    const paramsStr = stringifiedParams.length ? ` -- params: [${stringifiedParams.join(", ")}]` : "";
    this.writer.write(`Query: ${query}${paramsStr}`);
  }
};
_a2 = entityKind;
__publicField(DefaultLogger, _a2, "DefaultLogger");
var _a3;
var NoopLogger = class {
  logQuery() {
  }
};
_a3 = entityKind;
__publicField(NoopLogger, _a3, "NoopLogger");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/table.js
var TableName = Symbol.for("drizzle:Name");
var Schema = Symbol.for("drizzle:Schema");
var Columns = Symbol.for("drizzle:Columns");
var ExtraConfigColumns = Symbol.for("drizzle:ExtraConfigColumns");
var OriginalName = Symbol.for("drizzle:OriginalName");
var BaseName = Symbol.for("drizzle:BaseName");
var IsAlias = Symbol.for("drizzle:IsAlias");
var ExtraConfigBuilder = Symbol.for("drizzle:ExtraConfigBuilder");
var IsDrizzleTable = Symbol.for("drizzle:IsDrizzleTable");
var _a4;
var Table = class {
  /**
   * @internal
   * Can be changed if the table is aliased.
   */
  [(_a4 = entityKind, TableName)];
  /**
   * @internal
   * Used to store the original name of the table, before any aliasing.
   */
  [OriginalName];
  /** @internal */
  [Schema];
  /** @internal */
  [Columns];
  /** @internal */
  [ExtraConfigColumns];
  /**
   *  @internal
   * Used to store the table name before the transformation via the `tableCreator` functions.
   */
  [BaseName];
  /** @internal */
  [IsAlias] = false;
  /** @internal */
  [IsDrizzleTable] = true;
  /** @internal */
  [ExtraConfigBuilder] = void 0;
  constructor(name, schema, baseName) {
    this[TableName] = this[OriginalName] = name;
    this[Schema] = schema;
    this[BaseName] = baseName;
  }
};
__publicField(Table, _a4, "Table");
/** @internal */
__publicField(Table, "Symbol", {
  Name: TableName,
  Schema,
  OriginalName,
  Columns,
  ExtraConfigColumns,
  BaseName,
  IsAlias,
  ExtraConfigBuilder
});
function getTableName(table) {
  return table[TableName];
}
function getTableUniqueName(table) {
  return `${table[Schema] ?? "public"}.${table[TableName]}`;
}

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/column.js
var _a5;
var Column = class {
  constructor(table, config) {
    this.table = table;
    this.config = config;
    this.name = config.name;
    this.notNull = config.notNull;
    this.default = config.default;
    this.defaultFn = config.defaultFn;
    this.onUpdateFn = config.onUpdateFn;
    this.hasDefault = config.hasDefault;
    this.primary = config.primaryKey;
    this.isUnique = config.isUnique;
    this.uniqueName = config.uniqueName;
    this.uniqueType = config.uniqueType;
    this.dataType = config.dataType;
    this.columnType = config.columnType;
    this.generated = config.generated;
    this.generatedIdentity = config.generatedIdentity;
  }
  name;
  primary;
  notNull;
  default;
  defaultFn;
  onUpdateFn;
  hasDefault;
  isUnique;
  uniqueName;
  uniqueType;
  dataType;
  columnType;
  enumValues = void 0;
  generated = void 0;
  generatedIdentity = void 0;
  config;
  mapFromDriverValue(value) {
    return value;
  }
  mapToDriverValue(value) {
    return value;
  }
  // ** @internal */
  shouldDisableInsert() {
    return this.config.generated !== void 0 && this.config.generated.type !== "byDefault";
  }
};
_a5 = entityKind;
__publicField(Column, _a5, "Column");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/pg-core/table.js
var InlineForeignKeys = Symbol.for("drizzle:PgInlineForeignKeys");
var _a6;
var PgTable = class extends Table {
  /**@internal */
  [(_a6 = entityKind, InlineForeignKeys)] = [];
  /** @internal */
  [Table.Symbol.ExtraConfigBuilder] = void 0;
};
__publicField(PgTable, _a6, "PgTable");
/** @internal */
__publicField(PgTable, "Symbol", Object.assign({}, Table.Symbol, {
  InlineForeignKeys
}));

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/pg-core/primary-keys.js
var _a7;
var PrimaryKeyBuilder = class {
  /** @internal */
  columns;
  /** @internal */
  name;
  constructor(columns, name) {
    this.columns = columns;
    this.name = name;
  }
  /** @internal */
  build(table) {
    return new PrimaryKey(table, this.columns, this.name);
  }
};
_a7 = entityKind;
__publicField(PrimaryKeyBuilder, _a7, "PgPrimaryKeyBuilder");
var _a8;
var PrimaryKey = class {
  constructor(table, columns, name) {
    this.table = table;
    this.columns = columns;
    this.name = name;
  }
  columns;
  name;
  getName() {
    return this.name ?? `${this.table[PgTable.Symbol.Name]}_${this.columns.map((column) => column.name).join("_")}_pk`;
  }
};
_a8 = entityKind;
__publicField(PrimaryKey, _a8, "PgPrimaryKey");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/column-builder.js
var _a9;
var ColumnBuilder = class {
  config;
  constructor(name, dataType, columnType) {
    this.config = {
      name,
      notNull: false,
      default: void 0,
      hasDefault: false,
      primaryKey: false,
      isUnique: false,
      uniqueName: void 0,
      uniqueType: void 0,
      dataType,
      columnType,
      generated: void 0
    };
  }
  /**
   * Changes the data type of the column. Commonly used with `json` columns. Also, useful for branded types.
   *
   * @example
   * ```ts
   * const users = pgTable('users', {
   * 	id: integer('id').$type<UserId>().primaryKey(),
   * 	details: json('details').$type<UserDetails>().notNull(),
   * });
   * ```
   */
  $type() {
    return this;
  }
  /**
   * Adds a `not null` clause to the column definition.
   *
   * Affects the `select` model of the table - columns *without* `not null` will be nullable on select.
   */
  notNull() {
    this.config.notNull = true;
    return this;
  }
  /**
   * Adds a `default <value>` clause to the column definition.
   *
   * Affects the `insert` model of the table - columns *with* `default` are optional on insert.
   *
   * If you need to set a dynamic default value, use {@link $defaultFn} instead.
   */
  default(value) {
    this.config.default = value;
    this.config.hasDefault = true;
    return this;
  }
  /**
   * Adds a dynamic default value to the column.
   * The function will be called when the row is inserted, and the returned value will be used as the column value.
   *
   * **Note:** This value does not affect the `drizzle-kit` behavior, it is only used at runtime in `drizzle-orm`.
   */
  $defaultFn(fn) {
    this.config.defaultFn = fn;
    this.config.hasDefault = true;
    return this;
  }
  /**
   * Alias for {@link $defaultFn}.
   */
  $default = this.$defaultFn;
  /**
   * Adds a dynamic update value to the column.
   * The function will be called when the row is updated, and the returned value will be used as the column value if none is provided.
   * If no `default` (or `$defaultFn`) value is provided, the function will be called when the row is inserted as well, and the returned value will be used as the column value.
   *
   * **Note:** This value does not affect the `drizzle-kit` behavior, it is only used at runtime in `drizzle-orm`.
   */
  $onUpdateFn(fn) {
    this.config.onUpdateFn = fn;
    this.config.hasDefault = true;
    return this;
  }
  /**
   * Alias for {@link $onUpdateFn}.
   */
  $onUpdate = this.$onUpdateFn;
  /**
   * Adds a `primary key` clause to the column definition. This implicitly makes the column `not null`.
   *
   * In SQLite, `integer primary key` implicitly makes the column auto-incrementing.
   */
  primaryKey() {
    this.config.primaryKey = true;
    this.config.notNull = true;
    return this;
  }
};
_a9 = entityKind;
__publicField(ColumnBuilder, _a9, "ColumnBuilder");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/pg-core/foreign-keys.js
var _a10;
var ForeignKeyBuilder = class {
  /** @internal */
  reference;
  /** @internal */
  _onUpdate = "no action";
  /** @internal */
  _onDelete = "no action";
  constructor(config, actions) {
    this.reference = () => {
      const { name, columns, foreignColumns } = config();
      return { name, columns, foreignTable: foreignColumns[0].table, foreignColumns };
    };
    if (actions) {
      this._onUpdate = actions.onUpdate;
      this._onDelete = actions.onDelete;
    }
  }
  onUpdate(action) {
    this._onUpdate = action === void 0 ? "no action" : action;
    return this;
  }
  onDelete(action) {
    this._onDelete = action === void 0 ? "no action" : action;
    return this;
  }
  /** @internal */
  build(table) {
    return new ForeignKey(table, this);
  }
};
_a10 = entityKind;
__publicField(ForeignKeyBuilder, _a10, "PgForeignKeyBuilder");
var _a11;
var ForeignKey = class {
  constructor(table, builder) {
    this.table = table;
    this.reference = builder.reference;
    this.onUpdate = builder._onUpdate;
    this.onDelete = builder._onDelete;
  }
  reference;
  onUpdate;
  onDelete;
  getName() {
    const { name, columns, foreignColumns } = this.reference();
    const columnNames = columns.map((column) => column.name);
    const foreignColumnNames = foreignColumns.map((column) => column.name);
    const chunks = [
      this.table[PgTable.Symbol.Name],
      ...columnNames,
      foreignColumns[0].table[PgTable.Symbol.Name],
      ...foreignColumnNames
    ];
    return name ?? `${chunks.join("_")}_fk`;
  }
};
_a11 = entityKind;
__publicField(ForeignKey, _a11, "PgForeignKey");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/tracing-utils.js
function iife(fn, ...args) {
  return fn(...args);
}

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/pg-core/unique-constraint.js
function uniqueKeyName(table, columns) {
  return `${table[PgTable.Symbol.Name]}_${columns.join("_")}_unique`;
}
var _a12;
var UniqueConstraintBuilder = class {
  constructor(columns, name) {
    this.name = name;
    this.columns = columns;
  }
  /** @internal */
  columns;
  /** @internal */
  nullsNotDistinctConfig = false;
  nullsNotDistinct() {
    this.nullsNotDistinctConfig = true;
    return this;
  }
  /** @internal */
  build(table) {
    return new UniqueConstraint(table, this.columns, this.nullsNotDistinctConfig, this.name);
  }
};
_a12 = entityKind;
__publicField(UniqueConstraintBuilder, _a12, "PgUniqueConstraintBuilder");
var _a13;
var UniqueOnConstraintBuilder = class {
  /** @internal */
  name;
  constructor(name) {
    this.name = name;
  }
  on(...columns) {
    return new UniqueConstraintBuilder(columns, this.name);
  }
};
_a13 = entityKind;
__publicField(UniqueOnConstraintBuilder, _a13, "PgUniqueOnConstraintBuilder");
var _a14;
var UniqueConstraint = class {
  constructor(table, columns, nullsNotDistinct, name) {
    this.table = table;
    this.columns = columns;
    this.name = name ?? uniqueKeyName(this.table, this.columns.map((column) => column.name));
    this.nullsNotDistinct = nullsNotDistinct;
  }
  columns;
  name;
  nullsNotDistinct = false;
  getName() {
    return this.name;
  }
};
_a14 = entityKind;
__publicField(UniqueConstraint, _a14, "PgUniqueConstraint");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/pg-core/utils/array.js
function parsePgArrayValue(arrayString, startFrom, inQuotes) {
  for (let i = startFrom; i < arrayString.length; i++) {
    const char = arrayString[i];
    if (char === "\\") {
      i++;
      continue;
    }
    if (char === '"') {
      return [arrayString.slice(startFrom, i).replace(/\\/g, ""), i + 1];
    }
    if (inQuotes) {
      continue;
    }
    if (char === "," || char === "}") {
      return [arrayString.slice(startFrom, i).replace(/\\/g, ""), i];
    }
  }
  return [arrayString.slice(startFrom).replace(/\\/g, ""), arrayString.length];
}
function parsePgNestedArray(arrayString, startFrom = 0) {
  const result = [];
  let i = startFrom;
  let lastCharIsComma = false;
  while (i < arrayString.length) {
    const char = arrayString[i];
    if (char === ",") {
      if (lastCharIsComma || i === startFrom) {
        result.push("");
      }
      lastCharIsComma = true;
      i++;
      continue;
    }
    lastCharIsComma = false;
    if (char === "\\") {
      i += 2;
      continue;
    }
    if (char === '"') {
      const [value2, startFrom2] = parsePgArrayValue(arrayString, i + 1, true);
      result.push(value2);
      i = startFrom2;
      continue;
    }
    if (char === "}") {
      return [result, i + 1];
    }
    if (char === "{") {
      const [value2, startFrom2] = parsePgNestedArray(arrayString, i + 1);
      result.push(value2);
      i = startFrom2;
      continue;
    }
    const [value, newStartFrom] = parsePgArrayValue(arrayString, i, false);
    result.push(value);
    i = newStartFrom;
  }
  return [result, i];
}
function parsePgArray(arrayString) {
  const [result] = parsePgNestedArray(arrayString, 1);
  return result;
}
function makePgArray(array2) {
  return `{${array2.map((item) => {
    if (Array.isArray(item)) {
      return makePgArray(item);
    }
    if (typeof item === "string") {
      return `"${item.replace(/\\/g, "\\\\").replace(/"/g, '\\"')}"`;
    }
    return `${item}`;
  }).join(",")}}`;
}

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/pg-core/columns/common.js
var _a15;
var PgColumnBuilder = class extends ColumnBuilder {
  foreignKeyConfigs = [];
  array(size) {
    return new PgArrayBuilder(this.config.name, this, size);
  }
  references(ref, actions = {}) {
    this.foreignKeyConfigs.push({ ref, actions });
    return this;
  }
  unique(name, config) {
    this.config.isUnique = true;
    this.config.uniqueName = name;
    this.config.uniqueType = config?.nulls;
    return this;
  }
  generatedAlwaysAs(as) {
    this.config.generated = {
      as,
      type: "always",
      mode: "stored"
    };
    return this;
  }
  /** @internal */
  buildForeignKeys(column, table) {
    return this.foreignKeyConfigs.map(({ ref, actions }) => {
      return iife(
        (ref2, actions2) => {
          const builder = new ForeignKeyBuilder(() => {
            const foreignColumn = ref2();
            return { columns: [column], foreignColumns: [foreignColumn] };
          });
          if (actions2.onUpdate) {
            builder.onUpdate(actions2.onUpdate);
          }
          if (actions2.onDelete) {
            builder.onDelete(actions2.onDelete);
          }
          return builder.build(table);
        },
        ref,
        actions
      );
    });
  }
  /** @internal */
  buildExtraConfigColumn(table) {
    return new ExtraConfigColumn(table, this.config);
  }
};
_a15 = entityKind;
__publicField(PgColumnBuilder, _a15, "PgColumnBuilder");
var _a16;
var PgColumn = class extends Column {
  constructor(table, config) {
    if (!config.uniqueName) {
      config.uniqueName = uniqueKeyName(table, [config.name]);
    }
    super(table, config);
    this.table = table;
  }
};
_a16 = entityKind;
__publicField(PgColumn, _a16, "PgColumn");
var _a17;
var ExtraConfigColumn = class extends PgColumn {
  getSQLType() {
    return this.getSQLType();
  }
  indexConfig = {
    order: this.config.order ?? "asc",
    nulls: this.config.nulls ?? "last",
    opClass: this.config.opClass
  };
  defaultConfig = {
    order: "asc",
    nulls: "last",
    opClass: void 0
  };
  asc() {
    this.indexConfig.order = "asc";
    return this;
  }
  desc() {
    this.indexConfig.order = "desc";
    return this;
  }
  nullsFirst() {
    this.indexConfig.nulls = "first";
    return this;
  }
  nullsLast() {
    this.indexConfig.nulls = "last";
    return this;
  }
  /**
   * ### PostgreSQL documentation quote
   *
   * > An operator class with optional parameters can be specified for each column of an index.
   * The operator class identifies the operators to be used by the index for that column.
   * For example, a B-tree index on four-byte integers would use the int4_ops class;
   * this operator class includes comparison functions for four-byte integers.
   * In practice the default operator class for the column's data type is usually sufficient.
   * The main point of having operator classes is that for some data types, there could be more than one meaningful ordering.
   * For example, we might want to sort a complex-number data type either by absolute value or by real part.
   * We could do this by defining two operator classes for the data type and then selecting the proper class when creating an index.
   * More information about operator classes check:
   *
   * ### Useful links
   * https://www.postgresql.org/docs/current/sql-createindex.html
   *
   * https://www.postgresql.org/docs/current/indexes-opclass.html
   *
   * https://www.postgresql.org/docs/current/xindex.html
   *
   * ### Additional types
   * If you have the `pg_vector` extension installed in your database, you can use the
   * `vector_l2_ops`, `vector_ip_ops`, `vector_cosine_ops`, `vector_l1_ops`, `bit_hamming_ops`, `bit_jaccard_ops`, `halfvec_l2_ops`, `sparsevec_l2_ops` options, which are predefined types.
   *
   * **You can always specify any string you want in the operator class, in case Drizzle doesn't have it natively in its types**
   *
   * @param opClass
   * @returns
   */
  op(opClass) {
    this.indexConfig.opClass = opClass;
    return this;
  }
};
_a17 = entityKind;
__publicField(ExtraConfigColumn, _a17, "ExtraConfigColumn");
var _a18;
var IndexedColumn = class {
  constructor(name, type, indexConfig) {
    this.name = name;
    this.type = type;
    this.indexConfig = indexConfig;
  }
  name;
  type;
  indexConfig;
};
_a18 = entityKind;
__publicField(IndexedColumn, _a18, "IndexedColumn");
var _a19;
var PgArrayBuilder = class extends PgColumnBuilder {
  constructor(name, baseBuilder, size) {
    super(name, "array", "PgArray");
    this.config.baseBuilder = baseBuilder;
    this.config.size = size;
  }
  /** @internal */
  build(table) {
    const baseColumn = this.config.baseBuilder.build(table);
    return new PgArray(
      table,
      this.config,
      baseColumn
    );
  }
};
_a19 = entityKind;
__publicField(PgArrayBuilder, _a19, "PgArrayBuilder");
var _a20;
var _PgArray = class extends PgColumn {
  constructor(table, config, baseColumn, range) {
    super(table, config);
    this.baseColumn = baseColumn;
    this.range = range;
    this.size = config.size;
  }
  size;
  getSQLType() {
    return `${this.baseColumn.getSQLType()}[${typeof this.size === "number" ? this.size : ""}]`;
  }
  mapFromDriverValue(value) {
    if (typeof value === "string") {
      value = parsePgArray(value);
    }
    return value.map((v) => this.baseColumn.mapFromDriverValue(v));
  }
  mapToDriverValue(value, isNestedArray = false) {
    const a = value.map(
      (v) => v === null ? null : is(this.baseColumn, _PgArray) ? this.baseColumn.mapToDriverValue(v, true) : this.baseColumn.mapToDriverValue(v)
    );
    if (isNestedArray)
      return a;
    return makePgArray(a);
  }
};
var PgArray = _PgArray;
_a20 = entityKind;
__publicField(PgArray, _a20, "PgArray");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/pg-core/columns/enum.js
var isPgEnumSym = Symbol.for("drizzle:isPgEnum");
function isPgEnum(obj) {
  return !!obj && typeof obj === "function" && isPgEnumSym in obj && obj[isPgEnumSym] === true;
}
var _a21;
var PgEnumColumnBuilder = class extends PgColumnBuilder {
  constructor(name, enumInstance) {
    super(name, "string", "PgEnumColumn");
    this.config.enum = enumInstance;
  }
  /** @internal */
  build(table) {
    return new PgEnumColumn(
      table,
      this.config
    );
  }
};
_a21 = entityKind;
__publicField(PgEnumColumnBuilder, _a21, "PgEnumColumnBuilder");
var _a22;
var PgEnumColumn = class extends PgColumn {
  enum = this.config.enum;
  enumValues = this.config.enum.enumValues;
  constructor(table, config) {
    super(table, config);
    this.enum = config.enum;
  }
  getSQLType() {
    return this.enum.enumName;
  }
};
_a22 = entityKind;
__publicField(PgEnumColumn, _a22, "PgEnumColumn");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/subquery.js
var _a23;
var Subquery = class {
  constructor(sql2, selection, alias, isWith = false) {
    this._ = {
      brand: "Subquery",
      sql: sql2,
      selectedFields: selection,
      alias,
      isWith
    };
  }
  // getSQL(): SQL<unknown> {
  // 	return new SQL([this]);
  // }
};
_a23 = entityKind;
__publicField(Subquery, _a23, "Subquery");
var _a24;
var WithSubquery = class extends Subquery {
};
_a24 = entityKind;
__publicField(WithSubquery, _a24, "WithSubquery");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/version.js
var version = "0.33.0";

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/tracing.js
var otel;
var rawTracer;
var tracer = {
  startActiveSpan(name, fn) {
    if (!otel) {
      return fn();
    }
    if (!rawTracer) {
      rawTracer = otel.trace.getTracer("drizzle-orm", version);
    }
    return iife(
      (otel2, rawTracer2) => rawTracer2.startActiveSpan(
        name,
        (span) => {
          try {
            return fn(span);
          } catch (e) {
            span.setStatus({
              code: otel2.SpanStatusCode.ERROR,
              message: e instanceof Error ? e.message : "Unknown error"
              // eslint-disable-line no-instanceof/no-instanceof
            });
            throw e;
          } finally {
            span.end();
          }
        }
      ),
      otel,
      rawTracer
    );
  }
};

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/view-common.js
var ViewBaseConfig = Symbol.for("drizzle:ViewBaseConfig");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/sql/sql.js
var _a25;
var FakePrimitiveParam = class {
};
_a25 = entityKind;
__publicField(FakePrimitiveParam, _a25, "FakePrimitiveParam");
function isSQLWrapper(value) {
  return value !== null && value !== void 0 && typeof value.getSQL === "function";
}
function mergeQueries(queries) {
  const result = { sql: "", params: [] };
  for (const query of queries) {
    result.sql += query.sql;
    result.params.push(...query.params);
    if (query.typings?.length) {
      if (!result.typings) {
        result.typings = [];
      }
      result.typings.push(...query.typings);
    }
  }
  return result;
}
var _a26;
var StringChunk = class {
  value;
  constructor(value) {
    this.value = Array.isArray(value) ? value : [value];
  }
  getSQL() {
    return new SQL([this]);
  }
};
_a26 = entityKind;
__publicField(StringChunk, _a26, "StringChunk");
var _a27;
var _SQL = class {
  constructor(queryChunks) {
    this.queryChunks = queryChunks;
  }
  /** @internal */
  decoder = noopDecoder;
  shouldInlineParams = false;
  append(query) {
    this.queryChunks.push(...query.queryChunks);
    return this;
  }
  toQuery(config) {
    return tracer.startActiveSpan("drizzle.buildSQL", (span) => {
      const query = this.buildQueryFromSourceParams(this.queryChunks, config);
      span?.setAttributes({
        "drizzle.query.text": query.sql,
        "drizzle.query.params": JSON.stringify(query.params)
      });
      return query;
    });
  }
  buildQueryFromSourceParams(chunks, _config) {
    const config = Object.assign({}, _config, {
      inlineParams: _config.inlineParams || this.shouldInlineParams,
      paramStartIndex: _config.paramStartIndex || { value: 0 }
    });
    const {
      escapeName,
      escapeParam,
      prepareTyping,
      inlineParams,
      paramStartIndex
    } = config;
    return mergeQueries(chunks.map((chunk) => {
      if (is(chunk, StringChunk)) {
        return { sql: chunk.value.join(""), params: [] };
      }
      if (is(chunk, Name)) {
        return { sql: escapeName(chunk.value), params: [] };
      }
      if (chunk === void 0) {
        return { sql: "", params: [] };
      }
      if (Array.isArray(chunk)) {
        const result = [new StringChunk("(")];
        for (const [i, p] of chunk.entries()) {
          result.push(p);
          if (i < chunk.length - 1) {
            result.push(new StringChunk(", "));
          }
        }
        result.push(new StringChunk(")"));
        return this.buildQueryFromSourceParams(result, config);
      }
      if (is(chunk, _SQL)) {
        return this.buildQueryFromSourceParams(chunk.queryChunks, {
          ...config,
          inlineParams: inlineParams || chunk.shouldInlineParams
        });
      }
      if (is(chunk, Table)) {
        const schemaName = chunk[Table.Symbol.Schema];
        const tableName = chunk[Table.Symbol.Name];
        return {
          sql: schemaName === void 0 ? escapeName(tableName) : escapeName(schemaName) + "." + escapeName(tableName),
          params: []
        };
      }
      if (is(chunk, Column)) {
        if (_config.invokeSource === "indexes") {
          return { sql: escapeName(chunk.name), params: [] };
        }
        return { sql: escapeName(chunk.table[Table.Symbol.Name]) + "." + escapeName(chunk.name), params: [] };
      }
      if (is(chunk, View)) {
        const schemaName = chunk[ViewBaseConfig].schema;
        const viewName = chunk[ViewBaseConfig].name;
        return {
          sql: schemaName === void 0 ? escapeName(viewName) : escapeName(schemaName) + "." + escapeName(viewName),
          params: []
        };
      }
      if (is(chunk, Param)) {
        if (is(chunk.value, Placeholder)) {
          return { sql: escapeParam(paramStartIndex.value++, chunk), params: [chunk], typings: ["none"] };
        }
        const mappedValue = chunk.value === null ? null : chunk.encoder.mapToDriverValue(chunk.value);
        if (is(mappedValue, _SQL)) {
          return this.buildQueryFromSourceParams([mappedValue], config);
        }
        if (inlineParams) {
          return { sql: this.mapInlineParam(mappedValue, config), params: [] };
        }
        let typings = ["none"];
        if (prepareTyping) {
          typings = [prepareTyping(chunk.encoder)];
        }
        return { sql: escapeParam(paramStartIndex.value++, mappedValue), params: [mappedValue], typings };
      }
      if (is(chunk, Placeholder)) {
        return { sql: escapeParam(paramStartIndex.value++, chunk), params: [chunk], typings: ["none"] };
      }
      if (is(chunk, _SQL.Aliased) && chunk.fieldAlias !== void 0) {
        return { sql: escapeName(chunk.fieldAlias), params: [] };
      }
      if (is(chunk, Subquery)) {
        if (chunk._.isWith) {
          return { sql: escapeName(chunk._.alias), params: [] };
        }
        return this.buildQueryFromSourceParams([
          new StringChunk("("),
          chunk._.sql,
          new StringChunk(") "),
          new Name(chunk._.alias)
        ], config);
      }
      if (isPgEnum(chunk)) {
        if (chunk.schema) {
          return { sql: escapeName(chunk.schema) + "." + escapeName(chunk.enumName), params: [] };
        }
        return { sql: escapeName(chunk.enumName), params: [] };
      }
      if (isSQLWrapper(chunk)) {
        if (chunk.shouldOmitSQLParens?.()) {
          return this.buildQueryFromSourceParams([chunk.getSQL()], config);
        }
        return this.buildQueryFromSourceParams([
          new StringChunk("("),
          chunk.getSQL(),
          new StringChunk(")")
        ], config);
      }
      if (inlineParams) {
        return { sql: this.mapInlineParam(chunk, config), params: [] };
      }
      return { sql: escapeParam(paramStartIndex.value++, chunk), params: [chunk], typings: ["none"] };
    }));
  }
  mapInlineParam(chunk, { escapeString }) {
    if (chunk === null) {
      return "null";
    }
    if (typeof chunk === "number" || typeof chunk === "boolean") {
      return chunk.toString();
    }
    if (typeof chunk === "string") {
      return escapeString(chunk);
    }
    if (typeof chunk === "object") {
      const mappedValueAsString = chunk.toString();
      if (mappedValueAsString === "[object Object]") {
        return escapeString(JSON.stringify(chunk));
      }
      return escapeString(mappedValueAsString);
    }
    throw new Error("Unexpected param value: " + chunk);
  }
  getSQL() {
    return this;
  }
  as(alias) {
    if (alias === void 0) {
      return this;
    }
    return new _SQL.Aliased(this, alias);
  }
  mapWith(decoder) {
    this.decoder = typeof decoder === "function" ? { mapFromDriverValue: decoder } : decoder;
    return this;
  }
  inlineParams() {
    this.shouldInlineParams = true;
    return this;
  }
  /**
   * This method is used to conditionally include a part of the query.
   *
   * @param condition - Condition to check
   * @returns itself if the condition is `true`, otherwise `undefined`
   */
  if(condition) {
    return condition ? this : void 0;
  }
};
var SQL = _SQL;
_a27 = entityKind;
__publicField(SQL, _a27, "SQL");
var _a28;
var Name = class {
  constructor(value) {
    this.value = value;
  }
  brand;
  getSQL() {
    return new SQL([this]);
  }
};
_a28 = entityKind;
__publicField(Name, _a28, "Name");
function isDriverValueEncoder(value) {
  return typeof value === "object" && value !== null && "mapToDriverValue" in value && typeof value.mapToDriverValue === "function";
}
var noopDecoder = {
  mapFromDriverValue: (value) => value
};
var noopEncoder = {
  mapToDriverValue: (value) => value
};
var noopMapper = {
  ...noopDecoder,
  ...noopEncoder
};
var _a29;
var Param = class {
  /**
   * @param value - Parameter value
   * @param encoder - Encoder to convert the value to a driver parameter
   */
  constructor(value, encoder = noopEncoder) {
    this.value = value;
    this.encoder = encoder;
  }
  brand;
  getSQL() {
    return new SQL([this]);
  }
};
_a29 = entityKind;
__publicField(Param, _a29, "Param");
function sql(strings, ...params) {
  const queryChunks = [];
  if (params.length > 0 || strings.length > 0 && strings[0] !== "") {
    queryChunks.push(new StringChunk(strings[0]));
  }
  for (const [paramIndex, param2] of params.entries()) {
    queryChunks.push(param2, new StringChunk(strings[paramIndex + 1]));
  }
  return new SQL(queryChunks);
}
((sql2) => {
  function empty() {
    return new SQL([]);
  }
  sql2.empty = empty;
  function fromList(list) {
    return new SQL(list);
  }
  sql2.fromList = fromList;
  function raw(str) {
    return new SQL([new StringChunk(str)]);
  }
  sql2.raw = raw;
  function join(chunks, separator) {
    const result = [];
    for (const [i, chunk] of chunks.entries()) {
      if (i > 0 && separator !== void 0) {
        result.push(separator);
      }
      result.push(chunk);
    }
    return new SQL(result);
  }
  sql2.join = join;
  function identifier(value) {
    return new Name(value);
  }
  sql2.identifier = identifier;
  function placeholder2(name2) {
    return new Placeholder(name2);
  }
  sql2.placeholder = placeholder2;
  function param2(value, encoder) {
    return new Param(value, encoder);
  }
  sql2.param = param2;
})(sql || (sql = {}));
((SQL2) => {
  class Aliased {
    constructor(sql2, fieldAlias) {
      this.sql = sql2;
      this.fieldAlias = fieldAlias;
    }
    static [entityKind] = "SQL.Aliased";
    /** @internal */
    isSelectionField = false;
    getSQL() {
      return this.sql;
    }
    /** @internal */
    clone() {
      return new Aliased(this.sql, this.fieldAlias);
    }
  }
  SQL2.Aliased = Aliased;
})(SQL || (SQL = {}));
var _a30;
var Placeholder = class {
  constructor(name2) {
    this.name = name2;
  }
  getSQL() {
    return new SQL([this]);
  }
};
_a30 = entityKind;
__publicField(Placeholder, _a30, "Placeholder");
function fillPlaceholders(params, values) {
  return params.map((p) => {
    if (is(p, Placeholder)) {
      if (!(p.name in values)) {
        throw new Error(`No value for placeholder "${p.name}" was provided`);
      }
      return values[p.name];
    }
    if (is(p, Param) && is(p.value, Placeholder)) {
      if (!(p.value.name in values)) {
        throw new Error(`No value for placeholder "${p.value.name}" was provided`);
      }
      return p.encoder.mapToDriverValue(values[p.value.name]);
    }
    return p;
  });
}
var _a31;
var View = class {
  /** @internal */
  [(_a31 = entityKind, ViewBaseConfig)];
  constructor({ name: name2, schema, selectedFields, query }) {
    this[ViewBaseConfig] = {
      name: name2,
      originalName: name2,
      schema,
      selectedFields,
      query,
      isExisting: !query,
      isAlias: false
    };
  }
  getSQL() {
    return new SQL([this]);
  }
};
__publicField(View, _a31, "View");
Column.prototype.getSQL = function() {
  return new SQL([this]);
};
Table.prototype.getSQL = function() {
  return new SQL([this]);
};
Subquery.prototype.getSQL = function() {
  return new SQL([this]);
};

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/sql/expressions/conditions.js
function bindIfParam(value, column) {
  if (isDriverValueEncoder(column) && !isSQLWrapper(value) && !is(value, Param) && !is(value, Placeholder) && !is(value, Column) && !is(value, Table) && !is(value, View)) {
    return new Param(value, column);
  }
  return value;
}
var eq = (left, right) => {
  return sql`${left} = ${bindIfParam(right, left)}`;
};
var ne = (left, right) => {
  return sql`${left} <> ${bindIfParam(right, left)}`;
};
function and(...unfilteredConditions) {
  const conditions = unfilteredConditions.filter(
    (c) => c !== void 0
  );
  if (conditions.length === 0) {
    return void 0;
  }
  if (conditions.length === 1) {
    return new SQL(conditions);
  }
  return new SQL([
    new StringChunk("("),
    sql.join(conditions, new StringChunk(" and ")),
    new StringChunk(")")
  ]);
}
function or(...unfilteredConditions) {
  const conditions = unfilteredConditions.filter(
    (c) => c !== void 0
  );
  if (conditions.length === 0) {
    return void 0;
  }
  if (conditions.length === 1) {
    return new SQL(conditions);
  }
  return new SQL([
    new StringChunk("("),
    sql.join(conditions, new StringChunk(" or ")),
    new StringChunk(")")
  ]);
}
function not(condition) {
  return sql`not ${condition}`;
}
var gt = (left, right) => {
  return sql`${left} > ${bindIfParam(right, left)}`;
};
var gte = (left, right) => {
  return sql`${left} >= ${bindIfParam(right, left)}`;
};
var lt = (left, right) => {
  return sql`${left} < ${bindIfParam(right, left)}`;
};
var lte = (left, right) => {
  return sql`${left} <= ${bindIfParam(right, left)}`;
};
function inArray(column, values) {
  if (Array.isArray(values)) {
    if (values.length === 0) {
      return sql`false`;
    }
    return sql`${column} in ${values.map((v) => bindIfParam(v, column))}`;
  }
  return sql`${column} in ${bindIfParam(values, column)}`;
}
function notInArray(column, values) {
  if (Array.isArray(values)) {
    if (values.length === 0) {
      return sql`true`;
    }
    return sql`${column} not in ${values.map((v) => bindIfParam(v, column))}`;
  }
  return sql`${column} not in ${bindIfParam(values, column)}`;
}
function isNull(value) {
  return sql`${value} is null`;
}
function isNotNull(value) {
  return sql`${value} is not null`;
}
function exists(subquery) {
  return sql`exists ${subquery}`;
}
function notExists(subquery) {
  return sql`not exists ${subquery}`;
}
function between(column, min, max) {
  return sql`${column} between ${bindIfParam(min, column)} and ${bindIfParam(
    max,
    column
  )}`;
}
function notBetween(column, min, max) {
  return sql`${column} not between ${bindIfParam(
    min,
    column
  )} and ${bindIfParam(max, column)}`;
}
function like(column, value) {
  return sql`${column} like ${value}`;
}
function notLike(column, value) {
  return sql`${column} not like ${value}`;
}
function ilike(column, value) {
  return sql`${column} ilike ${value}`;
}
function notIlike(column, value) {
  return sql`${column} not ilike ${value}`;
}

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/sql/expressions/select.js
function asc(column) {
  return sql`${column} asc`;
}
function desc(column) {
  return sql`${column} desc`;
}

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/relations.js
var _a32;
var Relation = class {
  constructor(sourceTable, referencedTable, relationName) {
    this.sourceTable = sourceTable;
    this.referencedTable = referencedTable;
    this.relationName = relationName;
    this.referencedTableName = referencedTable[Table.Symbol.Name];
  }
  referencedTableName;
  fieldName;
};
_a32 = entityKind;
__publicField(Relation, _a32, "Relation");
var _a33;
var Relations = class {
  constructor(table, config) {
    this.table = table;
    this.config = config;
  }
};
_a33 = entityKind;
__publicField(Relations, _a33, "Relations");
var _a34;
var _One = class extends Relation {
  constructor(sourceTable, referencedTable, config, isNullable) {
    super(sourceTable, referencedTable, config?.relationName);
    this.config = config;
    this.isNullable = isNullable;
  }
  withFieldName(fieldName) {
    const relation = new _One(
      this.sourceTable,
      this.referencedTable,
      this.config,
      this.isNullable
    );
    relation.fieldName = fieldName;
    return relation;
  }
};
var One = _One;
_a34 = entityKind;
__publicField(One, _a34, "One");
var _a35;
var _Many = class extends Relation {
  constructor(sourceTable, referencedTable, config) {
    super(sourceTable, referencedTable, config?.relationName);
    this.config = config;
  }
  withFieldName(fieldName) {
    const relation = new _Many(
      this.sourceTable,
      this.referencedTable,
      this.config
    );
    relation.fieldName = fieldName;
    return relation;
  }
};
var Many = _Many;
_a35 = entityKind;
__publicField(Many, _a35, "Many");
function getOperators() {
  return {
    and,
    between,
    eq,
    exists,
    gt,
    gte,
    ilike,
    inArray,
    isNull,
    isNotNull,
    like,
    lt,
    lte,
    ne,
    not,
    notBetween,
    notExists,
    notLike,
    notIlike,
    notInArray,
    or,
    sql
  };
}
function getOrderByOperators() {
  return {
    sql,
    asc,
    desc
  };
}
function extractTablesRelationalConfig(schema, configHelpers) {
  if (Object.keys(schema).length === 1 && "default" in schema && !is(schema["default"], Table)) {
    schema = schema["default"];
  }
  const tableNamesMap = {};
  const relationsBuffer = {};
  const tablesConfig = {};
  for (const [key, value] of Object.entries(schema)) {
    if (is(value, Table)) {
      const dbName = getTableUniqueName(value);
      const bufferedRelations = relationsBuffer[dbName];
      tableNamesMap[dbName] = key;
      tablesConfig[key] = {
        tsName: key,
        dbName: value[Table.Symbol.Name],
        schema: value[Table.Symbol.Schema],
        columns: value[Table.Symbol.Columns],
        relations: bufferedRelations?.relations ?? {},
        primaryKey: bufferedRelations?.primaryKey ?? []
      };
      for (const column of Object.values(
        value[Table.Symbol.Columns]
      )) {
        if (column.primary) {
          tablesConfig[key].primaryKey.push(column);
        }
      }
      const extraConfig = value[Table.Symbol.ExtraConfigBuilder]?.(value[Table.Symbol.ExtraConfigColumns]);
      if (extraConfig) {
        for (const configEntry of Object.values(extraConfig)) {
          if (is(configEntry, PrimaryKeyBuilder)) {
            tablesConfig[key].primaryKey.push(...configEntry.columns);
          }
        }
      }
    } else if (is(value, Relations)) {
      const dbName = getTableUniqueName(value.table);
      const tableName = tableNamesMap[dbName];
      const relations2 = value.config(
        configHelpers(value.table)
      );
      let primaryKey;
      for (const [relationName, relation] of Object.entries(relations2)) {
        if (tableName) {
          const tableConfig = tablesConfig[tableName];
          tableConfig.relations[relationName] = relation;
          if (primaryKey) {
            tableConfig.primaryKey.push(...primaryKey);
          }
        } else {
          if (!(dbName in relationsBuffer)) {
            relationsBuffer[dbName] = {
              relations: {},
              primaryKey
            };
          }
          relationsBuffer[dbName].relations[relationName] = relation;
        }
      }
    }
  }
  return { tables: tablesConfig, tableNamesMap };
}
function createOne(sourceTable) {
  return function one(table, config) {
    return new One(
      sourceTable,
      table,
      config,
      config?.fields.reduce((res, f) => res && f.notNull, true) ?? false
    );
  };
}
function createMany(sourceTable) {
  return function many(referencedTable, config) {
    return new Many(sourceTable, referencedTable, config);
  };
}
function normalizeRelation(schema, tableNamesMap, relation) {
  if (is(relation, One) && relation.config) {
    return {
      fields: relation.config.fields,
      references: relation.config.references
    };
  }
  const referencedTableTsName = tableNamesMap[getTableUniqueName(relation.referencedTable)];
  if (!referencedTableTsName) {
    throw new Error(
      `Table "${relation.referencedTable[Table.Symbol.Name]}" not found in schema`
    );
  }
  const referencedTableConfig = schema[referencedTableTsName];
  if (!referencedTableConfig) {
    throw new Error(`Table "${referencedTableTsName}" not found in schema`);
  }
  const sourceTable = relation.sourceTable;
  const sourceTableTsName = tableNamesMap[getTableUniqueName(sourceTable)];
  if (!sourceTableTsName) {
    throw new Error(
      `Table "${sourceTable[Table.Symbol.Name]}" not found in schema`
    );
  }
  const reverseRelations = [];
  for (const referencedTableRelation of Object.values(
    referencedTableConfig.relations
  )) {
    if (relation.relationName && relation !== referencedTableRelation && referencedTableRelation.relationName === relation.relationName || !relation.relationName && referencedTableRelation.referencedTable === relation.sourceTable) {
      reverseRelations.push(referencedTableRelation);
    }
  }
  if (reverseRelations.length > 1) {
    throw relation.relationName ? new Error(
      `There are multiple relations with name "${relation.relationName}" in table "${referencedTableTsName}"`
    ) : new Error(
      `There are multiple relations between "${referencedTableTsName}" and "${relation.sourceTable[Table.Symbol.Name]}". Please specify relation name`
    );
  }
  if (reverseRelations[0] && is(reverseRelations[0], One) && reverseRelations[0].config) {
    return {
      fields: reverseRelations[0].config.references,
      references: reverseRelations[0].config.fields
    };
  }
  throw new Error(
    `There is not enough information to infer relation "${sourceTableTsName}.${relation.fieldName}"`
  );
}
function createTableRelationsHelpers(sourceTable) {
  return {
    one: createOne(sourceTable),
    many: createMany(sourceTable)
  };
}
function mapRelationalRow(tablesConfig, tableConfig, row, buildQueryResultSelection, mapColumnValue = (value) => value) {
  const result = {};
  for (const [
    selectionItemIndex,
    selectionItem
  ] of buildQueryResultSelection.entries()) {
    if (selectionItem.isJson) {
      const relation = tableConfig.relations[selectionItem.tsKey];
      const rawSubRows = row[selectionItemIndex];
      const subRows = typeof rawSubRows === "string" ? JSON.parse(rawSubRows) : rawSubRows;
      result[selectionItem.tsKey] = is(relation, One) ? subRows && mapRelationalRow(
        tablesConfig,
        tablesConfig[selectionItem.relationTableTsKey],
        subRows,
        selectionItem.selection,
        mapColumnValue
      ) : subRows.map(
        (subRow) => mapRelationalRow(
          tablesConfig,
          tablesConfig[selectionItem.relationTableTsKey],
          subRow,
          selectionItem.selection,
          mapColumnValue
        )
      );
    } else {
      const value = mapColumnValue(row[selectionItemIndex]);
      const field = selectionItem.field;
      let decoder;
      if (is(field, Column)) {
        decoder = field;
      } else if (is(field, SQL)) {
        decoder = field.decoder;
      } else {
        decoder = field.sql.decoder;
      }
      result[selectionItem.tsKey] = value === null ? null : decoder.mapFromDriverValue(value);
    }
  }
  return result;
}

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/alias.js
var _a36;
var ColumnAliasProxyHandler = class {
  constructor(table) {
    this.table = table;
  }
  get(columnObj, prop) {
    if (prop === "table") {
      return this.table;
    }
    return columnObj[prop];
  }
};
_a36 = entityKind;
__publicField(ColumnAliasProxyHandler, _a36, "ColumnAliasProxyHandler");
var _a37;
var TableAliasProxyHandler = class {
  constructor(alias, replaceOriginalName) {
    this.alias = alias;
    this.replaceOriginalName = replaceOriginalName;
  }
  get(target, prop) {
    if (prop === Table.Symbol.IsAlias) {
      return true;
    }
    if (prop === Table.Symbol.Name) {
      return this.alias;
    }
    if (this.replaceOriginalName && prop === Table.Symbol.OriginalName) {
      return this.alias;
    }
    if (prop === ViewBaseConfig) {
      return {
        ...target[ViewBaseConfig],
        name: this.alias,
        isAlias: true
      };
    }
    if (prop === Table.Symbol.Columns) {
      const columns = target[Table.Symbol.Columns];
      if (!columns) {
        return columns;
      }
      const proxiedColumns = {};
      Object.keys(columns).map((key) => {
        proxiedColumns[key] = new Proxy(
          columns[key],
          new ColumnAliasProxyHandler(new Proxy(target, this))
        );
      });
      return proxiedColumns;
    }
    const value = target[prop];
    if (is(value, Column)) {
      return new Proxy(value, new ColumnAliasProxyHandler(new Proxy(target, this)));
    }
    return value;
  }
};
_a37 = entityKind;
__publicField(TableAliasProxyHandler, _a37, "TableAliasProxyHandler");
var _a38;
var RelationTableAliasProxyHandler = class {
  constructor(alias) {
    this.alias = alias;
  }
  get(target, prop) {
    if (prop === "sourceTable") {
      return aliasedTable(target.sourceTable, this.alias);
    }
    return target[prop];
  }
};
_a38 = entityKind;
__publicField(RelationTableAliasProxyHandler, _a38, "RelationTableAliasProxyHandler");
function aliasedTable(table, tableAlias) {
  return new Proxy(table, new TableAliasProxyHandler(tableAlias, false));
}
function aliasedTableColumn(column, tableAlias) {
  return new Proxy(
    column,
    new ColumnAliasProxyHandler(new Proxy(column.table, new TableAliasProxyHandler(tableAlias, false)))
  );
}
function mapColumnsInAliasedSQLToAlias(query, alias) {
  return new SQL.Aliased(mapColumnsInSQLToAlias(query.sql, alias), query.fieldAlias);
}
function mapColumnsInSQLToAlias(query, alias) {
  return sql.join(query.queryChunks.map((c) => {
    if (is(c, Column)) {
      return aliasedTableColumn(c, alias);
    }
    if (is(c, SQL)) {
      return mapColumnsInSQLToAlias(c, alias);
    }
    if (is(c, SQL.Aliased)) {
      return mapColumnsInAliasedSQLToAlias(c, alias);
    }
    return c;
  }));
}

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/selection-proxy.js
var _a39;
var _SelectionProxyHandler = class {
  config;
  constructor(config) {
    this.config = { ...config };
  }
  get(subquery, prop) {
    if (prop === "_") {
      return {
        ...subquery["_"],
        selectedFields: new Proxy(
          subquery._.selectedFields,
          this
        )
      };
    }
    if (prop === ViewBaseConfig) {
      return {
        ...subquery[ViewBaseConfig],
        selectedFields: new Proxy(
          subquery[ViewBaseConfig].selectedFields,
          this
        )
      };
    }
    if (typeof prop === "symbol") {
      return subquery[prop];
    }
    const columns = is(subquery, Subquery) ? subquery._.selectedFields : is(subquery, View) ? subquery[ViewBaseConfig].selectedFields : subquery;
    const value = columns[prop];
    if (is(value, SQL.Aliased)) {
      if (this.config.sqlAliasedBehavior === "sql" && !value.isSelectionField) {
        return value.sql;
      }
      const newValue = value.clone();
      newValue.isSelectionField = true;
      return newValue;
    }
    if (is(value, SQL)) {
      if (this.config.sqlBehavior === "sql") {
        return value;
      }
      throw new Error(
        `You tried to reference "${prop}" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using ".as('alias')" method.`
      );
    }
    if (is(value, Column)) {
      if (this.config.alias) {
        return new Proxy(
          value,
          new ColumnAliasProxyHandler(
            new Proxy(
              value.table,
              new TableAliasProxyHandler(this.config.alias, this.config.replaceOriginalName ?? false)
            )
          )
        );
      }
      return value;
    }
    if (typeof value !== "object" || value === null) {
      return value;
    }
    return new Proxy(value, new _SelectionProxyHandler(this.config));
  }
};
var SelectionProxyHandler = _SelectionProxyHandler;
_a39 = entityKind;
__publicField(SelectionProxyHandler, _a39, "SelectionProxyHandler");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/query-promise.js
var _a40;
var QueryPromise = class {
  [(_a40 = entityKind, Symbol.toStringTag)] = "QueryPromise";
  catch(onRejected) {
    return this.then(void 0, onRejected);
  }
  finally(onFinally) {
    return this.then(
      (value) => {
        onFinally?.();
        return value;
      },
      (reason) => {
        onFinally?.();
        throw reason;
      }
    );
  }
  then(onFulfilled, onRejected) {
    return this.execute().then(onFulfilled, onRejected);
  }
};
__publicField(QueryPromise, _a40, "QueryPromise");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/sqlite-core/table.js
var InlineForeignKeys2 = Symbol.for("drizzle:SQLiteInlineForeignKeys");
var _a41;
var SQLiteTable = class extends Table {
  /** @internal */
  [(_a41 = entityKind, Table.Symbol.Columns)];
  /** @internal */
  [InlineForeignKeys2] = [];
  /** @internal */
  [Table.Symbol.ExtraConfigBuilder] = void 0;
};
__publicField(SQLiteTable, _a41, "SQLiteTable");
/** @internal */
__publicField(SQLiteTable, "Symbol", Object.assign({}, Table.Symbol, {
  InlineForeignKeys: InlineForeignKeys2
}));
function sqliteTableBase(name, columns, extraConfig, schema, baseName = name) {
  const rawTable = new SQLiteTable(name, schema, baseName);
  const builtColumns = Object.fromEntries(
    Object.entries(columns).map(([name2, colBuilderBase]) => {
      const colBuilder = colBuilderBase;
      const column = colBuilder.build(rawTable);
      rawTable[InlineForeignKeys2].push(...colBuilder.buildForeignKeys(column, rawTable));
      return [name2, column];
    })
  );
  const table = Object.assign(rawTable, builtColumns);
  table[Table.Symbol.Columns] = builtColumns;
  table[Table.Symbol.ExtraConfigColumns] = builtColumns;
  if (extraConfig) {
    table[SQLiteTable.Symbol.ExtraConfigBuilder] = extraConfig;
  }
  return table;
}
var sqliteTable = (name, columns, extraConfig) => {
  return sqliteTableBase(name, columns, extraConfig);
};

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/utils.js
function mapResultRow(columns, row, joinsNotNullableMap) {
  const nullifyMap = {};
  const result = columns.reduce(
    (result2, { path, field }, columnIndex) => {
      let decoder;
      if (is(field, Column)) {
        decoder = field;
      } else if (is(field, SQL)) {
        decoder = field.decoder;
      } else {
        decoder = field.sql.decoder;
      }
      let node = result2;
      for (const [pathChunkIndex, pathChunk] of path.entries()) {
        if (pathChunkIndex < path.length - 1) {
          if (!(pathChunk in node)) {
            node[pathChunk] = {};
          }
          node = node[pathChunk];
        } else {
          const rawValue = row[columnIndex];
          const value = node[pathChunk] = rawValue === null ? null : decoder.mapFromDriverValue(rawValue);
          if (joinsNotNullableMap && is(field, Column) && path.length === 2) {
            const objectName = path[0];
            if (!(objectName in nullifyMap)) {
              nullifyMap[objectName] = value === null ? getTableName(field.table) : false;
            } else if (typeof nullifyMap[objectName] === "string" && nullifyMap[objectName] !== getTableName(field.table)) {
              nullifyMap[objectName] = false;
            }
          }
        }
      }
      return result2;
    },
    {}
  );
  if (joinsNotNullableMap && Object.keys(nullifyMap).length > 0) {
    for (const [objectName, tableName] of Object.entries(nullifyMap)) {
      if (typeof tableName === "string" && !joinsNotNullableMap[tableName]) {
        result[objectName] = null;
      }
    }
  }
  return result;
}
function orderSelectedFields(fields, pathPrefix) {
  return Object.entries(fields).reduce((result, [name, field]) => {
    if (typeof name !== "string") {
      return result;
    }
    const newPath = pathPrefix ? [...pathPrefix, name] : [name];
    if (is(field, Column) || is(field, SQL) || is(field, SQL.Aliased)) {
      result.push({ path: newPath, field });
    } else if (is(field, Table)) {
      result.push(...orderSelectedFields(field[Table.Symbol.Columns], newPath));
    } else {
      result.push(...orderSelectedFields(field, newPath));
    }
    return result;
  }, []);
}
function haveSameKeys(left, right) {
  const leftKeys = Object.keys(left);
  const rightKeys = Object.keys(right);
  if (leftKeys.length !== rightKeys.length) {
    return false;
  }
  for (const [index, key] of leftKeys.entries()) {
    if (key !== rightKeys[index]) {
      return false;
    }
  }
  return true;
}
function mapUpdateSet(table, values) {
  const entries = Object.entries(values).filter(([, value]) => value !== void 0).map(([key, value]) => {
    if (is(value, SQL)) {
      return [key, value];
    } else {
      return [key, new Param(value, table[Table.Symbol.Columns][key])];
    }
  });
  if (entries.length === 0) {
    throw new Error("No values to set");
  }
  return Object.fromEntries(entries);
}
function applyMixins(baseClass, extendedClasses) {
  for (const extendedClass of extendedClasses) {
    for (const name of Object.getOwnPropertyNames(extendedClass.prototype)) {
      if (name === "constructor")
        continue;
      Object.defineProperty(
        baseClass.prototype,
        name,
        Object.getOwnPropertyDescriptor(extendedClass.prototype, name) || /* @__PURE__ */ Object.create(null)
      );
    }
  }
}
function getTableColumns(table) {
  return table[Table.Symbol.Columns];
}
function getTableLikeName(table) {
  return is(table, Subquery) ? table._.alias : is(table, View) ? table[ViewBaseConfig].name : is(table, SQL) ? void 0 : table[Table.Symbol.IsAlias] ? table[Table.Symbol.Name] : table[Table.Symbol.BaseName];
}

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/sqlite-core/query-builders/delete.js
var _a42;
var SQLiteDeleteBase = class extends QueryPromise {
  constructor(table, session, dialect, withList) {
    super();
    this.table = table;
    this.session = session;
    this.dialect = dialect;
    this.config = { table, withList };
  }
  /** @internal */
  config;
  /**
   * Adds a `where` clause to the query.
   *
   * Calling this method will delete only those rows that fulfill a specified condition.
   *
   * See docs: {@link https://orm.drizzle.team/docs/delete}
   *
   * @param where the `where` clause.
   *
   * @example
   * You can use conditional operators and `sql function` to filter the rows to be deleted.
   *
   * ```ts
   * // Delete all cars with green color
   * db.delete(cars).where(eq(cars.color, 'green'));
   * // or
   * db.delete(cars).where(sql`${cars.color} = 'green'`)
   * ```
   *
   * You can logically combine conditional operators with `and()` and `or()` operators:
   *
   * ```ts
   * // Delete all BMW cars with a green color
   * db.delete(cars).where(and(eq(cars.color, 'green'), eq(cars.brand, 'BMW')));
   *
   * // Delete all cars with the green or blue color
   * db.delete(cars).where(or(eq(cars.color, 'green'), eq(cars.color, 'blue')));
   * ```
   */
  where(where) {
    this.config.where = where;
    return this;
  }
  returning(fields = this.table[SQLiteTable.Symbol.Columns]) {
    this.config.returning = orderSelectedFields(fields);
    return this;
  }
  /** @internal */
  getSQL() {
    return this.dialect.buildDeleteQuery(this.config);
  }
  toSQL() {
    const { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());
    return rest;
  }
  /** @internal */
  _prepare(isOneTimeQuery = true) {
    return this.session[isOneTimeQuery ? "prepareOneTimeQuery" : "prepareQuery"](
      this.dialect.sqlToQuery(this.getSQL()),
      this.config.returning,
      this.config.returning ? "all" : "run",
      true
    );
  }
  prepare() {
    return this._prepare(false);
  }
  run = (placeholderValues) => {
    return this._prepare().run(placeholderValues);
  };
  all = (placeholderValues) => {
    return this._prepare().all(placeholderValues);
  };
  get = (placeholderValues) => {
    return this._prepare().get(placeholderValues);
  };
  values = (placeholderValues) => {
    return this._prepare().values(placeholderValues);
  };
  async execute(placeholderValues) {
    return this._prepare().execute(placeholderValues);
  }
  $dynamic() {
    return this;
  }
};
_a42 = entityKind;
__publicField(SQLiteDeleteBase, _a42, "SQLiteDelete");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/sqlite-core/query-builders/insert.js
var _a43;
var SQLiteInsertBuilder = class {
  constructor(table, session, dialect, withList) {
    this.table = table;
    this.session = session;
    this.dialect = dialect;
    this.withList = withList;
  }
  values(values) {
    values = Array.isArray(values) ? values : [values];
    if (values.length === 0) {
      throw new Error("values() must be called with at least one value");
    }
    const mappedValues = values.map((entry) => {
      const result = {};
      const cols = this.table[Table.Symbol.Columns];
      for (const colKey of Object.keys(entry)) {
        const colValue = entry[colKey];
        result[colKey] = is(colValue, SQL) ? colValue : new Param(colValue, cols[colKey]);
      }
      return result;
    });
    return new SQLiteInsertBase(this.table, mappedValues, this.session, this.dialect, this.withList);
  }
};
_a43 = entityKind;
__publicField(SQLiteInsertBuilder, _a43, "SQLiteInsertBuilder");
var _a44;
var SQLiteInsertBase = class extends QueryPromise {
  constructor(table, values, session, dialect, withList) {
    super();
    this.session = session;
    this.dialect = dialect;
    this.config = { table, values, withList };
  }
  /** @internal */
  config;
  returning(fields = this.config.table[SQLiteTable.Symbol.Columns]) {
    this.config.returning = orderSelectedFields(fields);
    return this;
  }
  /**
   * Adds an `on conflict do nothing` clause to the query.
   *
   * Calling this method simply avoids inserting a row as its alternative action.
   *
   * See docs: {@link https://orm.drizzle.team/docs/insert#on-conflict-do-nothing}
   *
   * @param config The `target` and `where` clauses.
   *
   * @example
   * ```ts
   * // Insert one row and cancel the insert if there's a conflict
   * await db.insert(cars)
   *   .values({ id: 1, brand: 'BMW' })
   *   .onConflictDoNothing();
   *
   * // Explicitly specify conflict target
   * await db.insert(cars)
   *   .values({ id: 1, brand: 'BMW' })
   *   .onConflictDoNothing({ target: cars.id });
   * ```
   */
  onConflictDoNothing(config = {}) {
    if (config.target === void 0) {
      this.config.onConflict = sql`do nothing`;
    } else {
      const targetSql = Array.isArray(config.target) ? sql`${config.target}` : sql`${[config.target]}`;
      const whereSql = config.where ? sql` where ${config.where}` : sql``;
      this.config.onConflict = sql`${targetSql} do nothing${whereSql}`;
    }
    return this;
  }
  /**
   * Adds an `on conflict do update` clause to the query.
   *
   * Calling this method will update the existing row that conflicts with the row proposed for insertion as its alternative action.
   *
   * See docs: {@link https://orm.drizzle.team/docs/insert#upserts-and-conflicts}
   *
   * @param config The `target`, `set` and `where` clauses.
   *
   * @example
   * ```ts
   * // Update the row if there's a conflict
   * await db.insert(cars)
   *   .values({ id: 1, brand: 'BMW' })
   *   .onConflictDoUpdate({
   *     target: cars.id,
   *     set: { brand: 'Porsche' }
   *   });
   *
   * // Upsert with 'where' clause
   * await db.insert(cars)
   *   .values({ id: 1, brand: 'BMW' })
   *   .onConflictDoUpdate({
   *     target: cars.id,
   *     set: { brand: 'newBMW' },
   *     where: sql`${cars.createdAt} > '2023-01-01'::date`,
   *   });
   * ```
   */
  onConflictDoUpdate(config) {
    if (config.where && (config.targetWhere || config.setWhere)) {
      throw new Error(
        'You cannot use both "where" and "targetWhere"/"setWhere" at the same time - "where" is deprecated, use "targetWhere" or "setWhere" instead.'
      );
    }
    const whereSql = config.where ? sql` where ${config.where}` : void 0;
    const targetWhereSql = config.targetWhere ? sql` where ${config.targetWhere}` : void 0;
    const setWhereSql = config.setWhere ? sql` where ${config.setWhere}` : void 0;
    const targetSql = Array.isArray(config.target) ? sql`${config.target}` : sql`${[config.target]}`;
    const setSql = this.dialect.buildUpdateSet(this.config.table, mapUpdateSet(this.config.table, config.set));
    this.config.onConflict = sql`${targetSql}${targetWhereSql} do update set ${setSql}${whereSql}${setWhereSql}`;
    return this;
  }
  /** @internal */
  getSQL() {
    return this.dialect.buildInsertQuery(this.config);
  }
  toSQL() {
    const { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());
    return rest;
  }
  /** @internal */
  _prepare(isOneTimeQuery = true) {
    return this.session[isOneTimeQuery ? "prepareOneTimeQuery" : "prepareQuery"](
      this.dialect.sqlToQuery(this.getSQL()),
      this.config.returning,
      this.config.returning ? "all" : "run",
      true
    );
  }
  prepare() {
    return this._prepare(false);
  }
  run = (placeholderValues) => {
    return this._prepare().run(placeholderValues);
  };
  all = (placeholderValues) => {
    return this._prepare().all(placeholderValues);
  };
  get = (placeholderValues) => {
    return this._prepare().get(placeholderValues);
  };
  values = (placeholderValues) => {
    return this._prepare().values(placeholderValues);
  };
  async execute() {
    return this.config.returning ? this.all() : this.run();
  }
  $dynamic() {
    return this;
  }
};
_a44 = entityKind;
__publicField(SQLiteInsertBase, _a44, "SQLiteInsert");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/errors.js
var _a45;
var DrizzleError = class extends Error {
  constructor({ message, cause }) {
    super(message);
    this.name = "DrizzleError";
    this.cause = cause;
  }
};
_a45 = entityKind;
__publicField(DrizzleError, _a45, "DrizzleError");
var _a46;
var TransactionRollbackError = class extends DrizzleError {
  constructor() {
    super({ message: "Rollback" });
  }
};
_a46 = entityKind;
__publicField(TransactionRollbackError, _a46, "TransactionRollbackError");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/sqlite-core/foreign-keys.js
var _a47;
var ForeignKeyBuilder2 = class {
  /** @internal */
  reference;
  /** @internal */
  _onUpdate;
  /** @internal */
  _onDelete;
  constructor(config, actions) {
    this.reference = () => {
      const { name, columns, foreignColumns } = config();
      return { name, columns, foreignTable: foreignColumns[0].table, foreignColumns };
    };
    if (actions) {
      this._onUpdate = actions.onUpdate;
      this._onDelete = actions.onDelete;
    }
  }
  onUpdate(action) {
    this._onUpdate = action;
    return this;
  }
  onDelete(action) {
    this._onDelete = action;
    return this;
  }
  /** @internal */
  build(table) {
    return new ForeignKey2(table, this);
  }
};
_a47 = entityKind;
__publicField(ForeignKeyBuilder2, _a47, "SQLiteForeignKeyBuilder");
var _a48;
var ForeignKey2 = class {
  constructor(table, builder) {
    this.table = table;
    this.reference = builder.reference;
    this.onUpdate = builder._onUpdate;
    this.onDelete = builder._onDelete;
  }
  reference;
  onUpdate;
  onDelete;
  getName() {
    const { name, columns, foreignColumns } = this.reference();
    const columnNames = columns.map((column) => column.name);
    const foreignColumnNames = foreignColumns.map((column) => column.name);
    const chunks = [
      this.table[SQLiteTable.Symbol.Name],
      ...columnNames,
      foreignColumns[0].table[SQLiteTable.Symbol.Name],
      ...foreignColumnNames
    ];
    return name ?? `${chunks.join("_")}_fk`;
  }
};
_a48 = entityKind;
__publicField(ForeignKey2, _a48, "SQLiteForeignKey");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/sqlite-core/unique-constraint.js
function uniqueKeyName2(table, columns) {
  return `${table[SQLiteTable.Symbol.Name]}_${columns.join("_")}_unique`;
}
var _a49;
var UniqueConstraintBuilder2 = class {
  constructor(columns, name) {
    this.name = name;
    this.columns = columns;
  }
  /** @internal */
  columns;
  /** @internal */
  build(table) {
    return new UniqueConstraint2(table, this.columns, this.name);
  }
};
_a49 = entityKind;
__publicField(UniqueConstraintBuilder2, _a49, "SQLiteUniqueConstraintBuilder");
var _a50;
var UniqueOnConstraintBuilder2 = class {
  /** @internal */
  name;
  constructor(name) {
    this.name = name;
  }
  on(...columns) {
    return new UniqueConstraintBuilder2(columns, this.name);
  }
};
_a50 = entityKind;
__publicField(UniqueOnConstraintBuilder2, _a50, "SQLiteUniqueOnConstraintBuilder");
var _a51;
var UniqueConstraint2 = class {
  constructor(table, columns, name) {
    this.table = table;
    this.columns = columns;
    this.name = name ?? uniqueKeyName2(this.table, this.columns.map((column) => column.name));
  }
  columns;
  name;
  getName() {
    return this.name;
  }
};
_a51 = entityKind;
__publicField(UniqueConstraint2, _a51, "SQLiteUniqueConstraint");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/sqlite-core/columns/common.js
var _a52;
var SQLiteColumnBuilder = class extends ColumnBuilder {
  foreignKeyConfigs = [];
  references(ref, actions = {}) {
    this.foreignKeyConfigs.push({ ref, actions });
    return this;
  }
  unique(name) {
    this.config.isUnique = true;
    this.config.uniqueName = name;
    return this;
  }
  generatedAlwaysAs(as, config) {
    this.config.generated = {
      as,
      type: "always",
      mode: config?.mode ?? "virtual"
    };
    return this;
  }
  /** @internal */
  buildForeignKeys(column, table) {
    return this.foreignKeyConfigs.map(({ ref, actions }) => {
      return ((ref2, actions2) => {
        const builder = new ForeignKeyBuilder2(() => {
          const foreignColumn = ref2();
          return { columns: [column], foreignColumns: [foreignColumn] };
        });
        if (actions2.onUpdate) {
          builder.onUpdate(actions2.onUpdate);
        }
        if (actions2.onDelete) {
          builder.onDelete(actions2.onDelete);
        }
        return builder.build(table);
      })(ref, actions);
    });
  }
};
_a52 = entityKind;
__publicField(SQLiteColumnBuilder, _a52, "SQLiteColumnBuilder");
var _a53;
var SQLiteColumn = class extends Column {
  constructor(table, config) {
    if (!config.uniqueName) {
      config.uniqueName = uniqueKeyName2(table, [config.name]);
    }
    super(table, config);
    this.table = table;
  }
};
_a53 = entityKind;
__publicField(SQLiteColumn, _a53, "SQLiteColumn");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/sqlite-core/columns/integer.js
var _a54;
var SQLiteBaseIntegerBuilder = class extends SQLiteColumnBuilder {
  constructor(name, dataType, columnType) {
    super(name, dataType, columnType);
    this.config.autoIncrement = false;
  }
  primaryKey(config) {
    if (config?.autoIncrement) {
      this.config.autoIncrement = true;
    }
    this.config.hasDefault = true;
    return super.primaryKey();
  }
};
_a54 = entityKind;
__publicField(SQLiteBaseIntegerBuilder, _a54, "SQLiteBaseIntegerBuilder");
var _a55;
var SQLiteBaseInteger = class extends SQLiteColumn {
  autoIncrement = this.config.autoIncrement;
  getSQLType() {
    return "integer";
  }
};
_a55 = entityKind;
__publicField(SQLiteBaseInteger, _a55, "SQLiteBaseInteger");
var _a56;
var SQLiteIntegerBuilder = class extends SQLiteBaseIntegerBuilder {
  constructor(name) {
    super(name, "number", "SQLiteInteger");
  }
  build(table) {
    return new SQLiteInteger(
      table,
      this.config
    );
  }
};
_a56 = entityKind;
__publicField(SQLiteIntegerBuilder, _a56, "SQLiteIntegerBuilder");
var _a57;
var SQLiteInteger = class extends SQLiteBaseInteger {
};
_a57 = entityKind;
__publicField(SQLiteInteger, _a57, "SQLiteInteger");
var _a58;
var SQLiteTimestampBuilder = class extends SQLiteBaseIntegerBuilder {
  constructor(name, mode) {
    super(name, "date", "SQLiteTimestamp");
    this.config.mode = mode;
  }
  /**
   * @deprecated Use `default()` with your own expression instead.
   *
   * Adds `DEFAULT (cast((julianday('now') - 2440587.5)*86400000 as integer))` to the column, which is the current epoch timestamp in milliseconds.
   */
  defaultNow() {
    return this.default(sql`(cast((julianday('now') - 2440587.5)*86400000 as integer))`);
  }
  build(table) {
    return new SQLiteTimestamp(
      table,
      this.config
    );
  }
};
_a58 = entityKind;
__publicField(SQLiteTimestampBuilder, _a58, "SQLiteTimestampBuilder");
var _a59;
var SQLiteTimestamp = class extends SQLiteBaseInteger {
  mode = this.config.mode;
  mapFromDriverValue(value) {
    if (this.config.mode === "timestamp") {
      return new Date(value * 1e3);
    }
    return new Date(value);
  }
  mapToDriverValue(value) {
    const unix = value.getTime();
    if (this.config.mode === "timestamp") {
      return Math.floor(unix / 1e3);
    }
    return unix;
  }
};
_a59 = entityKind;
__publicField(SQLiteTimestamp, _a59, "SQLiteTimestamp");
var _a60;
var SQLiteBooleanBuilder = class extends SQLiteBaseIntegerBuilder {
  constructor(name, mode) {
    super(name, "boolean", "SQLiteBoolean");
    this.config.mode = mode;
  }
  build(table) {
    return new SQLiteBoolean(
      table,
      this.config
    );
  }
};
_a60 = entityKind;
__publicField(SQLiteBooleanBuilder, _a60, "SQLiteBooleanBuilder");
var _a61;
var SQLiteBoolean = class extends SQLiteBaseInteger {
  mode = this.config.mode;
  mapFromDriverValue(value) {
    return Number(value) === 1;
  }
  mapToDriverValue(value) {
    return value ? 1 : 0;
  }
};
_a61 = entityKind;
__publicField(SQLiteBoolean, _a61, "SQLiteBoolean");
function integer(name, config) {
  if (config?.mode === "timestamp" || config?.mode === "timestamp_ms") {
    return new SQLiteTimestampBuilder(name, config.mode);
  }
  if (config?.mode === "boolean") {
    return new SQLiteBooleanBuilder(name, config.mode);
  }
  return new SQLiteIntegerBuilder(name);
}

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/sqlite-core/columns/text.js
var _a62;
var SQLiteTextBuilder = class extends SQLiteColumnBuilder {
  constructor(name, config) {
    super(name, "string", "SQLiteText");
    this.config.enumValues = config.enum;
    this.config.length = config.length;
  }
  /** @internal */
  build(table) {
    return new SQLiteText(table, this.config);
  }
};
_a62 = entityKind;
__publicField(SQLiteTextBuilder, _a62, "SQLiteTextBuilder");
var _a63;
var SQLiteText = class extends SQLiteColumn {
  enumValues = this.config.enumValues;
  length = this.config.length;
  constructor(table, config) {
    super(table, config);
  }
  getSQLType() {
    return `text${this.config.length ? `(${this.config.length})` : ""}`;
  }
};
_a63 = entityKind;
__publicField(SQLiteText, _a63, "SQLiteText");
var _a64;
var SQLiteTextJsonBuilder = class extends SQLiteColumnBuilder {
  constructor(name) {
    super(name, "json", "SQLiteTextJson");
  }
  /** @internal */
  build(table) {
    return new SQLiteTextJson(
      table,
      this.config
    );
  }
};
_a64 = entityKind;
__publicField(SQLiteTextJsonBuilder, _a64, "SQLiteTextJsonBuilder");
var _a65;
var SQLiteTextJson = class extends SQLiteColumn {
  getSQLType() {
    return "text";
  }
  mapFromDriverValue(value) {
    return JSON.parse(value);
  }
  mapToDriverValue(value) {
    return JSON.stringify(value);
  }
};
_a65 = entityKind;
__publicField(SQLiteTextJson, _a65, "SQLiteTextJson");
function text(name, config = {}) {
  return config.mode === "json" ? new SQLiteTextJsonBuilder(name) : new SQLiteTextBuilder(name, config);
}

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/sqlite-core/view-base.js
var _a66;
var SQLiteViewBase = class extends View {
};
_a66 = entityKind;
__publicField(SQLiteViewBase, _a66, "SQLiteViewBase");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/sqlite-core/dialect.js
var _a67;
var SQLiteDialect = class {
  escapeName(name) {
    return `"${name}"`;
  }
  escapeParam(_num) {
    return "?";
  }
  escapeString(str) {
    return `'${str.replace(/'/g, "''")}'`;
  }
  buildWithCTE(queries) {
    if (!queries?.length)
      return void 0;
    const withSqlChunks = [sql`with `];
    for (const [i, w] of queries.entries()) {
      withSqlChunks.push(sql`${sql.identifier(w._.alias)} as (${w._.sql})`);
      if (i < queries.length - 1) {
        withSqlChunks.push(sql`, `);
      }
    }
    withSqlChunks.push(sql` `);
    return sql.join(withSqlChunks);
  }
  buildDeleteQuery({ table, where, returning, withList }) {
    const withSql = this.buildWithCTE(withList);
    const returningSql = returning ? sql` returning ${this.buildSelection(returning, { isSingleTable: true })}` : void 0;
    const whereSql = where ? sql` where ${where}` : void 0;
    return sql`${withSql}delete from ${table}${whereSql}${returningSql}`;
  }
  buildUpdateSet(table, set) {
    const tableColumns = table[Table.Symbol.Columns];
    const columnNames = Object.keys(tableColumns).filter(
      (colName) => set[colName] !== void 0 || tableColumns[colName]?.onUpdateFn !== void 0
    );
    const setSize = columnNames.length;
    return sql.join(columnNames.flatMap((colName, i) => {
      const col = tableColumns[colName];
      const value = set[colName] ?? sql.param(col.onUpdateFn(), col);
      const res = sql`${sql.identifier(col.name)} = ${value}`;
      if (i < setSize - 1) {
        return [res, sql.raw(", ")];
      }
      return [res];
    }));
  }
  buildUpdateQuery({ table, set, where, returning, withList }) {
    const withSql = this.buildWithCTE(withList);
    const setSql = this.buildUpdateSet(table, set);
    const returningSql = returning ? sql` returning ${this.buildSelection(returning, { isSingleTable: true })}` : void 0;
    const whereSql = where ? sql` where ${where}` : void 0;
    return sql`${withSql}update ${table} set ${setSql}${whereSql}${returningSql}`;
  }
  /**
   * Builds selection SQL with provided fields/expressions
   *
   * Examples:
   *
   * `select <selection> from`
   *
   * `insert ... returning <selection>`
   *
   * If `isSingleTable` is true, then columns won't be prefixed with table name
   */
  buildSelection(fields, { isSingleTable = false } = {}) {
    const columnsLen = fields.length;
    const chunks = fields.flatMap(({ field }, i) => {
      const chunk = [];
      if (is(field, SQL.Aliased) && field.isSelectionField) {
        chunk.push(sql.identifier(field.fieldAlias));
      } else if (is(field, SQL.Aliased) || is(field, SQL)) {
        const query = is(field, SQL.Aliased) ? field.sql : field;
        if (isSingleTable) {
          chunk.push(
            new SQL(
              query.queryChunks.map((c) => {
                if (is(c, Column)) {
                  return sql.identifier(c.name);
                }
                return c;
              })
            )
          );
        } else {
          chunk.push(query);
        }
        if (is(field, SQL.Aliased)) {
          chunk.push(sql` as ${sql.identifier(field.fieldAlias)}`);
        }
      } else if (is(field, Column)) {
        const tableName = field.table[Table.Symbol.Name];
        const columnName = field.name;
        if (isSingleTable) {
          chunk.push(sql.identifier(columnName));
        } else {
          chunk.push(sql`${sql.identifier(tableName)}.${sql.identifier(columnName)}`);
        }
      }
      if (i < columnsLen - 1) {
        chunk.push(sql`, `);
      }
      return chunk;
    });
    return sql.join(chunks);
  }
  buildSelectQuery({
    withList,
    fields,
    fieldsFlat,
    where,
    having,
    table,
    joins,
    orderBy,
    groupBy,
    limit,
    offset,
    distinct,
    setOperators
  }) {
    const fieldsList = fieldsFlat ?? orderSelectedFields(fields);
    for (const f of fieldsList) {
      if (is(f.field, Column) && getTableName(f.field.table) !== (is(table, Subquery) ? table._.alias : is(table, SQLiteViewBase) ? table[ViewBaseConfig].name : is(table, SQL) ? void 0 : getTableName(table)) && !((table2) => joins?.some(
        ({ alias }) => alias === (table2[Table.Symbol.IsAlias] ? getTableName(table2) : table2[Table.Symbol.BaseName])
      ))(f.field.table)) {
        const tableName = getTableName(f.field.table);
        throw new Error(
          `Your "${f.path.join("->")}" field references a column "${tableName}"."${f.field.name}", but the table "${tableName}" is not part of the query! Did you forget to join it?`
        );
      }
    }
    const isSingleTable = !joins || joins.length === 0;
    const withSql = this.buildWithCTE(withList);
    const distinctSql = distinct ? sql` distinct` : void 0;
    const selection = this.buildSelection(fieldsList, { isSingleTable });
    const tableSql = (() => {
      if (is(table, Table) && table[Table.Symbol.OriginalName] !== table[Table.Symbol.Name]) {
        return sql`${sql.identifier(table[Table.Symbol.OriginalName])} ${sql.identifier(table[Table.Symbol.Name])}`;
      }
      return table;
    })();
    const joinsArray = [];
    if (joins) {
      for (const [index, joinMeta] of joins.entries()) {
        if (index === 0) {
          joinsArray.push(sql` `);
        }
        const table2 = joinMeta.table;
        if (is(table2, SQLiteTable)) {
          const tableName = table2[SQLiteTable.Symbol.Name];
          const tableSchema = table2[SQLiteTable.Symbol.Schema];
          const origTableName = table2[SQLiteTable.Symbol.OriginalName];
          const alias = tableName === origTableName ? void 0 : joinMeta.alias;
          joinsArray.push(
            sql`${sql.raw(joinMeta.joinType)} join ${tableSchema ? sql`${sql.identifier(tableSchema)}.` : void 0}${sql.identifier(origTableName)}${alias && sql` ${sql.identifier(alias)}`} on ${joinMeta.on}`
          );
        } else {
          joinsArray.push(
            sql`${sql.raw(joinMeta.joinType)} join ${table2} on ${joinMeta.on}`
          );
        }
        if (index < joins.length - 1) {
          joinsArray.push(sql` `);
        }
      }
    }
    const joinsSql = sql.join(joinsArray);
    const whereSql = where ? sql` where ${where}` : void 0;
    const havingSql = having ? sql` having ${having}` : void 0;
    const orderByList = [];
    if (orderBy) {
      for (const [index, orderByValue] of orderBy.entries()) {
        orderByList.push(orderByValue);
        if (index < orderBy.length - 1) {
          orderByList.push(sql`, `);
        }
      }
    }
    const groupByList = [];
    if (groupBy) {
      for (const [index, groupByValue] of groupBy.entries()) {
        groupByList.push(groupByValue);
        if (index < groupBy.length - 1) {
          groupByList.push(sql`, `);
        }
      }
    }
    const groupBySql = groupByList.length > 0 ? sql` group by ${sql.join(groupByList)}` : void 0;
    const orderBySql = orderByList.length > 0 ? sql` order by ${sql.join(orderByList)}` : void 0;
    const limitSql = typeof limit === "object" || typeof limit === "number" && limit >= 0 ? sql` limit ${limit}` : void 0;
    const offsetSql = offset ? sql` offset ${offset}` : void 0;
    const finalQuery = sql`${withSql}select${distinctSql} ${selection} from ${tableSql}${joinsSql}${whereSql}${groupBySql}${havingSql}${orderBySql}${limitSql}${offsetSql}`;
    if (setOperators.length > 0) {
      return this.buildSetOperations(finalQuery, setOperators);
    }
    return finalQuery;
  }
  buildSetOperations(leftSelect, setOperators) {
    const [setOperator, ...rest] = setOperators;
    if (!setOperator) {
      throw new Error("Cannot pass undefined values to any set operator");
    }
    if (rest.length === 0) {
      return this.buildSetOperationQuery({ leftSelect, setOperator });
    }
    return this.buildSetOperations(
      this.buildSetOperationQuery({ leftSelect, setOperator }),
      rest
    );
  }
  buildSetOperationQuery({
    leftSelect,
    setOperator: { type, isAll, rightSelect, limit, orderBy, offset }
  }) {
    const leftChunk = sql`${leftSelect.getSQL()} `;
    const rightChunk = sql`${rightSelect.getSQL()}`;
    let orderBySql;
    if (orderBy && orderBy.length > 0) {
      const orderByValues = [];
      for (const singleOrderBy of orderBy) {
        if (is(singleOrderBy, SQLiteColumn)) {
          orderByValues.push(sql.identifier(singleOrderBy.name));
        } else if (is(singleOrderBy, SQL)) {
          for (let i = 0; i < singleOrderBy.queryChunks.length; i++) {
            const chunk = singleOrderBy.queryChunks[i];
            if (is(chunk, SQLiteColumn)) {
              singleOrderBy.queryChunks[i] = sql.identifier(chunk.name);
            }
          }
          orderByValues.push(sql`${singleOrderBy}`);
        } else {
          orderByValues.push(sql`${singleOrderBy}`);
        }
      }
      orderBySql = sql` order by ${sql.join(orderByValues, sql`, `)}`;
    }
    const limitSql = typeof limit === "object" || typeof limit === "number" && limit >= 0 ? sql` limit ${limit}` : void 0;
    const operatorChunk = sql.raw(`${type} ${isAll ? "all " : ""}`);
    const offsetSql = offset ? sql` offset ${offset}` : void 0;
    return sql`${leftChunk}${operatorChunk}${rightChunk}${orderBySql}${limitSql}${offsetSql}`;
  }
  buildInsertQuery({ table, values, onConflict, returning, withList }) {
    const valuesSqlList = [];
    const columns = table[Table.Symbol.Columns];
    const colEntries = Object.entries(columns).filter(
      ([_, col]) => !col.shouldDisableInsert()
    );
    const insertOrder = colEntries.map(([, column]) => sql.identifier(column.name));
    for (const [valueIndex, value] of values.entries()) {
      const valueList = [];
      for (const [fieldName, col] of colEntries) {
        const colValue = value[fieldName];
        if (colValue === void 0 || is(colValue, Param) && colValue.value === void 0) {
          let defaultValue;
          if (col.default !== null && col.default !== void 0) {
            defaultValue = is(col.default, SQL) ? col.default : sql.param(col.default, col);
          } else if (col.defaultFn !== void 0) {
            const defaultFnResult = col.defaultFn();
            defaultValue = is(defaultFnResult, SQL) ? defaultFnResult : sql.param(defaultFnResult, col);
          } else if (!col.default && col.onUpdateFn !== void 0) {
            const onUpdateFnResult = col.onUpdateFn();
            defaultValue = is(onUpdateFnResult, SQL) ? onUpdateFnResult : sql.param(onUpdateFnResult, col);
          } else {
            defaultValue = sql`null`;
          }
          valueList.push(defaultValue);
        } else {
          valueList.push(colValue);
        }
      }
      valuesSqlList.push(valueList);
      if (valueIndex < values.length - 1) {
        valuesSqlList.push(sql`, `);
      }
    }
    const withSql = this.buildWithCTE(withList);
    const valuesSql = sql.join(valuesSqlList);
    const returningSql = returning ? sql` returning ${this.buildSelection(returning, { isSingleTable: true })}` : void 0;
    const onConflictSql = onConflict ? sql` on conflict ${onConflict}` : void 0;
    return sql`${withSql}insert into ${table} ${insertOrder} values ${valuesSql}${onConflictSql}${returningSql}`;
  }
  sqlToQuery(sql2, invokeSource) {
    return sql2.toQuery({
      escapeName: this.escapeName,
      escapeParam: this.escapeParam,
      escapeString: this.escapeString,
      invokeSource
    });
  }
  buildRelationalQuery({
    fullSchema,
    schema,
    tableNamesMap,
    table,
    tableConfig,
    queryConfig: config,
    tableAlias,
    nestedQueryRelation,
    joinOn
  }) {
    let selection = [];
    let limit, offset, orderBy = [], where;
    const joins = [];
    if (config === true) {
      const selectionEntries = Object.entries(tableConfig.columns);
      selection = selectionEntries.map(([key, value]) => ({
        dbKey: value.name,
        tsKey: key,
        field: aliasedTableColumn(value, tableAlias),
        relationTableTsKey: void 0,
        isJson: false,
        selection: []
      }));
    } else {
      const aliasedColumns = Object.fromEntries(
        Object.entries(tableConfig.columns).map(([key, value]) => [key, aliasedTableColumn(value, tableAlias)])
      );
      if (config.where) {
        const whereSql = typeof config.where === "function" ? config.where(aliasedColumns, getOperators()) : config.where;
        where = whereSql && mapColumnsInSQLToAlias(whereSql, tableAlias);
      }
      const fieldsSelection = [];
      let selectedColumns = [];
      if (config.columns) {
        let isIncludeMode = false;
        for (const [field, value] of Object.entries(config.columns)) {
          if (value === void 0) {
            continue;
          }
          if (field in tableConfig.columns) {
            if (!isIncludeMode && value === true) {
              isIncludeMode = true;
            }
            selectedColumns.push(field);
          }
        }
        if (selectedColumns.length > 0) {
          selectedColumns = isIncludeMode ? selectedColumns.filter((c) => config.columns?.[c] === true) : Object.keys(tableConfig.columns).filter((key) => !selectedColumns.includes(key));
        }
      } else {
        selectedColumns = Object.keys(tableConfig.columns);
      }
      for (const field of selectedColumns) {
        const column = tableConfig.columns[field];
        fieldsSelection.push({ tsKey: field, value: column });
      }
      let selectedRelations = [];
      if (config.with) {
        selectedRelations = Object.entries(config.with).filter((entry) => !!entry[1]).map(([tsKey, queryConfig]) => ({ tsKey, queryConfig, relation: tableConfig.relations[tsKey] }));
      }
      let extras;
      if (config.extras) {
        extras = typeof config.extras === "function" ? config.extras(aliasedColumns, { sql }) : config.extras;
        for (const [tsKey, value] of Object.entries(extras)) {
          fieldsSelection.push({
            tsKey,
            value: mapColumnsInAliasedSQLToAlias(value, tableAlias)
          });
        }
      }
      for (const { tsKey, value } of fieldsSelection) {
        selection.push({
          dbKey: is(value, SQL.Aliased) ? value.fieldAlias : tableConfig.columns[tsKey].name,
          tsKey,
          field: is(value, Column) ? aliasedTableColumn(value, tableAlias) : value,
          relationTableTsKey: void 0,
          isJson: false,
          selection: []
        });
      }
      let orderByOrig = typeof config.orderBy === "function" ? config.orderBy(aliasedColumns, getOrderByOperators()) : config.orderBy ?? [];
      if (!Array.isArray(orderByOrig)) {
        orderByOrig = [orderByOrig];
      }
      orderBy = orderByOrig.map((orderByValue) => {
        if (is(orderByValue, Column)) {
          return aliasedTableColumn(orderByValue, tableAlias);
        }
        return mapColumnsInSQLToAlias(orderByValue, tableAlias);
      });
      limit = config.limit;
      offset = config.offset;
      for (const {
        tsKey: selectedRelationTsKey,
        queryConfig: selectedRelationConfigValue,
        relation
      } of selectedRelations) {
        const normalizedRelation = normalizeRelation(schema, tableNamesMap, relation);
        const relationTableName = getTableUniqueName(relation.referencedTable);
        const relationTableTsName = tableNamesMap[relationTableName];
        const relationTableAlias = `${tableAlias}_${selectedRelationTsKey}`;
        const joinOn2 = and(
          ...normalizedRelation.fields.map(
            (field2, i) => eq(
              aliasedTableColumn(normalizedRelation.references[i], relationTableAlias),
              aliasedTableColumn(field2, tableAlias)
            )
          )
        );
        const builtRelation = this.buildRelationalQuery({
          fullSchema,
          schema,
          tableNamesMap,
          table: fullSchema[relationTableTsName],
          tableConfig: schema[relationTableTsName],
          queryConfig: is(relation, One) ? selectedRelationConfigValue === true ? { limit: 1 } : { ...selectedRelationConfigValue, limit: 1 } : selectedRelationConfigValue,
          tableAlias: relationTableAlias,
          joinOn: joinOn2,
          nestedQueryRelation: relation
        });
        const field = sql`(${builtRelation.sql})`.as(selectedRelationTsKey);
        selection.push({
          dbKey: selectedRelationTsKey,
          tsKey: selectedRelationTsKey,
          field,
          relationTableTsKey: relationTableTsName,
          isJson: true,
          selection: builtRelation.selection
        });
      }
    }
    if (selection.length === 0) {
      throw new DrizzleError({
        message: `No fields selected for table "${tableConfig.tsName}" ("${tableAlias}"). You need to have at least one item in "columns", "with" or "extras". If you need to select all columns, omit the "columns" key or set it to undefined.`
      });
    }
    let result;
    where = and(joinOn, where);
    if (nestedQueryRelation) {
      let field = sql`json_array(${sql.join(
        selection.map(
          ({ field: field2 }) => is(field2, SQLiteColumn) ? sql.identifier(field2.name) : is(field2, SQL.Aliased) ? field2.sql : field2
        ),
        sql`, `
      )})`;
      if (is(nestedQueryRelation, Many)) {
        field = sql`coalesce(json_group_array(${field}), json_array())`;
      }
      const nestedSelection = [{
        dbKey: "data",
        tsKey: "data",
        field: field.as("data"),
        isJson: true,
        relationTableTsKey: tableConfig.tsName,
        selection
      }];
      const needsSubquery = limit !== void 0 || offset !== void 0 || orderBy.length > 0;
      if (needsSubquery) {
        result = this.buildSelectQuery({
          table: aliasedTable(table, tableAlias),
          fields: {},
          fieldsFlat: [
            {
              path: [],
              field: sql.raw("*")
            }
          ],
          where,
          limit,
          offset,
          orderBy,
          setOperators: []
        });
        where = void 0;
        limit = void 0;
        offset = void 0;
        orderBy = void 0;
      } else {
        result = aliasedTable(table, tableAlias);
      }
      result = this.buildSelectQuery({
        table: is(result, SQLiteTable) ? result : new Subquery(result, {}, tableAlias),
        fields: {},
        fieldsFlat: nestedSelection.map(({ field: field2 }) => ({
          path: [],
          field: is(field2, Column) ? aliasedTableColumn(field2, tableAlias) : field2
        })),
        joins,
        where,
        limit,
        offset,
        orderBy,
        setOperators: []
      });
    } else {
      result = this.buildSelectQuery({
        table: aliasedTable(table, tableAlias),
        fields: {},
        fieldsFlat: selection.map(({ field }) => ({
          path: [],
          field: is(field, Column) ? aliasedTableColumn(field, tableAlias) : field
        })),
        joins,
        where,
        limit,
        offset,
        orderBy,
        setOperators: []
      });
    }
    return {
      tableTsKey: tableConfig.tsName,
      sql: result,
      selection
    };
  }
};
_a67 = entityKind;
__publicField(SQLiteDialect, _a67, "SQLiteDialect");
var _a68;
var SQLiteSyncDialect = class extends SQLiteDialect {
  migrate(migrations, session, config) {
    const migrationsTable = config === void 0 ? "__drizzle_migrations" : typeof config === "string" ? "__drizzle_migrations" : config.migrationsTable ?? "__drizzle_migrations";
    const migrationTableCreate = sql`
			CREATE TABLE IF NOT EXISTS ${sql.identifier(migrationsTable)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;
    session.run(migrationTableCreate);
    const dbMigrations = session.values(
      sql`SELECT id, hash, created_at FROM ${sql.identifier(migrationsTable)} ORDER BY created_at DESC LIMIT 1`
    );
    const lastDbMigration = dbMigrations[0] ?? void 0;
    session.run(sql`BEGIN`);
    try {
      for (const migration of migrations) {
        if (!lastDbMigration || Number(lastDbMigration[2]) < migration.folderMillis) {
          for (const stmt of migration.sql) {
            session.run(sql.raw(stmt));
          }
          session.run(
            sql`INSERT INTO ${sql.identifier(migrationsTable)} ("hash", "created_at") VALUES(${migration.hash}, ${migration.folderMillis})`
          );
        }
      }
      session.run(sql`COMMIT`);
    } catch (e) {
      session.run(sql`ROLLBACK`);
      throw e;
    }
  }
};
_a68 = entityKind;
__publicField(SQLiteSyncDialect, _a68, "SQLiteSyncDialect");
var _a69;
var SQLiteAsyncDialect = class extends SQLiteDialect {
  async migrate(migrations, session, config) {
    const migrationsTable = config === void 0 ? "__drizzle_migrations" : typeof config === "string" ? "__drizzle_migrations" : config.migrationsTable ?? "__drizzle_migrations";
    const migrationTableCreate = sql`
			CREATE TABLE IF NOT EXISTS ${sql.identifier(migrationsTable)} (
				id SERIAL PRIMARY KEY,
				hash text NOT NULL,
				created_at numeric
			)
		`;
    await session.run(migrationTableCreate);
    const dbMigrations = await session.values(
      sql`SELECT id, hash, created_at FROM ${sql.identifier(migrationsTable)} ORDER BY created_at DESC LIMIT 1`
    );
    const lastDbMigration = dbMigrations[0] ?? void 0;
    await session.transaction(async (tx) => {
      for (const migration of migrations) {
        if (!lastDbMigration || Number(lastDbMigration[2]) < migration.folderMillis) {
          for (const stmt of migration.sql) {
            await tx.run(sql.raw(stmt));
          }
          await tx.run(
            sql`INSERT INTO ${sql.identifier(migrationsTable)} ("hash", "created_at") VALUES(${migration.hash}, ${migration.folderMillis})`
          );
        }
      }
    });
  }
};
_a69 = entityKind;
__publicField(SQLiteAsyncDialect, _a69, "SQLiteAsyncDialect");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/query-builders/query-builder.js
var _a70;
var TypedQueryBuilder = class {
  /** @internal */
  getSelectedFields() {
    return this._.selectedFields;
  }
};
_a70 = entityKind;
__publicField(TypedQueryBuilder, _a70, "TypedQueryBuilder");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/sqlite-core/query-builders/select.js
var _a71;
var SQLiteSelectBuilder = class {
  fields;
  session;
  dialect;
  withList;
  distinct;
  constructor(config) {
    this.fields = config.fields;
    this.session = config.session;
    this.dialect = config.dialect;
    this.withList = config.withList;
    this.distinct = config.distinct;
  }
  from(source) {
    const isPartialSelect = !!this.fields;
    let fields;
    if (this.fields) {
      fields = this.fields;
    } else if (is(source, Subquery)) {
      fields = Object.fromEntries(
        Object.keys(source._.selectedFields).map((key) => [key, source[key]])
      );
    } else if (is(source, SQLiteViewBase)) {
      fields = source[ViewBaseConfig].selectedFields;
    } else if (is(source, SQL)) {
      fields = {};
    } else {
      fields = getTableColumns(source);
    }
    return new SQLiteSelectBase({
      table: source,
      fields,
      isPartialSelect,
      session: this.session,
      dialect: this.dialect,
      withList: this.withList,
      distinct: this.distinct
    });
  }
};
_a71 = entityKind;
__publicField(SQLiteSelectBuilder, _a71, "SQLiteSelectBuilder");
var _a72;
var SQLiteSelectQueryBuilderBase = class extends TypedQueryBuilder {
  _;
  /** @internal */
  config;
  joinsNotNullableMap;
  tableName;
  isPartialSelect;
  session;
  dialect;
  constructor({ table, fields, isPartialSelect, session, dialect, withList, distinct }) {
    super();
    this.config = {
      withList,
      table,
      fields: { ...fields },
      distinct,
      setOperators: []
    };
    this.isPartialSelect = isPartialSelect;
    this.session = session;
    this.dialect = dialect;
    this._ = {
      selectedFields: fields
    };
    this.tableName = getTableLikeName(table);
    this.joinsNotNullableMap = typeof this.tableName === "string" ? { [this.tableName]: true } : {};
  }
  createJoin(joinType) {
    return (table, on) => {
      const baseTableName = this.tableName;
      const tableName = getTableLikeName(table);
      if (typeof tableName === "string" && this.config.joins?.some((join) => join.alias === tableName)) {
        throw new Error(`Alias "${tableName}" is already used in this query`);
      }
      if (!this.isPartialSelect) {
        if (Object.keys(this.joinsNotNullableMap).length === 1 && typeof baseTableName === "string") {
          this.config.fields = {
            [baseTableName]: this.config.fields
          };
        }
        if (typeof tableName === "string" && !is(table, SQL)) {
          const selection = is(table, Subquery) ? table._.selectedFields : is(table, View) ? table[ViewBaseConfig].selectedFields : table[Table.Symbol.Columns];
          this.config.fields[tableName] = selection;
        }
      }
      if (typeof on === "function") {
        on = on(
          new Proxy(
            this.config.fields,
            new SelectionProxyHandler({ sqlAliasedBehavior: "sql", sqlBehavior: "sql" })
          )
        );
      }
      if (!this.config.joins) {
        this.config.joins = [];
      }
      this.config.joins.push({ on, table, joinType, alias: tableName });
      if (typeof tableName === "string") {
        switch (joinType) {
          case "left": {
            this.joinsNotNullableMap[tableName] = false;
            break;
          }
          case "right": {
            this.joinsNotNullableMap = Object.fromEntries(
              Object.entries(this.joinsNotNullableMap).map(([key]) => [key, false])
            );
            this.joinsNotNullableMap[tableName] = true;
            break;
          }
          case "inner": {
            this.joinsNotNullableMap[tableName] = true;
            break;
          }
          case "full": {
            this.joinsNotNullableMap = Object.fromEntries(
              Object.entries(this.joinsNotNullableMap).map(([key]) => [key, false])
            );
            this.joinsNotNullableMap[tableName] = false;
            break;
          }
        }
      }
      return this;
    };
  }
  /**
   * Executes a `left join` operation by adding another table to the current query.
   *
   * Calling this method associates each row of the table with the corresponding row from the joined table, if a match is found. If no matching row exists, it sets all columns of the joined table to null.
   *
   * See docs: {@link https://orm.drizzle.team/docs/joins#left-join}
   *
   * @param table the table to join.
   * @param on the `on` clause.
   *
   * @example
   *
   * ```ts
   * // Select all users and their pets
   * const usersWithPets: { user: User; pets: Pet | null }[] = await db.select()
   *   .from(users)
   *   .leftJoin(pets, eq(users.id, pets.ownerId))
   *
   * // Select userId and petId
   * const usersIdsAndPetIds: { userId: number; petId: number | null }[] = await db.select({
   *   userId: users.id,
   *   petId: pets.id,
   * })
   *   .from(users)
   *   .leftJoin(pets, eq(users.id, pets.ownerId))
   * ```
   */
  leftJoin = this.createJoin("left");
  /**
   * Executes a `right join` operation by adding another table to the current query.
   *
   * Calling this method associates each row of the joined table with the corresponding row from the main table, if a match is found. If no matching row exists, it sets all columns of the main table to null.
   *
   * See docs: {@link https://orm.drizzle.team/docs/joins#right-join}
   *
   * @param table the table to join.
   * @param on the `on` clause.
   *
   * @example
   *
   * ```ts
   * // Select all users and their pets
   * const usersWithPets: { user: User | null; pets: Pet }[] = await db.select()
   *   .from(users)
   *   .rightJoin(pets, eq(users.id, pets.ownerId))
   *
   * // Select userId and petId
   * const usersIdsAndPetIds: { userId: number | null; petId: number }[] = await db.select({
   *   userId: users.id,
   *   petId: pets.id,
   * })
   *   .from(users)
   *   .rightJoin(pets, eq(users.id, pets.ownerId))
   * ```
   */
  rightJoin = this.createJoin("right");
  /**
   * Executes an `inner join` operation, creating a new table by combining rows from two tables that have matching values.
   *
   * Calling this method retrieves rows that have corresponding entries in both joined tables. Rows without matching entries in either table are excluded, resulting in a table that includes only matching pairs.
   *
   * See docs: {@link https://orm.drizzle.team/docs/joins#inner-join}
   *
   * @param table the table to join.
   * @param on the `on` clause.
   *
   * @example
   *
   * ```ts
   * // Select all users and their pets
   * const usersWithPets: { user: User; pets: Pet }[] = await db.select()
   *   .from(users)
   *   .innerJoin(pets, eq(users.id, pets.ownerId))
   *
   * // Select userId and petId
   * const usersIdsAndPetIds: { userId: number; petId: number }[] = await db.select({
   *   userId: users.id,
   *   petId: pets.id,
   * })
   *   .from(users)
   *   .innerJoin(pets, eq(users.id, pets.ownerId))
   * ```
   */
  innerJoin = this.createJoin("inner");
  /**
   * Executes a `full join` operation by combining rows from two tables into a new table.
   *
   * Calling this method retrieves all rows from both main and joined tables, merging rows with matching values and filling in `null` for non-matching columns.
   *
   * See docs: {@link https://orm.drizzle.team/docs/joins#full-join}
   *
   * @param table the table to join.
   * @param on the `on` clause.
   *
   * @example
   *
   * ```ts
   * // Select all users and their pets
   * const usersWithPets: { user: User | null; pets: Pet | null }[] = await db.select()
   *   .from(users)
   *   .fullJoin(pets, eq(users.id, pets.ownerId))
   *
   * // Select userId and petId
   * const usersIdsAndPetIds: { userId: number | null; petId: number | null }[] = await db.select({
   *   userId: users.id,
   *   petId: pets.id,
   * })
   *   .from(users)
   *   .fullJoin(pets, eq(users.id, pets.ownerId))
   * ```
   */
  fullJoin = this.createJoin("full");
  createSetOperator(type, isAll) {
    return (rightSelection) => {
      const rightSelect = typeof rightSelection === "function" ? rightSelection(getSQLiteSetOperators()) : rightSelection;
      if (!haveSameKeys(this.getSelectedFields(), rightSelect.getSelectedFields())) {
        throw new Error(
          "Set operator error (union / intersect / except): selected fields are not the same or are in a different order"
        );
      }
      this.config.setOperators.push({ type, isAll, rightSelect });
      return this;
    };
  }
  /**
   * Adds `union` set operator to the query.
   *
   * Calling this method will combine the result sets of the `select` statements and remove any duplicate rows that appear across them.
   *
   * See docs: {@link https://orm.drizzle.team/docs/set-operations#union}
   *
   * @example
   *
   * ```ts
   * // Select all unique names from customers and users tables
   * await db.select({ name: users.name })
   *   .from(users)
   *   .union(
   *     db.select({ name: customers.name }).from(customers)
   *   );
   * // or
   * import { union } from 'drizzle-orm/sqlite-core'
   *
   * await union(
   *   db.select({ name: users.name }).from(users),
   *   db.select({ name: customers.name }).from(customers)
   * );
   * ```
   */
  union = this.createSetOperator("union", false);
  /**
   * Adds `union all` set operator to the query.
   *
   * Calling this method will combine the result-set of the `select` statements and keep all duplicate rows that appear across them.
   *
   * See docs: {@link https://orm.drizzle.team/docs/set-operations#union-all}
   *
   * @example
   *
   * ```ts
   * // Select all transaction ids from both online and in-store sales
   * await db.select({ transaction: onlineSales.transactionId })
   *   .from(onlineSales)
   *   .unionAll(
   *     db.select({ transaction: inStoreSales.transactionId }).from(inStoreSales)
   *   );
   * // or
   * import { unionAll } from 'drizzle-orm/sqlite-core'
   *
   * await unionAll(
   *   db.select({ transaction: onlineSales.transactionId }).from(onlineSales),
   *   db.select({ transaction: inStoreSales.transactionId }).from(inStoreSales)
   * );
   * ```
   */
  unionAll = this.createSetOperator("union", true);
  /**
   * Adds `intersect` set operator to the query.
   *
   * Calling this method will retain only the rows that are present in both result sets and eliminate duplicates.
   *
   * See docs: {@link https://orm.drizzle.team/docs/set-operations#intersect}
   *
   * @example
   *
   * ```ts
   * // Select course names that are offered in both departments A and B
   * await db.select({ courseName: depA.courseName })
   *   .from(depA)
   *   .intersect(
   *     db.select({ courseName: depB.courseName }).from(depB)
   *   );
   * // or
   * import { intersect } from 'drizzle-orm/sqlite-core'
   *
   * await intersect(
   *   db.select({ courseName: depA.courseName }).from(depA),
   *   db.select({ courseName: depB.courseName }).from(depB)
   * );
   * ```
   */
  intersect = this.createSetOperator("intersect", false);
  /**
   * Adds `except` set operator to the query.
   *
   * Calling this method will retrieve all unique rows from the left query, except for the rows that are present in the result set of the right query.
   *
   * See docs: {@link https://orm.drizzle.team/docs/set-operations#except}
   *
   * @example
   *
   * ```ts
   * // Select all courses offered in department A but not in department B
   * await db.select({ courseName: depA.courseName })
   *   .from(depA)
   *   .except(
   *     db.select({ courseName: depB.courseName }).from(depB)
   *   );
   * // or
   * import { except } from 'drizzle-orm/sqlite-core'
   *
   * await except(
   *   db.select({ courseName: depA.courseName }).from(depA),
   *   db.select({ courseName: depB.courseName }).from(depB)
   * );
   * ```
   */
  except = this.createSetOperator("except", false);
  /** @internal */
  addSetOperators(setOperators) {
    this.config.setOperators.push(...setOperators);
    return this;
  }
  /**
   * Adds a `where` clause to the query.
   *
   * Calling this method will select only those rows that fulfill a specified condition.
   *
   * See docs: {@link https://orm.drizzle.team/docs/select#filtering}
   *
   * @param where the `where` clause.
   *
   * @example
   * You can use conditional operators and `sql function` to filter the rows to be selected.
   *
   * ```ts
   * // Select all cars with green color
   * await db.select().from(cars).where(eq(cars.color, 'green'));
   * // or
   * await db.select().from(cars).where(sql`${cars.color} = 'green'`)
   * ```
   *
   * You can logically combine conditional operators with `and()` and `or()` operators:
   *
   * ```ts
   * // Select all BMW cars with a green color
   * await db.select().from(cars).where(and(eq(cars.color, 'green'), eq(cars.brand, 'BMW')));
   *
   * // Select all cars with the green or blue color
   * await db.select().from(cars).where(or(eq(cars.color, 'green'), eq(cars.color, 'blue')));
   * ```
   */
  where(where) {
    if (typeof where === "function") {
      where = where(
        new Proxy(
          this.config.fields,
          new SelectionProxyHandler({ sqlAliasedBehavior: "sql", sqlBehavior: "sql" })
        )
      );
    }
    this.config.where = where;
    return this;
  }
  /**
   * Adds a `having` clause to the query.
   *
   * Calling this method will select only those rows that fulfill a specified condition. It is typically used with aggregate functions to filter the aggregated data based on a specified condition.
   *
   * See docs: {@link https://orm.drizzle.team/docs/select#aggregations}
   *
   * @param having the `having` clause.
   *
   * @example
   *
   * ```ts
   * // Select all brands with more than one car
   * await db.select({
   * 	brand: cars.brand,
   * 	count: sql<number>`cast(count(${cars.id}) as int)`,
   * })
   *   .from(cars)
   *   .groupBy(cars.brand)
   *   .having(({ count }) => gt(count, 1));
   * ```
   */
  having(having) {
    if (typeof having === "function") {
      having = having(
        new Proxy(
          this.config.fields,
          new SelectionProxyHandler({ sqlAliasedBehavior: "sql", sqlBehavior: "sql" })
        )
      );
    }
    this.config.having = having;
    return this;
  }
  groupBy(...columns) {
    if (typeof columns[0] === "function") {
      const groupBy = columns[0](
        new Proxy(
          this.config.fields,
          new SelectionProxyHandler({ sqlAliasedBehavior: "alias", sqlBehavior: "sql" })
        )
      );
      this.config.groupBy = Array.isArray(groupBy) ? groupBy : [groupBy];
    } else {
      this.config.groupBy = columns;
    }
    return this;
  }
  orderBy(...columns) {
    if (typeof columns[0] === "function") {
      const orderBy = columns[0](
        new Proxy(
          this.config.fields,
          new SelectionProxyHandler({ sqlAliasedBehavior: "alias", sqlBehavior: "sql" })
        )
      );
      const orderByArray = Array.isArray(orderBy) ? orderBy : [orderBy];
      if (this.config.setOperators.length > 0) {
        this.config.setOperators.at(-1).orderBy = orderByArray;
      } else {
        this.config.orderBy = orderByArray;
      }
    } else {
      const orderByArray = columns;
      if (this.config.setOperators.length > 0) {
        this.config.setOperators.at(-1).orderBy = orderByArray;
      } else {
        this.config.orderBy = orderByArray;
      }
    }
    return this;
  }
  /**
   * Adds a `limit` clause to the query.
   *
   * Calling this method will set the maximum number of rows that will be returned by this query.
   *
   * See docs: {@link https://orm.drizzle.team/docs/select#limit--offset}
   *
   * @param limit the `limit` clause.
   *
   * @example
   *
   * ```ts
   * // Get the first 10 people from this query.
   * await db.select().from(people).limit(10);
   * ```
   */
  limit(limit) {
    if (this.config.setOperators.length > 0) {
      this.config.setOperators.at(-1).limit = limit;
    } else {
      this.config.limit = limit;
    }
    return this;
  }
  /**
   * Adds an `offset` clause to the query.
   *
   * Calling this method will skip a number of rows when returning results from this query.
   *
   * See docs: {@link https://orm.drizzle.team/docs/select#limit--offset}
   *
   * @param offset the `offset` clause.
   *
   * @example
   *
   * ```ts
   * // Get the 10th-20th people from this query.
   * await db.select().from(people).offset(10).limit(10);
   * ```
   */
  offset(offset) {
    if (this.config.setOperators.length > 0) {
      this.config.setOperators.at(-1).offset = offset;
    } else {
      this.config.offset = offset;
    }
    return this;
  }
  /** @internal */
  getSQL() {
    return this.dialect.buildSelectQuery(this.config);
  }
  toSQL() {
    const { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());
    return rest;
  }
  as(alias) {
    return new Proxy(
      new Subquery(this.getSQL(), this.config.fields, alias),
      new SelectionProxyHandler({ alias, sqlAliasedBehavior: "alias", sqlBehavior: "error" })
    );
  }
  /** @internal */
  getSelectedFields() {
    return new Proxy(
      this.config.fields,
      new SelectionProxyHandler({ alias: this.tableName, sqlAliasedBehavior: "alias", sqlBehavior: "error" })
    );
  }
  $dynamic() {
    return this;
  }
};
_a72 = entityKind;
__publicField(SQLiteSelectQueryBuilderBase, _a72, "SQLiteSelectQueryBuilder");
var _a73;
var SQLiteSelectBase = class extends SQLiteSelectQueryBuilderBase {
  /** @internal */
  _prepare(isOneTimeQuery = true) {
    if (!this.session) {
      throw new Error("Cannot execute a query on a query builder. Please use a database instance instead.");
    }
    const fieldsList = orderSelectedFields(this.config.fields);
    const query = this.session[isOneTimeQuery ? "prepareOneTimeQuery" : "prepareQuery"](
      this.dialect.sqlToQuery(this.getSQL()),
      fieldsList,
      "all",
      true
    );
    query.joinsNotNullableMap = this.joinsNotNullableMap;
    return query;
  }
  prepare() {
    return this._prepare(false);
  }
  run = (placeholderValues) => {
    return this._prepare().run(placeholderValues);
  };
  all = (placeholderValues) => {
    return this._prepare().all(placeholderValues);
  };
  get = (placeholderValues) => {
    return this._prepare().get(placeholderValues);
  };
  values = (placeholderValues) => {
    return this._prepare().values(placeholderValues);
  };
  async execute() {
    return this.all();
  }
};
_a73 = entityKind;
__publicField(SQLiteSelectBase, _a73, "SQLiteSelect");
applyMixins(SQLiteSelectBase, [QueryPromise]);
function createSetOperator(type, isAll) {
  return (leftSelect, rightSelect, ...restSelects) => {
    const setOperators = [rightSelect, ...restSelects].map((select) => ({
      type,
      isAll,
      rightSelect: select
    }));
    for (const setOperator of setOperators) {
      if (!haveSameKeys(leftSelect.getSelectedFields(), setOperator.rightSelect.getSelectedFields())) {
        throw new Error(
          "Set operator error (union / intersect / except): selected fields are not the same or are in a different order"
        );
      }
    }
    return leftSelect.addSetOperators(setOperators);
  };
}
var getSQLiteSetOperators = () => ({
  union,
  unionAll,
  intersect,
  except
});
var union = createSetOperator("union", false);
var unionAll = createSetOperator("union", true);
var intersect = createSetOperator("intersect", false);
var except = createSetOperator("except", false);

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/sqlite-core/query-builders/query-builder.js
var _a74;
var QueryBuilder = class {
  dialect;
  $with(alias) {
    const queryBuilder = this;
    return {
      as(qb) {
        if (typeof qb === "function") {
          qb = qb(queryBuilder);
        }
        return new Proxy(
          new WithSubquery(qb.getSQL(), qb.getSelectedFields(), alias, true),
          new SelectionProxyHandler({ alias, sqlAliasedBehavior: "alias", sqlBehavior: "error" })
        );
      }
    };
  }
  with(...queries) {
    const self2 = this;
    function select(fields) {
      return new SQLiteSelectBuilder({
        fields: fields ?? void 0,
        session: void 0,
        dialect: self2.getDialect(),
        withList: queries
      });
    }
    function selectDistinct(fields) {
      return new SQLiteSelectBuilder({
        fields: fields ?? void 0,
        session: void 0,
        dialect: self2.getDialect(),
        withList: queries,
        distinct: true
      });
    }
    return { select, selectDistinct };
  }
  select(fields) {
    return new SQLiteSelectBuilder({ fields: fields ?? void 0, session: void 0, dialect: this.getDialect() });
  }
  selectDistinct(fields) {
    return new SQLiteSelectBuilder({
      fields: fields ?? void 0,
      session: void 0,
      dialect: this.getDialect(),
      distinct: true
    });
  }
  // Lazy load dialect to avoid circular dependency
  getDialect() {
    if (!this.dialect) {
      this.dialect = new SQLiteSyncDialect();
    }
    return this.dialect;
  }
};
_a74 = entityKind;
__publicField(QueryBuilder, _a74, "SQLiteQueryBuilder");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/sqlite-core/query-builders/update.js
var _a75;
var SQLiteUpdateBuilder = class {
  constructor(table, session, dialect, withList) {
    this.table = table;
    this.session = session;
    this.dialect = dialect;
    this.withList = withList;
  }
  set(values) {
    return new SQLiteUpdateBase(
      this.table,
      mapUpdateSet(this.table, values),
      this.session,
      this.dialect,
      this.withList
    );
  }
};
_a75 = entityKind;
__publicField(SQLiteUpdateBuilder, _a75, "SQLiteUpdateBuilder");
var _a76;
var SQLiteUpdateBase = class extends QueryPromise {
  constructor(table, set, session, dialect, withList) {
    super();
    this.session = session;
    this.dialect = dialect;
    this.config = { set, table, withList };
  }
  /** @internal */
  config;
  /**
   * Adds a 'where' clause to the query.
   *
   * Calling this method will update only those rows that fulfill a specified condition.
   *
   * See docs: {@link https://orm.drizzle.team/docs/update}
   *
   * @param where the 'where' clause.
   *
   * @example
   * You can use conditional operators and `sql function` to filter the rows to be updated.
   *
   * ```ts
   * // Update all cars with green color
   * db.update(cars).set({ color: 'red' })
   *   .where(eq(cars.color, 'green'));
   * // or
   * db.update(cars).set({ color: 'red' })
   *   .where(sql`${cars.color} = 'green'`)
   * ```
   *
   * You can logically combine conditional operators with `and()` and `or()` operators:
   *
   * ```ts
   * // Update all BMW cars with a green color
   * db.update(cars).set({ color: 'red' })
   *   .where(and(eq(cars.color, 'green'), eq(cars.brand, 'BMW')));
   *
   * // Update all cars with the green or blue color
   * db.update(cars).set({ color: 'red' })
   *   .where(or(eq(cars.color, 'green'), eq(cars.color, 'blue')));
   * ```
   */
  where(where) {
    this.config.where = where;
    return this;
  }
  returning(fields = this.config.table[SQLiteTable.Symbol.Columns]) {
    this.config.returning = orderSelectedFields(fields);
    return this;
  }
  /** @internal */
  getSQL() {
    return this.dialect.buildUpdateQuery(this.config);
  }
  toSQL() {
    const { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());
    return rest;
  }
  /** @internal */
  _prepare(isOneTimeQuery = true) {
    return this.session[isOneTimeQuery ? "prepareOneTimeQuery" : "prepareQuery"](
      this.dialect.sqlToQuery(this.getSQL()),
      this.config.returning,
      this.config.returning ? "all" : "run",
      true
    );
  }
  prepare() {
    return this._prepare(false);
  }
  run = (placeholderValues) => {
    return this._prepare().run(placeholderValues);
  };
  all = (placeholderValues) => {
    return this._prepare().all(placeholderValues);
  };
  get = (placeholderValues) => {
    return this._prepare().get(placeholderValues);
  };
  values = (placeholderValues) => {
    return this._prepare().values(placeholderValues);
  };
  async execute() {
    return this.config.returning ? this.all() : this.run();
  }
  $dynamic() {
    return this;
  }
};
_a76 = entityKind;
__publicField(SQLiteUpdateBase, _a76, "SQLiteUpdate");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/sqlite-core/query-builders/query.js
var _a77;
var RelationalQueryBuilder = class {
  constructor(mode, fullSchema, schema, tableNamesMap, table, tableConfig, dialect, session) {
    this.mode = mode;
    this.fullSchema = fullSchema;
    this.schema = schema;
    this.tableNamesMap = tableNamesMap;
    this.table = table;
    this.tableConfig = tableConfig;
    this.dialect = dialect;
    this.session = session;
  }
  findMany(config) {
    return this.mode === "sync" ? new SQLiteSyncRelationalQuery(
      this.fullSchema,
      this.schema,
      this.tableNamesMap,
      this.table,
      this.tableConfig,
      this.dialect,
      this.session,
      config ? config : {},
      "many"
    ) : new SQLiteRelationalQuery(
      this.fullSchema,
      this.schema,
      this.tableNamesMap,
      this.table,
      this.tableConfig,
      this.dialect,
      this.session,
      config ? config : {},
      "many"
    );
  }
  findFirst(config) {
    return this.mode === "sync" ? new SQLiteSyncRelationalQuery(
      this.fullSchema,
      this.schema,
      this.tableNamesMap,
      this.table,
      this.tableConfig,
      this.dialect,
      this.session,
      config ? { ...config, limit: 1 } : { limit: 1 },
      "first"
    ) : new SQLiteRelationalQuery(
      this.fullSchema,
      this.schema,
      this.tableNamesMap,
      this.table,
      this.tableConfig,
      this.dialect,
      this.session,
      config ? { ...config, limit: 1 } : { limit: 1 },
      "first"
    );
  }
};
_a77 = entityKind;
__publicField(RelationalQueryBuilder, _a77, "SQLiteAsyncRelationalQueryBuilder");
var _a78;
var SQLiteRelationalQuery = class extends QueryPromise {
  constructor(fullSchema, schema, tableNamesMap, table, tableConfig, dialect, session, config, mode) {
    super();
    this.fullSchema = fullSchema;
    this.schema = schema;
    this.tableNamesMap = tableNamesMap;
    this.table = table;
    this.tableConfig = tableConfig;
    this.dialect = dialect;
    this.session = session;
    this.config = config;
    this.mode = mode;
  }
  /** @internal */
  mode;
  /** @internal */
  getSQL() {
    return this.dialect.buildRelationalQuery({
      fullSchema: this.fullSchema,
      schema: this.schema,
      tableNamesMap: this.tableNamesMap,
      table: this.table,
      tableConfig: this.tableConfig,
      queryConfig: this.config,
      tableAlias: this.tableConfig.tsName
    }).sql;
  }
  /** @internal */
  _prepare(isOneTimeQuery = false) {
    const { query, builtQuery } = this._toSQL();
    return this.session[isOneTimeQuery ? "prepareOneTimeQuery" : "prepareQuery"](
      builtQuery,
      void 0,
      this.mode === "first" ? "get" : "all",
      true,
      (rawRows, mapColumnValue) => {
        const rows = rawRows.map(
          (row) => mapRelationalRow(this.schema, this.tableConfig, row, query.selection, mapColumnValue)
        );
        if (this.mode === "first") {
          return rows[0];
        }
        return rows;
      }
    );
  }
  prepare() {
    return this._prepare(false);
  }
  _toSQL() {
    const query = this.dialect.buildRelationalQuery({
      fullSchema: this.fullSchema,
      schema: this.schema,
      tableNamesMap: this.tableNamesMap,
      table: this.table,
      tableConfig: this.tableConfig,
      queryConfig: this.config,
      tableAlias: this.tableConfig.tsName
    });
    const builtQuery = this.dialect.sqlToQuery(query.sql);
    return { query, builtQuery };
  }
  toSQL() {
    return this._toSQL().builtQuery;
  }
  /** @internal */
  executeRaw() {
    if (this.mode === "first") {
      return this._prepare(false).get();
    }
    return this._prepare(false).all();
  }
  async execute() {
    return this.executeRaw();
  }
};
_a78 = entityKind;
__publicField(SQLiteRelationalQuery, _a78, "SQLiteAsyncRelationalQuery");
var _a79;
var SQLiteSyncRelationalQuery = class extends SQLiteRelationalQuery {
  sync() {
    return this.executeRaw();
  }
};
_a79 = entityKind;
__publicField(SQLiteSyncRelationalQuery, _a79, "SQLiteSyncRelationalQuery");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/sqlite-core/query-builders/raw.js
var _a80;
var SQLiteRaw = class extends QueryPromise {
  constructor(execute, getSQL, action, dialect, mapBatchResult) {
    super();
    this.execute = execute;
    this.getSQL = getSQL;
    this.dialect = dialect;
    this.mapBatchResult = mapBatchResult;
    this.config = { action };
  }
  /** @internal */
  config;
  getQuery() {
    return { ...this.dialect.sqlToQuery(this.getSQL()), method: this.config.action };
  }
  mapResult(result, isFromBatch) {
    return isFromBatch ? this.mapBatchResult(result) : result;
  }
  _prepare() {
    return this;
  }
  /** @internal */
  isResponseInArrayMode() {
    return false;
  }
};
_a80 = entityKind;
__publicField(SQLiteRaw, _a80, "SQLiteRaw");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/sqlite-core/db.js
var _a81;
var BaseSQLiteDatabase = class {
  constructor(resultKind, dialect, session, schema) {
    this.resultKind = resultKind;
    this.dialect = dialect;
    this.session = session;
    this._ = schema ? {
      schema: schema.schema,
      fullSchema: schema.fullSchema,
      tableNamesMap: schema.tableNamesMap
    } : {
      schema: void 0,
      fullSchema: {},
      tableNamesMap: {}
    };
    this.query = {};
    const query = this.query;
    if (this._.schema) {
      for (const [tableName, columns] of Object.entries(this._.schema)) {
        query[tableName] = new RelationalQueryBuilder(
          resultKind,
          schema.fullSchema,
          this._.schema,
          this._.tableNamesMap,
          schema.fullSchema[tableName],
          columns,
          dialect,
          session
        );
      }
    }
  }
  query;
  /**
   * Creates a subquery that defines a temporary named result set as a CTE.
   *
   * It is useful for breaking down complex queries into simpler parts and for reusing the result set in subsequent parts of the query.
   *
   * See docs: {@link https://orm.drizzle.team/docs/select#with-clause}
   *
   * @param alias The alias for the subquery.
   *
   * Failure to provide an alias will result in a DrizzleTypeError, preventing the subquery from being referenced in other queries.
   *
   * @example
   *
   * ```ts
   * // Create a subquery with alias 'sq' and use it in the select query
   * const sq = db.$with('sq').as(db.select().from(users).where(eq(users.id, 42)));
   *
   * const result = await db.with(sq).select().from(sq);
   * ```
   *
   * To select arbitrary SQL values as fields in a CTE and reference them in other CTEs or in the main query, you need to add aliases to them:
   *
   * ```ts
   * // Select an arbitrary SQL value as a field in a CTE and reference it in the main query
   * const sq = db.$with('sq').as(db.select({
   *   name: sql<string>`upper(${users.name})`.as('name'),
   * })
   * .from(users));
   *
   * const result = await db.with(sq).select({ name: sq.name }).from(sq);
   * ```
   */
  $with(alias) {
    return {
      as(qb) {
        if (typeof qb === "function") {
          qb = qb(new QueryBuilder());
        }
        return new Proxy(
          new WithSubquery(qb.getSQL(), qb.getSelectedFields(), alias, true),
          new SelectionProxyHandler({ alias, sqlAliasedBehavior: "alias", sqlBehavior: "error" })
        );
      }
    };
  }
  /**
   * Incorporates a previously defined CTE (using `$with`) into the main query.
   *
   * This method allows the main query to reference a temporary named result set.
   *
   * See docs: {@link https://orm.drizzle.team/docs/select#with-clause}
   *
   * @param queries The CTEs to incorporate into the main query.
   *
   * @example
   *
   * ```ts
   * // Define a subquery 'sq' as a CTE using $with
   * const sq = db.$with('sq').as(db.select().from(users).where(eq(users.id, 42)));
   *
   * // Incorporate the CTE 'sq' into the main query and select from it
   * const result = await db.with(sq).select().from(sq);
   * ```
   */
  with(...queries) {
    const self2 = this;
    function select(fields) {
      return new SQLiteSelectBuilder({
        fields: fields ?? void 0,
        session: self2.session,
        dialect: self2.dialect,
        withList: queries
      });
    }
    function selectDistinct(fields) {
      return new SQLiteSelectBuilder({
        fields: fields ?? void 0,
        session: self2.session,
        dialect: self2.dialect,
        withList: queries,
        distinct: true
      });
    }
    function update(table) {
      return new SQLiteUpdateBuilder(table, self2.session, self2.dialect, queries);
    }
    function insert(into) {
      return new SQLiteInsertBuilder(into, self2.session, self2.dialect, queries);
    }
    function delete_(from) {
      return new SQLiteDeleteBase(from, self2.session, self2.dialect, queries);
    }
    return { select, selectDistinct, update, insert, delete: delete_ };
  }
  select(fields) {
    return new SQLiteSelectBuilder({ fields: fields ?? void 0, session: this.session, dialect: this.dialect });
  }
  selectDistinct(fields) {
    return new SQLiteSelectBuilder({
      fields: fields ?? void 0,
      session: this.session,
      dialect: this.dialect,
      distinct: true
    });
  }
  /**
   * Creates an update query.
   *
   * Calling this method without `.where()` clause will update all rows in a table. The `.where()` clause specifies which rows should be updated.
   *
   * Use `.set()` method to specify which values to update.
   *
   * See docs: {@link https://orm.drizzle.team/docs/update}
   *
   * @param table The table to update.
   *
   * @example
   *
   * ```ts
   * // Update all rows in the 'cars' table
   * await db.update(cars).set({ color: 'red' });
   *
   * // Update rows with filters and conditions
   * await db.update(cars).set({ color: 'red' }).where(eq(cars.brand, 'BMW'));
   *
   * // Update with returning clause
   * const updatedCar: Car[] = await db.update(cars)
   *   .set({ color: 'red' })
   *   .where(eq(cars.id, 1))
   *   .returning();
   * ```
   */
  update(table) {
    return new SQLiteUpdateBuilder(table, this.session, this.dialect);
  }
  /**
   * Creates an insert query.
   *
   * Calling this method will create new rows in a table. Use `.values()` method to specify which values to insert.
   *
   * See docs: {@link https://orm.drizzle.team/docs/insert}
   *
   * @param table The table to insert into.
   *
   * @example
   *
   * ```ts
   * // Insert one row
   * await db.insert(cars).values({ brand: 'BMW' });
   *
   * // Insert multiple rows
   * await db.insert(cars).values([{ brand: 'BMW' }, { brand: 'Porsche' }]);
   *
   * // Insert with returning clause
   * const insertedCar: Car[] = await db.insert(cars)
   *   .values({ brand: 'BMW' })
   *   .returning();
   * ```
   */
  insert(into) {
    return new SQLiteInsertBuilder(into, this.session, this.dialect);
  }
  /**
   * Creates a delete query.
   *
   * Calling this method without `.where()` clause will delete all rows in a table. The `.where()` clause specifies which rows should be deleted.
   *
   * See docs: {@link https://orm.drizzle.team/docs/delete}
   *
   * @param table The table to delete from.
   *
   * @example
   *
   * ```ts
   * // Delete all rows in the 'cars' table
   * await db.delete(cars);
   *
   * // Delete rows with filters and conditions
   * await db.delete(cars).where(eq(cars.color, 'green'));
   *
   * // Delete with returning clause
   * const deletedCar: Car[] = await db.delete(cars)
   *   .where(eq(cars.id, 1))
   *   .returning();
   * ```
   */
  delete(from) {
    return new SQLiteDeleteBase(from, this.session, this.dialect);
  }
  run(query) {
    const sql2 = query.getSQL();
    if (this.resultKind === "async") {
      return new SQLiteRaw(
        async () => this.session.run(sql2),
        () => sql2,
        "run",
        this.dialect,
        this.session.extractRawRunValueFromBatchResult.bind(this.session)
      );
    }
    return this.session.run(sql2);
  }
  all(query) {
    const sql2 = query.getSQL();
    if (this.resultKind === "async") {
      return new SQLiteRaw(
        async () => this.session.all(sql2),
        () => sql2,
        "all",
        this.dialect,
        this.session.extractRawAllValueFromBatchResult.bind(this.session)
      );
    }
    return this.session.all(sql2);
  }
  get(query) {
    const sql2 = query.getSQL();
    if (this.resultKind === "async") {
      return new SQLiteRaw(
        async () => this.session.get(sql2),
        () => sql2,
        "get",
        this.dialect,
        this.session.extractRawGetValueFromBatchResult.bind(this.session)
      );
    }
    return this.session.get(sql2);
  }
  values(query) {
    const sql2 = query.getSQL();
    if (this.resultKind === "async") {
      return new SQLiteRaw(
        async () => this.session.values(sql2),
        () => sql2,
        "values",
        this.dialect,
        this.session.extractRawValuesValueFromBatchResult.bind(this.session)
      );
    }
    return this.session.values(sql2);
  }
  transaction(transaction, config) {
    return this.session.transaction(transaction, config);
  }
};
_a81 = entityKind;
__publicField(BaseSQLiteDatabase, _a81, "BaseSQLiteDatabase");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/sqlite-core/session.js
var _a82;
var ExecuteResultSync = class extends QueryPromise {
  constructor(resultCb) {
    super();
    this.resultCb = resultCb;
  }
  async execute() {
    return this.resultCb();
  }
  sync() {
    return this.resultCb();
  }
};
_a82 = entityKind;
__publicField(ExecuteResultSync, _a82, "ExecuteResultSync");
var _a83;
var SQLitePreparedQuery = class {
  constructor(mode, executeMethod, query) {
    this.mode = mode;
    this.executeMethod = executeMethod;
    this.query = query;
  }
  /** @internal */
  joinsNotNullableMap;
  getQuery() {
    return this.query;
  }
  mapRunResult(result, _isFromBatch) {
    return result;
  }
  mapAllResult(_result, _isFromBatch) {
    throw new Error("Not implemented");
  }
  mapGetResult(_result, _isFromBatch) {
    throw new Error("Not implemented");
  }
  execute(placeholderValues) {
    if (this.mode === "async") {
      return this[this.executeMethod](placeholderValues);
    }
    return new ExecuteResultSync(() => this[this.executeMethod](placeholderValues));
  }
  mapResult(response, isFromBatch) {
    switch (this.executeMethod) {
      case "run": {
        return this.mapRunResult(response, isFromBatch);
      }
      case "all": {
        return this.mapAllResult(response, isFromBatch);
      }
      case "get": {
        return this.mapGetResult(response, isFromBatch);
      }
    }
  }
};
_a83 = entityKind;
__publicField(SQLitePreparedQuery, _a83, "PreparedQuery");
var _a84;
var SQLiteSession = class {
  constructor(dialect) {
    this.dialect = dialect;
  }
  prepareOneTimeQuery(query, fields, executeMethod, isResponseInArrayMode) {
    return this.prepareQuery(query, fields, executeMethod, isResponseInArrayMode);
  }
  run(query) {
    const staticQuery = this.dialect.sqlToQuery(query);
    try {
      return this.prepareOneTimeQuery(staticQuery, void 0, "run", false).run();
    } catch (err) {
      throw new DrizzleError({ cause: err, message: `Failed to run the query '${staticQuery.sql}'` });
    }
  }
  /** @internal */
  extractRawRunValueFromBatchResult(result) {
    return result;
  }
  all(query) {
    return this.prepareOneTimeQuery(this.dialect.sqlToQuery(query), void 0, "run", false).all();
  }
  /** @internal */
  extractRawAllValueFromBatchResult(_result) {
    throw new Error("Not implemented");
  }
  get(query) {
    return this.prepareOneTimeQuery(this.dialect.sqlToQuery(query), void 0, "run", false).get();
  }
  /** @internal */
  extractRawGetValueFromBatchResult(_result) {
    throw new Error("Not implemented");
  }
  values(query) {
    return this.prepareOneTimeQuery(this.dialect.sqlToQuery(query), void 0, "run", false).values();
  }
  /** @internal */
  extractRawValuesValueFromBatchResult(_result) {
    throw new Error("Not implemented");
  }
};
_a84 = entityKind;
__publicField(SQLiteSession, _a84, "SQLiteSession");
var _a85;
var SQLiteTransaction = class extends BaseSQLiteDatabase {
  constructor(resultType, dialect, session, schema, nestedIndex = 0) {
    super(resultType, dialect, session, schema);
    this.schema = schema;
    this.nestedIndex = nestedIndex;
  }
  rollback() {
    throw new TransactionRollbackError();
  }
};
_a85 = entityKind;
__publicField(SQLiteTransaction, _a85, "SQLiteTransaction");

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/libsql/session.js
var _a86;
var _LibSQLSession = class extends SQLiteSession {
  constructor(client, dialect, schema, options, tx) {
    super(dialect);
    this.client = client;
    this.schema = schema;
    this.options = options;
    this.tx = tx;
    this.logger = options.logger ?? new NoopLogger();
  }
  logger;
  prepareQuery(query, fields, executeMethod, isResponseInArrayMode, customResultMapper) {
    return new LibSQLPreparedQuery(
      this.client,
      query,
      this.logger,
      fields,
      this.tx,
      executeMethod,
      isResponseInArrayMode,
      customResultMapper
    );
  }
  async batch(queries) {
    const preparedQueries = [];
    const builtQueries = [];
    for (const query of queries) {
      const preparedQuery = query._prepare();
      const builtQuery = preparedQuery.getQuery();
      preparedQueries.push(preparedQuery);
      builtQueries.push({ sql: builtQuery.sql, args: builtQuery.params });
    }
    const batchResults = await this.client.batch(builtQueries);
    return batchResults.map((result, i) => preparedQueries[i].mapResult(result, true));
  }
  async transaction(transaction, _config) {
    const libsqlTx = await this.client.transaction();
    const session = new _LibSQLSession(
      this.client,
      this.dialect,
      this.schema,
      this.options,
      libsqlTx
    );
    const tx = new LibSQLTransaction("async", this.dialect, session, this.schema);
    try {
      const result = await transaction(tx);
      await libsqlTx.commit();
      return result;
    } catch (err) {
      await libsqlTx.rollback();
      throw err;
    }
  }
  extractRawAllValueFromBatchResult(result) {
    return result.rows;
  }
  extractRawGetValueFromBatchResult(result) {
    return result.rows[0];
  }
  extractRawValuesValueFromBatchResult(result) {
    return result.rows;
  }
};
var LibSQLSession = _LibSQLSession;
_a86 = entityKind;
__publicField(LibSQLSession, _a86, "LibSQLSession");
var _a87;
var _LibSQLTransaction = class extends SQLiteTransaction {
  async transaction(transaction) {
    const savepointName = `sp${this.nestedIndex}`;
    const tx = new _LibSQLTransaction("async", this.dialect, this.session, this.schema, this.nestedIndex + 1);
    await this.session.run(sql.raw(`savepoint ${savepointName}`));
    try {
      const result = await transaction(tx);
      await this.session.run(sql.raw(`release savepoint ${savepointName}`));
      return result;
    } catch (err) {
      await this.session.run(sql.raw(`rollback to savepoint ${savepointName}`));
      throw err;
    }
  }
};
var LibSQLTransaction = _LibSQLTransaction;
_a87 = entityKind;
__publicField(LibSQLTransaction, _a87, "LibSQLTransaction");
var _a88;
var LibSQLPreparedQuery = class extends SQLitePreparedQuery {
  constructor(client, query, logger, fields, tx, executeMethod, _isResponseInArrayMode, customResultMapper) {
    super("async", executeMethod, query);
    this.client = client;
    this.logger = logger;
    this.fields = fields;
    this.tx = tx;
    this._isResponseInArrayMode = _isResponseInArrayMode;
    this.customResultMapper = customResultMapper;
    this.customResultMapper = customResultMapper;
    this.fields = fields;
  }
  run(placeholderValues) {
    const params = fillPlaceholders(this.query.params, placeholderValues ?? {});
    this.logger.logQuery(this.query.sql, params);
    const stmt = { sql: this.query.sql, args: params };
    return this.tx ? this.tx.execute(stmt) : this.client.execute(stmt);
  }
  async all(placeholderValues) {
    const { fields, logger, query, tx, client, customResultMapper } = this;
    if (!fields && !customResultMapper) {
      const params = fillPlaceholders(query.params, placeholderValues ?? {});
      logger.logQuery(query.sql, params);
      const stmt = { sql: query.sql, args: params };
      return (tx ? tx.execute(stmt) : client.execute(stmt)).then(({ rows: rows2 }) => this.mapAllResult(rows2));
    }
    const rows = await this.values(placeholderValues);
    return this.mapAllResult(rows);
  }
  mapAllResult(rows, isFromBatch) {
    if (isFromBatch) {
      rows = rows.rows;
    }
    if (!this.fields && !this.customResultMapper) {
      return rows.map((row) => normalizeRow(row));
    }
    if (this.customResultMapper) {
      return this.customResultMapper(rows, normalizeFieldValue);
    }
    return rows.map((row) => {
      return mapResultRow(
        this.fields,
        Array.prototype.slice.call(row).map((v) => normalizeFieldValue(v)),
        this.joinsNotNullableMap
      );
    });
  }
  async get(placeholderValues) {
    const { fields, logger, query, tx, client, customResultMapper } = this;
    if (!fields && !customResultMapper) {
      const params = fillPlaceholders(query.params, placeholderValues ?? {});
      logger.logQuery(query.sql, params);
      const stmt = { sql: query.sql, args: params };
      return (tx ? tx.execute(stmt) : client.execute(stmt)).then(({ rows: rows2 }) => this.mapGetResult(rows2));
    }
    const rows = await this.values(placeholderValues);
    return this.mapGetResult(rows);
  }
  mapGetResult(rows, isFromBatch) {
    if (isFromBatch) {
      rows = rows.rows;
    }
    const row = rows[0];
    if (!this.fields && !this.customResultMapper) {
      return normalizeRow(row);
    }
    if (!row) {
      return void 0;
    }
    if (this.customResultMapper) {
      return this.customResultMapper(rows, normalizeFieldValue);
    }
    return mapResultRow(
      this.fields,
      Array.prototype.slice.call(row).map((v) => normalizeFieldValue(v)),
      this.joinsNotNullableMap
    );
  }
  values(placeholderValues) {
    const params = fillPlaceholders(this.query.params, placeholderValues ?? {});
    this.logger.logQuery(this.query.sql, params);
    const stmt = { sql: this.query.sql, args: params };
    return (this.tx ? this.tx.execute(stmt) : this.client.execute(stmt)).then(({ rows }) => rows);
  }
  /** @internal */
  isResponseInArrayMode() {
    return this._isResponseInArrayMode;
  }
};
_a88 = entityKind;
__publicField(LibSQLPreparedQuery, _a88, "LibSQLPreparedQuery");
function normalizeRow(obj) {
  return Object.keys(obj).reduce((acc, key) => {
    if (Object.prototype.propertyIsEnumerable.call(obj, key)) {
      acc[key] = obj[key];
    }
    return acc;
  }, {});
}
function normalizeFieldValue(value) {
  if (typeof ArrayBuffer !== "undefined" && value instanceof ArrayBuffer) {
    if (typeof Buffer !== "undefined") {
      if (!(value instanceof Buffer)) {
        return Buffer.from(value);
      }
      return value;
    }
    if (typeof TextDecoder !== "undefined") {
      return new TextDecoder().decode(value);
    }
    throw new Error("TextDecoder is not available. Please provide either Buffer or TextDecoder polyfill.");
  }
  return value;
}

// node_modules/.pnpm/drizzle-orm@0.33.0_@libsql+client@0.10.0_@types+better-sqlite3@7.6.11/node_modules/drizzle-orm/libsql/driver.js
var _a89;
var LibSQLDatabase = class extends BaseSQLiteDatabase {
  async batch(batch) {
    return this.session.batch(batch);
  }
};
_a89 = entityKind;
__publicField(LibSQLDatabase, _a89, "LibSQLDatabase");
function drizzle(client, config = {}) {
  const dialect = new SQLiteAsyncDialect();
  let logger;
  if (config.logger === true) {
    logger = new DefaultLogger();
  } else if (config.logger !== false) {
    logger = config.logger;
  }
  let schema;
  if (config.schema) {
    const tablesConfig = extractTablesRelationalConfig(
      config.schema,
      createTableRelationsHelpers
    );
    schema = {
      fullSchema: config.schema,
      schema: tablesConfig.tables,
      tableNamesMap: tablesConfig.tableNamesMap
    };
  }
  const session = new LibSQLSession(client, dialect, schema, { logger }, void 0);
  return new LibSQLDatabase("async", dialect, session, schema);
}

// node_modules/.pnpm/@libsql+core@0.10.0/node_modules/@libsql/core/lib-esm/api.js
var LibsqlError = class extends Error {
  /** Machine-readable error code. */
  code;
  /** Raw numeric error code */
  rawCode;
  constructor(message, code, rawCode, cause) {
    if (code !== void 0) {
      message = `${code}: ${message}`;
    }
    super(message, { cause });
    this.code = code;
    this.rawCode = rawCode;
    this.name = "LibsqlError";
  }
};

// node_modules/.pnpm/@libsql+core@0.10.0/node_modules/@libsql/core/lib-esm/uri.js
function parseUri(text2) {
  const match = URI_RE.exec(text2);
  if (match === null) {
    throw new LibsqlError(`The URL '${text2}' is not in a valid format`, "URL_INVALID");
  }
  const groups = match.groups;
  const scheme = groups["scheme"];
  const authority = groups["authority"] !== void 0 ? parseAuthority(groups["authority"]) : void 0;
  const path = percentDecode(groups["path"]);
  const query = groups["query"] !== void 0 ? parseQuery(groups["query"]) : void 0;
  const fragment = groups["fragment"] !== void 0 ? percentDecode(groups["fragment"]) : void 0;
  return { scheme, authority, path, query, fragment };
}
var URI_RE = (() => {
  const SCHEME = "(?<scheme>[A-Za-z][A-Za-z.+-]*)";
  const AUTHORITY = "(?<authority>[^/?#]*)";
  const PATH = "(?<path>[^?#]*)";
  const QUERY = "(?<query>[^#]*)";
  const FRAGMENT = "(?<fragment>.*)";
  return new RegExp(`^${SCHEME}:(//${AUTHORITY})?${PATH}(\\?${QUERY})?(#${FRAGMENT})?$`, "su");
})();
function parseAuthority(text2) {
  const match = AUTHORITY_RE.exec(text2);
  if (match === null) {
    throw new LibsqlError("The authority part of the URL is not in a valid format", "URL_INVALID");
  }
  const groups = match.groups;
  const host = percentDecode(groups["host_br"] ?? groups["host"]);
  const port = groups["port"] ? parseInt(groups["port"], 10) : void 0;
  const userinfo = groups["username"] !== void 0 ? {
    username: percentDecode(groups["username"]),
    password: groups["password"] !== void 0 ? percentDecode(groups["password"]) : void 0
  } : void 0;
  return { host, port, userinfo };
}
var AUTHORITY_RE = (() => {
  return new RegExp(`^((?<username>[^:]*)(:(?<password>.*))?@)?((?<host>[^:\\[\\]]*)|(\\[(?<host_br>[^\\[\\]]*)\\]))(:(?<port>[0-9]*))?$`, "su");
})();
function parseQuery(text2) {
  const sequences = text2.split("&");
  const pairs = [];
  for (const sequence of sequences) {
    if (sequence === "") {
      continue;
    }
    let key;
    let value;
    const splitIdx = sequence.indexOf("=");
    if (splitIdx < 0) {
      key = sequence;
      value = "";
    } else {
      key = sequence.substring(0, splitIdx);
      value = sequence.substring(splitIdx + 1);
    }
    pairs.push({
      key: percentDecode(key.replaceAll("+", " ")),
      value: percentDecode(value.replaceAll("+", " "))
    });
  }
  return { pairs };
}
function percentDecode(text2) {
  try {
    return decodeURIComponent(text2);
  } catch (e) {
    if (e instanceof URIError) {
      throw new LibsqlError(`URL component has invalid percent encoding: ${e}`, "URL_INVALID", void 0, e);
    }
    throw e;
  }
}
function encodeBaseUrl(scheme, authority, path) {
  if (authority === void 0) {
    throw new LibsqlError(`URL with scheme ${JSON.stringify(scheme + ":")} requires authority (the "//" part)`, "URL_INVALID");
  }
  const schemeText = `${scheme}:`;
  const hostText = encodeHost(authority.host);
  const portText = encodePort(authority.port);
  const userinfoText = encodeUserinfo(authority.userinfo);
  const authorityText = `//${userinfoText}${hostText}${portText}`;
  let pathText = path.split("/").map(encodeURIComponent).join("/");
  if (pathText !== "" && !pathText.startsWith("/")) {
    pathText = "/" + pathText;
  }
  return new URL(`${schemeText}${authorityText}${pathText}`);
}
function encodeHost(host) {
  return host.includes(":") ? `[${encodeURI(host)}]` : encodeURI(host);
}
function encodePort(port) {
  return port !== void 0 ? `:${port}` : "";
}
function encodeUserinfo(userinfo) {
  if (userinfo === void 0) {
    return "";
  }
  const usernameText = encodeURIComponent(userinfo.username);
  const passwordText = userinfo.password !== void 0 ? `:${encodeURIComponent(userinfo.password)}` : "";
  return `${usernameText}${passwordText}@`;
}

// node_modules/.pnpm/js-base64@3.7.7/node_modules/js-base64/base64.mjs
var version2 = "3.7.7";
var VERSION = version2;
var _hasBuffer = typeof Buffer === "function";
var _TD = typeof TextDecoder === "function" ? new TextDecoder() : void 0;
var _TE = typeof TextEncoder === "function" ? new TextEncoder() : void 0;
var b64ch = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
var b64chs = Array.prototype.slice.call(b64ch);
var b64tab = ((a) => {
  let tab = {};
  a.forEach((c, i) => tab[c] = i);
  return tab;
})(b64chs);
var b64re = /^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/;
var _fromCC = String.fromCharCode.bind(String);
var _U8Afrom = typeof Uint8Array.from === "function" ? Uint8Array.from.bind(Uint8Array) : (it) => new Uint8Array(Array.prototype.slice.call(it, 0));
var _mkUriSafe = (src) => src.replace(/=/g, "").replace(/[+\/]/g, (m0) => m0 == "+" ? "-" : "_");
var _tidyB64 = (s) => s.replace(/[^A-Za-z0-9\+\/]/g, "");
var btoaPolyfill = (bin) => {
  let u32, c0, c1, c2, asc2 = "";
  const pad = bin.length % 3;
  for (let i = 0; i < bin.length; ) {
    if ((c0 = bin.charCodeAt(i++)) > 255 || (c1 = bin.charCodeAt(i++)) > 255 || (c2 = bin.charCodeAt(i++)) > 255)
      throw new TypeError("invalid character found");
    u32 = c0 << 16 | c1 << 8 | c2;
    asc2 += b64chs[u32 >> 18 & 63] + b64chs[u32 >> 12 & 63] + b64chs[u32 >> 6 & 63] + b64chs[u32 & 63];
  }
  return pad ? asc2.slice(0, pad - 3) + "===".substring(pad) : asc2;
};
var _btoa = typeof btoa === "function" ? (bin) => btoa(bin) : _hasBuffer ? (bin) => Buffer.from(bin, "binary").toString("base64") : btoaPolyfill;
var _fromUint8Array = _hasBuffer ? (u8a) => Buffer.from(u8a).toString("base64") : (u8a) => {
  const maxargs = 4096;
  let strs = [];
  for (let i = 0, l = u8a.length; i < l; i += maxargs) {
    strs.push(_fromCC.apply(null, u8a.subarray(i, i + maxargs)));
  }
  return _btoa(strs.join(""));
};
var fromUint8Array = (u8a, urlsafe = false) => urlsafe ? _mkUriSafe(_fromUint8Array(u8a)) : _fromUint8Array(u8a);
var cb_utob = (c) => {
  if (c.length < 2) {
    var cc = c.charCodeAt(0);
    return cc < 128 ? c : cc < 2048 ? _fromCC(192 | cc >>> 6) + _fromCC(128 | cc & 63) : _fromCC(224 | cc >>> 12 & 15) + _fromCC(128 | cc >>> 6 & 63) + _fromCC(128 | cc & 63);
  } else {
    var cc = 65536 + (c.charCodeAt(0) - 55296) * 1024 + (c.charCodeAt(1) - 56320);
    return _fromCC(240 | cc >>> 18 & 7) + _fromCC(128 | cc >>> 12 & 63) + _fromCC(128 | cc >>> 6 & 63) + _fromCC(128 | cc & 63);
  }
};
var re_utob = /[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g;
var utob = (u) => u.replace(re_utob, cb_utob);
var _encode = _hasBuffer ? (s) => Buffer.from(s, "utf8").toString("base64") : _TE ? (s) => _fromUint8Array(_TE.encode(s)) : (s) => _btoa(utob(s));
var encode = (src, urlsafe = false) => urlsafe ? _mkUriSafe(_encode(src)) : _encode(src);
var encodeURI2 = (src) => encode(src, true);
var re_btou = /[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g;
var cb_btou = (cccc) => {
  switch (cccc.length) {
    case 4:
      var cp = (7 & cccc.charCodeAt(0)) << 18 | (63 & cccc.charCodeAt(1)) << 12 | (63 & cccc.charCodeAt(2)) << 6 | 63 & cccc.charCodeAt(3), offset = cp - 65536;
      return _fromCC((offset >>> 10) + 55296) + _fromCC((offset & 1023) + 56320);
    case 3:
      return _fromCC((15 & cccc.charCodeAt(0)) << 12 | (63 & cccc.charCodeAt(1)) << 6 | 63 & cccc.charCodeAt(2));
    default:
      return _fromCC((31 & cccc.charCodeAt(0)) << 6 | 63 & cccc.charCodeAt(1));
  }
};
var btou = (b) => b.replace(re_btou, cb_btou);
var atobPolyfill = (asc2) => {
  asc2 = asc2.replace(/\s+/g, "");
  if (!b64re.test(asc2))
    throw new TypeError("malformed base64.");
  asc2 += "==".slice(2 - (asc2.length & 3));
  let u24, bin = "", r1, r2;
  for (let i = 0; i < asc2.length; ) {
    u24 = b64tab[asc2.charAt(i++)] << 18 | b64tab[asc2.charAt(i++)] << 12 | (r1 = b64tab[asc2.charAt(i++)]) << 6 | (r2 = b64tab[asc2.charAt(i++)]);
    bin += r1 === 64 ? _fromCC(u24 >> 16 & 255) : r2 === 64 ? _fromCC(u24 >> 16 & 255, u24 >> 8 & 255) : _fromCC(u24 >> 16 & 255, u24 >> 8 & 255, u24 & 255);
  }
  return bin;
};
var _atob = typeof atob === "function" ? (asc2) => atob(_tidyB64(asc2)) : _hasBuffer ? (asc2) => Buffer.from(asc2, "base64").toString("binary") : atobPolyfill;
var _toUint8Array = _hasBuffer ? (a) => _U8Afrom(Buffer.from(a, "base64")) : (a) => _U8Afrom(_atob(a).split("").map((c) => c.charCodeAt(0)));
var toUint8Array = (a) => _toUint8Array(_unURI(a));
var _decode = _hasBuffer ? (a) => Buffer.from(a, "base64").toString("utf8") : _TD ? (a) => _TD.decode(_toUint8Array(a)) : (a) => btou(_atob(a));
var _unURI = (a) => _tidyB64(a.replace(/[-_]/g, (m0) => m0 == "-" ? "+" : "/"));
var decode = (src) => _decode(_unURI(src));
var isValid = (src) => {
  if (typeof src !== "string")
    return false;
  const s = src.replace(/\s+/g, "").replace(/={0,2}$/, "");
  return !/[^\s0-9a-zA-Z\+/]/.test(s) || !/[^\s0-9a-zA-Z\-_]/.test(s);
};
var _noEnum = (v) => {
  return {
    value: v,
    enumerable: false,
    writable: true,
    configurable: true
  };
};
var extendString = function() {
  const _add = (name, body) => Object.defineProperty(String.prototype, name, _noEnum(body));
  _add("fromBase64", function() {
    return decode(this);
  });
  _add("toBase64", function(urlsafe) {
    return encode(this, urlsafe);
  });
  _add("toBase64URI", function() {
    return encode(this, true);
  });
  _add("toBase64URL", function() {
    return encode(this, true);
  });
  _add("toUint8Array", function() {
    return toUint8Array(this);
  });
};
var extendUint8Array = function() {
  const _add = (name, body) => Object.defineProperty(Uint8Array.prototype, name, _noEnum(body));
  _add("toBase64", function(urlsafe) {
    return fromUint8Array(this, urlsafe);
  });
  _add("toBase64URI", function() {
    return fromUint8Array(this, true);
  });
  _add("toBase64URL", function() {
    return fromUint8Array(this, true);
  });
};
var extendBuiltins = () => {
  extendString();
  extendUint8Array();
};
var gBase64 = {
  version: version2,
  VERSION,
  atob: _atob,
  atobPolyfill,
  btoa: _btoa,
  btoaPolyfill,
  fromBase64: decode,
  toBase64: encode,
  encode,
  encodeURI: encodeURI2,
  encodeURL: encodeURI2,
  utob,
  btou,
  decode,
  isValid,
  fromUint8Array,
  toUint8Array,
  extendString,
  extendUint8Array,
  extendBuiltins
};

// node_modules/.pnpm/@libsql+core@0.10.0/node_modules/@libsql/core/lib-esm/util.js
var supportedUrlLink = "https://github.com/libsql/libsql-client-ts#supported-urls";
function transactionModeToBegin(mode) {
  if (mode === "write") {
    return "BEGIN IMMEDIATE";
  } else if (mode === "read") {
    return "BEGIN TRANSACTION READONLY";
  } else if (mode === "deferred") {
    return "BEGIN DEFERRED";
  } else {
    throw RangeError('Unknown transaction mode, supported values are "write", "read" and "deferred"');
  }
}
var ResultSetImpl = class {
  columns;
  columnTypes;
  rows;
  rowsAffected;
  lastInsertRowid;
  constructor(columns, columnTypes, rows, rowsAffected, lastInsertRowid) {
    this.columns = columns;
    this.columnTypes = columnTypes;
    this.rows = rows;
    this.rowsAffected = rowsAffected;
    this.lastInsertRowid = lastInsertRowid;
  }
  toJSON() {
    return {
      columns: this.columns,
      columnTypes: this.columnTypes,
      rows: this.rows.map(rowToJson),
      rowsAffected: this.rowsAffected,
      lastInsertRowid: this.lastInsertRowid !== void 0 ? "" + this.lastInsertRowid : null
    };
  }
};
function rowToJson(row) {
  return Array.prototype.map.call(row, valueToJson);
}
function valueToJson(value) {
  if (typeof value === "bigint") {
    return "" + value;
  } else if (value instanceof ArrayBuffer) {
    return gBase64.fromUint8Array(new Uint8Array(value));
  } else {
    return value;
  }
}

// node_modules/.pnpm/@libsql+core@0.10.0/node_modules/@libsql/core/lib-esm/config.js
var inMemoryMode = ":memory:";
function expandConfig(config, preferHttp) {
  if (typeof config !== "object") {
    throw new TypeError(`Expected client configuration as object, got ${typeof config}`);
  }
  let { url, authToken, tls, intMode, concurrency } = config;
  concurrency = Math.max(0, concurrency || 20);
  intMode ??= "number";
  let connectionQueryParams = [];
  if (url === inMemoryMode) {
    url = "file::memory:";
  }
  const uri = parseUri(url);
  const originalUriScheme = uri.scheme.toLowerCase();
  const isInMemoryMode = originalUriScheme === "file" && uri.path === inMemoryMode && uri.authority === void 0;
  let queryParamsDef;
  if (isInMemoryMode) {
    queryParamsDef = {
      cache: {
        values: ["shared", "private"],
        update: (key, value) => connectionQueryParams.push(`${key}=${value}`)
      }
    };
  } else {
    queryParamsDef = {
      tls: {
        values: ["0", "1"],
        update: (_, value) => tls = value === "1"
      },
      authToken: {
        update: (_, value) => authToken = value
      }
    };
  }
  for (const { key, value } of uri.query?.pairs ?? []) {
    if (!Object.hasOwn(queryParamsDef, key)) {
      throw new LibsqlError(`Unsupported URL query parameter ${JSON.stringify(key)}`, "URL_PARAM_NOT_SUPPORTED");
    }
    const queryParamDef = queryParamsDef[key];
    if (queryParamDef.values !== void 0 && !queryParamDef.values.includes(value)) {
      throw new LibsqlError(`Unknown value for the "${key}" query argument: ${JSON.stringify(value)}. Supported values are: [${queryParamDef.values.map((x) => '"' + x + '"').join(", ")}]`, "URL_INVALID");
    }
    if (queryParamDef.update !== void 0) {
      queryParamDef?.update(key, value);
    }
  }
  const connectionQueryParamsString = connectionQueryParams.length === 0 ? "" : `?${connectionQueryParams.join("&")}`;
  const path = uri.path + connectionQueryParamsString;
  let scheme;
  if (originalUriScheme === "libsql") {
    if (tls === false) {
      if (uri.authority?.port === void 0) {
        throw new LibsqlError('A "libsql:" URL with ?tls=0 must specify an explicit port', "URL_INVALID");
      }
      scheme = preferHttp ? "http" : "ws";
    } else {
      scheme = preferHttp ? "https" : "wss";
    }
  } else {
    scheme = originalUriScheme;
  }
  if (scheme === "http" || scheme === "ws") {
    tls ??= false;
  } else {
    tls ??= true;
  }
  if (scheme !== "http" && scheme !== "ws" && scheme !== "https" && scheme !== "wss" && scheme !== "file") {
    throw new LibsqlError(`The client supports only "libsql:", "wss:", "ws:", "https:", "http:" and "file:" URLs, got ${JSON.stringify(uri.scheme + ":")}. For more information, please read ${supportedUrlLink}`, "URL_SCHEME_NOT_SUPPORTED");
  }
  if (intMode !== "number" && intMode !== "bigint" && intMode !== "string") {
    throw new TypeError(`Invalid value for intMode, expected "number", "bigint" or "string", got ${JSON.stringify(intMode)}`);
  }
  if (uri.fragment !== void 0) {
    throw new LibsqlError(`URL fragments are not supported: ${JSON.stringify("#" + uri.fragment)}`, "URL_INVALID");
  }
  if (isInMemoryMode) {
    return {
      scheme: "file",
      tls: false,
      path,
      intMode,
      concurrency,
      syncUrl: config.syncUrl,
      syncInterval: config.syncInterval,
      fetch: config.fetch,
      authToken: void 0,
      encryptionKey: void 0,
      authority: void 0
    };
  }
  return {
    scheme,
    tls,
    authority: uri.authority,
    path,
    authToken,
    intMode,
    concurrency,
    encryptionKey: config.encryptionKey,
    syncUrl: config.syncUrl,
    syncInterval: config.syncInterval,
    fetch: config.fetch
  };
}

// node_modules/.pnpm/@libsql+isomorphic-ws@0.1.5/node_modules/@libsql/isomorphic-ws/web.mjs
var _WebSocket;
if (typeof WebSocket !== "undefined") {
  _WebSocket = WebSocket;
} else if (typeof global !== "undefined") {
  _WebSocket = global.WebSocket;
} else if (typeof window !== "undefined") {
  _WebSocket = window.WebSocket;
} else if (typeof self !== "undefined") {
  _WebSocket = self.WebSocket;
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/client.js
var Client = class {
  /** @private */
  constructor() {
    this.intMode = "number";
  }
  /** Representation of integers returned from the database. See {@link IntMode}.
   *
   * This value is inherited by {@link Stream} objects created with {@link openStream}, but you can
   * override the integer mode for every stream by setting {@link Stream.intMode} on the stream.
   */
  intMode;
};

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/errors.js
var ClientError = class extends Error {
  /** @private */
  constructor(message) {
    super(message);
    this.name = "ClientError";
  }
};
var ProtoError = class extends ClientError {
  /** @private */
  constructor(message) {
    super(message);
    this.name = "ProtoError";
  }
};
var ResponseError = class extends ClientError {
  code;
  /** @internal */
  proto;
  /** @private */
  constructor(message, protoError) {
    super(message);
    this.name = "ResponseError";
    this.code = protoError.code;
    this.proto = protoError;
    this.stack = void 0;
  }
};
var ClosedError = class extends ClientError {
  /** @private */
  constructor(message, cause) {
    if (cause !== void 0) {
      super(`${message}: ${cause}`);
      this.cause = cause;
    } else {
      super(message);
    }
    this.name = "ClosedError";
  }
};
var WebSocketUnsupportedError = class extends ClientError {
  /** @private */
  constructor(message) {
    super(message);
    this.name = "WebSocketUnsupportedError";
  }
};
var WebSocketError = class extends ClientError {
  /** @private */
  constructor(message) {
    super(message);
    this.name = "WebSocketError";
  }
};
var HttpServerError = class extends ClientError {
  status;
  /** @private */
  constructor(message, status) {
    super(message);
    this.status = status;
    this.name = "HttpServerError";
  }
};
var ProtocolVersionError = class extends ClientError {
  /** @private */
  constructor(message) {
    super(message);
    this.name = "ProtocolVersionError";
  }
};
var InternalError = class extends ClientError {
  /** @private */
  constructor(message) {
    super(message);
    this.name = "InternalError";
  }
};
var MisuseError = class extends ClientError {
  /** @private */
  constructor(message) {
    super(message);
    this.name = "MisuseError";
  }
};

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/encoding/json/decode.js
function string(value) {
  if (typeof value === "string") {
    return value;
  }
  throw typeError(value, "string");
}
function stringOpt(value) {
  if (value === null || value === void 0) {
    return void 0;
  } else if (typeof value === "string") {
    return value;
  }
  throw typeError(value, "string or null");
}
function number(value) {
  if (typeof value === "number") {
    return value;
  }
  throw typeError(value, "number");
}
function boolean(value) {
  if (typeof value === "boolean") {
    return value;
  }
  throw typeError(value, "boolean");
}
function array(value) {
  if (Array.isArray(value)) {
    return value;
  }
  throw typeError(value, "array");
}
function object(value) {
  if (value !== null && typeof value === "object" && !Array.isArray(value)) {
    return value;
  }
  throw typeError(value, "object");
}
function arrayObjectsMap(value, fun) {
  return array(value).map((elemValue) => fun(object(elemValue)));
}
function typeError(value, expected) {
  if (value === void 0) {
    return new ProtoError(`Expected ${expected}, but the property was missing`);
  }
  let received = typeof value;
  if (value === null) {
    received = "null";
  } else if (Array.isArray(value)) {
    received = "array";
  }
  return new ProtoError(`Expected ${expected}, received ${received}`);
}
function readJsonObject(value, fun) {
  return fun(object(value));
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/encoding/json/encode.js
var ObjectWriter = class {
  #output;
  #isFirst;
  constructor(output) {
    this.#output = output;
    this.#isFirst = false;
  }
  begin() {
    this.#output.push("{");
    this.#isFirst = true;
  }
  end() {
    this.#output.push("}");
    this.#isFirst = false;
  }
  #key(name) {
    if (this.#isFirst) {
      this.#output.push('"');
      this.#isFirst = false;
    } else {
      this.#output.push(',"');
    }
    this.#output.push(name);
    this.#output.push('":');
  }
  string(name, value) {
    this.#key(name);
    this.#output.push(JSON.stringify(value));
  }
  stringRaw(name, value) {
    this.#key(name);
    this.#output.push('"');
    this.#output.push(value);
    this.#output.push('"');
  }
  number(name, value) {
    this.#key(name);
    this.#output.push("" + value);
  }
  boolean(name, value) {
    this.#key(name);
    this.#output.push(value ? "true" : "false");
  }
  object(name, value, valueFun) {
    this.#key(name);
    this.begin();
    valueFun(this, value);
    this.end();
  }
  arrayObjects(name, values, valueFun) {
    this.#key(name);
    this.#output.push("[");
    for (let i = 0; i < values.length; ++i) {
      if (i !== 0) {
        this.#output.push(",");
      }
      this.begin();
      valueFun(this, values[i]);
      this.end();
    }
    this.#output.push("]");
  }
};
function writeJsonObject(value, fun) {
  const output = [];
  const writer = new ObjectWriter(output);
  writer.begin();
  fun(writer, value);
  writer.end();
  return output.join("");
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/encoding/protobuf/util.js
var VARINT = 0;
var FIXED_64 = 1;
var LENGTH_DELIMITED = 2;
var FIXED_32 = 5;

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/encoding/protobuf/decode.js
var MessageReader = class {
  #array;
  #view;
  #pos;
  constructor(array2) {
    this.#array = array2;
    this.#view = new DataView(array2.buffer, array2.byteOffset, array2.byteLength);
    this.#pos = 0;
  }
  varint() {
    let value = 0;
    for (let shift = 0; ; shift += 7) {
      const byte = this.#array[this.#pos++];
      value |= (byte & 127) << shift;
      if (!(byte & 128)) {
        break;
      }
    }
    return value;
  }
  varintBig() {
    let value = 0n;
    for (let shift = 0n; ; shift += 7n) {
      const byte = this.#array[this.#pos++];
      value |= BigInt(byte & 127) << shift;
      if (!(byte & 128)) {
        break;
      }
    }
    return value;
  }
  bytes(length) {
    const array2 = new Uint8Array(this.#array.buffer, this.#array.byteOffset + this.#pos, length);
    this.#pos += length;
    return array2;
  }
  double() {
    const value = this.#view.getFloat64(this.#pos, true);
    this.#pos += 8;
    return value;
  }
  skipVarint() {
    for (; ; ) {
      const byte = this.#array[this.#pos++];
      if (!(byte & 128)) {
        break;
      }
    }
  }
  skip(count) {
    this.#pos += count;
  }
  eof() {
    return this.#pos >= this.#array.byteLength;
  }
};
var FieldReader = class {
  #reader;
  #wireType;
  constructor(reader) {
    this.#reader = reader;
    this.#wireType = -1;
  }
  setup(wireType) {
    this.#wireType = wireType;
  }
  #expect(expectedWireType) {
    if (this.#wireType !== expectedWireType) {
      throw new ProtoError(`Expected wire type ${expectedWireType}, got ${this.#wireType}`);
    }
    this.#wireType = -1;
  }
  bytes() {
    this.#expect(LENGTH_DELIMITED);
    const length = this.#reader.varint();
    return this.#reader.bytes(length);
  }
  string() {
    return new TextDecoder().decode(this.bytes());
  }
  message(def) {
    return readProtobufMessage(this.bytes(), def);
  }
  int32() {
    this.#expect(VARINT);
    return this.#reader.varint();
  }
  uint32() {
    return this.int32();
  }
  bool() {
    return this.int32() !== 0;
  }
  uint64() {
    this.#expect(VARINT);
    return this.#reader.varintBig();
  }
  sint64() {
    const value = this.uint64();
    return value >> 1n ^ -(value & 1n);
  }
  double() {
    this.#expect(FIXED_64);
    return this.#reader.double();
  }
  maybeSkip() {
    if (this.#wireType < 0) {
      return;
    } else if (this.#wireType === VARINT) {
      this.#reader.skipVarint();
    } else if (this.#wireType === FIXED_64) {
      this.#reader.skip(8);
    } else if (this.#wireType === LENGTH_DELIMITED) {
      const length = this.#reader.varint();
      this.#reader.skip(length);
    } else if (this.#wireType === FIXED_32) {
      this.#reader.skip(4);
    } else {
      throw new ProtoError(`Unexpected wire type ${this.#wireType}`);
    }
    this.#wireType = -1;
  }
};
function readProtobufMessage(data, def) {
  const msgReader = new MessageReader(data);
  const fieldReader = new FieldReader(msgReader);
  let value = def.default();
  while (!msgReader.eof()) {
    const key = msgReader.varint();
    const tag = key >> 3;
    const wireType = key & 7;
    fieldReader.setup(wireType);
    const tagFun = def[tag];
    if (tagFun !== void 0) {
      const returnedValue = tagFun(fieldReader, value);
      if (returnedValue !== void 0) {
        value = returnedValue;
      }
    }
    fieldReader.maybeSkip();
  }
  return value;
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/encoding/protobuf/encode.js
var MessageWriter = class {
  #buf;
  #array;
  #view;
  #pos;
  constructor() {
    this.#buf = new ArrayBuffer(256);
    this.#array = new Uint8Array(this.#buf);
    this.#view = new DataView(this.#buf);
    this.#pos = 0;
  }
  #ensure(extra) {
    if (this.#pos + extra <= this.#buf.byteLength) {
      return;
    }
    let newCap = this.#buf.byteLength;
    while (newCap < this.#pos + extra) {
      newCap *= 2;
    }
    const newBuf = new ArrayBuffer(newCap);
    const newArray = new Uint8Array(newBuf);
    const newView = new DataView(newBuf);
    newArray.set(new Uint8Array(this.#buf, 0, this.#pos));
    this.#buf = newBuf;
    this.#array = newArray;
    this.#view = newView;
  }
  #varint(value) {
    this.#ensure(5);
    value = 0 | value;
    do {
      let byte = value & 127;
      value >>>= 7;
      byte |= value ? 128 : 0;
      this.#array[this.#pos++] = byte;
    } while (value);
  }
  #varintBig(value) {
    this.#ensure(10);
    value = value & 0xffffffffffffffffn;
    do {
      let byte = Number(value & 0x7fn);
      value >>= 7n;
      byte |= value ? 128 : 0;
      this.#array[this.#pos++] = byte;
    } while (value);
  }
  #tag(tag, wireType) {
    this.#varint(tag << 3 | wireType);
  }
  bytes(tag, value) {
    this.#tag(tag, LENGTH_DELIMITED);
    this.#varint(value.byteLength);
    this.#ensure(value.byteLength);
    this.#array.set(value, this.#pos);
    this.#pos += value.byteLength;
  }
  string(tag, value) {
    this.bytes(tag, new TextEncoder().encode(value));
  }
  message(tag, value, fun) {
    const writer = new MessageWriter();
    fun(writer, value);
    this.bytes(tag, writer.data());
  }
  int32(tag, value) {
    this.#tag(tag, VARINT);
    this.#varint(value);
  }
  uint32(tag, value) {
    this.int32(tag, value);
  }
  bool(tag, value) {
    this.int32(tag, value ? 1 : 0);
  }
  sint64(tag, value) {
    this.#tag(tag, VARINT);
    this.#varintBig(value << 1n ^ value >> 63n);
  }
  double(tag, value) {
    this.#tag(tag, FIXED_64);
    this.#ensure(8);
    this.#view.setFloat64(this.#pos, value, true);
    this.#pos += 8;
  }
  data() {
    return new Uint8Array(this.#buf, 0, this.#pos);
  }
};
function writeProtobufMessage(value, fun) {
  const w = new MessageWriter();
  fun(w, value);
  return w.data();
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/id_alloc.js
var IdAlloc = class {
  // Set of all allocated ids
  #usedIds;
  // Set of all free ids lower than `#usedIds.size`
  #freeIds;
  constructor() {
    this.#usedIds = /* @__PURE__ */ new Set();
    this.#freeIds = /* @__PURE__ */ new Set();
  }
  // Returns an id that was free, and marks it as used.
  alloc() {
    for (const freeId2 of this.#freeIds) {
      this.#freeIds.delete(freeId2);
      this.#usedIds.add(freeId2);
      if (!this.#usedIds.has(this.#usedIds.size - 1)) {
        this.#freeIds.add(this.#usedIds.size - 1);
      }
      return freeId2;
    }
    const freeId = this.#usedIds.size;
    this.#usedIds.add(freeId);
    return freeId;
  }
  free(id) {
    if (!this.#usedIds.delete(id)) {
      throw new InternalError("Freeing an id that is not allocated");
    }
    this.#freeIds.delete(this.#usedIds.size);
    if (id < this.#usedIds.size) {
      this.#freeIds.add(id);
    }
  }
};

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/util.js
function impossible(value, message) {
  throw new InternalError(message);
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/value.js
function valueToProto(value) {
  if (value === null) {
    return null;
  } else if (typeof value === "string") {
    return value;
  } else if (typeof value === "number") {
    if (!Number.isFinite(value)) {
      throw new RangeError("Only finite numbers (not Infinity or NaN) can be passed as arguments");
    }
    return value;
  } else if (typeof value === "bigint") {
    if (value < minInteger || value > maxInteger) {
      throw new RangeError("This bigint value is too large to be represented as a 64-bit integer and passed as argument");
    }
    return value;
  } else if (typeof value === "boolean") {
    return value ? 1n : 0n;
  } else if (value instanceof ArrayBuffer) {
    return new Uint8Array(value);
  } else if (value instanceof Uint8Array) {
    return value;
  } else if (value instanceof Date) {
    return +value.valueOf();
  } else if (typeof value === "object") {
    return "" + value.toString();
  } else {
    throw new TypeError("Unsupported type of value");
  }
}
var minInteger = -9223372036854775808n;
var maxInteger = 9223372036854775807n;
function valueFromProto(value, intMode) {
  if (value === null) {
    return null;
  } else if (typeof value === "number") {
    return value;
  } else if (typeof value === "string") {
    return value;
  } else if (typeof value === "bigint") {
    if (intMode === "number") {
      const num = Number(value);
      if (!Number.isSafeInteger(num)) {
        throw new RangeError("Received integer which is too large to be safely represented as a JavaScript number");
      }
      return num;
    } else if (intMode === "bigint") {
      return value;
    } else if (intMode === "string") {
      return "" + value;
    } else {
      throw new MisuseError("Invalid value for IntMode");
    }
  } else if (value instanceof Uint8Array) {
    return value.slice().buffer;
  } else if (value === void 0) {
    throw new ProtoError("Received unrecognized type of Value");
  } else {
    throw impossible(value, "Impossible type of Value");
  }
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/result.js
function stmtResultFromProto(result) {
  return {
    affectedRowCount: result.affectedRowCount,
    lastInsertRowid: result.lastInsertRowid,
    columnNames: result.cols.map((col) => col.name),
    columnDecltypes: result.cols.map((col) => col.decltype)
  };
}
function rowsResultFromProto(result, intMode) {
  const stmtResult = stmtResultFromProto(result);
  const rows = result.rows.map((row) => rowFromProto(stmtResult.columnNames, row, intMode));
  return { ...stmtResult, rows };
}
function rowResultFromProto(result, intMode) {
  const stmtResult = stmtResultFromProto(result);
  let row;
  if (result.rows.length > 0) {
    row = rowFromProto(stmtResult.columnNames, result.rows[0], intMode);
  }
  return { ...stmtResult, row };
}
function valueResultFromProto(result, intMode) {
  const stmtResult = stmtResultFromProto(result);
  let value;
  if (result.rows.length > 0 && stmtResult.columnNames.length > 0) {
    value = valueFromProto(result.rows[0][0], intMode);
  }
  return { ...stmtResult, value };
}
function rowFromProto(colNames, values, intMode) {
  const row = {};
  Object.defineProperty(row, "length", { value: values.length });
  for (let i = 0; i < values.length; ++i) {
    const value = valueFromProto(values[i], intMode);
    Object.defineProperty(row, i, { value });
    const colName = colNames[i];
    if (colName !== void 0 && !Object.hasOwn(row, colName)) {
      Object.defineProperty(row, colName, { value, enumerable: true, configurable: true, writable: true });
    }
  }
  return row;
}
function errorFromProto(error) {
  return new ResponseError(error.message, error);
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/sql.js
var Sql = class {
  #owner;
  #sqlId;
  #closed;
  /** @private */
  constructor(owner, sqlId) {
    this.#owner = owner;
    this.#sqlId = sqlId;
    this.#closed = void 0;
  }
  /** @private */
  _getSqlId(owner) {
    if (this.#owner !== owner) {
      throw new MisuseError("Attempted to use SQL text opened with other object");
    } else if (this.#closed !== void 0) {
      throw new ClosedError("SQL text is closed", this.#closed);
    }
    return this.#sqlId;
  }
  /** Remove the SQL text from the server, releasing resouces. */
  close() {
    this._setClosed(new ClientError("SQL text was manually closed"));
  }
  /** @private */
  _setClosed(error) {
    if (this.#closed === void 0) {
      this.#closed = error;
      this.#owner._closeSql(this.#sqlId);
    }
  }
  /** True if the SQL text is closed (removed from the server). */
  get closed() {
    return this.#closed !== void 0;
  }
};
function sqlToProto(owner, sql2) {
  if (sql2 instanceof Sql) {
    return { sqlId: sql2._getSqlId(owner) };
  } else {
    return { sql: "" + sql2 };
  }
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/queue.js
var Queue = class {
  #pushStack;
  #shiftStack;
  constructor() {
    this.#pushStack = [];
    this.#shiftStack = [];
  }
  get length() {
    return this.#pushStack.length + this.#shiftStack.length;
  }
  push(elem) {
    this.#pushStack.push(elem);
  }
  shift() {
    if (this.#shiftStack.length === 0 && this.#pushStack.length > 0) {
      this.#shiftStack = this.#pushStack.reverse();
      this.#pushStack = [];
    }
    return this.#shiftStack.pop();
  }
  first() {
    return this.#shiftStack.length !== 0 ? this.#shiftStack[this.#shiftStack.length - 1] : this.#pushStack[0];
  }
};

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/stmt.js
var Stmt = class {
  /** The SQL statement text. */
  sql;
  /** @private */
  _args;
  /** @private */
  _namedArgs;
  /** Initialize the statement with given SQL text. */
  constructor(sql2) {
    this.sql = sql2;
    this._args = [];
    this._namedArgs = /* @__PURE__ */ new Map();
  }
  /** Binds positional parameters from the given `values`. All previous positional bindings are cleared. */
  bindIndexes(values) {
    this._args.length = 0;
    for (const value of values) {
      this._args.push(valueToProto(value));
    }
    return this;
  }
  /** Binds a parameter by a 1-based index. */
  bindIndex(index, value) {
    if (index !== (index | 0) || index <= 0) {
      throw new RangeError("Index of a positional argument must be positive integer");
    }
    while (this._args.length < index) {
      this._args.push(null);
    }
    this._args[index - 1] = valueToProto(value);
    return this;
  }
  /** Binds a parameter by name. */
  bindName(name, value) {
    this._namedArgs.set(name, valueToProto(value));
    return this;
  }
  /** Clears all bindings. */
  unbindAll() {
    this._args.length = 0;
    this._namedArgs.clear();
    return this;
  }
};
function stmtToProto(sqlOwner, stmt, wantRows) {
  let inSql;
  let args = [];
  let namedArgs = [];
  if (stmt instanceof Stmt) {
    inSql = stmt.sql;
    args = stmt._args;
    for (const [name, value] of stmt._namedArgs.entries()) {
      namedArgs.push({ name, value });
    }
  } else if (Array.isArray(stmt)) {
    inSql = stmt[0];
    if (Array.isArray(stmt[1])) {
      args = stmt[1].map((arg) => valueToProto(arg));
    } else {
      namedArgs = Object.entries(stmt[1]).map(([name, value]) => {
        return { name, value: valueToProto(value) };
      });
    }
  } else {
    inSql = stmt;
  }
  const { sql: sql2, sqlId } = sqlToProto(sqlOwner, inSql);
  return { sql: sql2, sqlId, args, namedArgs, wantRows };
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/batch.js
var Batch = class {
  /** @private */
  _stream;
  #useCursor;
  /** @private */
  _steps;
  #executed;
  /** @private */
  constructor(stream, useCursor) {
    this._stream = stream;
    this.#useCursor = useCursor;
    this._steps = [];
    this.#executed = false;
  }
  /** Return a builder for adding a step to the batch. */
  step() {
    return new BatchStep(this);
  }
  /** Execute the batch. */
  execute() {
    if (this.#executed) {
      throw new MisuseError("This batch has already been executed");
    }
    this.#executed = true;
    const batch = {
      steps: this._steps.map((step) => step.proto)
    };
    if (this.#useCursor) {
      return executeCursor(this._stream, this._steps, batch);
    } else {
      return executeRegular(this._stream, this._steps, batch);
    }
  }
};
function executeRegular(stream, steps, batch) {
  return stream._batch(batch).then((result) => {
    for (let step = 0; step < steps.length; ++step) {
      const stepResult = result.stepResults.get(step);
      const stepError = result.stepErrors.get(step);
      steps[step].callback(stepResult, stepError);
    }
  });
}
async function executeCursor(stream, steps, batch) {
  const cursor = await stream._openCursor(batch);
  try {
    let nextStep = 0;
    let beginEntry = void 0;
    let rows = [];
    for (; ; ) {
      const entry = await cursor.next();
      if (entry === void 0) {
        break;
      }
      if (entry.type === "step_begin") {
        if (entry.step < nextStep || entry.step >= steps.length) {
          throw new ProtoError("Server produced StepBeginEntry for unexpected step");
        } else if (beginEntry !== void 0) {
          throw new ProtoError("Server produced StepBeginEntry before terminating previous step");
        }
        for (let step = nextStep; step < entry.step; ++step) {
          steps[step].callback(void 0, void 0);
        }
        nextStep = entry.step + 1;
        beginEntry = entry;
        rows = [];
      } else if (entry.type === "step_end") {
        if (beginEntry === void 0) {
          throw new ProtoError("Server produced StepEndEntry but no step is active");
        }
        const stmtResult = {
          cols: beginEntry.cols,
          rows,
          affectedRowCount: entry.affectedRowCount,
          lastInsertRowid: entry.lastInsertRowid
        };
        steps[beginEntry.step].callback(stmtResult, void 0);
        beginEntry = void 0;
        rows = [];
      } else if (entry.type === "step_error") {
        if (beginEntry === void 0) {
          if (entry.step >= steps.length) {
            throw new ProtoError("Server produced StepErrorEntry for unexpected step");
          }
          for (let step = nextStep; step < entry.step; ++step) {
            steps[step].callback(void 0, void 0);
          }
        } else {
          if (entry.step !== beginEntry.step) {
            throw new ProtoError("Server produced StepErrorEntry for unexpected step");
          }
          beginEntry = void 0;
          rows = [];
        }
        steps[entry.step].callback(void 0, entry.error);
        nextStep = entry.step + 1;
      } else if (entry.type === "row") {
        if (beginEntry === void 0) {
          throw new ProtoError("Server produced RowEntry but no step is active");
        }
        rows.push(entry.row);
      } else if (entry.type === "error") {
        throw errorFromProto(entry.error);
      } else if (entry.type === "none") {
        throw new ProtoError("Server produced unrecognized CursorEntry");
      } else {
        throw impossible(entry, "Impossible CursorEntry");
      }
    }
    if (beginEntry !== void 0) {
      throw new ProtoError("Server closed Cursor before terminating active step");
    }
    for (let step = nextStep; step < steps.length; ++step) {
      steps[step].callback(void 0, void 0);
    }
  } finally {
    cursor.close();
  }
}
var BatchStep = class {
  /** @private */
  _batch;
  #conds;
  /** @private */
  _index;
  /** @private */
  constructor(batch) {
    this._batch = batch;
    this.#conds = [];
    this._index = void 0;
  }
  /** Add the condition that needs to be satisfied to execute the statement. If you use this method multiple
   * times, we join the conditions with a logical AND. */
  condition(cond) {
    this.#conds.push(cond._proto);
    return this;
  }
  /** Add a statement that returns rows. */
  query(stmt) {
    return this.#add(stmt, true, rowsResultFromProto);
  }
  /** Add a statement that returns at most a single row. */
  queryRow(stmt) {
    return this.#add(stmt, true, rowResultFromProto);
  }
  /** Add a statement that returns at most a single value. */
  queryValue(stmt) {
    return this.#add(stmt, true, valueResultFromProto);
  }
  /** Add a statement without returning rows. */
  run(stmt) {
    return this.#add(stmt, false, stmtResultFromProto);
  }
  #add(inStmt, wantRows, fromProto) {
    if (this._index !== void 0) {
      throw new MisuseError("This BatchStep has already been added to the batch");
    }
    const stmt = stmtToProto(this._batch._stream._sqlOwner(), inStmt, wantRows);
    let condition;
    if (this.#conds.length === 0) {
      condition = void 0;
    } else if (this.#conds.length === 1) {
      condition = this.#conds[0];
    } else {
      condition = { type: "and", conds: this.#conds.slice() };
    }
    const proto = { stmt, condition };
    return new Promise((outputCallback, errorCallback) => {
      const callback = (stepResult, stepError) => {
        if (stepResult !== void 0 && stepError !== void 0) {
          errorCallback(new ProtoError("Server returned both result and error"));
        } else if (stepError !== void 0) {
          errorCallback(errorFromProto(stepError));
        } else if (stepResult !== void 0) {
          outputCallback(fromProto(stepResult, this._batch._stream.intMode));
        } else {
          outputCallback(void 0);
        }
      };
      this._index = this._batch._steps.length;
      this._batch._steps.push({ proto, callback });
    });
  }
};
var BatchCond = class {
  /** @private */
  _batch;
  /** @private */
  _proto;
  /** @private */
  constructor(batch, proto) {
    this._batch = batch;
    this._proto = proto;
  }
  /** Create a condition that evaluates to true when the given step executes successfully.
   *
   * If the given step fails error or is skipped because its condition evaluated to false, this
   * condition evaluates to false.
   */
  static ok(step) {
    return new BatchCond(step._batch, { type: "ok", step: stepIndex(step) });
  }
  /** Create a condition that evaluates to true when the given step fails.
   *
   * If the given step succeeds or is skipped because its condition evaluated to false, this condition
   * evaluates to false.
   */
  static error(step) {
    return new BatchCond(step._batch, { type: "error", step: stepIndex(step) });
  }
  /** Create a condition that is a logical negation of another condition.
   */
  static not(cond) {
    return new BatchCond(cond._batch, { type: "not", cond: cond._proto });
  }
  /** Create a condition that is a logical AND of other conditions.
   */
  static and(batch, conds) {
    for (const cond of conds) {
      checkCondBatch(batch, cond);
    }
    return new BatchCond(batch, { type: "and", conds: conds.map((e) => e._proto) });
  }
  /** Create a condition that is a logical OR of other conditions.
   */
  static or(batch, conds) {
    for (const cond of conds) {
      checkCondBatch(batch, cond);
    }
    return new BatchCond(batch, { type: "or", conds: conds.map((e) => e._proto) });
  }
  /** Create a condition that evaluates to true when the SQL connection is in autocommit mode (not inside an
   * explicit transaction). This requires protocol version 3 or higher.
   */
  static isAutocommit(batch) {
    batch._stream.client()._ensureVersion(3, "BatchCond.isAutocommit()");
    return new BatchCond(batch, { type: "is_autocommit" });
  }
};
function stepIndex(step) {
  if (step._index === void 0) {
    throw new MisuseError("Cannot add a condition referencing a step that has not been added to the batch");
  }
  return step._index;
}
function checkCondBatch(expectedBatch, cond) {
  if (cond._batch !== expectedBatch) {
    throw new MisuseError("Cannot mix BatchCond objects for different Batch objects");
  }
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/describe.js
function describeResultFromProto(result) {
  return {
    paramNames: result.params.map((p) => p.name),
    columns: result.cols,
    isExplain: result.isExplain,
    isReadonly: result.isReadonly
  };
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/stream.js
var Stream = class {
  /** @private */
  constructor(intMode) {
    this.intMode = intMode;
  }
  /** Execute a statement and return rows. */
  query(stmt) {
    return this.#execute(stmt, true, rowsResultFromProto);
  }
  /** Execute a statement and return at most a single row. */
  queryRow(stmt) {
    return this.#execute(stmt, true, rowResultFromProto);
  }
  /** Execute a statement and return at most a single value. */
  queryValue(stmt) {
    return this.#execute(stmt, true, valueResultFromProto);
  }
  /** Execute a statement without returning rows. */
  run(stmt) {
    return this.#execute(stmt, false, stmtResultFromProto);
  }
  #execute(inStmt, wantRows, fromProto) {
    const stmt = stmtToProto(this._sqlOwner(), inStmt, wantRows);
    return this._execute(stmt).then((r) => fromProto(r, this.intMode));
  }
  /** Return a builder for creating and executing a batch.
   *
   * If `useCursor` is true, the batch will be executed using a Hrana cursor, which will stream results from
   * the server to the client, which consumes less memory on the server. This requires protocol version 3 or
   * higher.
   */
  batch(useCursor = false) {
    return new Batch(this, useCursor);
  }
  /** Parse and analyze a statement. This requires protocol version 2 or higher. */
  describe(inSql) {
    const protoSql = sqlToProto(this._sqlOwner(), inSql);
    return this._describe(protoSql).then(describeResultFromProto);
  }
  /** Execute a sequence of statements separated by semicolons. This requires protocol version 2 or higher.
   * */
  sequence(inSql) {
    const protoSql = sqlToProto(this._sqlOwner(), inSql);
    return this._sequence(protoSql);
  }
  /** Representation of integers returned from the database. See {@link IntMode}.
   *
   * This value affects the results of all operations on this stream.
   */
  intMode;
};

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/cursor.js
var Cursor = class {
};

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/ws/cursor.js
var fetchChunkSize = 1e3;
var fetchQueueSize = 10;
var WsCursor = class extends Cursor {
  #client;
  #stream;
  #cursorId;
  #entryQueue;
  #fetchQueue;
  #closed;
  #done;
  /** @private */
  constructor(client, stream, cursorId) {
    super();
    this.#client = client;
    this.#stream = stream;
    this.#cursorId = cursorId;
    this.#entryQueue = new Queue();
    this.#fetchQueue = new Queue();
    this.#closed = void 0;
    this.#done = false;
  }
  /** Fetch the next entry from the cursor. */
  async next() {
    for (; ; ) {
      if (this.#closed !== void 0) {
        throw new ClosedError("Cursor is closed", this.#closed);
      }
      while (!this.#done && this.#fetchQueue.length < fetchQueueSize) {
        this.#fetchQueue.push(this.#fetch());
      }
      const entry = this.#entryQueue.shift();
      if (this.#done || entry !== void 0) {
        return entry;
      }
      await this.#fetchQueue.shift().then((response) => {
        if (response === void 0) {
          return;
        }
        for (const entry2 of response.entries) {
          this.#entryQueue.push(entry2);
        }
        this.#done ||= response.done;
      });
    }
  }
  #fetch() {
    return this.#stream._sendCursorRequest(this, {
      type: "fetch_cursor",
      cursorId: this.#cursorId,
      maxCount: fetchChunkSize
    }).then((resp) => resp, (error) => {
      this._setClosed(error);
      return void 0;
    });
  }
  /** @private */
  _setClosed(error) {
    if (this.#closed !== void 0) {
      return;
    }
    this.#closed = error;
    this.#stream._sendCursorRequest(this, {
      type: "close_cursor",
      cursorId: this.#cursorId
    }).catch(() => void 0);
    this.#stream._cursorClosed(this);
  }
  /** Close the cursor. */
  close() {
    this._setClosed(new ClientError("Cursor was manually closed"));
  }
  /** True if the cursor is closed. */
  get closed() {
    return this.#closed !== void 0;
  }
};

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/ws/stream.js
var WsStream = class extends Stream {
  #client;
  #streamId;
  #queue;
  #cursor;
  #closing;
  #closed;
  /** @private */
  static open(client) {
    const streamId = client._streamIdAlloc.alloc();
    const stream = new WsStream(client, streamId);
    const responseCallback = () => void 0;
    const errorCallback = (e) => stream.#setClosed(e);
    const request = { type: "open_stream", streamId };
    client._sendRequest(request, { responseCallback, errorCallback });
    return stream;
  }
  /** @private */
  constructor(client, streamId) {
    super(client.intMode);
    this.#client = client;
    this.#streamId = streamId;
    this.#queue = new Queue();
    this.#cursor = void 0;
    this.#closing = false;
    this.#closed = void 0;
  }
  /** Get the {@link WsClient} object that this stream belongs to. */
  client() {
    return this.#client;
  }
  /** @private */
  _sqlOwner() {
    return this.#client;
  }
  /** @private */
  _execute(stmt) {
    return this.#sendStreamRequest({
      type: "execute",
      streamId: this.#streamId,
      stmt
    }).then((response) => {
      return response.result;
    });
  }
  /** @private */
  _batch(batch) {
    return this.#sendStreamRequest({
      type: "batch",
      streamId: this.#streamId,
      batch
    }).then((response) => {
      return response.result;
    });
  }
  /** @private */
  _describe(protoSql) {
    this.#client._ensureVersion(2, "describe()");
    return this.#sendStreamRequest({
      type: "describe",
      streamId: this.#streamId,
      sql: protoSql.sql,
      sqlId: protoSql.sqlId
    }).then((response) => {
      return response.result;
    });
  }
  /** @private */
  _sequence(protoSql) {
    this.#client._ensureVersion(2, "sequence()");
    return this.#sendStreamRequest({
      type: "sequence",
      streamId: this.#streamId,
      sql: protoSql.sql,
      sqlId: protoSql.sqlId
    }).then((_response) => {
      return void 0;
    });
  }
  /** Check whether the SQL connection underlying this stream is in autocommit state (i.e., outside of an
   * explicit transaction). This requires protocol version 3 or higher.
   */
  getAutocommit() {
    this.#client._ensureVersion(3, "getAutocommit()");
    return this.#sendStreamRequest({
      type: "get_autocommit",
      streamId: this.#streamId
    }).then((response) => {
      return response.isAutocommit;
    });
  }
  #sendStreamRequest(request) {
    return new Promise((responseCallback, errorCallback) => {
      this.#pushToQueue({ type: "request", request, responseCallback, errorCallback });
    });
  }
  /** @private */
  _openCursor(batch) {
    this.#client._ensureVersion(3, "cursor");
    return new Promise((cursorCallback, errorCallback) => {
      this.#pushToQueue({ type: "cursor", batch, cursorCallback, errorCallback });
    });
  }
  /** @private */
  _sendCursorRequest(cursor, request) {
    if (cursor !== this.#cursor) {
      throw new InternalError("Cursor not associated with the stream attempted to execute a request");
    }
    return new Promise((responseCallback, errorCallback) => {
      if (this.#closed !== void 0) {
        errorCallback(new ClosedError("Stream is closed", this.#closed));
      } else {
        this.#client._sendRequest(request, { responseCallback, errorCallback });
      }
    });
  }
  /** @private */
  _cursorClosed(cursor) {
    if (cursor !== this.#cursor) {
      throw new InternalError("Cursor was closed, but it was not associated with the stream");
    }
    this.#cursor = void 0;
    this.#flushQueue();
  }
  #pushToQueue(entry) {
    if (this.#closed !== void 0) {
      entry.errorCallback(new ClosedError("Stream is closed", this.#closed));
    } else if (this.#closing) {
      entry.errorCallback(new ClosedError("Stream is closing", void 0));
    } else {
      this.#queue.push(entry);
      this.#flushQueue();
    }
  }
  #flushQueue() {
    for (; ; ) {
      const entry = this.#queue.first();
      if (entry === void 0 && this.#cursor === void 0 && this.#closing) {
        this.#setClosed(new ClientError("Stream was gracefully closed"));
        break;
      } else if (entry?.type === "request" && this.#cursor === void 0) {
        const { request, responseCallback, errorCallback } = entry;
        this.#queue.shift();
        this.#client._sendRequest(request, { responseCallback, errorCallback });
      } else if (entry?.type === "cursor" && this.#cursor === void 0) {
        const { batch, cursorCallback } = entry;
        this.#queue.shift();
        const cursorId = this.#client._cursorIdAlloc.alloc();
        const cursor = new WsCursor(this.#client, this, cursorId);
        const request = {
          type: "open_cursor",
          streamId: this.#streamId,
          cursorId,
          batch
        };
        const responseCallback = () => void 0;
        const errorCallback = (e) => cursor._setClosed(e);
        this.#client._sendRequest(request, { responseCallback, errorCallback });
        this.#cursor = cursor;
        cursorCallback(cursor);
      } else {
        break;
      }
    }
  }
  #setClosed(error) {
    if (this.#closed !== void 0) {
      return;
    }
    this.#closed = error;
    if (this.#cursor !== void 0) {
      this.#cursor._setClosed(error);
    }
    for (; ; ) {
      const entry = this.#queue.shift();
      if (entry !== void 0) {
        entry.errorCallback(error);
      } else {
        break;
      }
    }
    const request = { type: "close_stream", streamId: this.#streamId };
    const responseCallback = () => this.#client._streamIdAlloc.free(this.#streamId);
    const errorCallback = () => void 0;
    this.#client._sendRequest(request, { responseCallback, errorCallback });
  }
  /** Immediately close the stream. */
  close() {
    this.#setClosed(new ClientError("Stream was manually closed"));
  }
  /** Gracefully close the stream. */
  closeGracefully() {
    this.#closing = true;
    this.#flushQueue();
  }
  /** True if the stream is closed or closing. */
  get closed() {
    return this.#closed !== void 0 || this.#closing;
  }
};

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/shared/json_encode.js
function Stmt2(w, msg) {
  if (msg.sql !== void 0) {
    w.string("sql", msg.sql);
  }
  if (msg.sqlId !== void 0) {
    w.number("sql_id", msg.sqlId);
  }
  w.arrayObjects("args", msg.args, Value);
  w.arrayObjects("named_args", msg.namedArgs, NamedArg);
  w.boolean("want_rows", msg.wantRows);
}
function NamedArg(w, msg) {
  w.string("name", msg.name);
  w.object("value", msg.value, Value);
}
function Batch2(w, msg) {
  w.arrayObjects("steps", msg.steps, BatchStep2);
}
function BatchStep2(w, msg) {
  if (msg.condition !== void 0) {
    w.object("condition", msg.condition, BatchCond2);
  }
  w.object("stmt", msg.stmt, Stmt2);
}
function BatchCond2(w, msg) {
  w.stringRaw("type", msg.type);
  if (msg.type === "ok" || msg.type === "error") {
    w.number("step", msg.step);
  } else if (msg.type === "not") {
    w.object("cond", msg.cond, BatchCond2);
  } else if (msg.type === "and" || msg.type === "or") {
    w.arrayObjects("conds", msg.conds, BatchCond2);
  } else if (msg.type === "is_autocommit") {
  } else {
    throw impossible(msg, "Impossible type of BatchCond");
  }
}
function Value(w, msg) {
  if (msg === null) {
    w.stringRaw("type", "null");
  } else if (typeof msg === "bigint") {
    w.stringRaw("type", "integer");
    w.stringRaw("value", "" + msg);
  } else if (typeof msg === "number") {
    w.stringRaw("type", "float");
    w.number("value", msg);
  } else if (typeof msg === "string") {
    w.stringRaw("type", "text");
    w.string("value", msg);
  } else if (msg instanceof Uint8Array) {
    w.stringRaw("type", "blob");
    w.stringRaw("base64", gBase64.fromUint8Array(msg));
  } else if (msg === void 0) {
  } else {
    throw impossible(msg, "Impossible type of Value");
  }
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/ws/json_encode.js
function ClientMsg(w, msg) {
  w.stringRaw("type", msg.type);
  if (msg.type === "hello") {
    if (msg.jwt !== void 0) {
      w.string("jwt", msg.jwt);
    }
  } else if (msg.type === "request") {
    w.number("request_id", msg.requestId);
    w.object("request", msg.request, Request2);
  } else {
    throw impossible(msg, "Impossible type of ClientMsg");
  }
}
function Request2(w, msg) {
  w.stringRaw("type", msg.type);
  if (msg.type === "open_stream") {
    w.number("stream_id", msg.streamId);
  } else if (msg.type === "close_stream") {
    w.number("stream_id", msg.streamId);
  } else if (msg.type === "execute") {
    w.number("stream_id", msg.streamId);
    w.object("stmt", msg.stmt, Stmt2);
  } else if (msg.type === "batch") {
    w.number("stream_id", msg.streamId);
    w.object("batch", msg.batch, Batch2);
  } else if (msg.type === "open_cursor") {
    w.number("stream_id", msg.streamId);
    w.number("cursor_id", msg.cursorId);
    w.object("batch", msg.batch, Batch2);
  } else if (msg.type === "close_cursor") {
    w.number("cursor_id", msg.cursorId);
  } else if (msg.type === "fetch_cursor") {
    w.number("cursor_id", msg.cursorId);
    w.number("max_count", msg.maxCount);
  } else if (msg.type === "sequence") {
    w.number("stream_id", msg.streamId);
    if (msg.sql !== void 0) {
      w.string("sql", msg.sql);
    }
    if (msg.sqlId !== void 0) {
      w.number("sql_id", msg.sqlId);
    }
  } else if (msg.type === "describe") {
    w.number("stream_id", msg.streamId);
    if (msg.sql !== void 0) {
      w.string("sql", msg.sql);
    }
    if (msg.sqlId !== void 0) {
      w.number("sql_id", msg.sqlId);
    }
  } else if (msg.type === "store_sql") {
    w.number("sql_id", msg.sqlId);
    w.string("sql", msg.sql);
  } else if (msg.type === "close_sql") {
    w.number("sql_id", msg.sqlId);
  } else if (msg.type === "get_autocommit") {
    w.number("stream_id", msg.streamId);
  } else {
    throw impossible(msg, "Impossible type of Request");
  }
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/shared/protobuf_encode.js
function Stmt3(w, msg) {
  if (msg.sql !== void 0) {
    w.string(1, msg.sql);
  }
  if (msg.sqlId !== void 0) {
    w.int32(2, msg.sqlId);
  }
  for (const arg of msg.args) {
    w.message(3, arg, Value2);
  }
  for (const arg of msg.namedArgs) {
    w.message(4, arg, NamedArg2);
  }
  w.bool(5, msg.wantRows);
}
function NamedArg2(w, msg) {
  w.string(1, msg.name);
  w.message(2, msg.value, Value2);
}
function Batch3(w, msg) {
  for (const step of msg.steps) {
    w.message(1, step, BatchStep3);
  }
}
function BatchStep3(w, msg) {
  if (msg.condition !== void 0) {
    w.message(1, msg.condition, BatchCond3);
  }
  w.message(2, msg.stmt, Stmt3);
}
function BatchCond3(w, msg) {
  if (msg.type === "ok") {
    w.uint32(1, msg.step);
  } else if (msg.type === "error") {
    w.uint32(2, msg.step);
  } else if (msg.type === "not") {
    w.message(3, msg.cond, BatchCond3);
  } else if (msg.type === "and") {
    w.message(4, msg.conds, BatchCondList);
  } else if (msg.type === "or") {
    w.message(5, msg.conds, BatchCondList);
  } else if (msg.type === "is_autocommit") {
    w.message(6, void 0, Empty);
  } else {
    throw impossible(msg, "Impossible type of BatchCond");
  }
}
function BatchCondList(w, msg) {
  for (const cond of msg) {
    w.message(1, cond, BatchCond3);
  }
}
function Value2(w, msg) {
  if (msg === null) {
    w.message(1, void 0, Empty);
  } else if (typeof msg === "bigint") {
    w.sint64(2, msg);
  } else if (typeof msg === "number") {
    w.double(3, msg);
  } else if (typeof msg === "string") {
    w.string(4, msg);
  } else if (msg instanceof Uint8Array) {
    w.bytes(5, msg);
  } else if (msg === void 0) {
  } else {
    throw impossible(msg, "Impossible type of Value");
  }
}
function Empty(_w, _msg) {
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/ws/protobuf_encode.js
function ClientMsg2(w, msg) {
  if (msg.type === "hello") {
    w.message(1, msg, HelloMsg);
  } else if (msg.type === "request") {
    w.message(2, msg, RequestMsg);
  } else {
    throw impossible(msg, "Impossible type of ClientMsg");
  }
}
function HelloMsg(w, msg) {
  if (msg.jwt !== void 0) {
    w.string(1, msg.jwt);
  }
}
function RequestMsg(w, msg) {
  w.int32(1, msg.requestId);
  const request = msg.request;
  if (request.type === "open_stream") {
    w.message(2, request, OpenStreamReq);
  } else if (request.type === "close_stream") {
    w.message(3, request, CloseStreamReq);
  } else if (request.type === "execute") {
    w.message(4, request, ExecuteReq);
  } else if (request.type === "batch") {
    w.message(5, request, BatchReq);
  } else if (request.type === "open_cursor") {
    w.message(6, request, OpenCursorReq);
  } else if (request.type === "close_cursor") {
    w.message(7, request, CloseCursorReq);
  } else if (request.type === "fetch_cursor") {
    w.message(8, request, FetchCursorReq);
  } else if (request.type === "sequence") {
    w.message(9, request, SequenceReq);
  } else if (request.type === "describe") {
    w.message(10, request, DescribeReq);
  } else if (request.type === "store_sql") {
    w.message(11, request, StoreSqlReq);
  } else if (request.type === "close_sql") {
    w.message(12, request, CloseSqlReq);
  } else if (request.type === "get_autocommit") {
    w.message(13, request, GetAutocommitReq);
  } else {
    throw impossible(request, "Impossible type of Request");
  }
}
function OpenStreamReq(w, msg) {
  w.int32(1, msg.streamId);
}
function CloseStreamReq(w, msg) {
  w.int32(1, msg.streamId);
}
function ExecuteReq(w, msg) {
  w.int32(1, msg.streamId);
  w.message(2, msg.stmt, Stmt3);
}
function BatchReq(w, msg) {
  w.int32(1, msg.streamId);
  w.message(2, msg.batch, Batch3);
}
function OpenCursorReq(w, msg) {
  w.int32(1, msg.streamId);
  w.int32(2, msg.cursorId);
  w.message(3, msg.batch, Batch3);
}
function CloseCursorReq(w, msg) {
  w.int32(1, msg.cursorId);
}
function FetchCursorReq(w, msg) {
  w.int32(1, msg.cursorId);
  w.uint32(2, msg.maxCount);
}
function SequenceReq(w, msg) {
  w.int32(1, msg.streamId);
  if (msg.sql !== void 0) {
    w.string(2, msg.sql);
  }
  if (msg.sqlId !== void 0) {
    w.int32(3, msg.sqlId);
  }
}
function DescribeReq(w, msg) {
  w.int32(1, msg.streamId);
  if (msg.sql !== void 0) {
    w.string(2, msg.sql);
  }
  if (msg.sqlId !== void 0) {
    w.int32(3, msg.sqlId);
  }
}
function StoreSqlReq(w, msg) {
  w.int32(1, msg.sqlId);
  w.string(2, msg.sql);
}
function CloseSqlReq(w, msg) {
  w.int32(1, msg.sqlId);
}
function GetAutocommitReq(w, msg) {
  w.int32(1, msg.streamId);
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/shared/json_decode.js
function Error2(obj) {
  const message = string(obj["message"]);
  const code = stringOpt(obj["code"]);
  return { message, code };
}
function StmtResult(obj) {
  const cols = arrayObjectsMap(obj["cols"], Col);
  const rows = array(obj["rows"]).map((rowObj) => arrayObjectsMap(rowObj, Value3));
  const affectedRowCount = number(obj["affected_row_count"]);
  const lastInsertRowidStr = stringOpt(obj["last_insert_rowid"]);
  const lastInsertRowid = lastInsertRowidStr !== void 0 ? BigInt(lastInsertRowidStr) : void 0;
  return { cols, rows, affectedRowCount, lastInsertRowid };
}
function Col(obj) {
  const name = stringOpt(obj["name"]);
  const decltype = stringOpt(obj["decltype"]);
  return { name, decltype };
}
function BatchResult(obj) {
  const stepResults = /* @__PURE__ */ new Map();
  array(obj["step_results"]).forEach((value, i) => {
    if (value !== null) {
      stepResults.set(i, StmtResult(object(value)));
    }
  });
  const stepErrors = /* @__PURE__ */ new Map();
  array(obj["step_errors"]).forEach((value, i) => {
    if (value !== null) {
      stepErrors.set(i, Error2(object(value)));
    }
  });
  return { stepResults, stepErrors };
}
function CursorEntry(obj) {
  const type = string(obj["type"]);
  if (type === "step_begin") {
    const step = number(obj["step"]);
    const cols = arrayObjectsMap(obj["cols"], Col);
    return { type: "step_begin", step, cols };
  } else if (type === "step_end") {
    const affectedRowCount = number(obj["affected_row_count"]);
    const lastInsertRowidStr = stringOpt(obj["last_insert_rowid"]);
    const lastInsertRowid = lastInsertRowidStr !== void 0 ? BigInt(lastInsertRowidStr) : void 0;
    return { type: "step_end", affectedRowCount, lastInsertRowid };
  } else if (type === "step_error") {
    const step = number(obj["step"]);
    const error = Error2(object(obj["error"]));
    return { type: "step_error", step, error };
  } else if (type === "row") {
    const row = arrayObjectsMap(obj["row"], Value3);
    return { type: "row", row };
  } else if (type === "error") {
    const error = Error2(object(obj["error"]));
    return { type: "error", error };
  } else {
    throw new ProtoError("Unexpected type of CursorEntry");
  }
}
function DescribeResult(obj) {
  const params = arrayObjectsMap(obj["params"], DescribeParam);
  const cols = arrayObjectsMap(obj["cols"], DescribeCol);
  const isExplain = boolean(obj["is_explain"]);
  const isReadonly = boolean(obj["is_readonly"]);
  return { params, cols, isExplain, isReadonly };
}
function DescribeParam(obj) {
  const name = stringOpt(obj["name"]);
  return { name };
}
function DescribeCol(obj) {
  const name = string(obj["name"]);
  const decltype = stringOpt(obj["decltype"]);
  return { name, decltype };
}
function Value3(obj) {
  const type = string(obj["type"]);
  if (type === "null") {
    return null;
  } else if (type === "integer") {
    const value = string(obj["value"]);
    return BigInt(value);
  } else if (type === "float") {
    return number(obj["value"]);
  } else if (type === "text") {
    return string(obj["value"]);
  } else if (type === "blob") {
    return gBase64.toUint8Array(string(obj["base64"]));
  } else {
    throw new ProtoError("Unexpected type of Value");
  }
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/ws/json_decode.js
function ServerMsg(obj) {
  const type = string(obj["type"]);
  if (type === "hello_ok") {
    return { type: "hello_ok" };
  } else if (type === "hello_error") {
    const error = Error2(object(obj["error"]));
    return { type: "hello_error", error };
  } else if (type === "response_ok") {
    const requestId = number(obj["request_id"]);
    const response = Response(object(obj["response"]));
    return { type: "response_ok", requestId, response };
  } else if (type === "response_error") {
    const requestId = number(obj["request_id"]);
    const error = Error2(object(obj["error"]));
    return { type: "response_error", requestId, error };
  } else {
    throw new ProtoError("Unexpected type of ServerMsg");
  }
}
function Response(obj) {
  const type = string(obj["type"]);
  if (type === "open_stream") {
    return { type: "open_stream" };
  } else if (type === "close_stream") {
    return { type: "close_stream" };
  } else if (type === "execute") {
    const result = StmtResult(object(obj["result"]));
    return { type: "execute", result };
  } else if (type === "batch") {
    const result = BatchResult(object(obj["result"]));
    return { type: "batch", result };
  } else if (type === "open_cursor") {
    return { type: "open_cursor" };
  } else if (type === "close_cursor") {
    return { type: "close_cursor" };
  } else if (type === "fetch_cursor") {
    const entries = arrayObjectsMap(obj["entries"], CursorEntry);
    const done = boolean(obj["done"]);
    return { type: "fetch_cursor", entries, done };
  } else if (type === "sequence") {
    return { type: "sequence" };
  } else if (type === "describe") {
    const result = DescribeResult(object(obj["result"]));
    return { type: "describe", result };
  } else if (type === "store_sql") {
    return { type: "store_sql" };
  } else if (type === "close_sql") {
    return { type: "close_sql" };
  } else if (type === "get_autocommit") {
    const isAutocommit = boolean(obj["is_autocommit"]);
    return { type: "get_autocommit", isAutocommit };
  } else {
    throw new ProtoError("Unexpected type of Response");
  }
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/shared/protobuf_decode.js
var Error3 = {
  default() {
    return { message: "", code: void 0 };
  },
  1(r, msg) {
    msg.message = r.string();
  },
  2(r, msg) {
    msg.code = r.string();
  }
};
var StmtResult2 = {
  default() {
    return {
      cols: [],
      rows: [],
      affectedRowCount: 0,
      lastInsertRowid: void 0
    };
  },
  1(r, msg) {
    msg.cols.push(r.message(Col2));
  },
  2(r, msg) {
    msg.rows.push(r.message(Row));
  },
  3(r, msg) {
    msg.affectedRowCount = Number(r.uint64());
  },
  4(r, msg) {
    msg.lastInsertRowid = r.sint64();
  }
};
var Col2 = {
  default() {
    return { name: void 0, decltype: void 0 };
  },
  1(r, msg) {
    msg.name = r.string();
  },
  2(r, msg) {
    msg.decltype = r.string();
  }
};
var Row = {
  default() {
    return [];
  },
  1(r, msg) {
    msg.push(r.message(Value4));
  }
};
var BatchResult2 = {
  default() {
    return { stepResults: /* @__PURE__ */ new Map(), stepErrors: /* @__PURE__ */ new Map() };
  },
  1(r, msg) {
    const [key, value] = r.message(BatchResultStepResult);
    msg.stepResults.set(key, value);
  },
  2(r, msg) {
    const [key, value] = r.message(BatchResultStepError);
    msg.stepErrors.set(key, value);
  }
};
var BatchResultStepResult = {
  default() {
    return [0, StmtResult2.default()];
  },
  1(r, msg) {
    msg[0] = r.uint32();
  },
  2(r, msg) {
    msg[1] = r.message(StmtResult2);
  }
};
var BatchResultStepError = {
  default() {
    return [0, Error3.default()];
  },
  1(r, msg) {
    msg[0] = r.uint32();
  },
  2(r, msg) {
    msg[1] = r.message(Error3);
  }
};
var CursorEntry2 = {
  default() {
    return { type: "none" };
  },
  1(r) {
    return r.message(StepBeginEntry);
  },
  2(r) {
    return r.message(StepEndEntry);
  },
  3(r) {
    return r.message(StepErrorEntry);
  },
  4(r) {
    return { type: "row", row: r.message(Row) };
  },
  5(r) {
    return { type: "error", error: r.message(Error3) };
  }
};
var StepBeginEntry = {
  default() {
    return { type: "step_begin", step: 0, cols: [] };
  },
  1(r, msg) {
    msg.step = r.uint32();
  },
  2(r, msg) {
    msg.cols.push(r.message(Col2));
  }
};
var StepEndEntry = {
  default() {
    return {
      type: "step_end",
      affectedRowCount: 0,
      lastInsertRowid: void 0
    };
  },
  1(r, msg) {
    msg.affectedRowCount = r.uint32();
  },
  2(r, msg) {
    msg.lastInsertRowid = r.uint64();
  }
};
var StepErrorEntry = {
  default() {
    return {
      type: "step_error",
      step: 0,
      error: Error3.default()
    };
  },
  1(r, msg) {
    msg.step = r.uint32();
  },
  2(r, msg) {
    msg.error = r.message(Error3);
  }
};
var DescribeResult2 = {
  default() {
    return {
      params: [],
      cols: [],
      isExplain: false,
      isReadonly: false
    };
  },
  1(r, msg) {
    msg.params.push(r.message(DescribeParam2));
  },
  2(r, msg) {
    msg.cols.push(r.message(DescribeCol2));
  },
  3(r, msg) {
    msg.isExplain = r.bool();
  },
  4(r, msg) {
    msg.isReadonly = r.bool();
  }
};
var DescribeParam2 = {
  default() {
    return { name: void 0 };
  },
  1(r, msg) {
    msg.name = r.string();
  }
};
var DescribeCol2 = {
  default() {
    return { name: "", decltype: void 0 };
  },
  1(r, msg) {
    msg.name = r.string();
  },
  2(r, msg) {
    msg.decltype = r.string();
  }
};
var Value4 = {
  default() {
    return void 0;
  },
  1(r) {
    return null;
  },
  2(r) {
    return r.sint64();
  },
  3(r) {
    return r.double();
  },
  4(r) {
    return r.string();
  },
  5(r) {
    return r.bytes();
  }
};

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/ws/protobuf_decode.js
var ServerMsg2 = {
  default() {
    return { type: "none" };
  },
  1(r) {
    return { type: "hello_ok" };
  },
  2(r) {
    return r.message(HelloErrorMsg);
  },
  3(r) {
    return r.message(ResponseOkMsg);
  },
  4(r) {
    return r.message(ResponseErrorMsg);
  }
};
var HelloErrorMsg = {
  default() {
    return { type: "hello_error", error: Error3.default() };
  },
  1(r, msg) {
    msg.error = r.message(Error3);
  }
};
var ResponseErrorMsg = {
  default() {
    return { type: "response_error", requestId: 0, error: Error3.default() };
  },
  1(r, msg) {
    msg.requestId = r.int32();
  },
  2(r, msg) {
    msg.error = r.message(Error3);
  }
};
var ResponseOkMsg = {
  default() {
    return {
      type: "response_ok",
      requestId: 0,
      response: { type: "none" }
    };
  },
  1(r, msg) {
    msg.requestId = r.int32();
  },
  2(r, msg) {
    msg.response = { type: "open_stream" };
  },
  3(r, msg) {
    msg.response = { type: "close_stream" };
  },
  4(r, msg) {
    msg.response = r.message(ExecuteResp);
  },
  5(r, msg) {
    msg.response = r.message(BatchResp);
  },
  6(r, msg) {
    msg.response = { type: "open_cursor" };
  },
  7(r, msg) {
    msg.response = { type: "close_cursor" };
  },
  8(r, msg) {
    msg.response = r.message(FetchCursorResp);
  },
  9(r, msg) {
    msg.response = { type: "sequence" };
  },
  10(r, msg) {
    msg.response = r.message(DescribeResp);
  },
  11(r, msg) {
    msg.response = { type: "store_sql" };
  },
  12(r, msg) {
    msg.response = { type: "close_sql" };
  },
  13(r, msg) {
    msg.response = r.message(GetAutocommitResp);
  }
};
var ExecuteResp = {
  default() {
    return { type: "execute", result: StmtResult2.default() };
  },
  1(r, msg) {
    msg.result = r.message(StmtResult2);
  }
};
var BatchResp = {
  default() {
    return { type: "batch", result: BatchResult2.default() };
  },
  1(r, msg) {
    msg.result = r.message(BatchResult2);
  }
};
var FetchCursorResp = {
  default() {
    return { type: "fetch_cursor", entries: [], done: false };
  },
  1(r, msg) {
    msg.entries.push(r.message(CursorEntry2));
  },
  2(r, msg) {
    msg.done = r.bool();
  }
};
var DescribeResp = {
  default() {
    return { type: "describe", result: DescribeResult2.default() };
  },
  1(r, msg) {
    msg.result = r.message(DescribeResult2);
  }
};
var GetAutocommitResp = {
  default() {
    return { type: "get_autocommit", isAutocommit: false };
  },
  1(r, msg) {
    msg.isAutocommit = r.bool();
  }
};

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/ws/client.js
var subprotocolsV2 = /* @__PURE__ */ new Map([
  ["hrana2", { version: 2, encoding: "json" }],
  ["hrana1", { version: 1, encoding: "json" }]
]);
var subprotocolsV3 = /* @__PURE__ */ new Map([
  ["hrana3-protobuf", { version: 3, encoding: "protobuf" }],
  ["hrana3", { version: 3, encoding: "json" }],
  ["hrana2", { version: 2, encoding: "json" }],
  ["hrana1", { version: 1, encoding: "json" }]
]);
var WsClient = class extends Client {
  #socket;
  // List of callbacks that we queue until the socket transitions from the CONNECTING to the OPEN state.
  #openCallbacks;
  // Have we already transitioned from CONNECTING to OPEN and fired the callbacks in #openCallbacks?
  #opened;
  // Stores the error that caused us to close the client (and the socket). If we are not closed, this is
  // `undefined`.
  #closed;
  // Have we received a response to our "hello" from the server?
  #recvdHello;
  // Subprotocol negotiated with the server. It is only available after the socket transitions to the OPEN
  // state.
  #subprotocol;
  // Has the `getVersion()` function been called? This is only used to validate that the API is used
  // correctly.
  #getVersionCalled;
  // A map from request id to the responses that we expect to receive from the server.
  #responseMap;
  // An allocator of request ids.
  #requestIdAlloc;
  // An allocator of stream ids.
  /** @private */
  _streamIdAlloc;
  // An allocator of cursor ids.
  /** @private */
  _cursorIdAlloc;
  // An allocator of SQL text ids.
  #sqlIdAlloc;
  /** @private */
  constructor(socket, jwt) {
    super();
    this.#socket = socket;
    this.#openCallbacks = [];
    this.#opened = false;
    this.#closed = void 0;
    this.#recvdHello = false;
    this.#subprotocol = void 0;
    this.#getVersionCalled = false;
    this.#responseMap = /* @__PURE__ */ new Map();
    this.#requestIdAlloc = new IdAlloc();
    this._streamIdAlloc = new IdAlloc();
    this._cursorIdAlloc = new IdAlloc();
    this.#sqlIdAlloc = new IdAlloc();
    this.#socket.binaryType = "arraybuffer";
    this.#socket.addEventListener("open", () => this.#onSocketOpen());
    this.#socket.addEventListener("close", (event) => this.#onSocketClose(event));
    this.#socket.addEventListener("error", (event) => this.#onSocketError(event));
    this.#socket.addEventListener("message", (event) => this.#onSocketMessage(event));
    this.#send({ type: "hello", jwt });
  }
  // Send (or enqueue to send) a message to the server.
  #send(msg) {
    if (this.#closed !== void 0) {
      throw new InternalError("Trying to send a message on a closed client");
    }
    if (this.#opened) {
      this.#sendToSocket(msg);
    } else {
      const openCallback = () => this.#sendToSocket(msg);
      const errorCallback = () => void 0;
      this.#openCallbacks.push({ openCallback, errorCallback });
    }
  }
  // The socket transitioned from CONNECTING to OPEN
  #onSocketOpen() {
    const protocol = this.#socket.protocol;
    if (protocol === void 0) {
      this.#setClosed(new ClientError("The `WebSocket.protocol` property is undefined. This most likely means that the WebSocket implementation provided by the environment is broken. If you are using Miniflare 2, please update to Miniflare 3, which fixes this problem."));
      return;
    } else if (protocol === "") {
      this.#subprotocol = { version: 1, encoding: "json" };
    } else {
      this.#subprotocol = subprotocolsV3.get(protocol);
      if (this.#subprotocol === void 0) {
        this.#setClosed(new ProtoError(`Unrecognized WebSocket subprotocol: ${JSON.stringify(protocol)}`));
        return;
      }
    }
    for (const callbacks of this.#openCallbacks) {
      callbacks.openCallback();
    }
    this.#openCallbacks.length = 0;
    this.#opened = true;
  }
  #sendToSocket(msg) {
    const encoding = this.#subprotocol.encoding;
    if (encoding === "json") {
      const jsonMsg = writeJsonObject(msg, ClientMsg);
      this.#socket.send(jsonMsg);
    } else if (encoding === "protobuf") {
      const protobufMsg = writeProtobufMessage(msg, ClientMsg2);
      this.#socket.send(protobufMsg);
    } else {
      throw impossible(encoding, "Impossible encoding");
    }
  }
  /** Get the protocol version negotiated with the server, possibly waiting until the socket is open. */
  getVersion() {
    return new Promise((versionCallback, errorCallback) => {
      this.#getVersionCalled = true;
      if (this.#closed !== void 0) {
        errorCallback(this.#closed);
      } else if (!this.#opened) {
        const openCallback = () => versionCallback(this.#subprotocol.version);
        this.#openCallbacks.push({ openCallback, errorCallback });
      } else {
        versionCallback(this.#subprotocol.version);
      }
    });
  }
  // Make sure that the negotiated version is at least `minVersion`.
  /** @private */
  _ensureVersion(minVersion, feature) {
    if (this.#subprotocol === void 0 || !this.#getVersionCalled) {
      throw new ProtocolVersionError(`${feature} is supported only on protocol version ${minVersion} and higher, but the version supported by the WebSocket server is not yet known. Use Client.getVersion() to wait until the version is available.`);
    } else if (this.#subprotocol.version < minVersion) {
      throw new ProtocolVersionError(`${feature} is supported on protocol version ${minVersion} and higher, but the WebSocket server only supports version ${this.#subprotocol.version}`);
    }
  }
  // Send a request to the server and invoke a callback when we get the response.
  /** @private */
  _sendRequest(request, callbacks) {
    if (this.#closed !== void 0) {
      callbacks.errorCallback(new ClosedError("Client is closed", this.#closed));
      return;
    }
    const requestId = this.#requestIdAlloc.alloc();
    this.#responseMap.set(requestId, { ...callbacks, type: request.type });
    this.#send({ type: "request", requestId, request });
  }
  // The socket encountered an error.
  #onSocketError(event) {
    const eventMessage = event.message;
    const message = eventMessage ?? "WebSocket was closed due to an error";
    this.#setClosed(new WebSocketError(message));
  }
  // The socket was closed.
  #onSocketClose(event) {
    let message = `WebSocket was closed with code ${event.code}`;
    if (event.reason) {
      message += `: ${event.reason}`;
    }
    this.#setClosed(new WebSocketError(message));
  }
  // Close the client with the given error.
  #setClosed(error) {
    if (this.#closed !== void 0) {
      return;
    }
    this.#closed = error;
    for (const callbacks of this.#openCallbacks) {
      callbacks.errorCallback(error);
    }
    this.#openCallbacks.length = 0;
    for (const [requestId, responseState] of this.#responseMap.entries()) {
      responseState.errorCallback(error);
      this.#requestIdAlloc.free(requestId);
    }
    this.#responseMap.clear();
    this.#socket.close();
  }
  // We received a message from the socket.
  #onSocketMessage(event) {
    if (this.#closed !== void 0) {
      return;
    }
    try {
      let msg;
      const encoding = this.#subprotocol.encoding;
      if (encoding === "json") {
        if (typeof event.data !== "string") {
          this.#socket.close(3003, "Only text messages are accepted with JSON encoding");
          this.#setClosed(new ProtoError("Received non-text message from server with JSON encoding"));
          return;
        }
        msg = readJsonObject(JSON.parse(event.data), ServerMsg);
      } else if (encoding === "protobuf") {
        if (!(event.data instanceof ArrayBuffer)) {
          this.#socket.close(3003, "Only binary messages are accepted with Protobuf encoding");
          this.#setClosed(new ProtoError("Received non-binary message from server with Protobuf encoding"));
          return;
        }
        msg = readProtobufMessage(new Uint8Array(event.data), ServerMsg2);
      } else {
        throw impossible(encoding, "Impossible encoding");
      }
      this.#handleMsg(msg);
    } catch (e) {
      this.#socket.close(3007, "Could not handle message");
      this.#setClosed(e);
    }
  }
  // Handle a message from the server.
  #handleMsg(msg) {
    if (msg.type === "none") {
      throw new ProtoError("Received an unrecognized ServerMsg");
    } else if (msg.type === "hello_ok" || msg.type === "hello_error") {
      if (this.#recvdHello) {
        throw new ProtoError("Received a duplicated hello response");
      }
      this.#recvdHello = true;
      if (msg.type === "hello_error") {
        throw errorFromProto(msg.error);
      }
      return;
    } else if (!this.#recvdHello) {
      throw new ProtoError("Received a non-hello message before a hello response");
    }
    if (msg.type === "response_ok") {
      const requestId = msg.requestId;
      const responseState = this.#responseMap.get(requestId);
      this.#responseMap.delete(requestId);
      if (responseState === void 0) {
        throw new ProtoError("Received unexpected OK response");
      }
      this.#requestIdAlloc.free(requestId);
      try {
        if (responseState.type !== msg.response.type) {
          console.dir({ responseState, msg });
          throw new ProtoError("Received unexpected type of response");
        }
        responseState.responseCallback(msg.response);
      } catch (e) {
        responseState.errorCallback(e);
        throw e;
      }
    } else if (msg.type === "response_error") {
      const requestId = msg.requestId;
      const responseState = this.#responseMap.get(requestId);
      this.#responseMap.delete(requestId);
      if (responseState === void 0) {
        throw new ProtoError("Received unexpected error response");
      }
      this.#requestIdAlloc.free(requestId);
      responseState.errorCallback(errorFromProto(msg.error));
    } else {
      throw impossible(msg, "Impossible ServerMsg type");
    }
  }
  /** Open a {@link WsStream}, a stream for executing SQL statements. */
  openStream() {
    return WsStream.open(this);
  }
  /** Cache a SQL text on the server. This requires protocol version 2 or higher. */
  storeSql(sql2) {
    this._ensureVersion(2, "storeSql()");
    const sqlId = this.#sqlIdAlloc.alloc();
    const sqlObj = new Sql(this, sqlId);
    const responseCallback = () => void 0;
    const errorCallback = (e) => sqlObj._setClosed(e);
    const request = { type: "store_sql", sqlId, sql: sql2 };
    this._sendRequest(request, { responseCallback, errorCallback });
    return sqlObj;
  }
  /** @private */
  _closeSql(sqlId) {
    if (this.#closed !== void 0) {
      return;
    }
    const responseCallback = () => this.#sqlIdAlloc.free(sqlId);
    const errorCallback = (e) => this.#setClosed(e);
    const request = { type: "close_sql", sqlId };
    this._sendRequest(request, { responseCallback, errorCallback });
  }
  /** Close the client and the WebSocket. */
  close() {
    this.#setClosed(new ClientError("Client was manually closed"));
  }
  /** True if the client is closed. */
  get closed() {
    return this.#closed !== void 0;
  }
};

// node_modules/.pnpm/@libsql+isomorphic-fetch@0.2.5/node_modules/@libsql/isomorphic-fetch/web.js
var _fetch = fetch;
var _Request = Request;
var _Headers = Headers;

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/queue_microtask.js
var _queueMicrotask;
if (typeof queueMicrotask !== "undefined") {
  _queueMicrotask = queueMicrotask;
} else {
  const resolved = Promise.resolve();
  _queueMicrotask = (callback) => {
    resolved.then(callback);
  };
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/byte_queue.js
var ByteQueue = class {
  #array;
  #shiftPos;
  #pushPos;
  constructor(initialCap) {
    this.#array = new Uint8Array(new ArrayBuffer(initialCap));
    this.#shiftPos = 0;
    this.#pushPos = 0;
  }
  get length() {
    return this.#pushPos - this.#shiftPos;
  }
  data() {
    return this.#array.slice(this.#shiftPos, this.#pushPos);
  }
  push(chunk) {
    this.#ensurePush(chunk.byteLength);
    this.#array.set(chunk, this.#pushPos);
    this.#pushPos += chunk.byteLength;
  }
  #ensurePush(pushLength) {
    if (this.#pushPos + pushLength <= this.#array.byteLength) {
      return;
    }
    const filledLength = this.#pushPos - this.#shiftPos;
    if (filledLength + pushLength <= this.#array.byteLength && 2 * this.#pushPos >= this.#array.byteLength) {
      this.#array.copyWithin(0, this.#shiftPos, this.#pushPos);
    } else {
      let newCap = this.#array.byteLength;
      do {
        newCap *= 2;
      } while (filledLength + pushLength > newCap);
      const newArray = new Uint8Array(new ArrayBuffer(newCap));
      newArray.set(this.#array.slice(this.#shiftPos, this.#pushPos), 0);
      this.#array = newArray;
    }
    this.#pushPos = filledLength;
    this.#shiftPos = 0;
  }
  shift(length) {
    this.#shiftPos += length;
  }
};

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/http/json_decode.js
function PipelineRespBody(obj) {
  const baton = stringOpt(obj["baton"]);
  const baseUrl = stringOpt(obj["base_url"]);
  const results = arrayObjectsMap(obj["results"], StreamResult);
  return { baton, baseUrl, results };
}
function StreamResult(obj) {
  const type = string(obj["type"]);
  if (type === "ok") {
    const response = StreamResponse(object(obj["response"]));
    return { type: "ok", response };
  } else if (type === "error") {
    const error = Error2(object(obj["error"]));
    return { type: "error", error };
  } else {
    throw new ProtoError("Unexpected type of StreamResult");
  }
}
function StreamResponse(obj) {
  const type = string(obj["type"]);
  if (type === "close") {
    return { type: "close" };
  } else if (type === "execute") {
    const result = StmtResult(object(obj["result"]));
    return { type: "execute", result };
  } else if (type === "batch") {
    const result = BatchResult(object(obj["result"]));
    return { type: "batch", result };
  } else if (type === "sequence") {
    return { type: "sequence" };
  } else if (type === "describe") {
    const result = DescribeResult(object(obj["result"]));
    return { type: "describe", result };
  } else if (type === "store_sql") {
    return { type: "store_sql" };
  } else if (type === "close_sql") {
    return { type: "close_sql" };
  } else if (type === "get_autocommit") {
    const isAutocommit = boolean(obj["is_autocommit"]);
    return { type: "get_autocommit", isAutocommit };
  } else {
    throw new ProtoError("Unexpected type of StreamResponse");
  }
}
function CursorRespBody(obj) {
  const baton = stringOpt(obj["baton"]);
  const baseUrl = stringOpt(obj["base_url"]);
  return { baton, baseUrl };
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/http/protobuf_decode.js
var PipelineRespBody2 = {
  default() {
    return { baton: void 0, baseUrl: void 0, results: [] };
  },
  1(r, msg) {
    msg.baton = r.string();
  },
  2(r, msg) {
    msg.baseUrl = r.string();
  },
  3(r, msg) {
    msg.results.push(r.message(StreamResult2));
  }
};
var StreamResult2 = {
  default() {
    return { type: "none" };
  },
  1(r) {
    return { type: "ok", response: r.message(StreamResponse2) };
  },
  2(r) {
    return { type: "error", error: r.message(Error3) };
  }
};
var StreamResponse2 = {
  default() {
    return { type: "none" };
  },
  1(r) {
    return { type: "close" };
  },
  2(r) {
    return r.message(ExecuteStreamResp);
  },
  3(r) {
    return r.message(BatchStreamResp);
  },
  4(r) {
    return { type: "sequence" };
  },
  5(r) {
    return r.message(DescribeStreamResp);
  },
  6(r) {
    return { type: "store_sql" };
  },
  7(r) {
    return { type: "close_sql" };
  },
  8(r) {
    return r.message(GetAutocommitStreamResp);
  }
};
var ExecuteStreamResp = {
  default() {
    return { type: "execute", result: StmtResult2.default() };
  },
  1(r, msg) {
    msg.result = r.message(StmtResult2);
  }
};
var BatchStreamResp = {
  default() {
    return { type: "batch", result: BatchResult2.default() };
  },
  1(r, msg) {
    msg.result = r.message(BatchResult2);
  }
};
var DescribeStreamResp = {
  default() {
    return { type: "describe", result: DescribeResult2.default() };
  },
  1(r, msg) {
    msg.result = r.message(DescribeResult2);
  }
};
var GetAutocommitStreamResp = {
  default() {
    return { type: "get_autocommit", isAutocommit: false };
  },
  1(r, msg) {
    msg.isAutocommit = r.bool();
  }
};
var CursorRespBody2 = {
  default() {
    return { baton: void 0, baseUrl: void 0 };
  },
  1(r, msg) {
    msg.baton = r.string();
  },
  2(r, msg) {
    msg.baseUrl = r.string();
  }
};

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/http/cursor.js
var HttpCursor = class extends Cursor {
  #stream;
  #encoding;
  #reader;
  #queue;
  #closed;
  #done;
  /** @private */
  constructor(stream, encoding) {
    super();
    this.#stream = stream;
    this.#encoding = encoding;
    this.#reader = void 0;
    this.#queue = new ByteQueue(16 * 1024);
    this.#closed = void 0;
    this.#done = false;
  }
  async open(response) {
    if (response.body === null) {
      throw new ProtoError("No response body for cursor request");
    }
    this.#reader = response.body.getReader();
    const respBody = await this.#nextItem(CursorRespBody, CursorRespBody2);
    if (respBody === void 0) {
      throw new ProtoError("Empty response to cursor request");
    }
    return respBody;
  }
  /** Fetch the next entry from the cursor. */
  next() {
    return this.#nextItem(CursorEntry, CursorEntry2);
  }
  /** Close the cursor. */
  close() {
    this._setClosed(new ClientError("Cursor was manually closed"));
  }
  /** @private */
  _setClosed(error) {
    if (this.#closed !== void 0) {
      return;
    }
    this.#closed = error;
    this.#stream._cursorClosed(this);
    if (this.#reader !== void 0) {
      this.#reader.cancel();
    }
  }
  /** True if the cursor is closed. */
  get closed() {
    return this.#closed !== void 0;
  }
  async #nextItem(jsonFun, protobufDef) {
    for (; ; ) {
      if (this.#done) {
        return void 0;
      } else if (this.#closed !== void 0) {
        throw new ClosedError("Cursor is closed", this.#closed);
      }
      if (this.#encoding === "json") {
        const jsonData = this.#parseItemJson();
        if (jsonData !== void 0) {
          const jsonText = new TextDecoder().decode(jsonData);
          const jsonValue = JSON.parse(jsonText);
          return readJsonObject(jsonValue, jsonFun);
        }
      } else if (this.#encoding === "protobuf") {
        const protobufData = this.#parseItemProtobuf();
        if (protobufData !== void 0) {
          return readProtobufMessage(protobufData, protobufDef);
        }
      } else {
        throw impossible(this.#encoding, "Impossible encoding");
      }
      if (this.#reader === void 0) {
        throw new InternalError("Attempted to read from HTTP cursor before it was opened");
      }
      const { value, done } = await this.#reader.read();
      if (done && this.#queue.length === 0) {
        this.#done = true;
      } else if (done) {
        throw new ProtoError("Unexpected end of cursor stream");
      } else {
        this.#queue.push(value);
      }
    }
  }
  #parseItemJson() {
    const data = this.#queue.data();
    const newlineByte = 10;
    const newlinePos = data.indexOf(newlineByte);
    if (newlinePos < 0) {
      return void 0;
    }
    const jsonData = data.slice(0, newlinePos);
    this.#queue.shift(newlinePos + 1);
    return jsonData;
  }
  #parseItemProtobuf() {
    const data = this.#queue.data();
    let varintValue = 0;
    let varintLength = 0;
    for (; ; ) {
      if (varintLength >= data.byteLength) {
        return void 0;
      }
      const byte = data[varintLength];
      varintValue |= (byte & 127) << 7 * varintLength;
      varintLength += 1;
      if (!(byte & 128)) {
        break;
      }
    }
    if (data.byteLength < varintLength + varintValue) {
      return void 0;
    }
    const protobufData = data.slice(varintLength, varintLength + varintValue);
    this.#queue.shift(varintLength + varintValue);
    return protobufData;
  }
};

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/http/json_encode.js
function PipelineReqBody(w, msg) {
  if (msg.baton !== void 0) {
    w.string("baton", msg.baton);
  }
  w.arrayObjects("requests", msg.requests, StreamRequest);
}
function StreamRequest(w, msg) {
  w.stringRaw("type", msg.type);
  if (msg.type === "close") {
  } else if (msg.type === "execute") {
    w.object("stmt", msg.stmt, Stmt2);
  } else if (msg.type === "batch") {
    w.object("batch", msg.batch, Batch2);
  } else if (msg.type === "sequence") {
    if (msg.sql !== void 0) {
      w.string("sql", msg.sql);
    }
    if (msg.sqlId !== void 0) {
      w.number("sql_id", msg.sqlId);
    }
  } else if (msg.type === "describe") {
    if (msg.sql !== void 0) {
      w.string("sql", msg.sql);
    }
    if (msg.sqlId !== void 0) {
      w.number("sql_id", msg.sqlId);
    }
  } else if (msg.type === "store_sql") {
    w.number("sql_id", msg.sqlId);
    w.string("sql", msg.sql);
  } else if (msg.type === "close_sql") {
    w.number("sql_id", msg.sqlId);
  } else if (msg.type === "get_autocommit") {
  } else {
    throw impossible(msg, "Impossible type of StreamRequest");
  }
}
function CursorReqBody(w, msg) {
  if (msg.baton !== void 0) {
    w.string("baton", msg.baton);
  }
  w.object("batch", msg.batch, Batch2);
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/http/protobuf_encode.js
function PipelineReqBody2(w, msg) {
  if (msg.baton !== void 0) {
    w.string(1, msg.baton);
  }
  for (const req of msg.requests) {
    w.message(2, req, StreamRequest2);
  }
}
function StreamRequest2(w, msg) {
  if (msg.type === "close") {
    w.message(1, msg, CloseStreamReq2);
  } else if (msg.type === "execute") {
    w.message(2, msg, ExecuteStreamReq);
  } else if (msg.type === "batch") {
    w.message(3, msg, BatchStreamReq);
  } else if (msg.type === "sequence") {
    w.message(4, msg, SequenceStreamReq);
  } else if (msg.type === "describe") {
    w.message(5, msg, DescribeStreamReq);
  } else if (msg.type === "store_sql") {
    w.message(6, msg, StoreSqlStreamReq);
  } else if (msg.type === "close_sql") {
    w.message(7, msg, CloseSqlStreamReq);
  } else if (msg.type === "get_autocommit") {
    w.message(8, msg, GetAutocommitStreamReq);
  } else {
    throw impossible(msg, "Impossible type of StreamRequest");
  }
}
function CloseStreamReq2(_w, _msg) {
}
function ExecuteStreamReq(w, msg) {
  w.message(1, msg.stmt, Stmt3);
}
function BatchStreamReq(w, msg) {
  w.message(1, msg.batch, Batch3);
}
function SequenceStreamReq(w, msg) {
  if (msg.sql !== void 0) {
    w.string(1, msg.sql);
  }
  if (msg.sqlId !== void 0) {
    w.int32(2, msg.sqlId);
  }
}
function DescribeStreamReq(w, msg) {
  if (msg.sql !== void 0) {
    w.string(1, msg.sql);
  }
  if (msg.sqlId !== void 0) {
    w.int32(2, msg.sqlId);
  }
}
function StoreSqlStreamReq(w, msg) {
  w.int32(1, msg.sqlId);
  w.string(2, msg.sql);
}
function CloseSqlStreamReq(w, msg) {
  w.int32(1, msg.sqlId);
}
function GetAutocommitStreamReq(_w, _msg) {
}
function CursorReqBody2(w, msg) {
  if (msg.baton !== void 0) {
    w.string(1, msg.baton);
  }
  w.message(2, msg.batch, Batch3);
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/http/stream.js
var HttpStream = class extends Stream {
  #client;
  #baseUrl;
  #jwt;
  #fetch;
  #baton;
  #queue;
  #flushing;
  #cursor;
  #closing;
  #closeQueued;
  #closed;
  #sqlIdAlloc;
  /** @private */
  constructor(client, baseUrl, jwt, customFetch) {
    super(client.intMode);
    this.#client = client;
    this.#baseUrl = baseUrl.toString();
    this.#jwt = jwt;
    this.#fetch = customFetch;
    this.#baton = void 0;
    this.#queue = new Queue();
    this.#flushing = false;
    this.#closing = false;
    this.#closeQueued = false;
    this.#closed = void 0;
    this.#sqlIdAlloc = new IdAlloc();
  }
  /** Get the {@link HttpClient} object that this stream belongs to. */
  client() {
    return this.#client;
  }
  /** @private */
  _sqlOwner() {
    return this;
  }
  /** Cache a SQL text on the server. */
  storeSql(sql2) {
    const sqlId = this.#sqlIdAlloc.alloc();
    this.#sendStreamRequest({ type: "store_sql", sqlId, sql: sql2 }).then(() => void 0, (error) => this._setClosed(error));
    return new Sql(this, sqlId);
  }
  /** @private */
  _closeSql(sqlId) {
    if (this.#closed !== void 0) {
      return;
    }
    this.#sendStreamRequest({ type: "close_sql", sqlId }).then(() => this.#sqlIdAlloc.free(sqlId), (error) => this._setClosed(error));
  }
  /** @private */
  _execute(stmt) {
    return this.#sendStreamRequest({ type: "execute", stmt }).then((response) => {
      return response.result;
    });
  }
  /** @private */
  _batch(batch) {
    return this.#sendStreamRequest({ type: "batch", batch }).then((response) => {
      return response.result;
    });
  }
  /** @private */
  _describe(protoSql) {
    return this.#sendStreamRequest({
      type: "describe",
      sql: protoSql.sql,
      sqlId: protoSql.sqlId
    }).then((response) => {
      return response.result;
    });
  }
  /** @private */
  _sequence(protoSql) {
    return this.#sendStreamRequest({
      type: "sequence",
      sql: protoSql.sql,
      sqlId: protoSql.sqlId
    }).then((_response) => {
      return void 0;
    });
  }
  /** Check whether the SQL connection underlying this stream is in autocommit state (i.e., outside of an
   * explicit transaction). This requires protocol version 3 or higher.
   */
  getAutocommit() {
    this.#client._ensureVersion(3, "getAutocommit()");
    return this.#sendStreamRequest({
      type: "get_autocommit"
    }).then((response) => {
      return response.isAutocommit;
    });
  }
  #sendStreamRequest(request) {
    return new Promise((responseCallback, errorCallback) => {
      this.#pushToQueue({ type: "pipeline", request, responseCallback, errorCallback });
    });
  }
  /** @private */
  _openCursor(batch) {
    return new Promise((cursorCallback, errorCallback) => {
      this.#pushToQueue({ type: "cursor", batch, cursorCallback, errorCallback });
    });
  }
  /** @private */
  _cursorClosed(cursor) {
    if (cursor !== this.#cursor) {
      throw new InternalError("Cursor was closed, but it was not associated with the stream");
    }
    this.#cursor = void 0;
    _queueMicrotask(() => this.#flushQueue());
  }
  /** Immediately close the stream. */
  close() {
    this._setClosed(new ClientError("Stream was manually closed"));
  }
  /** Gracefully close the stream. */
  closeGracefully() {
    this.#closing = true;
    _queueMicrotask(() => this.#flushQueue());
  }
  /** True if the stream is closed. */
  get closed() {
    return this.#closed !== void 0 || this.#closing;
  }
  /** @private */
  _setClosed(error) {
    if (this.#closed !== void 0) {
      return;
    }
    this.#closed = error;
    if (this.#cursor !== void 0) {
      this.#cursor._setClosed(error);
    }
    this.#client._streamClosed(this);
    for (; ; ) {
      const entry = this.#queue.shift();
      if (entry !== void 0) {
        entry.errorCallback(error);
      } else {
        break;
      }
    }
    if ((this.#baton !== void 0 || this.#flushing) && !this.#closeQueued) {
      this.#queue.push({
        type: "pipeline",
        request: { type: "close" },
        responseCallback: () => void 0,
        errorCallback: () => void 0
      });
      this.#closeQueued = true;
      _queueMicrotask(() => this.#flushQueue());
    }
  }
  #pushToQueue(entry) {
    if (this.#closed !== void 0) {
      throw new ClosedError("Stream is closed", this.#closed);
    } else if (this.#closing) {
      throw new ClosedError("Stream is closing", void 0);
    } else {
      this.#queue.push(entry);
      _queueMicrotask(() => this.#flushQueue());
    }
  }
  #flushQueue() {
    if (this.#flushing || this.#cursor !== void 0) {
      return;
    }
    if (this.#closing && this.#queue.length === 0) {
      this._setClosed(new ClientError("Stream was gracefully closed"));
      return;
    }
    const endpoint = this.#client._endpoint;
    if (endpoint === void 0) {
      this.#client._endpointPromise.then(() => this.#flushQueue(), (error) => this._setClosed(error));
      return;
    }
    const firstEntry = this.#queue.shift();
    if (firstEntry === void 0) {
      return;
    } else if (firstEntry.type === "pipeline") {
      const pipeline = [firstEntry];
      for (; ; ) {
        const entry = this.#queue.first();
        if (entry !== void 0 && entry.type === "pipeline") {
          pipeline.push(entry);
          this.#queue.shift();
        } else if (entry === void 0 && this.#closing && !this.#closeQueued) {
          pipeline.push({
            type: "pipeline",
            request: { type: "close" },
            responseCallback: () => void 0,
            errorCallback: () => void 0
          });
          this.#closeQueued = true;
          break;
        } else {
          break;
        }
      }
      this.#flushPipeline(endpoint, pipeline);
    } else if (firstEntry.type === "cursor") {
      this.#flushCursor(endpoint, firstEntry);
    } else {
      throw impossible(firstEntry, "Impossible type of QueueEntry");
    }
  }
  #flushPipeline(endpoint, pipeline) {
    this.#flush(() => this.#createPipelineRequest(pipeline, endpoint), (resp) => decodePipelineResponse(resp, endpoint.encoding), (respBody) => respBody.baton, (respBody) => respBody.baseUrl, (respBody) => handlePipelineResponse(pipeline, respBody), (error) => pipeline.forEach((entry) => entry.errorCallback(error)));
  }
  #flushCursor(endpoint, entry) {
    const cursor = new HttpCursor(this, endpoint.encoding);
    this.#cursor = cursor;
    this.#flush(() => this.#createCursorRequest(entry, endpoint), (resp) => cursor.open(resp), (respBody) => respBody.baton, (respBody) => respBody.baseUrl, (_respBody) => entry.cursorCallback(cursor), (error) => entry.errorCallback(error));
  }
  #flush(createRequest, decodeResponse, getBaton, getBaseUrl, handleResponse, handleError) {
    let promise;
    try {
      const request = createRequest();
      const fetch2 = this.#fetch;
      promise = fetch2(request);
    } catch (error) {
      promise = Promise.reject(error);
    }
    this.#flushing = true;
    promise.then((resp) => {
      if (!resp.ok) {
        return errorFromResponse(resp).then((error) => {
          throw error;
        });
      }
      return decodeResponse(resp);
    }).then((r) => {
      this.#baton = getBaton(r);
      this.#baseUrl = getBaseUrl(r) ?? this.#baseUrl;
      handleResponse(r);
    }).catch((error) => {
      this._setClosed(error);
      handleError(error);
    }).finally(() => {
      this.#flushing = false;
      this.#flushQueue();
    });
  }
  #createPipelineRequest(pipeline, endpoint) {
    return this.#createRequest(new URL(endpoint.pipelinePath, this.#baseUrl), {
      baton: this.#baton,
      requests: pipeline.map((entry) => entry.request)
    }, endpoint.encoding, PipelineReqBody, PipelineReqBody2);
  }
  #createCursorRequest(entry, endpoint) {
    if (endpoint.cursorPath === void 0) {
      throw new ProtocolVersionError(`Cursors are supported only on protocol version 3 and higher, but the HTTP server only supports version ${endpoint.version}.`);
    }
    return this.#createRequest(new URL(endpoint.cursorPath, this.#baseUrl), {
      baton: this.#baton,
      batch: entry.batch
    }, endpoint.encoding, CursorReqBody, CursorReqBody2);
  }
  #createRequest(url, reqBody, encoding, jsonFun, protobufFun) {
    let bodyData;
    let contentType;
    if (encoding === "json") {
      bodyData = writeJsonObject(reqBody, jsonFun);
      contentType = "application/json";
    } else if (encoding === "protobuf") {
      bodyData = writeProtobufMessage(reqBody, protobufFun);
      contentType = "application/x-protobuf";
    } else {
      throw impossible(encoding, "Impossible encoding");
    }
    const headers = new _Headers();
    headers.set("content-type", contentType);
    if (this.#jwt !== void 0) {
      headers.set("authorization", `Bearer ${this.#jwt}`);
    }
    return new _Request(url.toString(), { method: "POST", headers, body: bodyData });
  }
};
function handlePipelineResponse(pipeline, respBody) {
  if (respBody.results.length !== pipeline.length) {
    throw new ProtoError("Server returned unexpected number of pipeline results");
  }
  for (let i = 0; i < pipeline.length; ++i) {
    const result = respBody.results[i];
    const entry = pipeline[i];
    if (result.type === "ok") {
      if (result.response.type !== entry.request.type) {
        throw new ProtoError("Received unexpected type of response");
      }
      entry.responseCallback(result.response);
    } else if (result.type === "error") {
      entry.errorCallback(errorFromProto(result.error));
    } else if (result.type === "none") {
      throw new ProtoError("Received unrecognized type of StreamResult");
    } else {
      throw impossible(result, "Received impossible type of StreamResult");
    }
  }
}
async function decodePipelineResponse(resp, encoding) {
  if (encoding === "json") {
    const respJson = await resp.json();
    return readJsonObject(respJson, PipelineRespBody);
  } else if (encoding === "protobuf") {
    const respData = await resp.arrayBuffer();
    return readProtobufMessage(new Uint8Array(respData), PipelineRespBody2);
  } else {
    throw impossible(encoding, "Impossible encoding");
  }
}
async function errorFromResponse(resp) {
  const respType = resp.headers.get("content-type") ?? "text/plain";
  if (respType === "application/json") {
    const respBody = await resp.json();
    if ("message" in respBody) {
      return errorFromProto(respBody);
    }
  }
  let message = `Server returned HTTP status ${resp.status}`;
  if (respType === "text/plain") {
    const respBody = (await resp.text()).trim();
    if (respBody !== "") {
      message += `: ${respBody}`;
    }
  }
  return new HttpServerError(message, resp.status);
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/http/client.js
var checkEndpoints = [
  {
    versionPath: "v3-protobuf",
    pipelinePath: "v3-protobuf/pipeline",
    cursorPath: "v3-protobuf/cursor",
    version: 3,
    encoding: "protobuf"
  }
  /*
  {
      versionPath: "v3",
      pipelinePath: "v3/pipeline",
      cursorPath: "v3/cursor",
      version: 3,
      encoding: "json",
  },
  */
];
var fallbackEndpoint = {
  versionPath: "v2",
  pipelinePath: "v2/pipeline",
  cursorPath: void 0,
  version: 2,
  encoding: "json"
};
var HttpClient = class extends Client {
  #url;
  #jwt;
  #fetch;
  #closed;
  #streams;
  /** @private */
  _endpointPromise;
  /** @private */
  _endpoint;
  /** @private */
  constructor(url, jwt, customFetch, protocolVersion = 2) {
    super();
    this.#url = url;
    this.#jwt = jwt;
    this.#fetch = customFetch ?? _fetch;
    this.#closed = void 0;
    this.#streams = /* @__PURE__ */ new Set();
    if (protocolVersion == 3) {
      this._endpointPromise = findEndpoint(this.#fetch, this.#url);
      this._endpointPromise.then((endpoint) => this._endpoint = endpoint, (error) => this.#setClosed(error));
    } else {
      this._endpointPromise = Promise.resolve(fallbackEndpoint);
      this._endpointPromise.then((endpoint) => this._endpoint = endpoint, (error) => this.#setClosed(error));
    }
  }
  /** Get the protocol version supported by the server. */
  async getVersion() {
    if (this._endpoint !== void 0) {
      return this._endpoint.version;
    }
    return (await this._endpointPromise).version;
  }
  // Make sure that the negotiated version is at least `minVersion`.
  /** @private */
  _ensureVersion(minVersion, feature) {
    if (minVersion <= fallbackEndpoint.version) {
      return;
    } else if (this._endpoint === void 0) {
      throw new ProtocolVersionError(`${feature} is supported only on protocol version ${minVersion} and higher, but the version supported by the HTTP server is not yet known. Use Client.getVersion() to wait until the version is available.`);
    } else if (this._endpoint.version < minVersion) {
      throw new ProtocolVersionError(`${feature} is supported only on protocol version ${minVersion} and higher, but the HTTP server only supports version ${this._endpoint.version}.`);
    }
  }
  /** Open a {@link HttpStream}, a stream for executing SQL statements. */
  openStream() {
    if (this.#closed !== void 0) {
      throw new ClosedError("Client is closed", this.#closed);
    }
    const stream = new HttpStream(this, this.#url, this.#jwt, this.#fetch);
    this.#streams.add(stream);
    return stream;
  }
  /** @private */
  _streamClosed(stream) {
    this.#streams.delete(stream);
  }
  /** Close the client and all its streams. */
  close() {
    this.#setClosed(new ClientError("Client was manually closed"));
  }
  /** True if the client is closed. */
  get closed() {
    return this.#closed !== void 0;
  }
  #setClosed(error) {
    if (this.#closed !== void 0) {
      return;
    }
    this.#closed = error;
    for (const stream of Array.from(this.#streams)) {
      stream._setClosed(new ClosedError("Client was closed", error));
    }
  }
};
async function findEndpoint(customFetch, clientUrl) {
  const fetch2 = customFetch;
  for (const endpoint of checkEndpoints) {
    const url = new URL(endpoint.versionPath, clientUrl);
    const request = new _Request(url.toString(), { method: "GET" });
    const response = await fetch2(request);
    await response.arrayBuffer();
    if (response.ok) {
      return endpoint;
    }
  }
  return fallbackEndpoint;
}

// node_modules/.pnpm/@libsql+hrana-client@0.6.2/node_modules/@libsql/hrana-client/lib-esm/index.js
function openWs(url, jwt, protocolVersion = 2) {
  if (typeof _WebSocket === "undefined") {
    throw new WebSocketUnsupportedError("WebSockets are not supported in this environment");
  }
  var subprotocols = void 0;
  if (protocolVersion == 3) {
    subprotocols = Array.from(subprotocolsV3.keys());
  } else {
    subprotocols = Array.from(subprotocolsV2.keys());
  }
  const socket = new _WebSocket(url, subprotocols);
  return new WsClient(socket, jwt);
}
function openHttp(url, jwt, customFetch, protocolVersion = 2) {
  return new HttpClient(url instanceof URL ? url : new URL(url), jwt, customFetch, protocolVersion);
}

// node_modules/.pnpm/@libsql+client@0.10.0/node_modules/@libsql/client/lib-esm/hrana.js
var HranaTransaction = class {
  #mode;
  #version;
  // Promise that is resolved when the BEGIN statement completes, or `undefined` if we haven't executed the
  // BEGIN statement yet.
  #started;
  /** @private */
  constructor(mode, version3) {
    this.#mode = mode;
    this.#version = version3;
    this.#started = void 0;
  }
  execute(stmt) {
    return this.batch([stmt]).then((results) => results[0]);
  }
  async batch(stmts) {
    const stream = this._getStream();
    if (stream.closed) {
      throw new LibsqlError("Cannot execute statements because the transaction is closed", "TRANSACTION_CLOSED");
    }
    try {
      const hranaStmts = stmts.map(stmtToHrana);
      let rowsPromises;
      if (this.#started === void 0) {
        this._getSqlCache().apply(hranaStmts);
        const batch = stream.batch(this.#version >= 3);
        const beginStep = batch.step();
        const beginPromise = beginStep.run(transactionModeToBegin(this.#mode));
        let lastStep = beginStep;
        rowsPromises = hranaStmts.map((hranaStmt) => {
          const stmtStep = batch.step().condition(BatchCond.ok(lastStep));
          if (this.#version >= 3) {
            stmtStep.condition(BatchCond.not(BatchCond.isAutocommit(batch)));
          }
          const rowsPromise = stmtStep.query(hranaStmt);
          rowsPromise.catch(() => void 0);
          lastStep = stmtStep;
          return rowsPromise;
        });
        this.#started = batch.execute().then(() => beginPromise).then(() => void 0);
        try {
          await this.#started;
        } catch (e) {
          this.close();
          throw e;
        }
      } else {
        if (this.#version < 3) {
          await this.#started;
        } else {
        }
        this._getSqlCache().apply(hranaStmts);
        const batch = stream.batch(this.#version >= 3);
        let lastStep = void 0;
        rowsPromises = hranaStmts.map((hranaStmt) => {
          const stmtStep = batch.step();
          if (lastStep !== void 0) {
            stmtStep.condition(BatchCond.ok(lastStep));
          }
          if (this.#version >= 3) {
            stmtStep.condition(BatchCond.not(BatchCond.isAutocommit(batch)));
          }
          const rowsPromise = stmtStep.query(hranaStmt);
          rowsPromise.catch(() => void 0);
          lastStep = stmtStep;
          return rowsPromise;
        });
        await batch.execute();
      }
      const resultSets = [];
      for (const rowsPromise of rowsPromises) {
        const rows = await rowsPromise;
        if (rows === void 0) {
          throw new LibsqlError("Statement in a transaction was not executed, probably because the transaction has been rolled back", "TRANSACTION_CLOSED");
        }
        resultSets.push(resultSetFromHrana(rows));
      }
      return resultSets;
    } catch (e) {
      throw mapHranaError(e);
    }
  }
  async executeMultiple(sql2) {
    const stream = this._getStream();
    if (stream.closed) {
      throw new LibsqlError("Cannot execute statements because the transaction is closed", "TRANSACTION_CLOSED");
    }
    try {
      if (this.#started === void 0) {
        this.#started = stream.run(transactionModeToBegin(this.#mode)).then(() => void 0);
        try {
          await this.#started;
        } catch (e) {
          this.close();
          throw e;
        }
      } else {
        await this.#started;
      }
      await stream.sequence(sql2);
    } catch (e) {
      throw mapHranaError(e);
    }
  }
  async rollback() {
    try {
      const stream = this._getStream();
      if (stream.closed) {
        return;
      }
      if (this.#started !== void 0) {
      } else {
        return;
      }
      const promise = stream.run("ROLLBACK").catch((e) => {
        throw mapHranaError(e);
      });
      stream.closeGracefully();
      await promise;
    } catch (e) {
      throw mapHranaError(e);
    } finally {
      this.close();
    }
  }
  async commit() {
    try {
      const stream = this._getStream();
      if (stream.closed) {
        throw new LibsqlError("Cannot commit the transaction because it is already closed", "TRANSACTION_CLOSED");
      }
      if (this.#started !== void 0) {
        await this.#started;
      } else {
        return;
      }
      const promise = stream.run("COMMIT").catch((e) => {
        throw mapHranaError(e);
      });
      stream.closeGracefully();
      await promise;
    } catch (e) {
      throw mapHranaError(e);
    } finally {
      this.close();
    }
  }
};
async function executeHranaBatch(mode, version3, batch, hranaStmts, disableForeignKeys = false) {
  if (disableForeignKeys) {
    batch.step().run("PRAGMA foreign_keys=off");
  }
  const beginStep = batch.step();
  const beginPromise = beginStep.run(transactionModeToBegin(mode));
  let lastStep = beginStep;
  const stmtPromises = hranaStmts.map((hranaStmt) => {
    const stmtStep = batch.step().condition(BatchCond.ok(lastStep));
    if (version3 >= 3) {
      stmtStep.condition(BatchCond.not(BatchCond.isAutocommit(batch)));
    }
    const stmtPromise = stmtStep.query(hranaStmt);
    lastStep = stmtStep;
    return stmtPromise;
  });
  const commitStep = batch.step().condition(BatchCond.ok(lastStep));
  if (version3 >= 3) {
    commitStep.condition(BatchCond.not(BatchCond.isAutocommit(batch)));
  }
  const commitPromise = commitStep.run("COMMIT");
  const rollbackStep = batch.step().condition(BatchCond.not(BatchCond.ok(commitStep)));
  rollbackStep.run("ROLLBACK").catch((_) => void 0);
  if (disableForeignKeys) {
    batch.step().run("PRAGMA foreign_keys=on");
  }
  await batch.execute();
  const resultSets = [];
  await beginPromise;
  for (const stmtPromise of stmtPromises) {
    const hranaRows = await stmtPromise;
    if (hranaRows === void 0) {
      throw new LibsqlError("Statement in a batch was not executed, probably because the transaction has been rolled back", "TRANSACTION_CLOSED");
    }
    resultSets.push(resultSetFromHrana(hranaRows));
  }
  await commitPromise;
  return resultSets;
}
function stmtToHrana(stmt) {
  if (typeof stmt === "string") {
    return new Stmt(stmt);
  }
  const hranaStmt = new Stmt(stmt.sql);
  if (Array.isArray(stmt.args)) {
    hranaStmt.bindIndexes(stmt.args);
  } else {
    for (const [key, value] of Object.entries(stmt.args)) {
      hranaStmt.bindName(key, value);
    }
  }
  return hranaStmt;
}
function resultSetFromHrana(hranaRows) {
  const columns = hranaRows.columnNames.map((c) => c ?? "");
  const columnTypes = hranaRows.columnDecltypes.map((c) => c ?? "");
  const rows = hranaRows.rows;
  const rowsAffected = hranaRows.affectedRowCount;
  const lastInsertRowid = hranaRows.lastInsertRowid !== void 0 ? hranaRows.lastInsertRowid : void 0;
  return new ResultSetImpl(columns, columnTypes, rows, rowsAffected, lastInsertRowid);
}
function mapHranaError(e) {
  if (e instanceof ClientError) {
    const code = mapHranaErrorCode(e);
    return new LibsqlError(e.message, code, void 0, e);
  }
  return e;
}
function mapHranaErrorCode(e) {
  if (e instanceof ResponseError && e.code !== void 0) {
    return e.code;
  } else if (e instanceof ProtoError) {
    return "HRANA_PROTO_ERROR";
  } else if (e instanceof ClosedError) {
    return e.cause instanceof ClientError ? mapHranaErrorCode(e.cause) : "HRANA_CLOSED_ERROR";
  } else if (e instanceof WebSocketError) {
    return "HRANA_WEBSOCKET_ERROR";
  } else if (e instanceof HttpServerError) {
    return "SERVER_ERROR";
  } else if (e instanceof ProtocolVersionError) {
    return "PROTOCOL_VERSION_ERROR";
  } else if (e instanceof InternalError) {
    return "INTERNAL_ERROR";
  } else {
    return "UNKNOWN";
  }
}

// node_modules/.pnpm/@libsql+client@0.10.0/node_modules/@libsql/client/lib-esm/sql_cache.js
var SqlCache = class {
  #owner;
  #sqls;
  capacity;
  constructor(owner, capacity) {
    this.#owner = owner;
    this.#sqls = new Lru();
    this.capacity = capacity;
  }
  // Replaces SQL strings with cached `hrana.Sql` objects in the statements in `hranaStmts`. After this
  // function returns, we guarantee that all `hranaStmts` refer to valid (not closed) `hrana.Sql` objects,
  // but _we may invalidate any other `hrana.Sql` objects_ (by closing them, thus removing them from the
  // server).
  //
  // In practice, this means that after calling this function, you can use the statements only up to the
  // first `await`, because concurrent code may also use the cache and invalidate those statements.
  apply(hranaStmts) {
    if (this.capacity <= 0) {
      return;
    }
    const usedSqlObjs = /* @__PURE__ */ new Set();
    for (const hranaStmt of hranaStmts) {
      if (typeof hranaStmt.sql !== "string") {
        continue;
      }
      const sqlText = hranaStmt.sql;
      if (sqlText.length >= 5e3) {
        continue;
      }
      let sqlObj = this.#sqls.get(sqlText);
      if (sqlObj === void 0) {
        while (this.#sqls.size + 1 > this.capacity) {
          const [evictSqlText, evictSqlObj] = this.#sqls.peekLru();
          if (usedSqlObjs.has(evictSqlObj)) {
            break;
          }
          evictSqlObj.close();
          this.#sqls.delete(evictSqlText);
        }
        if (this.#sqls.size + 1 <= this.capacity) {
          sqlObj = this.#owner.storeSql(sqlText);
          this.#sqls.set(sqlText, sqlObj);
        }
      }
      if (sqlObj !== void 0) {
        hranaStmt.sql = sqlObj;
        usedSqlObjs.add(sqlObj);
      }
    }
  }
};
var Lru = class {
  // This maps keys to the cache values. The entries are ordered by their last use (entires that were used
  // most recently are at the end).
  #cache;
  constructor() {
    this.#cache = /* @__PURE__ */ new Map();
  }
  get(key) {
    const value = this.#cache.get(key);
    if (value !== void 0) {
      this.#cache.delete(key);
      this.#cache.set(key, value);
    }
    return value;
  }
  set(key, value) {
    this.#cache.set(key, value);
  }
  peekLru() {
    for (const entry of this.#cache.entries()) {
      return entry;
    }
    return void 0;
  }
  delete(key) {
    this.#cache.delete(key);
  }
  get size() {
    return this.#cache.size;
  }
};

// node_modules/.pnpm/@libsql+client@0.10.0/node_modules/@libsql/client/lib-esm/ws.js
var import_promise_limit = __toESM(require_promise_limit(), 1);
function _createClient(config) {
  if (config.scheme !== "wss" && config.scheme !== "ws") {
    throw new LibsqlError(`The WebSocket client supports only "libsql:", "wss:" and "ws:" URLs, got ${JSON.stringify(config.scheme + ":")}. For more information, please read ${supportedUrlLink}`, "URL_SCHEME_NOT_SUPPORTED");
  }
  if (config.encryptionKey !== void 0) {
    throw new LibsqlError("Encryption key is not supported by the remote client.", "ENCRYPTION_KEY_NOT_SUPPORTED");
  }
  if (config.scheme === "ws" && config.tls) {
    throw new LibsqlError(`A "ws:" URL cannot opt into TLS by using ?tls=1`, "URL_INVALID");
  } else if (config.scheme === "wss" && !config.tls) {
    throw new LibsqlError(`A "wss:" URL cannot opt out of TLS by using ?tls=0`, "URL_INVALID");
  }
  const url = encodeBaseUrl(config.scheme, config.authority, config.path);
  let client;
  try {
    client = openWs(url, config.authToken);
  } catch (e) {
    if (e instanceof WebSocketUnsupportedError) {
      const suggestedScheme = config.scheme === "wss" ? "https" : "http";
      const suggestedUrl = encodeBaseUrl(suggestedScheme, config.authority, config.path);
      throw new LibsqlError(`This environment does not support WebSockets, please switch to the HTTP client by using a "${suggestedScheme}:" URL (${JSON.stringify(suggestedUrl)}). For more information, please read ${supportedUrlLink}`, "WEBSOCKETS_NOT_SUPPORTED");
    }
    throw mapHranaError(e);
  }
  return new WsClient2(client, url, config.authToken, config.intMode, config.concurrency);
}
var maxConnAgeMillis = 60 * 1e3;
var sqlCacheCapacity = 100;
var WsClient2 = class {
  #url;
  #authToken;
  #intMode;
  // State of the current connection. The `hrana.WsClient` inside may be closed at any moment due to an
  // asynchronous error.
  #connState;
  // If defined, this is a connection that will be used in the future, once it is ready.
  #futureConnState;
  closed;
  protocol;
  #isSchemaDatabase;
  #promiseLimitFunction;
  /** @private */
  constructor(client, url, authToken, intMode, concurrency) {
    this.#url = url;
    this.#authToken = authToken;
    this.#intMode = intMode;
    this.#connState = this.#openConn(client);
    this.#futureConnState = void 0;
    this.closed = false;
    this.protocol = "ws";
    this.#promiseLimitFunction = (0, import_promise_limit.default)(concurrency);
  }
  async limit(fn) {
    return this.#promiseLimitFunction(fn);
  }
  async execute(stmtOrSql, args) {
    let stmt;
    if (typeof stmtOrSql === "string") {
      stmt = {
        sql: stmtOrSql,
        args: args || []
      };
    } else {
      stmt = stmtOrSql;
    }
    return this.limit(async () => {
      const streamState = await this.#openStream();
      try {
        const hranaStmt = stmtToHrana(stmt);
        streamState.conn.sqlCache.apply([hranaStmt]);
        const hranaRowsPromise = streamState.stream.query(hranaStmt);
        streamState.stream.closeGracefully();
        const hranaRowsResult = await hranaRowsPromise;
        return resultSetFromHrana(hranaRowsResult);
      } catch (e) {
        throw mapHranaError(e);
      } finally {
        this._closeStream(streamState);
      }
    });
  }
  async batch(stmts, mode = "deferred") {
    return this.limit(async () => {
      const streamState = await this.#openStream();
      try {
        const hranaStmts = stmts.map(stmtToHrana);
        const version3 = await streamState.conn.client.getVersion();
        streamState.conn.sqlCache.apply(hranaStmts);
        const batch = streamState.stream.batch(version3 >= 3);
        const resultsPromise = executeHranaBatch(mode, version3, batch, hranaStmts);
        const results = await resultsPromise;
        return results;
      } catch (e) {
        throw mapHranaError(e);
      } finally {
        this._closeStream(streamState);
      }
    });
  }
  async migrate(stmts) {
    return this.limit(async () => {
      const streamState = await this.#openStream();
      try {
        const hranaStmts = stmts.map(stmtToHrana);
        const version3 = await streamState.conn.client.getVersion();
        const batch = streamState.stream.batch(version3 >= 3);
        const resultsPromise = executeHranaBatch("deferred", version3, batch, hranaStmts, true);
        const results = await resultsPromise;
        return results;
      } catch (e) {
        throw mapHranaError(e);
      } finally {
        this._closeStream(streamState);
      }
    });
  }
  async transaction(mode = "write") {
    return this.limit(async () => {
      const streamState = await this.#openStream();
      try {
        const version3 = await streamState.conn.client.getVersion();
        return new WsTransaction(this, streamState, mode, version3);
      } catch (e) {
        this._closeStream(streamState);
        throw mapHranaError(e);
      }
    });
  }
  async executeMultiple(sql2) {
    return this.limit(async () => {
      const streamState = await this.#openStream();
      try {
        const promise = streamState.stream.sequence(sql2);
        streamState.stream.closeGracefully();
        await promise;
      } catch (e) {
        throw mapHranaError(e);
      } finally {
        this._closeStream(streamState);
      }
    });
  }
  sync() {
    throw new LibsqlError("sync not supported in ws mode", "SYNC_NOT_SUPPORTED");
  }
  async #openStream() {
    if (this.closed) {
      throw new LibsqlError("The client is closed", "CLIENT_CLOSED");
    }
    const now = new Date();
    const ageMillis = now.valueOf() - this.#connState.openTime.valueOf();
    if (ageMillis > maxConnAgeMillis && this.#futureConnState === void 0) {
      const futureConnState = this.#openConn();
      this.#futureConnState = futureConnState;
      futureConnState.client.getVersion().then((_version) => {
        if (this.#connState !== futureConnState) {
          if (this.#connState.streamStates.size === 0) {
            this.#connState.client.close();
          } else {
          }
        }
        this.#connState = futureConnState;
        this.#futureConnState = void 0;
      }, (_e) => {
        this.#futureConnState = void 0;
      });
    }
    if (this.#connState.client.closed) {
      try {
        if (this.#futureConnState !== void 0) {
          this.#connState = this.#futureConnState;
        } else {
          this.#connState = this.#openConn();
        }
      } catch (e) {
        throw mapHranaError(e);
      }
    }
    const connState = this.#connState;
    try {
      if (connState.useSqlCache === void 0) {
        connState.useSqlCache = await connState.client.getVersion() >= 2;
        if (connState.useSqlCache) {
          connState.sqlCache.capacity = sqlCacheCapacity;
        }
      }
      const stream = connState.client.openStream();
      stream.intMode = this.#intMode;
      const streamState = { conn: connState, stream };
      connState.streamStates.add(streamState);
      return streamState;
    } catch (e) {
      throw mapHranaError(e);
    }
  }
  #openConn(client) {
    try {
      client ??= openWs(this.#url, this.#authToken);
      return {
        client,
        useSqlCache: void 0,
        sqlCache: new SqlCache(client, 0),
        openTime: new Date(),
        streamStates: /* @__PURE__ */ new Set()
      };
    } catch (e) {
      throw mapHranaError(e);
    }
  }
  _closeStream(streamState) {
    streamState.stream.close();
    const connState = streamState.conn;
    connState.streamStates.delete(streamState);
    if (connState.streamStates.size === 0 && connState !== this.#connState) {
      connState.client.close();
    }
  }
  close() {
    this.#connState.client.close();
    this.closed = true;
  }
};
var WsTransaction = class extends HranaTransaction {
  #client;
  #streamState;
  /** @private */
  constructor(client, state, mode, version3) {
    super(mode, version3);
    this.#client = client;
    this.#streamState = state;
  }
  /** @private */
  _getStream() {
    return this.#streamState.stream;
  }
  /** @private */
  _getSqlCache() {
    return this.#streamState.conn.sqlCache;
  }
  close() {
    this.#client._closeStream(this.#streamState);
  }
  get closed() {
    return this.#streamState.stream.closed;
  }
};

// node_modules/.pnpm/@libsql+client@0.10.0/node_modules/@libsql/client/lib-esm/http.js
var import_promise_limit2 = __toESM(require_promise_limit(), 1);
function _createClient2(config) {
  if (config.scheme !== "https" && config.scheme !== "http") {
    throw new LibsqlError(`The HTTP client supports only "libsql:", "https:" and "http:" URLs, got ${JSON.stringify(config.scheme + ":")}. For more information, please read ${supportedUrlLink}`, "URL_SCHEME_NOT_SUPPORTED");
  }
  if (config.encryptionKey !== void 0) {
    throw new LibsqlError("Encryption key is not supported by the remote client.", "ENCRYPTION_KEY_NOT_SUPPORTED");
  }
  if (config.scheme === "http" && config.tls) {
    throw new LibsqlError(`A "http:" URL cannot opt into TLS by using ?tls=1`, "URL_INVALID");
  } else if (config.scheme === "https" && !config.tls) {
    throw new LibsqlError(`A "https:" URL cannot opt out of TLS by using ?tls=0`, "URL_INVALID");
  }
  const url = encodeBaseUrl(config.scheme, config.authority, config.path);
  return new HttpClient2(url, config.authToken, config.intMode, config.fetch, config.concurrency);
}
var sqlCacheCapacity2 = 30;
var HttpClient2 = class {
  #client;
  protocol;
  #authToken;
  #promiseLimitFunction;
  /** @private */
  constructor(url, authToken, intMode, customFetch, concurrency) {
    this.#client = openHttp(url, authToken, customFetch);
    this.#client.intMode = intMode;
    this.protocol = "http";
    this.#authToken = authToken;
    this.#promiseLimitFunction = (0, import_promise_limit2.default)(concurrency);
  }
  async limit(fn) {
    return this.#promiseLimitFunction(fn);
  }
  async execute(stmtOrSql, args) {
    let stmt;
    if (typeof stmtOrSql === "string") {
      stmt = {
        sql: stmtOrSql,
        args: args || []
      };
    } else {
      stmt = stmtOrSql;
    }
    return this.limit(async () => {
      try {
        const hranaStmt = stmtToHrana(stmt);
        let rowsPromise;
        const stream = this.#client.openStream();
        try {
          rowsPromise = stream.query(hranaStmt);
        } finally {
          stream.closeGracefully();
        }
        const rowsResult = await rowsPromise;
        return resultSetFromHrana(rowsResult);
      } catch (e) {
        throw mapHranaError(e);
      }
    });
  }
  async batch(stmts, mode = "deferred") {
    return this.limit(async () => {
      try {
        const hranaStmts = stmts.map(stmtToHrana);
        const version3 = await this.#client.getVersion();
        let resultsPromise;
        const stream = this.#client.openStream();
        try {
          const sqlCache = new SqlCache(stream, sqlCacheCapacity2);
          sqlCache.apply(hranaStmts);
          const batch = stream.batch(false);
          resultsPromise = executeHranaBatch(mode, version3, batch, hranaStmts);
        } finally {
          stream.closeGracefully();
        }
        const results = await resultsPromise;
        return results;
      } catch (e) {
        throw mapHranaError(e);
      }
    });
  }
  async migrate(stmts) {
    return this.limit(async () => {
      try {
        const hranaStmts = stmts.map(stmtToHrana);
        const version3 = await this.#client.getVersion();
        let resultsPromise;
        const stream = this.#client.openStream();
        try {
          const batch = stream.batch(false);
          resultsPromise = executeHranaBatch("deferred", version3, batch, hranaStmts, true);
        } finally {
          stream.closeGracefully();
        }
        const results = await resultsPromise;
        return results;
      } catch (e) {
        throw mapHranaError(e);
      }
    });
  }
  async transaction(mode = "write") {
    return this.limit(async () => {
      try {
        const version3 = await this.#client.getVersion();
        return new HttpTransaction(this.#client.openStream(), mode, version3);
      } catch (e) {
        throw mapHranaError(e);
      }
    });
  }
  async executeMultiple(sql2) {
    return this.limit(async () => {
      try {
        let promise;
        const stream = this.#client.openStream();
        try {
          promise = stream.sequence(sql2);
        } finally {
          stream.closeGracefully();
        }
        await promise;
      } catch (e) {
        throw mapHranaError(e);
      }
    });
  }
  sync() {
    throw new LibsqlError("sync not supported in http mode", "SYNC_NOT_SUPPORTED");
  }
  close() {
    this.#client.close();
  }
  get closed() {
    return this.#client.closed;
  }
};
var HttpTransaction = class extends HranaTransaction {
  #stream;
  #sqlCache;
  /** @private */
  constructor(stream, mode, version3) {
    super(mode, version3);
    this.#stream = stream;
    this.#sqlCache = new SqlCache(stream, sqlCacheCapacity2);
  }
  /** @private */
  _getStream() {
    return this.#stream;
  }
  /** @private */
  _getSqlCache() {
    return this.#sqlCache;
  }
  close() {
    this.#stream.close();
  }
  get closed() {
    return this.#stream.closed;
  }
};

// node_modules/.pnpm/@libsql+client@0.10.0/node_modules/@libsql/client/lib-esm/web.js
function createClient(config) {
  return _createClient3(expandConfig(config, true));
}
function _createClient3(config) {
  if (config.scheme === "ws" || config.scheme === "wss") {
    return _createClient(config);
  } else if (config.scheme === "http" || config.scheme === "https") {
    return _createClient2(config);
  } else {
    throw new LibsqlError(`The client that uses Web standard APIs supports only "libsql:", "wss:", "ws:", "https:" and "http:" URLs, got ${JSON.stringify(config.scheme + ":")}. For more information, please read ${supportedUrlLink}`, "URL_SCHEME_NOT_SUPPORTED");
  }
}

// src/db/schema.ts
var schema_exports = {};
__export(schema_exports, {
  notesTable: () => notesTable
});
var notesTable = sqliteTable("notes", {
  path: text("path").notNull().primaryKey(),
  content: text("content").notNull(),
  deleted: integer("deleted", { mode: "boolean" }).default(false),
  createdAt: integer("createdAd", { mode: "timestamp" }),
  updatedAt: integer("updatedAt", { mode: "timestamp" })
});

// src/database.ts
var DatabaseManager = class {
  constructor(configDir, localDbName, remoteDbUrl, authToken, syncInterval = 60) {
    this.configDir = configDir;
    this.localDbName = localDbName;
    this.remoteDbUrl = remoteDbUrl;
    this.authToken = authToken;
    this.syncInterval = syncInterval;
  }
  client;
  db;
  async initialize() {
    this.client = createClient({
      url: this.remoteDbUrl,
      // url: `file:${localDbPath}`,
      // syncUrl: this.remoteDbUrl,
      authToken: this.authToken
      // syncInterval: this.syncInterval
    });
    this.db = drizzle(this.client, { schema: schema_exports });
    this.migrate();
  }
  async migrate() {
    this.client.execute(`CREATE TABLE IF NOT EXISTS \`notes\` (\`path\` text PRIMARY KEY NOT NULL,\`content\` text NOT NULL,\`deleted\` integer DEFAULT false,\`createdAd\` integer,\`updatedAt\` integer);`);
  }
  async pullFromRemote(vault, force = false) {
    if (force) {
    } else {
      const notes = await this.db.query.notesTable.findMany();
      const conflicts = [];
      for (const note of notes) {
        const pathParts = note.path.split("/");
        if (!vault.getFileByPath(note.path)) {
          if (pathParts.length > 1) {
            await vault.createFolder(pathParts.slice(0, pathParts.length - 1).join("/"));
          }
          await vault.create(note.path, note.content);
        } else {
          conflicts.push(note);
        }
      }
      return conflicts;
    }
  }
  async addNote(path, content) {
    const result = await this.db.insert(notesTable).values({
      path,
      content,
      createdAt: new Date()
    });
  }
  async getNote(path) {
    const [result] = await this.db.select().from(notesTable).where(eq(notesTable.path, path));
    return result;
  }
  async getAllNotes() {
    const result = await this.db.select().from(notesTable);
    return result;
  }
  async updateNote(path, content) {
    await this.db.update(notesTable).set({
      content,
      path,
      updatedAt: new Date()
    }).where(eq(notesTable.path, path));
  }
  async deleteNote(path) {
    await this.db.update(notesTable).set({ deleted: true }).where(eq(notesTable.path, path));
  }
  async hardDelete(path) {
    await this.db.delete(notesTable).where(eq(notesTable.path, path));
  }
  async sync() {
    await this.client.sync();
  }
};

// src/main.ts
var SYNC_ICON = `<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-refresh-cw"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>`;
var SQLitePlugin = class extends import_obsidian2.Plugin {
  settings;
  db;
  async onload() {
    await this.loadSettings();
    await this.registerEvent(this.app.vault.on("rename", async (data, oldPath) => {
      const createdFile = this.app.vault.getFileByPath(data.path);
      if (createdFile) {
        this.db.deleteNote(oldPath);
        const content = await this.app.vault.read(createdFile);
        await this.db.addNote(data.path, content);
      }
    }));
    await this.registerEvent(this.app.vault.on("create", async (data) => {
      const createdFile = this.app.vault.getFileByPath(data.path);
      if (createdFile) {
        if (createdFile.path.includes("Untitled.md")) {
          return;
        }
        const dbNote = this.db.getNote(createdFile?.path);
        if (!dbNote) {
          const content = await this.app.vault.read(createdFile);
          await this.db.addNote(createdFile.path, content);
        }
      }
    }));
    await this.registerEvent(this.app.vault.on("modify", async (data) => {
      const createdFile = this.app.vault.getFileByPath(data.path);
      console.log("Modify File");
      if (createdFile) {
        const content = await this.app.vault.read(createdFile);
        const dbFile = await this.db.getNote(createdFile.path);
        if (!dbFile) {
          await this.db.addNote(createdFile.path, content);
          return;
        }
        await this.db.updateNote(createdFile.path, content);
      }
    }));
    this.addSettingTab(new SQLitePluginSettingTab(this.app, this));
    this.db = new DatabaseManager(
      this.app.vault.configDir,
      this.settings.localDBPath,
      this.settings.remoteDBUrl,
      this.settings.remoteDBSecret,
      60
      // sync every 60 seconds
    );
    await this.db.initialize();
    (0, import_obsidian2.addIcon)("pullFromRemote", SYNC_ICON);
    this.addRibbonIcon("pullFromRemote", "Pull Notes From Database", async (evt) => {
      await this.db.pullFromRemote(this.app.vault);
    });
    this.addCommand({
      id: "add-note",
      name: "Add Note",
      callback: () => this.db.addNote("New Note", "This is a new note.")
    });
    this.addCommand({
      id: "get-all-notes",
      name: "Get All Notes",
      callback: () => this.db.getAllNotes()
    });
  }
  onunload() {
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
  }
  async syncDatabase() {
    try {
      await this.db.sync();
      new import_obsidian2.Notice("Database synced successfully");
    } catch (error) {
      console.error("Sync failed:", error);
      new import_obsidian2.Notice("Sync failed. Check console for details.");
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibm9kZV9tb2R1bGVzLy5wbnBtL3Byb21pc2UtbGltaXRAMi43LjAvbm9kZV9tb2R1bGVzL3Byb21pc2UtbGltaXQvaW5kZXguanMiLCAic3JjL21haW4udHMiLCAic3JjL3NldHRpbmdzLnRzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9kcml6emxlLW9ybUAwLjMzLjBfQGxpYnNxbCtjbGllbnRAMC4xMC4wX0B0eXBlcytiZXR0ZXItc3FsaXRlM0A3LjYuMTEvbm9kZV9tb2R1bGVzL3NyYy9lbnRpdHkudHMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMzMuMF9AbGlic3FsK2NsaWVudEAwLjEwLjBfQHR5cGVzK2JldHRlci1zcWxpdGUzQDcuNi4xMS9ub2RlX21vZHVsZXMvc3JjL2xvZ2dlci50cyIsICJub2RlX21vZHVsZXMvLnBucG0vZHJpenpsZS1vcm1AMC4zMy4wX0BsaWJzcWwrY2xpZW50QDAuMTAuMF9AdHlwZXMrYmV0dGVyLXNxbGl0ZTNANy42LjExL25vZGVfbW9kdWxlcy9zcmMvdGFibGUudHMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMzMuMF9AbGlic3FsK2NsaWVudEAwLjEwLjBfQHR5cGVzK2JldHRlci1zcWxpdGUzQDcuNi4xMS9ub2RlX21vZHVsZXMvc3JjL2NvbHVtbi50cyIsICJub2RlX21vZHVsZXMvLnBucG0vZHJpenpsZS1vcm1AMC4zMy4wX0BsaWJzcWwrY2xpZW50QDAuMTAuMF9AdHlwZXMrYmV0dGVyLXNxbGl0ZTNANy42LjExL25vZGVfbW9kdWxlcy9zcmMvcGctY29yZS90YWJsZS50cyIsICJub2RlX21vZHVsZXMvLnBucG0vZHJpenpsZS1vcm1AMC4zMy4wX0BsaWJzcWwrY2xpZW50QDAuMTAuMF9AdHlwZXMrYmV0dGVyLXNxbGl0ZTNANy42LjExL25vZGVfbW9kdWxlcy9zcmMvcGctY29yZS9wcmltYXJ5LWtleXMudHMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMzMuMF9AbGlic3FsK2NsaWVudEAwLjEwLjBfQHR5cGVzK2JldHRlci1zcWxpdGUzQDcuNi4xMS9ub2RlX21vZHVsZXMvc3JjL2NvbHVtbi1idWlsZGVyLnRzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9kcml6emxlLW9ybUAwLjMzLjBfQGxpYnNxbCtjbGllbnRAMC4xMC4wX0B0eXBlcytiZXR0ZXItc3FsaXRlM0A3LjYuMTEvbm9kZV9tb2R1bGVzL3NyYy9wZy1jb3JlL2ZvcmVpZ24ta2V5cy50cyIsICJub2RlX21vZHVsZXMvLnBucG0vZHJpenpsZS1vcm1AMC4zMy4wX0BsaWJzcWwrY2xpZW50QDAuMTAuMF9AdHlwZXMrYmV0dGVyLXNxbGl0ZTNANy42LjExL25vZGVfbW9kdWxlcy9zcmMvdHJhY2luZy11dGlscy50cyIsICJub2RlX21vZHVsZXMvLnBucG0vZHJpenpsZS1vcm1AMC4zMy4wX0BsaWJzcWwrY2xpZW50QDAuMTAuMF9AdHlwZXMrYmV0dGVyLXNxbGl0ZTNANy42LjExL25vZGVfbW9kdWxlcy9zcmMvcGctY29yZS91bmlxdWUtY29uc3RyYWludC50cyIsICJub2RlX21vZHVsZXMvLnBucG0vZHJpenpsZS1vcm1AMC4zMy4wX0BsaWJzcWwrY2xpZW50QDAuMTAuMF9AdHlwZXMrYmV0dGVyLXNxbGl0ZTNANy42LjExL25vZGVfbW9kdWxlcy9zcmMvcGctY29yZS91dGlscy9hcnJheS50cyIsICJub2RlX21vZHVsZXMvLnBucG0vZHJpenpsZS1vcm1AMC4zMy4wX0BsaWJzcWwrY2xpZW50QDAuMTAuMF9AdHlwZXMrYmV0dGVyLXNxbGl0ZTNANy42LjExL25vZGVfbW9kdWxlcy9zcmMvcGctY29yZS9jb2x1bW5zL2NvbW1vbi50cyIsICJub2RlX21vZHVsZXMvLnBucG0vZHJpenpsZS1vcm1AMC4zMy4wX0BsaWJzcWwrY2xpZW50QDAuMTAuMF9AdHlwZXMrYmV0dGVyLXNxbGl0ZTNANy42LjExL25vZGVfbW9kdWxlcy9zcmMvcGctY29yZS9jb2x1bW5zL2VudW0udHMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMzMuMF9AbGlic3FsK2NsaWVudEAwLjEwLjBfQHR5cGVzK2JldHRlci1zcWxpdGUzQDcuNi4xMS9ub2RlX21vZHVsZXMvc3JjL3N1YnF1ZXJ5LnRzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9kcml6emxlLW9ybUAwLjMzLjBfQGxpYnNxbCtjbGllbnRAMC4xMC4wX0B0eXBlcytiZXR0ZXItc3FsaXRlM0A3LjYuMTEvbm9kZV9tb2R1bGVzL2RyaXp6bGUtb3JtL3ZlcnNpb24uanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMzMuMF9AbGlic3FsK2NsaWVudEAwLjEwLjBfQHR5cGVzK2JldHRlci1zcWxpdGUzQDcuNi4xMS9ub2RlX21vZHVsZXMvc3JjL3RyYWNpbmcudHMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMzMuMF9AbGlic3FsK2NsaWVudEAwLjEwLjBfQHR5cGVzK2JldHRlci1zcWxpdGUzQDcuNi4xMS9ub2RlX21vZHVsZXMvc3JjL3ZpZXctY29tbW9uLnRzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9kcml6emxlLW9ybUAwLjMzLjBfQGxpYnNxbCtjbGllbnRAMC4xMC4wX0B0eXBlcytiZXR0ZXItc3FsaXRlM0A3LjYuMTEvbm9kZV9tb2R1bGVzL3NyYy9zcWwvc3FsLnRzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9kcml6emxlLW9ybUAwLjMzLjBfQGxpYnNxbCtjbGllbnRAMC4xMC4wX0B0eXBlcytiZXR0ZXItc3FsaXRlM0A3LjYuMTEvbm9kZV9tb2R1bGVzL3NyYy9zcWwvZXhwcmVzc2lvbnMvY29uZGl0aW9ucy50cyIsICJub2RlX21vZHVsZXMvLnBucG0vZHJpenpsZS1vcm1AMC4zMy4wX0BsaWJzcWwrY2xpZW50QDAuMTAuMF9AdHlwZXMrYmV0dGVyLXNxbGl0ZTNANy42LjExL25vZGVfbW9kdWxlcy9zcmMvc3FsL2V4cHJlc3Npb25zL3NlbGVjdC50cyIsICJub2RlX21vZHVsZXMvLnBucG0vZHJpenpsZS1vcm1AMC4zMy4wX0BsaWJzcWwrY2xpZW50QDAuMTAuMF9AdHlwZXMrYmV0dGVyLXNxbGl0ZTNANy42LjExL25vZGVfbW9kdWxlcy9zcmMvcmVsYXRpb25zLnRzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9kcml6emxlLW9ybUAwLjMzLjBfQGxpYnNxbCtjbGllbnRAMC4xMC4wX0B0eXBlcytiZXR0ZXItc3FsaXRlM0A3LjYuMTEvbm9kZV9tb2R1bGVzL3NyYy9hbGlhcy50cyIsICJub2RlX21vZHVsZXMvLnBucG0vZHJpenpsZS1vcm1AMC4zMy4wX0BsaWJzcWwrY2xpZW50QDAuMTAuMF9AdHlwZXMrYmV0dGVyLXNxbGl0ZTNANy42LjExL25vZGVfbW9kdWxlcy9zcmMvc2VsZWN0aW9uLXByb3h5LnRzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9kcml6emxlLW9ybUAwLjMzLjBfQGxpYnNxbCtjbGllbnRAMC4xMC4wX0B0eXBlcytiZXR0ZXItc3FsaXRlM0A3LjYuMTEvbm9kZV9tb2R1bGVzL3NyYy9xdWVyeS1wcm9taXNlLnRzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9kcml6emxlLW9ybUAwLjMzLjBfQGxpYnNxbCtjbGllbnRAMC4xMC4wX0B0eXBlcytiZXR0ZXItc3FsaXRlM0A3LjYuMTEvbm9kZV9tb2R1bGVzL3NyYy9zcWxpdGUtY29yZS90YWJsZS50cyIsICJub2RlX21vZHVsZXMvLnBucG0vZHJpenpsZS1vcm1AMC4zMy4wX0BsaWJzcWwrY2xpZW50QDAuMTAuMF9AdHlwZXMrYmV0dGVyLXNxbGl0ZTNANy42LjExL25vZGVfbW9kdWxlcy9zcmMvdXRpbHMudHMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMzMuMF9AbGlic3FsK2NsaWVudEAwLjEwLjBfQHR5cGVzK2JldHRlci1zcWxpdGUzQDcuNi4xMS9ub2RlX21vZHVsZXMvc3JjL3NxbGl0ZS1jb3JlL3F1ZXJ5LWJ1aWxkZXJzL2RlbGV0ZS50cyIsICJub2RlX21vZHVsZXMvLnBucG0vZHJpenpsZS1vcm1AMC4zMy4wX0BsaWJzcWwrY2xpZW50QDAuMTAuMF9AdHlwZXMrYmV0dGVyLXNxbGl0ZTNANy42LjExL25vZGVfbW9kdWxlcy9zcmMvc3FsaXRlLWNvcmUvcXVlcnktYnVpbGRlcnMvaW5zZXJ0LnRzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9kcml6emxlLW9ybUAwLjMzLjBfQGxpYnNxbCtjbGllbnRAMC4xMC4wX0B0eXBlcytiZXR0ZXItc3FsaXRlM0A3LjYuMTEvbm9kZV9tb2R1bGVzL3NyYy9lcnJvcnMudHMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMzMuMF9AbGlic3FsK2NsaWVudEAwLjEwLjBfQHR5cGVzK2JldHRlci1zcWxpdGUzQDcuNi4xMS9ub2RlX21vZHVsZXMvc3JjL3NxbGl0ZS1jb3JlL2ZvcmVpZ24ta2V5cy50cyIsICJub2RlX21vZHVsZXMvLnBucG0vZHJpenpsZS1vcm1AMC4zMy4wX0BsaWJzcWwrY2xpZW50QDAuMTAuMF9AdHlwZXMrYmV0dGVyLXNxbGl0ZTNANy42LjExL25vZGVfbW9kdWxlcy9zcmMvc3FsaXRlLWNvcmUvdW5pcXVlLWNvbnN0cmFpbnQudHMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMzMuMF9AbGlic3FsK2NsaWVudEAwLjEwLjBfQHR5cGVzK2JldHRlci1zcWxpdGUzQDcuNi4xMS9ub2RlX21vZHVsZXMvc3JjL3NxbGl0ZS1jb3JlL2NvbHVtbnMvY29tbW9uLnRzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9kcml6emxlLW9ybUAwLjMzLjBfQGxpYnNxbCtjbGllbnRAMC4xMC4wX0B0eXBlcytiZXR0ZXItc3FsaXRlM0A3LjYuMTEvbm9kZV9tb2R1bGVzL3NyYy9zcWxpdGUtY29yZS9jb2x1bW5zL2ludGVnZXIudHMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMzMuMF9AbGlic3FsK2NsaWVudEAwLjEwLjBfQHR5cGVzK2JldHRlci1zcWxpdGUzQDcuNi4xMS9ub2RlX21vZHVsZXMvc3JjL3NxbGl0ZS1jb3JlL2NvbHVtbnMvdGV4dC50cyIsICJub2RlX21vZHVsZXMvLnBucG0vZHJpenpsZS1vcm1AMC4zMy4wX0BsaWJzcWwrY2xpZW50QDAuMTAuMF9AdHlwZXMrYmV0dGVyLXNxbGl0ZTNANy42LjExL25vZGVfbW9kdWxlcy9zcmMvc3FsaXRlLWNvcmUvdmlldy1iYXNlLnRzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9kcml6emxlLW9ybUAwLjMzLjBfQGxpYnNxbCtjbGllbnRAMC4xMC4wX0B0eXBlcytiZXR0ZXItc3FsaXRlM0A3LjYuMTEvbm9kZV9tb2R1bGVzL3NyYy9zcWxpdGUtY29yZS9kaWFsZWN0LnRzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9kcml6emxlLW9ybUAwLjMzLjBfQGxpYnNxbCtjbGllbnRAMC4xMC4wX0B0eXBlcytiZXR0ZXItc3FsaXRlM0A3LjYuMTEvbm9kZV9tb2R1bGVzL3NyYy9xdWVyeS1idWlsZGVycy9xdWVyeS1idWlsZGVyLnRzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9kcml6emxlLW9ybUAwLjMzLjBfQGxpYnNxbCtjbGllbnRAMC4xMC4wX0B0eXBlcytiZXR0ZXItc3FsaXRlM0A3LjYuMTEvbm9kZV9tb2R1bGVzL3NyYy9zcWxpdGUtY29yZS9xdWVyeS1idWlsZGVycy9zZWxlY3QudHMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMzMuMF9AbGlic3FsK2NsaWVudEAwLjEwLjBfQHR5cGVzK2JldHRlci1zcWxpdGUzQDcuNi4xMS9ub2RlX21vZHVsZXMvc3JjL3NxbGl0ZS1jb3JlL3F1ZXJ5LWJ1aWxkZXJzL3F1ZXJ5LWJ1aWxkZXIudHMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMzMuMF9AbGlic3FsK2NsaWVudEAwLjEwLjBfQHR5cGVzK2JldHRlci1zcWxpdGUzQDcuNi4xMS9ub2RlX21vZHVsZXMvc3JjL3NxbGl0ZS1jb3JlL3F1ZXJ5LWJ1aWxkZXJzL3VwZGF0ZS50cyIsICJub2RlX21vZHVsZXMvLnBucG0vZHJpenpsZS1vcm1AMC4zMy4wX0BsaWJzcWwrY2xpZW50QDAuMTAuMF9AdHlwZXMrYmV0dGVyLXNxbGl0ZTNANy42LjExL25vZGVfbW9kdWxlcy9zcmMvc3FsaXRlLWNvcmUvcXVlcnktYnVpbGRlcnMvcXVlcnkudHMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMzMuMF9AbGlic3FsK2NsaWVudEAwLjEwLjBfQHR5cGVzK2JldHRlci1zcWxpdGUzQDcuNi4xMS9ub2RlX21vZHVsZXMvc3JjL3NxbGl0ZS1jb3JlL3F1ZXJ5LWJ1aWxkZXJzL3Jhdy50cyIsICJub2RlX21vZHVsZXMvLnBucG0vZHJpenpsZS1vcm1AMC4zMy4wX0BsaWJzcWwrY2xpZW50QDAuMTAuMF9AdHlwZXMrYmV0dGVyLXNxbGl0ZTNANy42LjExL25vZGVfbW9kdWxlcy9zcmMvc3FsaXRlLWNvcmUvZGIudHMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMzMuMF9AbGlic3FsK2NsaWVudEAwLjEwLjBfQHR5cGVzK2JldHRlci1zcWxpdGUzQDcuNi4xMS9ub2RlX21vZHVsZXMvc3JjL3NxbGl0ZS1jb3JlL3Nlc3Npb24udHMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL2RyaXp6bGUtb3JtQDAuMzMuMF9AbGlic3FsK2NsaWVudEAwLjEwLjBfQHR5cGVzK2JldHRlci1zcWxpdGUzQDcuNi4xMS9ub2RlX21vZHVsZXMvc3JjL2xpYnNxbC9zZXNzaW9uLnRzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9kcml6emxlLW9ybUAwLjMzLjBfQGxpYnNxbCtjbGllbnRAMC4xMC4wX0B0eXBlcytiZXR0ZXItc3FsaXRlM0A3LjYuMTEvbm9kZV9tb2R1bGVzL3NyYy9saWJzcWwvZHJpdmVyLnRzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2NvcmVAMC4xMC4wL25vZGVfbW9kdWxlcy9AbGlic3FsL2NvcmUvbGliLWVzbS9hcGkuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwrY29yZUAwLjEwLjAvbm9kZV9tb2R1bGVzL0BsaWJzcWwvY29yZS9saWItZXNtL3VyaS5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vanMtYmFzZTY0QDMuNy43L25vZGVfbW9kdWxlcy9qcy1iYXNlNjQvYmFzZTY0Lm1qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQGxpYnNxbCtjb3JlQDAuMTAuMC9ub2RlX21vZHVsZXMvQGxpYnNxbC9jb3JlL2xpYi1lc20vdXRpbC5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQGxpYnNxbCtjb3JlQDAuMTAuMC9ub2RlX21vZHVsZXMvQGxpYnNxbC9jb3JlL2xpYi1lc20vY29uZmlnLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2lzb21vcnBoaWMtd3NAMC4xLjUvbm9kZV9tb2R1bGVzL0BsaWJzcWwvaXNvbW9ycGhpYy13cy93ZWIubWpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2hyYW5hLWNsaWVudEAwLjYuMi9ub2RlX21vZHVsZXMvQGxpYnNxbC9ocmFuYS1jbGllbnQvbGliLWVzbS9jbGllbnQuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwraHJhbmEtY2xpZW50QDAuNi4yL25vZGVfbW9kdWxlcy9AbGlic3FsL2hyYW5hLWNsaWVudC9saWItZXNtL2Vycm9ycy5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQGxpYnNxbCtocmFuYS1jbGllbnRAMC42LjIvbm9kZV9tb2R1bGVzL0BsaWJzcWwvaHJhbmEtY2xpZW50L2xpYi1lc20vZW5jb2RpbmcvanNvbi9kZWNvZGUuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwraHJhbmEtY2xpZW50QDAuNi4yL25vZGVfbW9kdWxlcy9AbGlic3FsL2hyYW5hLWNsaWVudC9saWItZXNtL2VuY29kaW5nL2pzb24vZW5jb2RlLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2hyYW5hLWNsaWVudEAwLjYuMi9ub2RlX21vZHVsZXMvQGxpYnNxbC9ocmFuYS1jbGllbnQvbGliLWVzbS9lbmNvZGluZy9wcm90b2J1Zi91dGlsLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2hyYW5hLWNsaWVudEAwLjYuMi9ub2RlX21vZHVsZXMvQGxpYnNxbC9ocmFuYS1jbGllbnQvbGliLWVzbS9lbmNvZGluZy9wcm90b2J1Zi9kZWNvZGUuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwraHJhbmEtY2xpZW50QDAuNi4yL25vZGVfbW9kdWxlcy9AbGlic3FsL2hyYW5hLWNsaWVudC9saWItZXNtL2VuY29kaW5nL3Byb3RvYnVmL2VuY29kZS5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQGxpYnNxbCtocmFuYS1jbGllbnRAMC42LjIvbm9kZV9tb2R1bGVzL0BsaWJzcWwvaHJhbmEtY2xpZW50L2xpYi1lc20vaWRfYWxsb2MuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwraHJhbmEtY2xpZW50QDAuNi4yL25vZGVfbW9kdWxlcy9AbGlic3FsL2hyYW5hLWNsaWVudC9saWItZXNtL3V0aWwuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwraHJhbmEtY2xpZW50QDAuNi4yL25vZGVfbW9kdWxlcy9AbGlic3FsL2hyYW5hLWNsaWVudC9saWItZXNtL3ZhbHVlLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2hyYW5hLWNsaWVudEAwLjYuMi9ub2RlX21vZHVsZXMvQGxpYnNxbC9ocmFuYS1jbGllbnQvbGliLWVzbS9yZXN1bHQuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwraHJhbmEtY2xpZW50QDAuNi4yL25vZGVfbW9kdWxlcy9AbGlic3FsL2hyYW5hLWNsaWVudC9saWItZXNtL3NxbC5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQGxpYnNxbCtocmFuYS1jbGllbnRAMC42LjIvbm9kZV9tb2R1bGVzL0BsaWJzcWwvaHJhbmEtY2xpZW50L2xpYi1lc20vcXVldWUuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwraHJhbmEtY2xpZW50QDAuNi4yL25vZGVfbW9kdWxlcy9AbGlic3FsL2hyYW5hLWNsaWVudC9saWItZXNtL3N0bXQuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwraHJhbmEtY2xpZW50QDAuNi4yL25vZGVfbW9kdWxlcy9AbGlic3FsL2hyYW5hLWNsaWVudC9saWItZXNtL2JhdGNoLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2hyYW5hLWNsaWVudEAwLjYuMi9ub2RlX21vZHVsZXMvQGxpYnNxbC9ocmFuYS1jbGllbnQvbGliLWVzbS9kZXNjcmliZS5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQGxpYnNxbCtocmFuYS1jbGllbnRAMC42LjIvbm9kZV9tb2R1bGVzL0BsaWJzcWwvaHJhbmEtY2xpZW50L2xpYi1lc20vc3RyZWFtLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2hyYW5hLWNsaWVudEAwLjYuMi9ub2RlX21vZHVsZXMvQGxpYnNxbC9ocmFuYS1jbGllbnQvbGliLWVzbS9jdXJzb3IuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwraHJhbmEtY2xpZW50QDAuNi4yL25vZGVfbW9kdWxlcy9AbGlic3FsL2hyYW5hLWNsaWVudC9saWItZXNtL3dzL2N1cnNvci5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQGxpYnNxbCtocmFuYS1jbGllbnRAMC42LjIvbm9kZV9tb2R1bGVzL0BsaWJzcWwvaHJhbmEtY2xpZW50L2xpYi1lc20vd3Mvc3RyZWFtLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2hyYW5hLWNsaWVudEAwLjYuMi9ub2RlX21vZHVsZXMvQGxpYnNxbC9ocmFuYS1jbGllbnQvbGliLWVzbS9zaGFyZWQvanNvbl9lbmNvZGUuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwraHJhbmEtY2xpZW50QDAuNi4yL25vZGVfbW9kdWxlcy9AbGlic3FsL2hyYW5hLWNsaWVudC9saWItZXNtL3dzL2pzb25fZW5jb2RlLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2hyYW5hLWNsaWVudEAwLjYuMi9ub2RlX21vZHVsZXMvQGxpYnNxbC9ocmFuYS1jbGllbnQvbGliLWVzbS9zaGFyZWQvcHJvdG9idWZfZW5jb2RlLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2hyYW5hLWNsaWVudEAwLjYuMi9ub2RlX21vZHVsZXMvQGxpYnNxbC9ocmFuYS1jbGllbnQvbGliLWVzbS93cy9wcm90b2J1Zl9lbmNvZGUuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwraHJhbmEtY2xpZW50QDAuNi4yL25vZGVfbW9kdWxlcy9AbGlic3FsL2hyYW5hLWNsaWVudC9saWItZXNtL3NoYXJlZC9qc29uX2RlY29kZS5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQGxpYnNxbCtocmFuYS1jbGllbnRAMC42LjIvbm9kZV9tb2R1bGVzL0BsaWJzcWwvaHJhbmEtY2xpZW50L2xpYi1lc20vd3MvanNvbl9kZWNvZGUuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwraHJhbmEtY2xpZW50QDAuNi4yL25vZGVfbW9kdWxlcy9AbGlic3FsL2hyYW5hLWNsaWVudC9saWItZXNtL3NoYXJlZC9wcm90b2J1Zl9kZWNvZGUuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwraHJhbmEtY2xpZW50QDAuNi4yL25vZGVfbW9kdWxlcy9AbGlic3FsL2hyYW5hLWNsaWVudC9saWItZXNtL3dzL3Byb3RvYnVmX2RlY29kZS5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQGxpYnNxbCtocmFuYS1jbGllbnRAMC42LjIvbm9kZV9tb2R1bGVzL0BsaWJzcWwvaHJhbmEtY2xpZW50L2xpYi1lc20vd3MvY2xpZW50LmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2lzb21vcnBoaWMtZmV0Y2hAMC4yLjUvbm9kZV9tb2R1bGVzL0BsaWJzcWwvaXNvbW9ycGhpYy1mZXRjaC93ZWIuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwraHJhbmEtY2xpZW50QDAuNi4yL25vZGVfbW9kdWxlcy9AbGlic3FsL2hyYW5hLWNsaWVudC9saWItZXNtL3F1ZXVlX21pY3JvdGFzay5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQGxpYnNxbCtocmFuYS1jbGllbnRAMC42LjIvbm9kZV9tb2R1bGVzL0BsaWJzcWwvaHJhbmEtY2xpZW50L2xpYi1lc20vYnl0ZV9xdWV1ZS5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQGxpYnNxbCtocmFuYS1jbGllbnRAMC42LjIvbm9kZV9tb2R1bGVzL0BsaWJzcWwvaHJhbmEtY2xpZW50L2xpYi1lc20vaHR0cC9qc29uX2RlY29kZS5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQGxpYnNxbCtocmFuYS1jbGllbnRAMC42LjIvbm9kZV9tb2R1bGVzL0BsaWJzcWwvaHJhbmEtY2xpZW50L2xpYi1lc20vaHR0cC9wcm90b2J1Zl9kZWNvZGUuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwraHJhbmEtY2xpZW50QDAuNi4yL25vZGVfbW9kdWxlcy9AbGlic3FsL2hyYW5hLWNsaWVudC9saWItZXNtL2h0dHAvY3Vyc29yLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2hyYW5hLWNsaWVudEAwLjYuMi9ub2RlX21vZHVsZXMvQGxpYnNxbC9ocmFuYS1jbGllbnQvbGliLWVzbS9odHRwL2pzb25fZW5jb2RlLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2hyYW5hLWNsaWVudEAwLjYuMi9ub2RlX21vZHVsZXMvQGxpYnNxbC9ocmFuYS1jbGllbnQvbGliLWVzbS9odHRwL3Byb3RvYnVmX2VuY29kZS5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQGxpYnNxbCtocmFuYS1jbGllbnRAMC42LjIvbm9kZV9tb2R1bGVzL0BsaWJzcWwvaHJhbmEtY2xpZW50L2xpYi1lc20vaHR0cC9zdHJlYW0uanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwraHJhbmEtY2xpZW50QDAuNi4yL25vZGVfbW9kdWxlcy9AbGlic3FsL2hyYW5hLWNsaWVudC9saWItZXNtL2h0dHAvY2xpZW50LmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2hyYW5hLWNsaWVudEAwLjYuMi9ub2RlX21vZHVsZXMvQGxpYnNxbC9ocmFuYS1jbGllbnQvbGliLWVzbS9pbmRleC5qcyIsICJub2RlX21vZHVsZXMvLnBucG0vQGxpYnNxbCtjbGllbnRAMC4xMC4wL25vZGVfbW9kdWxlcy9AbGlic3FsL2NsaWVudC9saWItZXNtL2hyYW5hLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2NsaWVudEAwLjEwLjAvbm9kZV9tb2R1bGVzL0BsaWJzcWwvY2xpZW50L2xpYi1lc20vc3FsX2NhY2hlLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2NsaWVudEAwLjEwLjAvbm9kZV9tb2R1bGVzL0BsaWJzcWwvY2xpZW50L2xpYi1lc20vd3MuanMiLCAibm9kZV9tb2R1bGVzLy5wbnBtL0BsaWJzcWwrY2xpZW50QDAuMTAuMC9ub2RlX21vZHVsZXMvQGxpYnNxbC9jbGllbnQvbGliLWVzbS9odHRwLmpzIiwgIm5vZGVfbW9kdWxlcy8ucG5wbS9AbGlic3FsK2NsaWVudEAwLjEwLjAvbm9kZV9tb2R1bGVzL0BsaWJzcWwvY2xpZW50L2xpYi1lc20vd2ViLmpzIiwgInNyYy9kYi9zY2hlbWEudHMiLCAic3JjL2RhdGFiYXNlLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyJmdW5jdGlvbiBsaW1pdGVyIChjb3VudCkge1xuICB2YXIgb3V0c3RhbmRpbmcgPSAwXG4gIHZhciBqb2JzID0gW11cblxuICBmdW5jdGlvbiByZW1vdmUgKCkge1xuICAgIG91dHN0YW5kaW5nLS1cblxuICAgIGlmIChvdXRzdGFuZGluZyA8IGNvdW50KSB7XG4gICAgICBkZXF1ZXVlKClcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkZXF1ZXVlICgpIHtcbiAgICB2YXIgam9iID0gam9icy5zaGlmdCgpXG4gICAgc2VtYXBob3JlLnF1ZXVlID0gam9icy5sZW5ndGhcblxuICAgIGlmIChqb2IpIHtcbiAgICAgIHJ1bihqb2IuZm4pLnRoZW4oam9iLnJlc29sdmUpLmNhdGNoKGpvYi5yZWplY3QpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcXVldWUgKGZuKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGpvYnMucHVzaCh7Zm46IGZuLCByZXNvbHZlOiByZXNvbHZlLCByZWplY3Q6IHJlamVjdH0pXG4gICAgICBzZW1hcGhvcmUucXVldWUgPSBqb2JzLmxlbmd0aFxuICAgIH0pXG4gIH1cblxuICBmdW5jdGlvbiBydW4gKGZuKSB7XG4gICAgb3V0c3RhbmRpbmcrK1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZuKCkpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICByZW1vdmUoKVxuICAgICAgICByZXR1cm4gcmVzdWx0XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgcmVtb3ZlKClcbiAgICAgICAgdGhyb3cgZXJyb3JcbiAgICAgIH0pXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZW1vdmUoKVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycilcbiAgICB9XG4gIH1cblxuICB2YXIgc2VtYXBob3JlID0gZnVuY3Rpb24gKGZuKSB7XG4gICAgaWYgKG91dHN0YW5kaW5nID49IGNvdW50KSB7XG4gICAgICByZXR1cm4gcXVldWUoZm4pXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBydW4oZm4pXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHNlbWFwaG9yZVxufVxuXG5mdW5jdGlvbiBtYXAgKGl0ZW1zLCBtYXBwZXIpIHtcbiAgdmFyIGZhaWxlZCA9IGZhbHNlXG5cbiAgdmFyIGxpbWl0ID0gdGhpc1xuXG4gIHJldHVybiBQcm9taXNlLmFsbChpdGVtcy5tYXAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzXG4gICAgcmV0dXJuIGxpbWl0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICghZmFpbGVkKSB7XG4gICAgICAgIHJldHVybiBtYXBwZXIuYXBwbHkodW5kZWZpbmVkLCBhcmdzKS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIGZhaWxlZCA9IHRydWVcbiAgICAgICAgICB0aHJvdyBlXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfSkpXG59XG5cbmZ1bmN0aW9uIGFkZEV4dHJhcyAoZm4pIHtcbiAgZm4ucXVldWUgPSAwXG4gIGZuLm1hcCA9IG1hcFxuICByZXR1cm4gZm5cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY291bnQpIHtcbiAgaWYgKGNvdW50KSB7XG4gICAgcmV0dXJuIGFkZEV4dHJhcyhsaW1pdGVyKGNvdW50KSlcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYWRkRXh0cmFzKGZ1bmN0aW9uIChmbikge1xuICAgICAgcmV0dXJuIGZuKClcbiAgICB9KVxuICB9XG59XG4iLCAiaW1wb3J0IHsgUGx1Z2luLCBOb3RpY2UsIGFkZEljb24gfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBTUUxpdGVQbHVnaW5TZXR0aW5ncywgREVGQVVMVF9TRVRUSU5HUywgU1FMaXRlUGx1Z2luU2V0dGluZ1RhYiB9IGZyb20gJy4vc2V0dGluZ3MnO1xuaW1wb3J0IHsgRGF0YWJhc2VNYW5hZ2VyIH0gZnJvbSAnLi9kYXRhYmFzZSc7XG5cbmNvbnN0IFNZTkNfSUNPTiA9IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjEwMFwiIGhlaWdodD1cIjEwMFwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjJcIiBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBjbGFzcz1cImZlYXRoZXIgZmVhdGhlci1yZWZyZXNoLWN3XCI+PHBvbHlsaW5lIHBvaW50cz1cIjIzIDQgMjMgMTAgMTcgMTBcIj48L3BvbHlsaW5lPjxwb2x5bGluZSBwb2ludHM9XCIxIDIwIDEgMTQgNyAxNFwiPjwvcG9seWxpbmU+PHBhdGggZD1cIk0zLjUxIDlhOSA5IDAgMCAxIDE0Ljg1LTMuMzZMMjMgMTBNMSAxNGw0LjY0IDQuMzZBOSA5IDAgMCAwIDIwLjQ5IDE1XCI+PC9wYXRoPjwvc3ZnPmA7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFNRTGl0ZVBsdWdpbiBleHRlbmRzIFBsdWdpbiB7XG4gICAgc2V0dGluZ3M6IFNRTGl0ZVBsdWdpblNldHRpbmdzO1xuICAgIGRiOiBEYXRhYmFzZU1hbmFnZXI7XG5cbiAgICBhc3luYyBvbmxvYWQoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG4gICAgICAgIGF3YWl0IHRoaXMucmVnaXN0ZXJFdmVudCh0aGlzLmFwcC52YXVsdC5vbihcInJlbmFtZVwiLCBhc3luYyAoZGF0YSwgb2xkUGF0aCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3JlYXRlZEZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRGaWxlQnlQYXRoKGRhdGEucGF0aClcbiAgICAgICAgICAgIGlmIChjcmVhdGVkRmlsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZGIuZGVsZXRlTm90ZShvbGRQYXRoKVxuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLmFwcC52YXVsdC5yZWFkKGNyZWF0ZWRGaWxlKVxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZGIuYWRkTm90ZShkYXRhLnBhdGgsIGNvbnRlbnQpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKVxuICAgICAgICBhd2FpdCB0aGlzLnJlZ2lzdGVyRXZlbnQodGhpcy5hcHAudmF1bHQub24oXCJjcmVhdGVcIiwgYXN5bmMgKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNyZWF0ZWRGaWxlID0gdGhpcy5hcHAudmF1bHQuZ2V0RmlsZUJ5UGF0aChkYXRhLnBhdGgpXG4gICAgICAgICAgICBpZiAoY3JlYXRlZEZpbGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoY3JlYXRlZEZpbGUucGF0aC5pbmNsdWRlcyhcIlVudGl0bGVkLm1kXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBkYk5vdGUgPSB0aGlzLmRiLmdldE5vdGUoY3JlYXRlZEZpbGU/LnBhdGgpXG4gICAgICAgICAgICAgICAgaWYgKCFkYk5vdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMuYXBwLnZhdWx0LnJlYWQoY3JlYXRlZEZpbGUpXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZGIuYWRkTm90ZShjcmVhdGVkRmlsZS5wYXRoLCBjb250ZW50KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpXG4gICAgICAgIGF3YWl0IHRoaXMucmVnaXN0ZXJFdmVudCh0aGlzLmFwcC52YXVsdC5vbihcIm1vZGlmeVwiLCBhc3luYyAoZGF0YSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY3JlYXRlZEZpbGUgPSB0aGlzLmFwcC52YXVsdC5nZXRGaWxlQnlQYXRoKGRhdGEucGF0aClcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdNb2RpZnkgRmlsZScpXG4gICAgICAgICAgICBpZiAoY3JlYXRlZEZpbGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChjcmVhdGVkRmlsZSlcbiAgICAgICAgICAgICAgICBjb25zdCBkYkZpbGUgPSBhd2FpdCB0aGlzLmRiLmdldE5vdGUoY3JlYXRlZEZpbGUucGF0aClcbiAgICAgICAgICAgICAgICBpZiAoIWRiRmlsZSkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmRiLmFkZE5vdGUoY3JlYXRlZEZpbGUucGF0aCwgY29udGVudClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZGIudXBkYXRlTm90ZShjcmVhdGVkRmlsZS5wYXRoLCBjb250ZW50KVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSlcbiAgICAgICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBTUUxpdGVQbHVnaW5TZXR0aW5nVGFiKHRoaXMuYXBwLCB0aGlzKSk7XG4gICAgICAgIHRoaXMuZGIgPSBuZXcgRGF0YWJhc2VNYW5hZ2VyKFxuICAgICAgICAgICAgdGhpcy5hcHAudmF1bHQuY29uZmlnRGlyLFxuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5sb2NhbERCUGF0aCxcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MucmVtb3RlREJVcmwsXG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnJlbW90ZURCU2VjcmV0LFxuICAgICAgICAgICAgNjAgLy8gc3luYyBldmVyeSA2MCBzZWNvbmRzXG4gICAgICAgICk7XG4gICAgICAgIGF3YWl0IHRoaXMuZGIuaW5pdGlhbGl6ZSgpO1xuXG4gICAgICAgIGFkZEljb24oJ3B1bGxGcm9tUmVtb3RlJywgU1lOQ19JQ09OKTtcblxuICAgICAgICB0aGlzLmFkZFJpYmJvbkljb24oJ3B1bGxGcm9tUmVtb3RlJywgJ1B1bGwgTm90ZXMgRnJvbSBEYXRhYmFzZScsIGFzeW5jIChldnQ6IE1vdXNlRXZlbnQpID0+IHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZGIucHVsbEZyb21SZW1vdGUodGhpcy5hcHAudmF1bHQpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgICAgICAgaWQ6ICdhZGQtbm90ZScsXG4gICAgICAgICAgICBuYW1lOiAnQWRkIE5vdGUnLFxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMuZGIuYWRkTm90ZSgnTmV3IE5vdGUnLCAnVGhpcyBpcyBhIG5ldyBub3RlLicpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuYWRkQ29tbWFuZCh7XG4gICAgICAgICAgICBpZDogJ2dldC1hbGwtbm90ZXMnLFxuICAgICAgICAgICAgbmFtZTogJ0dldCBBbGwgTm90ZXMnLFxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHRoaXMuZGIuZ2V0QWxsTm90ZXMoKVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbnVubG9hZCgpIHtcbiAgICAgICAgLy90b2RvOiBhbnl0aGluZyB0byBkbyBvbiB1bmxvYWQsIHN5bmMgbWF5YmU/XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZFNldHRpbmdzKCkge1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gT2JqZWN0LmFzc2lnbih7fSwgREVGQVVMVF9TRVRUSU5HUywgYXdhaXQgdGhpcy5sb2FkRGF0YSgpKTtcbiAgICB9XG5cbiAgICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuc2F2ZURhdGEodGhpcy5zZXR0aW5ncyk7XG4gICAgfVxuXG4gICAgYXN5bmMgc3luY0RhdGFiYXNlKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5kYi5zeW5jKCk7XG4gICAgICAgICAgICBuZXcgTm90aWNlKCdEYXRhYmFzZSBzeW5jZWQgc3VjY2Vzc2Z1bGx5Jyk7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdTeW5jIGZhaWxlZDonLCBlcnJvcik7XG4gICAgICAgICAgICBuZXcgTm90aWNlKCdTeW5jIGZhaWxlZC4gQ2hlY2sgY29uc29sZSBmb3IgZGV0YWlscy4nKTtcbiAgICAgICAgfVxuICAgIH1cbn0iLCAiaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IFNRTGl0ZVBsdWdpbiBmcm9tICcuL21haW4nO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNRTGl0ZVBsdWdpblNldHRpbmdzIHtcbiAgICBsb2NhbERCUGF0aDogc3RyaW5nO1xuICAgIHJlbW90ZURCVXJsOiBzdHJpbmc7XG4gICAgcmVtb3RlREJTZWNyZXQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFNRTGl0ZVBsdWdpblNldHRpbmdzID0ge1xuICAgIGxvY2FsREJQYXRoOiAnLm9ic2lkaWFuLXNxbC1saXRlLmRiJyxcbiAgICByZW1vdGVEQlVybDogJycsXG4gICAgcmVtb3RlREJTZWNyZXQ6ICcnXG59XG5cbmV4cG9ydCBjbGFzcyBTUUxpdGVQbHVnaW5TZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gICAgcGx1Z2luOiBTUUxpdGVQbHVnaW47XG5cbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcGx1Z2luOiBTUUxpdGVQbHVnaW4pIHtcbiAgICAgICAgc3VwZXIoYXBwLCBwbHVnaW4pO1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICB9XG5cbiAgICBkaXNwbGF5KCk6IHZvaWQge1xuICAgICAgICBjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXG4gICAgICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoJ0RCIFVSTCcpXG4gICAgICAgICAgICAuc2V0RGVzYygnVGhlIFR1cnNvIERCIHVybCcpXG4gICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcbiAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIHlvdXIgdXJsJylcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucmVtb3RlREJVcmwpXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZW1vdGVEQlVybCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgICAgICAgLnNldE5hbWUoJ0RCIFNlY3JldCcpXG4gICAgICAgICAgICAuc2V0RGVzYygnVGhlIFR1cnNvIERCIHNlY3JldCcpXG4gICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcbiAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIHlvdXIgc2VjcmV0JylcbiAgICAgICAgICAgICAgICAuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MucmVtb3RlREJTZWNyZXQpXG4gICAgICAgICAgICAgICAgLm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZW1vdGVEQlNlY3JldCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICB9KSk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnRGF0YWJhc2UgZmlsZSBuYW1lJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdUaGUgbmFtZSBvZiB0aGUgU1FMaXRlIGRhdGFiYXNlIGZpbGUgKHN0b3JlZCBpbiAub2JzaWRpYW4gZm9sZGVyKScpXG4gICAgICAgICAgICAuYWRkVGV4dCh0ZXh0ID0+IHRleHRcbiAgICAgICAgICAgICAgICAuc2V0UGxhY2Vob2xkZXIoJ0VudGVyIGZpbGUgbmFtZScpXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmxvY2FsREJQYXRoKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MubG9jYWxEQlBhdGggPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgIH1cbn0iLCAiZXhwb3J0IGNvbnN0IGVudGl0eUtpbmQgPSBTeW1ib2wuZm9yKCdkcml6emxlOmVudGl0eUtpbmQnKTtcbmV4cG9ydCBjb25zdCBoYXNPd25FbnRpdHlLaW5kID0gU3ltYm9sLmZvcignZHJpenpsZTpoYXNPd25FbnRpdHlLaW5kJyk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJpenpsZUVudGl0eSB7XG5cdFtlbnRpdHlLaW5kXTogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBEcml6emxlRW50aXR5Q2xhc3M8VD4gPVxuXHQmICgoYWJzdHJhY3QgbmV3KC4uLmFyZ3M6IGFueVtdKSA9PiBUKSB8IChuZXcoLi4uYXJnczogYW55W10pID0+IFQpKVxuXHQmIERyaXp6bGVFbnRpdHk7XG5cbmV4cG9ydCBmdW5jdGlvbiBpczxUIGV4dGVuZHMgRHJpenpsZUVudGl0eUNsYXNzPGFueT4+KHZhbHVlOiBhbnksIHR5cGU6IFQpOiB2YWx1ZSBpcyBJbnN0YW5jZVR5cGU8VD4ge1xuXHRpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRpZiAodmFsdWUgaW5zdGFuY2VvZiB0eXBlKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8taW5zdGFuY2VvZi9uby1pbnN0YW5jZW9mXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHRpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0eXBlLCBlbnRpdHlLaW5kKSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdGBDbGFzcyBcIiR7XG5cdFx0XHRcdHR5cGUubmFtZSA/PyAnPHVua25vd24+J1xuXHRcdFx0fVwiIGRvZXNuJ3QgbG9vayBsaWtlIGEgRHJpenpsZSBlbnRpdHkuIElmIHRoaXMgaXMgaW5jb3JyZWN0IGFuZCB0aGUgY2xhc3MgaXMgcHJvdmlkZWQgYnkgRHJpenpsZSwgcGxlYXNlIHJlcG9ydCB0aGlzIGFzIGEgYnVnLmAsXG5cdFx0KTtcblx0fVxuXG5cdGxldCBjbHMgPSB2YWx1ZS5jb25zdHJ1Y3Rvcjtcblx0aWYgKGNscykge1xuXHRcdC8vIFRyYXZlcnNlIHRoZSBwcm90b3R5cGUgY2hhaW4gdG8gZmluZCB0aGUgZW50aXR5S2luZFxuXHRcdHdoaWxlIChjbHMpIHtcblx0XHRcdGlmIChlbnRpdHlLaW5kIGluIGNscyAmJiBjbHNbZW50aXR5S2luZF0gPT09IHR5cGVbZW50aXR5S2luZF0pIHtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdGNscyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihjbHMpO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBmYWxzZTtcbn1cbiIsICJpbXBvcnQgeyBlbnRpdHlLaW5kIH0gZnJvbSAnfi9lbnRpdHkudHMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIExvZ2dlciB7XG5cdGxvZ1F1ZXJ5KHF1ZXJ5OiBzdHJpbmcsIHBhcmFtczogdW5rbm93bltdKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb2dXcml0ZXIge1xuXHR3cml0ZShtZXNzYWdlOiBzdHJpbmcpOiB2b2lkO1xufVxuXG5leHBvcnQgY2xhc3MgQ29uc29sZUxvZ1dyaXRlciBpbXBsZW1lbnRzIExvZ1dyaXRlciB7XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdDb25zb2xlTG9nV3JpdGVyJztcblxuXHR3cml0ZShtZXNzYWdlOiBzdHJpbmcpIHtcblx0XHRjb25zb2xlLmxvZyhtZXNzYWdlKTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgRGVmYXVsdExvZ2dlciBpbXBsZW1lbnRzIExvZ2dlciB7XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdEZWZhdWx0TG9nZ2VyJztcblxuXHRyZWFkb25seSB3cml0ZXI6IExvZ1dyaXRlcjtcblxuXHRjb25zdHJ1Y3Rvcihjb25maWc/OiB7IHdyaXRlcjogTG9nV3JpdGVyIH0pIHtcblx0XHR0aGlzLndyaXRlciA9IGNvbmZpZz8ud3JpdGVyID8/IG5ldyBDb25zb2xlTG9nV3JpdGVyKCk7XG5cdH1cblxuXHRsb2dRdWVyeShxdWVyeTogc3RyaW5nLCBwYXJhbXM6IHVua25vd25bXSk6IHZvaWQge1xuXHRcdGNvbnN0IHN0cmluZ2lmaWVkUGFyYW1zID0gcGFyYW1zLm1hcCgocCkgPT4ge1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHApO1xuXHRcdFx0fSBjYXRjaCB7XG5cdFx0XHRcdHJldHVybiBTdHJpbmcocCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0Y29uc3QgcGFyYW1zU3RyID0gc3RyaW5naWZpZWRQYXJhbXMubGVuZ3RoID8gYCAtLSBwYXJhbXM6IFske3N0cmluZ2lmaWVkUGFyYW1zLmpvaW4oJywgJyl9XWAgOiAnJztcblx0XHR0aGlzLndyaXRlci53cml0ZShgUXVlcnk6ICR7cXVlcnl9JHtwYXJhbXNTdHJ9YCk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIE5vb3BMb2dnZXIgaW1wbGVtZW50cyBMb2dnZXIge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnTm9vcExvZ2dlcic7XG5cblx0bG9nUXVlcnkoKTogdm9pZCB7XG5cdFx0Ly8gbm9vcFxuXHR9XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBDb2x1bW4sIEdldENvbHVtbkRhdGEgfSBmcm9tICcuL2NvbHVtbi50cyc7XG5pbXBvcnQgeyBlbnRpdHlLaW5kIH0gZnJvbSAnLi9lbnRpdHkudHMnO1xuaW1wb3J0IHR5cGUgeyBPcHRpb25hbEtleU9ubHksIFJlcXVpcmVkS2V5T25seSB9IGZyb20gJy4vb3BlcmF0aW9ucy50cyc7XG5pbXBvcnQgdHlwZSB7IEV4dHJhQ29uZmlnQ29sdW1uIH0gZnJvbSAnLi9wZy1jb3JlL2luZGV4LnRzJztcbmltcG9ydCB0eXBlIHsgU1FMV3JhcHBlciB9IGZyb20gJy4vc3FsL3NxbC50cyc7XG5pbXBvcnQgdHlwZSB7IFNpbXBsaWZ5LCBVcGRhdGUgfSBmcm9tICcuL3V0aWxzLnRzJztcblxuZXhwb3J0IGludGVyZmFjZSBUYWJsZUNvbmZpZzxUQ29sdW1uIGV4dGVuZHMgQ29sdW1uID0gQ29sdW1uPGFueT4+IHtcblx0bmFtZTogc3RyaW5nO1xuXHRzY2hlbWE6IHN0cmluZyB8IHVuZGVmaW5lZDtcblx0Y29sdW1uczogUmVjb3JkPHN0cmluZywgVENvbHVtbj47XG5cdGRpYWxlY3Q6IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgVXBkYXRlVGFibGVDb25maWc8VCBleHRlbmRzIFRhYmxlQ29uZmlnLCBUVXBkYXRlIGV4dGVuZHMgUGFydGlhbDxUYWJsZUNvbmZpZz4+ID0gUmVxdWlyZWQ8XG5cdFVwZGF0ZTxULCBUVXBkYXRlPlxuPjtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IFRhYmxlTmFtZSA9IFN5bWJvbC5mb3IoJ2RyaXp6bGU6TmFtZScpO1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgU2NoZW1hID0gU3ltYm9sLmZvcignZHJpenpsZTpTY2hlbWEnKTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IENvbHVtbnMgPSBTeW1ib2wuZm9yKCdkcml6emxlOkNvbHVtbnMnKTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IEV4dHJhQ29uZmlnQ29sdW1ucyA9IFN5bWJvbC5mb3IoJ2RyaXp6bGU6RXh0cmFDb25maWdDb2x1bW5zJyk7XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBPcmlnaW5hbE5hbWUgPSBTeW1ib2wuZm9yKCdkcml6emxlOk9yaWdpbmFsTmFtZScpO1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgQmFzZU5hbWUgPSBTeW1ib2wuZm9yKCdkcml6emxlOkJhc2VOYW1lJyk7XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBJc0FsaWFzID0gU3ltYm9sLmZvcignZHJpenpsZTpJc0FsaWFzJyk7XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBFeHRyYUNvbmZpZ0J1aWxkZXIgPSBTeW1ib2wuZm9yKCdkcml6emxlOkV4dHJhQ29uZmlnQnVpbGRlcicpO1xuXG5jb25zdCBJc0RyaXp6bGVUYWJsZSA9IFN5bWJvbC5mb3IoJ2RyaXp6bGU6SXNEcml6emxlVGFibGUnKTtcblxuZXhwb3J0IGludGVyZmFjZSBUYWJsZTxcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuXHRUIGV4dGVuZHMgVGFibGVDb25maWcgPSBUYWJsZUNvbmZpZyxcbj4gZXh0ZW5kcyBTUUxXcmFwcGVyIHtcblx0Ly8gU1FMV3JhcHBlciBydW50aW1lIGltcGxlbWVudGF0aW9uIGlzIGRlZmluZWQgaW4gJ3NxbC9zcWwudHMnXG59XG5cbmV4cG9ydCBjbGFzcyBUYWJsZTxUIGV4dGVuZHMgVGFibGVDb25maWcgPSBUYWJsZUNvbmZpZz4gaW1wbGVtZW50cyBTUUxXcmFwcGVyIHtcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ1RhYmxlJztcblxuXHRkZWNsYXJlIHJlYWRvbmx5IF86IHtcblx0XHRyZWFkb25seSBicmFuZDogJ1RhYmxlJztcblx0XHRyZWFkb25seSBjb25maWc6IFQ7XG5cdFx0cmVhZG9ubHkgbmFtZTogVFsnbmFtZSddO1xuXHRcdHJlYWRvbmx5IHNjaGVtYTogVFsnc2NoZW1hJ107XG5cdFx0cmVhZG9ubHkgY29sdW1uczogVFsnY29sdW1ucyddO1xuXHRcdHJlYWRvbmx5IGluZmVyU2VsZWN0OiBJbmZlclNlbGVjdE1vZGVsPFRhYmxlPFQ+Pjtcblx0XHRyZWFkb25seSBpbmZlckluc2VydDogSW5mZXJJbnNlcnRNb2RlbDxUYWJsZTxUPj47XG5cdH07XG5cblx0ZGVjbGFyZSByZWFkb25seSAkaW5mZXJTZWxlY3Q6IEluZmVyU2VsZWN0TW9kZWw8VGFibGU8VD4+O1xuXHRkZWNsYXJlIHJlYWRvbmx5ICRpbmZlckluc2VydDogSW5mZXJJbnNlcnRNb2RlbDxUYWJsZTxUPj47XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRzdGF0aWMgcmVhZG9ubHkgU3ltYm9sID0ge1xuXHRcdE5hbWU6IFRhYmxlTmFtZSBhcyB0eXBlb2YgVGFibGVOYW1lLFxuXHRcdFNjaGVtYTogU2NoZW1hIGFzIHR5cGVvZiBTY2hlbWEsXG5cdFx0T3JpZ2luYWxOYW1lOiBPcmlnaW5hbE5hbWUgYXMgdHlwZW9mIE9yaWdpbmFsTmFtZSxcblx0XHRDb2x1bW5zOiBDb2x1bW5zIGFzIHR5cGVvZiBDb2x1bW5zLFxuXHRcdEV4dHJhQ29uZmlnQ29sdW1uczogRXh0cmFDb25maWdDb2x1bW5zIGFzIHR5cGVvZiBFeHRyYUNvbmZpZ0NvbHVtbnMsXG5cdFx0QmFzZU5hbWU6IEJhc2VOYW1lIGFzIHR5cGVvZiBCYXNlTmFtZSxcblx0XHRJc0FsaWFzOiBJc0FsaWFzIGFzIHR5cGVvZiBJc0FsaWFzLFxuXHRcdEV4dHJhQ29uZmlnQnVpbGRlcjogRXh0cmFDb25maWdCdWlsZGVyIGFzIHR5cGVvZiBFeHRyYUNvbmZpZ0J1aWxkZXIsXG5cdH07XG5cblx0LyoqXG5cdCAqIEBpbnRlcm5hbFxuXHQgKiBDYW4gYmUgY2hhbmdlZCBpZiB0aGUgdGFibGUgaXMgYWxpYXNlZC5cblx0ICovXG5cdFtUYWJsZU5hbWVdOiBzdHJpbmc7XG5cblx0LyoqXG5cdCAqIEBpbnRlcm5hbFxuXHQgKiBVc2VkIHRvIHN0b3JlIHRoZSBvcmlnaW5hbCBuYW1lIG9mIHRoZSB0YWJsZSwgYmVmb3JlIGFueSBhbGlhc2luZy5cblx0ICovXG5cdFtPcmlnaW5hbE5hbWVdOiBzdHJpbmc7XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRbU2NoZW1hXTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0W0NvbHVtbnNdITogVFsnY29sdW1ucyddO1xuXG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0W0V4dHJhQ29uZmlnQ29sdW1uc10hOiBSZWNvcmQ8c3RyaW5nLCBFeHRyYUNvbmZpZ0NvbHVtbj47XG5cblx0LyoqXG5cdCAqICBAaW50ZXJuYWxcblx0ICogVXNlZCB0byBzdG9yZSB0aGUgdGFibGUgbmFtZSBiZWZvcmUgdGhlIHRyYW5zZm9ybWF0aW9uIHZpYSB0aGUgYHRhYmxlQ3JlYXRvcmAgZnVuY3Rpb25zLlxuXHQgKi9cblx0W0Jhc2VOYW1lXTogc3RyaW5nO1xuXG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0W0lzQWxpYXNdID0gZmFsc2U7XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRbSXNEcml6emxlVGFibGVdID0gdHJ1ZTtcblxuXHQvKiogQGludGVybmFsICovXG5cdFtFeHRyYUNvbmZpZ0J1aWxkZXJdOiAoKHNlbGY6IGFueSkgPT4gUmVjb3JkPHN0cmluZywgdW5rbm93bj4pIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xuXG5cdGNvbnN0cnVjdG9yKG5hbWU6IHN0cmluZywgc2NoZW1hOiBzdHJpbmcgfCB1bmRlZmluZWQsIGJhc2VOYW1lOiBzdHJpbmcpIHtcblx0XHR0aGlzW1RhYmxlTmFtZV0gPSB0aGlzW09yaWdpbmFsTmFtZV0gPSBuYW1lO1xuXHRcdHRoaXNbU2NoZW1hXSA9IHNjaGVtYTtcblx0XHR0aGlzW0Jhc2VOYW1lXSA9IGJhc2VOYW1lO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1RhYmxlKHRhYmxlOiB1bmtub3duKTogdGFibGUgaXMgVGFibGUge1xuXHRyZXR1cm4gdHlwZW9mIHRhYmxlID09PSAnb2JqZWN0JyAmJiB0YWJsZSAhPT0gbnVsbCAmJiBJc0RyaXp6bGVUYWJsZSBpbiB0YWJsZTtcbn1cblxuLyoqXG4gKiBBbnkgdGFibGUgd2l0aCBhIHNwZWNpZmllZCBib3VuZGFyeS5cbiAqXG4gKiBAZXhhbXBsZVxuXHRgYGB0c1xuXHQvLyBBbnkgdGFibGUgd2l0aCBhIHNwZWNpZmljIG5hbWVcblx0dHlwZSBBbnlVc2Vyc1RhYmxlID0gQW55VGFibGU8eyBuYW1lOiAndXNlcnMnIH0+O1xuXHRgYGBcbiAqXG4gKiBUbyBkZXNjcmliZSBhbnkgdGFibGUgd2l0aCBhbnkgY29uZmlnLCBzaW1wbHkgdXNlIGBUYWJsZWAgd2l0aG91dCBhbnkgdHlwZSBhcmd1bWVudHMsIGxpa2UgdGhpczpcbiAqXG5cdGBgYHRzXG5cdGZ1bmN0aW9uIG5lZWRzVGFibGUodGFibGU6IFRhYmxlKSB7XG5cdFx0Li4uXG5cdH1cblx0YGBgXG4gKi9cbmV4cG9ydCB0eXBlIEFueVRhYmxlPFRQYXJ0aWFsIGV4dGVuZHMgUGFydGlhbDxUYWJsZUNvbmZpZz4+ID0gVGFibGU8VXBkYXRlVGFibGVDb25maWc8VGFibGVDb25maWcsIFRQYXJ0aWFsPj47XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUYWJsZU5hbWU8VCBleHRlbmRzIFRhYmxlPih0YWJsZTogVCk6IFRbJ18nXVsnbmFtZSddIHtcblx0cmV0dXJuIHRhYmxlW1RhYmxlTmFtZV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRUYWJsZVVuaXF1ZU5hbWU8VCBleHRlbmRzIFRhYmxlPih0YWJsZTogVCk6IGAke1RbJ18nXVsnc2NoZW1hJ119LiR7VFsnXyddWyduYW1lJ119YCB7XG5cdHJldHVybiBgJHt0YWJsZVtTY2hlbWFdID8/ICdwdWJsaWMnfS4ke3RhYmxlW1RhYmxlTmFtZV19YDtcbn1cblxuZXhwb3J0IHR5cGUgTWFwQ29sdW1uTmFtZTxUTmFtZSBleHRlbmRzIHN0cmluZywgVENvbHVtbiBleHRlbmRzIENvbHVtbiwgVERCQ29sdW1OYW1lcyBleHRlbmRzIGJvb2xlYW4+ID1cblx0VERCQ29sdW1OYW1lcyBleHRlbmRzIHRydWUgPyBUQ29sdW1uWydfJ11bJ25hbWUnXVxuXHRcdDogVE5hbWU7XG5cbmV4cG9ydCB0eXBlIEluZmVyTW9kZWxGcm9tQ29sdW1uczxcblx0VENvbHVtbnMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBDb2x1bW4+LFxuXHRUSW5mZXJNb2RlIGV4dGVuZHMgJ3NlbGVjdCcgfCAnaW5zZXJ0JyA9ICdzZWxlY3QnLFxuXHRUQ29uZmlnIGV4dGVuZHMgeyBkYkNvbHVtbk5hbWVzOiBib29sZWFuIH0gPSB7IGRiQ29sdW1uTmFtZXM6IGZhbHNlIH0sXG4+ID0gU2ltcGxpZnk8XG5cdFRJbmZlck1vZGUgZXh0ZW5kcyAnaW5zZXJ0JyA/XG5cdFx0XHQmIHtcblx0XHRcdFx0W1xuXHRcdFx0XHRcdEtleSBpbiBrZXlvZiBUQ29sdW1ucyAmIHN0cmluZyBhcyBSZXF1aXJlZEtleU9ubHk8XG5cdFx0XHRcdFx0XHRNYXBDb2x1bW5OYW1lPEtleSwgVENvbHVtbnNbS2V5XSwgVENvbmZpZ1snZGJDb2x1bW5OYW1lcyddPixcblx0XHRcdFx0XHRcdFRDb2x1bW5zW0tleV1cblx0XHRcdFx0XHQ+XG5cdFx0XHRcdF06IEdldENvbHVtbkRhdGE8VENvbHVtbnNbS2V5XSwgJ3F1ZXJ5Jz47XG5cdFx0XHR9XG5cdFx0XHQmIHtcblx0XHRcdFx0W1xuXHRcdFx0XHRcdEtleSBpbiBrZXlvZiBUQ29sdW1ucyAmIHN0cmluZyBhcyBPcHRpb25hbEtleU9ubHk8XG5cdFx0XHRcdFx0XHRNYXBDb2x1bW5OYW1lPEtleSwgVENvbHVtbnNbS2V5XSwgVENvbmZpZ1snZGJDb2x1bW5OYW1lcyddPixcblx0XHRcdFx0XHRcdFRDb2x1bW5zW0tleV1cblx0XHRcdFx0XHQ+XG5cdFx0XHRcdF0/OiBHZXRDb2x1bW5EYXRhPFRDb2x1bW5zW0tleV0sICdxdWVyeSc+O1xuXHRcdFx0fVxuXHRcdDoge1xuXHRcdFx0W1xuXHRcdFx0XHRLZXkgaW4ga2V5b2YgVENvbHVtbnMgJiBzdHJpbmcgYXMgTWFwQ29sdW1uTmFtZTxcblx0XHRcdFx0XHRLZXksXG5cdFx0XHRcdFx0VENvbHVtbnNbS2V5XSxcblx0XHRcdFx0XHRUQ29uZmlnWydkYkNvbHVtbk5hbWVzJ11cblx0XHRcdFx0PlxuXHRcdFx0XTogR2V0Q29sdW1uRGF0YTxUQ29sdW1uc1tLZXldLCAncXVlcnknPjtcblx0XHR9XG4+O1xuXG4vKiogQGRlcHJlY2F0ZWQgVXNlIG9uZSBvZiB0aGUgYWx0ZXJuYXRpdmVzOiB7QGxpbmsgSW5mZXJTZWxlY3RNb2RlbH0gLyB7QGxpbmsgSW5mZXJJbnNlcnRNb2RlbH0sIG9yIGB0YWJsZS4kaW5mZXJTZWxlY3RgIC8gYHRhYmxlLiRpbmZlckluc2VydGBcbiAqL1xuZXhwb3J0IHR5cGUgSW5mZXJNb2RlbDxcblx0VFRhYmxlIGV4dGVuZHMgVGFibGUsXG5cdFRJbmZlck1vZGUgZXh0ZW5kcyAnc2VsZWN0JyB8ICdpbnNlcnQnID0gJ3NlbGVjdCcsXG5cdFRDb25maWcgZXh0ZW5kcyB7IGRiQ29sdW1uTmFtZXM6IGJvb2xlYW4gfSA9IHsgZGJDb2x1bW5OYW1lczogZmFsc2UgfSxcbj4gPSBJbmZlck1vZGVsRnJvbUNvbHVtbnM8VFRhYmxlWydfJ11bJ2NvbHVtbnMnXSwgVEluZmVyTW9kZSwgVENvbmZpZz47XG5cbmV4cG9ydCB0eXBlIEluZmVyU2VsZWN0TW9kZWw8XG5cdFRUYWJsZSBleHRlbmRzIFRhYmxlLFxuXHRUQ29uZmlnIGV4dGVuZHMgeyBkYkNvbHVtbk5hbWVzOiBib29sZWFuIH0gPSB7IGRiQ29sdW1uTmFtZXM6IGZhbHNlIH0sXG4+ID0gSW5mZXJNb2RlbEZyb21Db2x1bW5zPFRUYWJsZVsnXyddWydjb2x1bW5zJ10sICdzZWxlY3QnLCBUQ29uZmlnPjtcblxuZXhwb3J0IHR5cGUgSW5mZXJJbnNlcnRNb2RlbDxcblx0VFRhYmxlIGV4dGVuZHMgVGFibGUsXG5cdFRDb25maWcgZXh0ZW5kcyB7IGRiQ29sdW1uTmFtZXM6IGJvb2xlYW4gfSA9IHsgZGJDb2x1bW5OYW1lczogZmFsc2UgfSxcbj4gPSBJbmZlck1vZGVsRnJvbUNvbHVtbnM8VFRhYmxlWydfJ11bJ2NvbHVtbnMnXSwgJ2luc2VydCcsIFRDb25maWc+O1xuIiwgImltcG9ydCB0eXBlIHtcblx0Q29sdW1uQnVpbGRlckJhc2VDb25maWcsXG5cdENvbHVtbkJ1aWxkZXJSdW50aW1lQ29uZmlnLFxuXHRDb2x1bW5EYXRhVHlwZSxcblx0R2VuZXJhdGVkQ29sdW1uQ29uZmlnLFxuXHRHZW5lcmF0ZWRJZGVudGl0eUNvbmZpZyxcbn0gZnJvbSAnLi9jb2x1bW4tYnVpbGRlci50cyc7XG5pbXBvcnQgeyBlbnRpdHlLaW5kIH0gZnJvbSAnLi9lbnRpdHkudHMnO1xuaW1wb3J0IHR5cGUgeyBEcml2ZXJWYWx1ZU1hcHBlciwgU1FMLCBTUUxXcmFwcGVyIH0gZnJvbSAnLi9zcWwvc3FsLnRzJztcbmltcG9ydCB0eXBlIHsgVGFibGUgfSBmcm9tICcuL3RhYmxlLnRzJztcbmltcG9ydCB0eXBlIHsgVXBkYXRlIH0gZnJvbSAnLi91dGlscy50cyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sdW1uQmFzZUNvbmZpZzxcblx0VERhdGFUeXBlIGV4dGVuZHMgQ29sdW1uRGF0YVR5cGUsXG5cdFRDb2x1bW5UeXBlIGV4dGVuZHMgc3RyaW5nLFxuPiBleHRlbmRzIENvbHVtbkJ1aWxkZXJCYXNlQ29uZmlnPFREYXRhVHlwZSwgVENvbHVtblR5cGU+IHtcblx0dGFibGVOYW1lOiBzdHJpbmc7XG5cdG5vdE51bGw6IGJvb2xlYW47XG5cdGhhc0RlZmF1bHQ6IGJvb2xlYW47XG5cdGlzUHJpbWFyeUtleTogYm9vbGVhbjtcblx0aXNBdXRvaW5jcmVtZW50OiBib29sZWFuO1xuXHRoYXNSdW50aW1lRGVmYXVsdDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IHR5cGUgQ29sdW1uVHlwZUNvbmZpZzxUIGV4dGVuZHMgQ29sdW1uQmFzZUNvbmZpZzxDb2x1bW5EYXRhVHlwZSwgc3RyaW5nPiwgVFR5cGVDb25maWcgZXh0ZW5kcyBvYmplY3Q+ID0gVCAmIHtcblx0YnJhbmQ6ICdDb2x1bW4nO1xuXHR0YWJsZU5hbWU6IFRbJ3RhYmxlTmFtZSddO1xuXHRuYW1lOiBUWyduYW1lJ107XG5cdGRhdGFUeXBlOiBUWydkYXRhVHlwZSddO1xuXHRjb2x1bW5UeXBlOiBUWydjb2x1bW5UeXBlJ107XG5cdGRhdGE6IFRbJ2RhdGEnXTtcblx0ZHJpdmVyUGFyYW06IFRbJ2RyaXZlclBhcmFtJ107XG5cdG5vdE51bGw6IFRbJ25vdE51bGwnXTtcblx0aGFzRGVmYXVsdDogVFsnaGFzRGVmYXVsdCddO1xuXHRpc1ByaW1hcnlLZXk6IFRbJ2lzUHJpbWFyeUtleSddO1xuXHRpc0F1dG9pbmNyZW1lbnQ6IFRbJ2lzQXV0b2luY3JlbWVudCddO1xuXHRoYXNSdW50aW1lRGVmYXVsdDogVFsnaGFzUnVudGltZURlZmF1bHQnXTtcblx0ZW51bVZhbHVlczogVFsnZW51bVZhbHVlcyddO1xuXHRiYXNlQ29sdW1uOiBUIGV4dGVuZHMgeyBiYXNlQ29sdW1uOiBpbmZlciBVIH0gPyBVIDogdW5rbm93bjtcblx0Z2VuZXJhdGVkOiBHZW5lcmF0ZWRDb2x1bW5Db25maWc8VFsnZGF0YSddPiB8IHVuZGVmaW5lZDtcbn0gJiBUVHlwZUNvbmZpZztcblxuZXhwb3J0IHR5cGUgQ29sdW1uUnVudGltZUNvbmZpZzxURGF0YSwgVFJ1bnRpbWVDb25maWcgZXh0ZW5kcyBvYmplY3Q+ID0gQ29sdW1uQnVpbGRlclJ1bnRpbWVDb25maWc8XG5cdFREYXRhLFxuXHRUUnVudGltZUNvbmZpZ1xuPjtcblxuZXhwb3J0IGludGVyZmFjZSBDb2x1bW48XG5cdFQgZXh0ZW5kcyBDb2x1bW5CYXNlQ29uZmlnPENvbHVtbkRhdGFUeXBlLCBzdHJpbmc+ID0gQ29sdW1uQmFzZUNvbmZpZzxDb2x1bW5EYXRhVHlwZSwgc3RyaW5nPixcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuXHRUUnVudGltZUNvbmZpZyBleHRlbmRzIG9iamVjdCA9IG9iamVjdCxcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuXHRUVHlwZUNvbmZpZyBleHRlbmRzIG9iamVjdCA9IG9iamVjdCxcbj4gZXh0ZW5kcyBEcml2ZXJWYWx1ZU1hcHBlcjxUWydkYXRhJ10sIFRbJ2RyaXZlclBhcmFtJ10+LCBTUUxXcmFwcGVyIHtcblx0Ly8gU1FMV3JhcHBlciBydW50aW1lIGltcGxlbWVudGF0aW9uIGlzIGRlZmluZWQgaW4gJ3NxbC9zcWwudHMnXG59XG4vKlxuXHRgQ29sdW1uYCBvbmx5IGFjY2VwdHMgYSBmdWxsIGBDb2x1bW5Db25maWdgIGFzIGl0cyBnZW5lcmljLlxuXHRUbyBpbmZlciBwYXJ0cyBvZiB0aGUgY29uZmlnLCB1c2UgYEFueUNvbHVtbmAgdGhhdCBhY2NlcHRzIGEgcGFydGlhbCBjb25maWcuXG5cdFNlZSBgR2V0Q29sdW1uRGF0YWAgZm9yIGV4YW1wbGUgdXNhZ2Ugb2YgaW5mZXJyaW5nLlxuKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDb2x1bW48XG5cdFQgZXh0ZW5kcyBDb2x1bW5CYXNlQ29uZmlnPENvbHVtbkRhdGFUeXBlLCBzdHJpbmc+ID0gQ29sdW1uQmFzZUNvbmZpZzxDb2x1bW5EYXRhVHlwZSwgc3RyaW5nPixcblx0VFJ1bnRpbWVDb25maWcgZXh0ZW5kcyBvYmplY3QgPSBvYmplY3QsXG5cdFRUeXBlQ29uZmlnIGV4dGVuZHMgb2JqZWN0ID0gb2JqZWN0LFxuPiBpbXBsZW1lbnRzIERyaXZlclZhbHVlTWFwcGVyPFRbJ2RhdGEnXSwgVFsnZHJpdmVyUGFyYW0nXT4sIFNRTFdyYXBwZXIge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnQ29sdW1uJztcblxuXHRkZWNsYXJlIHJlYWRvbmx5IF86IENvbHVtblR5cGVDb25maWc8VCwgVFR5cGVDb25maWc+O1xuXG5cdHJlYWRvbmx5IG5hbWU6IHN0cmluZztcblx0cmVhZG9ubHkgcHJpbWFyeTogYm9vbGVhbjtcblx0cmVhZG9ubHkgbm90TnVsbDogYm9vbGVhbjtcblx0cmVhZG9ubHkgZGVmYXVsdDogVFsnZGF0YSddIHwgU1FMIHwgdW5kZWZpbmVkO1xuXHRyZWFkb25seSBkZWZhdWx0Rm46ICgoKSA9PiBUWydkYXRhJ10gfCBTUUwpIHwgdW5kZWZpbmVkO1xuXHRyZWFkb25seSBvblVwZGF0ZUZuOiAoKCkgPT4gVFsnZGF0YSddIHwgU1FMKSB8IHVuZGVmaW5lZDtcblx0cmVhZG9ubHkgaGFzRGVmYXVsdDogYm9vbGVhbjtcblx0cmVhZG9ubHkgaXNVbmlxdWU6IGJvb2xlYW47XG5cdHJlYWRvbmx5IHVuaXF1ZU5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZDtcblx0cmVhZG9ubHkgdW5pcXVlVHlwZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXHRyZWFkb25seSBkYXRhVHlwZTogVFsnZGF0YVR5cGUnXTtcblx0cmVhZG9ubHkgY29sdW1uVHlwZTogVFsnY29sdW1uVHlwZSddO1xuXHRyZWFkb25seSBlbnVtVmFsdWVzOiBUWydlbnVtVmFsdWVzJ10gPSB1bmRlZmluZWQ7XG5cdHJlYWRvbmx5IGdlbmVyYXRlZDogR2VuZXJhdGVkQ29sdW1uQ29uZmlnPFRbJ2RhdGEnXT4gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG5cdHJlYWRvbmx5IGdlbmVyYXRlZElkZW50aXR5OiBHZW5lcmF0ZWRJZGVudGl0eUNvbmZpZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblxuXHRwcm90ZWN0ZWQgY29uZmlnOiBDb2x1bW5SdW50aW1lQ29uZmlnPFRbJ2RhdGEnXSwgVFJ1bnRpbWVDb25maWc+O1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdHJlYWRvbmx5IHRhYmxlOiBUYWJsZSxcblx0XHRjb25maWc6IENvbHVtblJ1bnRpbWVDb25maWc8VFsnZGF0YSddLCBUUnVudGltZUNvbmZpZz4sXG5cdCkge1xuXHRcdHRoaXMuY29uZmlnID0gY29uZmlnO1xuXHRcdHRoaXMubmFtZSA9IGNvbmZpZy5uYW1lO1xuXHRcdHRoaXMubm90TnVsbCA9IGNvbmZpZy5ub3ROdWxsO1xuXHRcdHRoaXMuZGVmYXVsdCA9IGNvbmZpZy5kZWZhdWx0O1xuXHRcdHRoaXMuZGVmYXVsdEZuID0gY29uZmlnLmRlZmF1bHRGbjtcblx0XHR0aGlzLm9uVXBkYXRlRm4gPSBjb25maWcub25VcGRhdGVGbjtcblx0XHR0aGlzLmhhc0RlZmF1bHQgPSBjb25maWcuaGFzRGVmYXVsdDtcblx0XHR0aGlzLnByaW1hcnkgPSBjb25maWcucHJpbWFyeUtleTtcblx0XHR0aGlzLmlzVW5pcXVlID0gY29uZmlnLmlzVW5pcXVlO1xuXHRcdHRoaXMudW5pcXVlTmFtZSA9IGNvbmZpZy51bmlxdWVOYW1lO1xuXHRcdHRoaXMudW5pcXVlVHlwZSA9IGNvbmZpZy51bmlxdWVUeXBlO1xuXHRcdHRoaXMuZGF0YVR5cGUgPSBjb25maWcuZGF0YVR5cGUgYXMgVFsnZGF0YVR5cGUnXTtcblx0XHR0aGlzLmNvbHVtblR5cGUgPSBjb25maWcuY29sdW1uVHlwZTtcblx0XHR0aGlzLmdlbmVyYXRlZCA9IGNvbmZpZy5nZW5lcmF0ZWQ7XG5cdFx0dGhpcy5nZW5lcmF0ZWRJZGVudGl0eSA9IGNvbmZpZy5nZW5lcmF0ZWRJZGVudGl0eTtcblx0fVxuXG5cdGFic3RyYWN0IGdldFNRTFR5cGUoKTogc3RyaW5nO1xuXG5cdG1hcEZyb21Ecml2ZXJWYWx1ZSh2YWx1ZTogdW5rbm93bik6IHVua25vd24ge1xuXHRcdHJldHVybiB2YWx1ZTtcblx0fVxuXG5cdG1hcFRvRHJpdmVyVmFsdWUodmFsdWU6IHVua25vd24pOiB1bmtub3duIHtcblx0XHRyZXR1cm4gdmFsdWU7XG5cdH1cblxuXHQvLyAqKiBAaW50ZXJuYWwgKi9cblx0c2hvdWxkRGlzYWJsZUluc2VydCgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5jb25maWcuZ2VuZXJhdGVkICE9PSB1bmRlZmluZWQgJiYgdGhpcy5jb25maWcuZ2VuZXJhdGVkLnR5cGUgIT09ICdieURlZmF1bHQnO1xuXHR9XG59XG5cbmV4cG9ydCB0eXBlIFVwZGF0ZUNvbENvbmZpZzxcblx0VCBleHRlbmRzIENvbHVtbkJhc2VDb25maWc8Q29sdW1uRGF0YVR5cGUsIHN0cmluZz4sXG5cdFRVcGRhdGUgZXh0ZW5kcyBQYXJ0aWFsPENvbHVtbkJhc2VDb25maWc8Q29sdW1uRGF0YVR5cGUsIHN0cmluZz4+LFxuPiA9IFVwZGF0ZTxULCBUVXBkYXRlPjtcblxuZXhwb3J0IHR5cGUgQW55Q29sdW1uPFRQYXJ0aWFsIGV4dGVuZHMgUGFydGlhbDxDb2x1bW5CYXNlQ29uZmlnPENvbHVtbkRhdGFUeXBlLCBzdHJpbmc+PiA9IHt9PiA9IENvbHVtbjxcblx0UmVxdWlyZWQ8VXBkYXRlPENvbHVtbkJhc2VDb25maWc8Q29sdW1uRGF0YVR5cGUsIHN0cmluZz4sIFRQYXJ0aWFsPj5cbj47XG5cbmV4cG9ydCB0eXBlIEdldENvbHVtbkRhdGE8VENvbHVtbiBleHRlbmRzIENvbHVtbiwgVEluZmVyTW9kZSBleHRlbmRzICdxdWVyeScgfCAncmF3JyA9ICdxdWVyeSc+ID1cblx0Ly8gZHByaW50LWlnbm9yZVxuXHRUSW5mZXJNb2RlIGV4dGVuZHMgJ3JhdycgLy8gUmF3IG1vZGVcblx0XHQ/IFRDb2x1bW5bJ18nXVsnZGF0YSddIC8vIEp1c3QgcmV0dXJuIHRoZSB1bmRlcmx5aW5nIHR5cGVcblx0XHQ6IFRDb2x1bW5bJ18nXVsnbm90TnVsbCddIGV4dGVuZHMgdHJ1ZSAvLyBRdWVyeSBtb2RlXG5cdFx0PyBUQ29sdW1uWydfJ11bJ2RhdGEnXSAvLyBRdWVyeSBtb2RlLCBub3QgbnVsbFxuXHRcdDogVENvbHVtblsnXyddWydkYXRhJ10gfCBudWxsOyAvLyBRdWVyeSBtb2RlLCBudWxsYWJsZVxuXG5leHBvcnQgdHlwZSBJbmZlckNvbHVtbnNEYXRhVHlwZXM8VENvbHVtbnMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBDb2x1bW4+PiA9IHtcblx0W0tleSBpbiBrZXlvZiBUQ29sdW1uc106IEdldENvbHVtbkRhdGE8VENvbHVtbnNbS2V5XSwgJ3F1ZXJ5Jz47XG59O1xuIiwgImltcG9ydCB0eXBlIHsgQnVpbGRDb2x1bW5zLCBCdWlsZEV4dHJhQ29uZmlnQ29sdW1ucyB9IGZyb20gJ34vY29sdW1uLWJ1aWxkZXIudHMnO1xuaW1wb3J0IHsgZW50aXR5S2luZCB9IGZyb20gJ34vZW50aXR5LnRzJztcbmltcG9ydCB7IFRhYmxlLCB0eXBlIFRhYmxlQ29uZmlnIGFzIFRhYmxlQ29uZmlnQmFzZSwgdHlwZSBVcGRhdGVUYWJsZUNvbmZpZyB9IGZyb20gJ34vdGFibGUudHMnO1xuaW1wb3J0IHR5cGUgeyBDaGVja0J1aWxkZXIgfSBmcm9tICcuL2NoZWNrcy50cyc7XG5pbXBvcnQgdHlwZSB7IFBnQ29sdW1uLCBQZ0NvbHVtbkJ1aWxkZXIsIFBnQ29sdW1uQnVpbGRlckJhc2UgfSBmcm9tICcuL2NvbHVtbnMvY29tbW9uLnRzJztcbmltcG9ydCB0eXBlIHsgRm9yZWlnbktleSwgRm9yZWlnbktleUJ1aWxkZXIgfSBmcm9tICcuL2ZvcmVpZ24ta2V5cy50cyc7XG5pbXBvcnQgdHlwZSB7IEFueUluZGV4QnVpbGRlciB9IGZyb20gJy4vaW5kZXhlcy50cyc7XG5pbXBvcnQgdHlwZSB7IFByaW1hcnlLZXlCdWlsZGVyIH0gZnJvbSAnLi9wcmltYXJ5LWtleXMudHMnO1xuaW1wb3J0IHR5cGUgeyBVbmlxdWVDb25zdHJhaW50QnVpbGRlciB9IGZyb20gJy4vdW5pcXVlLWNvbnN0cmFpbnQudHMnO1xuXG5leHBvcnQgdHlwZSBQZ1RhYmxlRXh0cmFDb25maWcgPSBSZWNvcmQ8XG5cdHN0cmluZyxcblx0fCBBbnlJbmRleEJ1aWxkZXJcblx0fCBDaGVja0J1aWxkZXJcblx0fCBGb3JlaWduS2V5QnVpbGRlclxuXHR8IFByaW1hcnlLZXlCdWlsZGVyXG5cdHwgVW5pcXVlQ29uc3RyYWludEJ1aWxkZXJcbj47XG5cbmV4cG9ydCB0eXBlIFRhYmxlQ29uZmlnID0gVGFibGVDb25maWdCYXNlPFBnQ29sdW1uPjtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IElubGluZUZvcmVpZ25LZXlzID0gU3ltYm9sLmZvcignZHJpenpsZTpQZ0lubGluZUZvcmVpZ25LZXlzJyk7XG5cbmV4cG9ydCBjbGFzcyBQZ1RhYmxlPFQgZXh0ZW5kcyBUYWJsZUNvbmZpZyA9IFRhYmxlQ29uZmlnPiBleHRlbmRzIFRhYmxlPFQ+IHtcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ1BnVGFibGUnO1xuXG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0c3RhdGljIG92ZXJyaWRlIHJlYWRvbmx5IFN5bWJvbCA9IE9iamVjdC5hc3NpZ24oe30sIFRhYmxlLlN5bWJvbCwge1xuXHRcdElubGluZUZvcmVpZ25LZXlzOiBJbmxpbmVGb3JlaWduS2V5cyBhcyB0eXBlb2YgSW5saW5lRm9yZWlnbktleXMsXG5cdH0pO1xuXG5cdC8qKkBpbnRlcm5hbCAqL1xuXHRbSW5saW5lRm9yZWlnbktleXNdOiBGb3JlaWduS2V5W10gPSBbXTtcblxuXHQvKiogQGludGVybmFsICovXG5cdG92ZXJyaWRlIFtUYWJsZS5TeW1ib2wuRXh0cmFDb25maWdCdWlsZGVyXTogKChzZWxmOiBSZWNvcmQ8c3RyaW5nLCBQZ0NvbHVtbj4pID0+IFBnVGFibGVFeHRyYUNvbmZpZykgfCB1bmRlZmluZWQgPVxuXHRcdHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IHR5cGUgQW55UGdUYWJsZTxUUGFydGlhbCBleHRlbmRzIFBhcnRpYWw8VGFibGVDb25maWc+ID0ge30+ID0gUGdUYWJsZTxVcGRhdGVUYWJsZUNvbmZpZzxUYWJsZUNvbmZpZywgVFBhcnRpYWw+PjtcblxuZXhwb3J0IHR5cGUgUGdUYWJsZVdpdGhDb2x1bW5zPFQgZXh0ZW5kcyBUYWJsZUNvbmZpZz4gPVxuXHQmIFBnVGFibGU8VD5cblx0JiB7XG5cdFx0W0tleSBpbiBrZXlvZiBUWydjb2x1bW5zJ11dOiBUWydjb2x1bW5zJ11bS2V5XTtcblx0fTtcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBnVGFibGVXaXRoU2NoZW1hPFxuXHRUVGFibGVOYW1lIGV4dGVuZHMgc3RyaW5nLFxuXHRUU2NoZW1hTmFtZSBleHRlbmRzIHN0cmluZyB8IHVuZGVmaW5lZCxcblx0VENvbHVtbnNNYXAgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBQZ0NvbHVtbkJ1aWxkZXJCYXNlPixcbj4oXG5cdG5hbWU6IFRUYWJsZU5hbWUsXG5cdGNvbHVtbnM6IFRDb2x1bW5zTWFwLFxuXHRleHRyYUNvbmZpZzogKChzZWxmOiBCdWlsZEV4dHJhQ29uZmlnQ29sdW1uczxUVGFibGVOYW1lLCBUQ29sdW1uc01hcCwgJ3BnJz4pID0+IFBnVGFibGVFeHRyYUNvbmZpZykgfCB1bmRlZmluZWQsXG5cdHNjaGVtYTogVFNjaGVtYU5hbWUsXG5cdGJhc2VOYW1lID0gbmFtZSxcbik6IFBnVGFibGVXaXRoQ29sdW1uczx7XG5cdG5hbWU6IFRUYWJsZU5hbWU7XG5cdHNjaGVtYTogVFNjaGVtYU5hbWU7XG5cdGNvbHVtbnM6IEJ1aWxkQ29sdW1uczxUVGFibGVOYW1lLCBUQ29sdW1uc01hcCwgJ3BnJz47XG5cdGRpYWxlY3Q6ICdwZyc7XG59PiB7XG5cdGNvbnN0IHJhd1RhYmxlID0gbmV3IFBnVGFibGU8e1xuXHRcdG5hbWU6IFRUYWJsZU5hbWU7XG5cdFx0c2NoZW1hOiBUU2NoZW1hTmFtZTtcblx0XHRjb2x1bW5zOiBCdWlsZENvbHVtbnM8VFRhYmxlTmFtZSwgVENvbHVtbnNNYXAsICdwZyc+O1xuXHRcdGRpYWxlY3Q6ICdwZyc7XG5cdH0+KG5hbWUsIHNjaGVtYSwgYmFzZU5hbWUpO1xuXG5cdGNvbnN0IGJ1aWx0Q29sdW1ucyA9IE9iamVjdC5mcm9tRW50cmllcyhcblx0XHRPYmplY3QuZW50cmllcyhjb2x1bW5zKS5tYXAoKFtuYW1lLCBjb2xCdWlsZGVyQmFzZV0pID0+IHtcblx0XHRcdGNvbnN0IGNvbEJ1aWxkZXIgPSBjb2xCdWlsZGVyQmFzZSBhcyBQZ0NvbHVtbkJ1aWxkZXI7XG5cdFx0XHRjb25zdCBjb2x1bW4gPSBjb2xCdWlsZGVyLmJ1aWxkKHJhd1RhYmxlKTtcblx0XHRcdHJhd1RhYmxlW0lubGluZUZvcmVpZ25LZXlzXS5wdXNoKC4uLmNvbEJ1aWxkZXIuYnVpbGRGb3JlaWduS2V5cyhjb2x1bW4sIHJhd1RhYmxlKSk7XG5cdFx0XHRyZXR1cm4gW25hbWUsIGNvbHVtbl07XG5cdFx0fSksXG5cdCkgYXMgdW5rbm93biBhcyBCdWlsZENvbHVtbnM8VFRhYmxlTmFtZSwgVENvbHVtbnNNYXAsICdwZyc+O1xuXG5cdGNvbnN0IGJ1aWx0Q29sdW1uc0ZvckV4dHJhQ29uZmlnID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuXHRcdE9iamVjdC5lbnRyaWVzKGNvbHVtbnMpLm1hcCgoW25hbWUsIGNvbEJ1aWxkZXJCYXNlXSkgPT4ge1xuXHRcdFx0Y29uc3QgY29sQnVpbGRlciA9IGNvbEJ1aWxkZXJCYXNlIGFzIFBnQ29sdW1uQnVpbGRlcjtcblx0XHRcdGNvbnN0IGNvbHVtbiA9IGNvbEJ1aWxkZXIuYnVpbGRFeHRyYUNvbmZpZ0NvbHVtbihyYXdUYWJsZSk7XG5cdFx0XHRyZXR1cm4gW25hbWUsIGNvbHVtbl07XG5cdFx0fSksXG5cdCkgYXMgdW5rbm93biBhcyBCdWlsZEV4dHJhQ29uZmlnQ29sdW1uczxUVGFibGVOYW1lLCBUQ29sdW1uc01hcCwgJ3BnJz47XG5cblx0Y29uc3QgdGFibGUgPSBPYmplY3QuYXNzaWduKHJhd1RhYmxlLCBidWlsdENvbHVtbnMpO1xuXG5cdHRhYmxlW1RhYmxlLlN5bWJvbC5Db2x1bW5zXSA9IGJ1aWx0Q29sdW1ucztcblx0dGFibGVbVGFibGUuU3ltYm9sLkV4dHJhQ29uZmlnQ29sdW1uc10gPSBidWlsdENvbHVtbnNGb3JFeHRyYUNvbmZpZztcblxuXHRpZiAoZXh0cmFDb25maWcpIHtcblx0XHR0YWJsZVtQZ1RhYmxlLlN5bWJvbC5FeHRyYUNvbmZpZ0J1aWxkZXJdID0gZXh0cmFDb25maWcgYXMgYW55O1xuXHR9XG5cblx0cmV0dXJuIHRhYmxlO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFBnVGFibGVGbjxUU2NoZW1hIGV4dGVuZHMgc3RyaW5nIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkPiB7XG5cdDxcblx0XHRUVGFibGVOYW1lIGV4dGVuZHMgc3RyaW5nLFxuXHRcdFRDb2x1bW5zTWFwIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgUGdDb2x1bW5CdWlsZGVyQmFzZT4sXG5cdD4oXG5cdFx0bmFtZTogVFRhYmxlTmFtZSxcblx0XHRjb2x1bW5zOiBUQ29sdW1uc01hcCxcblx0XHRleHRyYUNvbmZpZz86IChzZWxmOiBCdWlsZEV4dHJhQ29uZmlnQ29sdW1uczxUVGFibGVOYW1lLCBUQ29sdW1uc01hcCwgJ3BnJz4pID0+IFBnVGFibGVFeHRyYUNvbmZpZyxcblx0KTogUGdUYWJsZVdpdGhDb2x1bW5zPHtcblx0XHRuYW1lOiBUVGFibGVOYW1lO1xuXHRcdHNjaGVtYTogVFNjaGVtYTtcblx0XHRjb2x1bW5zOiBCdWlsZENvbHVtbnM8VFRhYmxlTmFtZSwgVENvbHVtbnNNYXAsICdwZyc+O1xuXHRcdGRpYWxlY3Q6ICdwZyc7XG5cdH0+O1xufVxuXG5leHBvcnQgY29uc3QgcGdUYWJsZTogUGdUYWJsZUZuID0gKG5hbWUsIGNvbHVtbnMsIGV4dHJhQ29uZmlnKSA9PiB7XG5cdHJldHVybiBwZ1RhYmxlV2l0aFNjaGVtYShuYW1lLCBjb2x1bW5zLCBleHRyYUNvbmZpZywgdW5kZWZpbmVkKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBwZ1RhYmxlQ3JlYXRvcihjdXN0b21pemVUYWJsZU5hbWU6IChuYW1lOiBzdHJpbmcpID0+IHN0cmluZyk6IFBnVGFibGVGbiB7XG5cdHJldHVybiAobmFtZSwgY29sdW1ucywgZXh0cmFDb25maWcpID0+IHtcblx0XHRyZXR1cm4gcGdUYWJsZVdpdGhTY2hlbWEoY3VzdG9taXplVGFibGVOYW1lKG5hbWUpIGFzIHR5cGVvZiBuYW1lLCBjb2x1bW5zLCBleHRyYUNvbmZpZywgdW5kZWZpbmVkLCBuYW1lKTtcblx0fTtcbn1cbiIsICJpbXBvcnQgeyBlbnRpdHlLaW5kIH0gZnJvbSAnfi9lbnRpdHkudHMnO1xuaW1wb3J0IHR5cGUgeyBBbnlQZ0NvbHVtbiwgUGdDb2x1bW4gfSBmcm9tICcuL2NvbHVtbnMvaW5kZXgudHMnO1xuaW1wb3J0IHsgUGdUYWJsZSB9IGZyb20gJy4vdGFibGUudHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gcHJpbWFyeUtleTxcblx0VFRhYmxlTmFtZSBleHRlbmRzIHN0cmluZyxcblx0VENvbHVtbiBleHRlbmRzIEFueVBnQ29sdW1uPHsgdGFibGVOYW1lOiBUVGFibGVOYW1lIH0+LFxuXHRUQ29sdW1ucyBleHRlbmRzIEFueVBnQ29sdW1uPHsgdGFibGVOYW1lOiBUVGFibGVOYW1lIH0+W10sXG4+KGNvbmZpZzogeyBuYW1lPzogc3RyaW5nOyBjb2x1bW5zOiBbVENvbHVtbiwgLi4uVENvbHVtbnNdIH0pOiBQcmltYXJ5S2V5QnVpbGRlcjtcbi8qKlxuICogQGRlcHJlY2F0ZWQ6IFBsZWFzZSB1c2UgcHJpbWFyeUtleSh7IGNvbHVtbnM6IFtdIH0pIGluc3RlYWQgb2YgdGhpcyBmdW5jdGlvblxuICogQHBhcmFtIGNvbHVtbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByaW1hcnlLZXk8XG5cdFRUYWJsZU5hbWUgZXh0ZW5kcyBzdHJpbmcsXG5cdFRDb2x1bW5zIGV4dGVuZHMgQW55UGdDb2x1bW48eyB0YWJsZU5hbWU6IFRUYWJsZU5hbWUgfT5bXSxcbj4oLi4uY29sdW1uczogVENvbHVtbnMpOiBQcmltYXJ5S2V5QnVpbGRlcjtcbmV4cG9ydCBmdW5jdGlvbiBwcmltYXJ5S2V5KC4uLmNvbmZpZzogYW55KSB7XG5cdGlmIChjb25maWdbMF0uY29sdW1ucykge1xuXHRcdHJldHVybiBuZXcgUHJpbWFyeUtleUJ1aWxkZXIoY29uZmlnWzBdLmNvbHVtbnMsIGNvbmZpZ1swXS5uYW1lKTtcblx0fVxuXHRyZXR1cm4gbmV3IFByaW1hcnlLZXlCdWlsZGVyKGNvbmZpZyk7XG59XG5cbmV4cG9ydCBjbGFzcyBQcmltYXJ5S2V5QnVpbGRlciB7XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdQZ1ByaW1hcnlLZXlCdWlsZGVyJztcblxuXHQvKiogQGludGVybmFsICovXG5cdGNvbHVtbnM6IFBnQ29sdW1uW107XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRuYW1lPzogc3RyaW5nO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdGNvbHVtbnM6IFBnQ29sdW1uW10sXG5cdFx0bmFtZT86IHN0cmluZyxcblx0KSB7XG5cdFx0dGhpcy5jb2x1bW5zID0gY29sdW1ucztcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xuXHR9XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRidWlsZCh0YWJsZTogUGdUYWJsZSk6IFByaW1hcnlLZXkge1xuXHRcdHJldHVybiBuZXcgUHJpbWFyeUtleSh0YWJsZSwgdGhpcy5jb2x1bW5zLCB0aGlzLm5hbWUpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBQcmltYXJ5S2V5IHtcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ1BnUHJpbWFyeUtleSc7XG5cblx0cmVhZG9ubHkgY29sdW1uczogQW55UGdDb2x1bW48e30+W107XG5cdHJlYWRvbmx5IG5hbWU/OiBzdHJpbmc7XG5cblx0Y29uc3RydWN0b3IocmVhZG9ubHkgdGFibGU6IFBnVGFibGUsIGNvbHVtbnM6IEFueVBnQ29sdW1uPHt9PltdLCBuYW1lPzogc3RyaW5nKSB7XG5cdFx0dGhpcy5jb2x1bW5zID0gY29sdW1ucztcblx0XHR0aGlzLm5hbWUgPSBuYW1lO1xuXHR9XG5cblx0Z2V0TmFtZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiB0aGlzLm5hbWUgPz8gYCR7dGhpcy50YWJsZVtQZ1RhYmxlLlN5bWJvbC5OYW1lXX1fJHt0aGlzLmNvbHVtbnMubWFwKChjb2x1bW4pID0+IGNvbHVtbi5uYW1lKS5qb2luKCdfJyl9X3BrYDtcblx0fVxufVxuIiwgImltcG9ydCB7IGVudGl0eUtpbmQgfSBmcm9tICd+L2VudGl0eS50cyc7XG5pbXBvcnQgdHlwZSB7IENvbHVtbiB9IGZyb20gJy4vY29sdW1uLnRzJztcbmltcG9ydCB0eXBlIHsgTXlTcWxDb2x1bW4gfSBmcm9tICcuL215c3FsLWNvcmUvaW5kZXgudHMnO1xuaW1wb3J0IHR5cGUgeyBFeHRyYUNvbmZpZ0NvbHVtbiwgUGdDb2x1bW4sIFBnU2VxdWVuY2VPcHRpb25zIH0gZnJvbSAnLi9wZy1jb3JlL2luZGV4LnRzJztcbmltcG9ydCB0eXBlIHsgU1FMIH0gZnJvbSAnLi9zcWwvc3FsLnRzJztcbmltcG9ydCB0eXBlIHsgU1FMaXRlQ29sdW1uIH0gZnJvbSAnLi9zcWxpdGUtY29yZS9pbmRleC50cyc7XG5pbXBvcnQgdHlwZSB7IFNpbXBsaWZ5IH0gZnJvbSAnLi91dGlscy50cyc7XG5cbmV4cG9ydCB0eXBlIENvbHVtbkRhdGFUeXBlID1cblx0fCAnc3RyaW5nJ1xuXHR8ICdudW1iZXInXG5cdHwgJ2Jvb2xlYW4nXG5cdHwgJ2FycmF5J1xuXHR8ICdqc29uJ1xuXHR8ICdkYXRlJ1xuXHR8ICdiaWdpbnQnXG5cdHwgJ2N1c3RvbSdcblx0fCAnYnVmZmVyJztcblxuZXhwb3J0IHR5cGUgRGlhbGVjdCA9ICdwZycgfCAnbXlzcWwnIHwgJ3NxbGl0ZScgfCAnY29tbW9uJztcblxuZXhwb3J0IHR5cGUgR2VuZXJhdGVkU3RvcmFnZU1vZGUgPSAndmlydHVhbCcgfCAnc3RvcmVkJztcblxuZXhwb3J0IHR5cGUgR2VuZXJhdGVkVHlwZSA9ICdhbHdheXMnIHwgJ2J5RGVmYXVsdCc7XG5cbmV4cG9ydCB0eXBlIEdlbmVyYXRlZENvbHVtbkNvbmZpZzxURGF0YVR5cGU+ID0ge1xuXHRhczogVERhdGFUeXBlIHwgU1FMIHwgKCgpID0+IFNRTCk7XG5cdHR5cGU/OiBHZW5lcmF0ZWRUeXBlO1xuXHRtb2RlPzogR2VuZXJhdGVkU3RvcmFnZU1vZGU7XG59O1xuXG5leHBvcnQgdHlwZSBHZW5lcmF0ZWRJZGVudGl0eUNvbmZpZyA9IHtcblx0c2VxdWVuY2VOYW1lPzogc3RyaW5nO1xuXHRzZXF1ZW5jZU9wdGlvbnM/OiBQZ1NlcXVlbmNlT3B0aW9ucztcblx0dHlwZTogJ2Fsd2F5cycgfCAnYnlEZWZhdWx0Jztcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sdW1uQnVpbGRlckJhc2VDb25maWc8VERhdGFUeXBlIGV4dGVuZHMgQ29sdW1uRGF0YVR5cGUsIFRDb2x1bW5UeXBlIGV4dGVuZHMgc3RyaW5nPiB7XG5cdG5hbWU6IHN0cmluZztcblx0ZGF0YVR5cGU6IFREYXRhVHlwZTtcblx0Y29sdW1uVHlwZTogVENvbHVtblR5cGU7XG5cdGRhdGE6IHVua25vd247XG5cdGRyaXZlclBhcmFtOiB1bmtub3duO1xuXHRlbnVtVmFsdWVzOiBzdHJpbmdbXSB8IHVuZGVmaW5lZDtcblx0Z2VuZXJhdGVkOiBHZW5lcmF0ZWRDb2x1bW5Db25maWc8dW5rbm93bj4gfCB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCB0eXBlIE1ha2VDb2x1bW5Db25maWc8XG5cdFQgZXh0ZW5kcyBDb2x1bW5CdWlsZGVyQmFzZUNvbmZpZzxDb2x1bW5EYXRhVHlwZSwgc3RyaW5nPixcblx0VFRhYmxlTmFtZSBleHRlbmRzIHN0cmluZyxcblx0VERhdGEgPSBUIGV4dGVuZHMgeyAkdHlwZTogaW5mZXIgVSB9ID8gVSA6IFRbJ2RhdGEnXSxcbj4gPSB7XG5cdG5hbWU6IFRbJ25hbWUnXTtcblx0dGFibGVOYW1lOiBUVGFibGVOYW1lO1xuXHRkYXRhVHlwZTogVFsnZGF0YVR5cGUnXTtcblx0Y29sdW1uVHlwZTogVFsnY29sdW1uVHlwZSddO1xuXHRkYXRhOiBURGF0YTtcblx0ZHJpdmVyUGFyYW06IFRbJ2RyaXZlclBhcmFtJ107XG5cdG5vdE51bGw6IFQgZXh0ZW5kcyB7IG5vdE51bGw6IHRydWUgfSA/IHRydWUgOiBmYWxzZTtcblx0aGFzRGVmYXVsdDogVCBleHRlbmRzIHsgaGFzRGVmYXVsdDogdHJ1ZSB9ID8gdHJ1ZSA6IGZhbHNlO1xuXHRpc1ByaW1hcnlLZXk6IFQgZXh0ZW5kcyB7IGlzUHJpbWFyeUtleTogdHJ1ZSB9ID8gdHJ1ZSA6IGZhbHNlO1xuXHRpc0F1dG9pbmNyZW1lbnQ6IFQgZXh0ZW5kcyB7IGlzQXV0b2luY3JlbWVudDogdHJ1ZSB9ID8gdHJ1ZSA6IGZhbHNlO1xuXHRoYXNSdW50aW1lRGVmYXVsdDogVCBleHRlbmRzIHsgaGFzUnVudGltZURlZmF1bHQ6IHRydWUgfSA/IHRydWUgOiBmYWxzZTtcblx0ZW51bVZhbHVlczogVFsnZW51bVZhbHVlcyddO1xuXHRiYXNlQ29sdW1uOiBUIGV4dGVuZHMgeyBiYXNlQnVpbGRlcjogaW5mZXIgVSBleHRlbmRzIENvbHVtbkJ1aWxkZXJCYXNlIH0gPyBCdWlsZENvbHVtbjxUVGFibGVOYW1lLCBVLCAnY29tbW9uJz5cblx0XHQ6IG5ldmVyO1xuXHRnZW5lcmF0ZWQ6IFRbJ2dlbmVyYXRlZCddIGV4dGVuZHMgb2JqZWN0ID8gVFsnZ2VuZXJhdGVkJ10gOiB1bmRlZmluZWQ7XG59ICYge307XG5cbmV4cG9ydCB0eXBlIENvbHVtbkJ1aWxkZXJUeXBlQ29uZmlnPFxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG5cdFQgZXh0ZW5kcyBDb2x1bW5CdWlsZGVyQmFzZUNvbmZpZzxDb2x1bW5EYXRhVHlwZSwgc3RyaW5nPixcblx0VFR5cGVDb25maWcgZXh0ZW5kcyBvYmplY3QgPSBvYmplY3QsXG4+ID0gU2ltcGxpZnk8XG5cdCYge1xuXHRcdGJyYW5kOiAnQ29sdW1uQnVpbGRlcic7XG5cdFx0bmFtZTogVFsnbmFtZSddO1xuXHRcdGRhdGFUeXBlOiBUWydkYXRhVHlwZSddO1xuXHRcdGNvbHVtblR5cGU6IFRbJ2NvbHVtblR5cGUnXTtcblx0XHRkYXRhOiBUWydkYXRhJ107XG5cdFx0ZHJpdmVyUGFyYW06IFRbJ2RyaXZlclBhcmFtJ107XG5cdFx0bm90TnVsbDogVCBleHRlbmRzIHsgbm90TnVsbDogaW5mZXIgVSB9ID8gVSA6IGJvb2xlYW47XG5cdFx0aGFzRGVmYXVsdDogVCBleHRlbmRzIHsgaGFzRGVmYXVsdDogaW5mZXIgVSB9ID8gVSA6IGJvb2xlYW47XG5cdFx0ZW51bVZhbHVlczogVFsnZW51bVZhbHVlcyddO1xuXHRcdGdlbmVyYXRlZDogR2VuZXJhdGVkQ29sdW1uQ29uZmlnPFRbJ2RhdGEnXT4gfCB1bmRlZmluZWQ7XG5cdH1cblx0JiBUVHlwZUNvbmZpZ1xuPjtcblxuZXhwb3J0IHR5cGUgQ29sdW1uQnVpbGRlclJ1bnRpbWVDb25maWc8VERhdGEsIFRSdW50aW1lQ29uZmlnIGV4dGVuZHMgb2JqZWN0ID0gb2JqZWN0PiA9IHtcblx0bmFtZTogc3RyaW5nO1xuXHRub3ROdWxsOiBib29sZWFuO1xuXHRkZWZhdWx0OiBURGF0YSB8IFNRTCB8IHVuZGVmaW5lZDtcblx0ZGVmYXVsdEZuOiAoKCkgPT4gVERhdGEgfCBTUUwpIHwgdW5kZWZpbmVkO1xuXHRvblVwZGF0ZUZuOiAoKCkgPT4gVERhdGEgfCBTUUwpIHwgdW5kZWZpbmVkO1xuXHRoYXNEZWZhdWx0OiBib29sZWFuO1xuXHRwcmltYXJ5S2V5OiBib29sZWFuO1xuXHRpc1VuaXF1ZTogYm9vbGVhbjtcblx0dW5pcXVlTmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXHR1bmlxdWVUeXBlOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cdGRhdGFUeXBlOiBzdHJpbmc7XG5cdGNvbHVtblR5cGU6IHN0cmluZztcblx0Z2VuZXJhdGVkOiBHZW5lcmF0ZWRDb2x1bW5Db25maWc8VERhdGE+IHwgdW5kZWZpbmVkO1xuXHRnZW5lcmF0ZWRJZGVudGl0eTogR2VuZXJhdGVkSWRlbnRpdHlDb25maWcgfCB1bmRlZmluZWQ7XG59ICYgVFJ1bnRpbWVDb25maWc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ29sdW1uQnVpbGRlckV4dHJhQ29uZmlnIHtcblx0cHJpbWFyeUtleUhhc0RlZmF1bHQ/OiBib29sZWFuO1xufVxuXG5leHBvcnQgdHlwZSBOb3ROdWxsPFQgZXh0ZW5kcyBDb2x1bW5CdWlsZGVyQmFzZT4gPSBUICYge1xuXHRfOiB7XG5cdFx0bm90TnVsbDogdHJ1ZTtcblx0fTtcbn07XG5cbmV4cG9ydCB0eXBlIEhhc0RlZmF1bHQ8VCBleHRlbmRzIENvbHVtbkJ1aWxkZXJCYXNlPiA9IFQgJiB7XG5cdF86IHtcblx0XHRoYXNEZWZhdWx0OiB0cnVlO1xuXHR9O1xufTtcblxuZXhwb3J0IHR5cGUgSXNQcmltYXJ5S2V5PFQgZXh0ZW5kcyBDb2x1bW5CdWlsZGVyQmFzZT4gPSBUICYge1xuXHRfOiB7XG5cdFx0aXNQcmltYXJ5S2V5OiB0cnVlO1xuXHR9O1xufTtcblxuZXhwb3J0IHR5cGUgSXNBdXRvaW5jcmVtZW50PFQgZXh0ZW5kcyBDb2x1bW5CdWlsZGVyQmFzZT4gPSBUICYge1xuXHRfOiB7XG5cdFx0aXNBdXRvaW5jcmVtZW50OiB0cnVlO1xuXHR9O1xufTtcblxuZXhwb3J0IHR5cGUgSGFzUnVudGltZURlZmF1bHQ8VCBleHRlbmRzIENvbHVtbkJ1aWxkZXJCYXNlPiA9IFQgJiB7XG5cdF86IHtcblx0XHRoYXNSdW50aW1lRGVmYXVsdDogdHJ1ZTtcblx0fTtcbn07XG5cbmV4cG9ydCB0eXBlICRUeXBlPFQgZXh0ZW5kcyBDb2x1bW5CdWlsZGVyQmFzZSwgVFR5cGU+ID0gVCAmIHtcblx0Xzoge1xuXHRcdCR0eXBlOiBUVHlwZTtcblx0fTtcbn07XG5cbmV4cG9ydCB0eXBlIEhhc0dlbmVyYXRlZDxUIGV4dGVuZHMgQ29sdW1uQnVpbGRlckJhc2UsIFRHZW5lcmF0ZWQgZXh0ZW5kcyB7fSA9IHt9PiA9IFQgJiB7XG5cdF86IHtcblx0XHRoYXNEZWZhdWx0OiB0cnVlO1xuXHRcdGdlbmVyYXRlZDogVEdlbmVyYXRlZDtcblx0fTtcbn07XG5cbmV4cG9ydCB0eXBlIElzSWRlbnRpdHlCeURlZmF1bHQ8XG5cdFQgZXh0ZW5kcyBDb2x1bW5CdWlsZGVyQmFzZSxcblx0VFR5cGUgZXh0ZW5kcyAnYWx3YXlzJyB8ICdieURlZmF1bHQnLFxuPiA9IFQgJiB7XG5cdF86IHtcblx0XHRub3ROdWxsOiB0cnVlO1xuXHRcdGhhc0RlZmF1bHQ6IHRydWU7XG5cdFx0Z2VuZXJhdGVkOiB7IGFzOiBhbnk7IHR5cGU6IFRUeXBlIH07XG5cdH07XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIENvbHVtbkJ1aWxkZXJCYXNlPFxuXHRUIGV4dGVuZHMgQ29sdW1uQnVpbGRlckJhc2VDb25maWc8Q29sdW1uRGF0YVR5cGUsIHN0cmluZz4gPSBDb2x1bW5CdWlsZGVyQmFzZUNvbmZpZzxDb2x1bW5EYXRhVHlwZSwgc3RyaW5nPixcblx0VFR5cGVDb25maWcgZXh0ZW5kcyBvYmplY3QgPSBvYmplY3QsXG4+IHtcblx0XzogQ29sdW1uQnVpbGRlclR5cGVDb25maWc8VCwgVFR5cGVDb25maWc+O1xufVxuXG4vLyBUbyB1bmRlcnN0YW5kIGhvdyB0byB1c2UgYENvbHVtbkJ1aWxkZXJgIGFuZCBgQW55Q29sdW1uQnVpbGRlcmAsIHNlZSBgQ29sdW1uYCBhbmQgYEFueUNvbHVtbmAgZG9jdW1lbnRhdGlvbi5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDb2x1bW5CdWlsZGVyPFxuXHRUIGV4dGVuZHMgQ29sdW1uQnVpbGRlckJhc2VDb25maWc8Q29sdW1uRGF0YVR5cGUsIHN0cmluZz4gPSBDb2x1bW5CdWlsZGVyQmFzZUNvbmZpZzxDb2x1bW5EYXRhVHlwZSwgc3RyaW5nPixcblx0VFJ1bnRpbWVDb25maWcgZXh0ZW5kcyBvYmplY3QgPSBvYmplY3QsXG5cdFRUeXBlQ29uZmlnIGV4dGVuZHMgb2JqZWN0ID0gb2JqZWN0LFxuXHRURXh0cmFDb25maWcgZXh0ZW5kcyBDb2x1bW5CdWlsZGVyRXh0cmFDb25maWcgPSBDb2x1bW5CdWlsZGVyRXh0cmFDb25maWcsXG4+IGltcGxlbWVudHMgQ29sdW1uQnVpbGRlckJhc2U8VCwgVFR5cGVDb25maWc+IHtcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ0NvbHVtbkJ1aWxkZXInO1xuXG5cdGRlY2xhcmUgXzogQ29sdW1uQnVpbGRlclR5cGVDb25maWc8VCwgVFR5cGVDb25maWc+O1xuXG5cdHByb3RlY3RlZCBjb25maWc6IENvbHVtbkJ1aWxkZXJSdW50aW1lQ29uZmlnPFRbJ2RhdGEnXSwgVFJ1bnRpbWVDb25maWc+O1xuXG5cdGNvbnN0cnVjdG9yKG5hbWU6IFRbJ25hbWUnXSwgZGF0YVR5cGU6IFRbJ2RhdGFUeXBlJ10sIGNvbHVtblR5cGU6IFRbJ2NvbHVtblR5cGUnXSkge1xuXHRcdHRoaXMuY29uZmlnID0ge1xuXHRcdFx0bmFtZSxcblx0XHRcdG5vdE51bGw6IGZhbHNlLFxuXHRcdFx0ZGVmYXVsdDogdW5kZWZpbmVkLFxuXHRcdFx0aGFzRGVmYXVsdDogZmFsc2UsXG5cdFx0XHRwcmltYXJ5S2V5OiBmYWxzZSxcblx0XHRcdGlzVW5pcXVlOiBmYWxzZSxcblx0XHRcdHVuaXF1ZU5hbWU6IHVuZGVmaW5lZCxcblx0XHRcdHVuaXF1ZVR5cGU6IHVuZGVmaW5lZCxcblx0XHRcdGRhdGFUeXBlLFxuXHRcdFx0Y29sdW1uVHlwZSxcblx0XHRcdGdlbmVyYXRlZDogdW5kZWZpbmVkLFxuXHRcdH0gYXMgQ29sdW1uQnVpbGRlclJ1bnRpbWVDb25maWc8VFsnZGF0YSddLCBUUnVudGltZUNvbmZpZz47XG5cdH1cblxuXHQvKipcblx0ICogQ2hhbmdlcyB0aGUgZGF0YSB0eXBlIG9mIHRoZSBjb2x1bW4uIENvbW1vbmx5IHVzZWQgd2l0aCBganNvbmAgY29sdW1ucy4gQWxzbywgdXNlZnVsIGZvciBicmFuZGVkIHR5cGVzLlxuXHQgKlxuXHQgKiBAZXhhbXBsZVxuXHQgKiBgYGB0c1xuXHQgKiBjb25zdCB1c2VycyA9IHBnVGFibGUoJ3VzZXJzJywge1xuXHQgKiBcdGlkOiBpbnRlZ2VyKCdpZCcpLiR0eXBlPFVzZXJJZD4oKS5wcmltYXJ5S2V5KCksXG5cdCAqIFx0ZGV0YWlsczoganNvbignZGV0YWlscycpLiR0eXBlPFVzZXJEZXRhaWxzPigpLm5vdE51bGwoKSxcblx0ICogfSk7XG5cdCAqIGBgYFxuXHQgKi9cblx0JHR5cGU8VFR5cGU+KCk6ICRUeXBlPHRoaXMsIFRUeXBlPiB7XG5cdFx0cmV0dXJuIHRoaXMgYXMgJFR5cGU8dGhpcywgVFR5cGU+O1xuXHR9XG5cblx0LyoqXG5cdCAqIEFkZHMgYSBgbm90IG51bGxgIGNsYXVzZSB0byB0aGUgY29sdW1uIGRlZmluaXRpb24uXG5cdCAqXG5cdCAqIEFmZmVjdHMgdGhlIGBzZWxlY3RgIG1vZGVsIG9mIHRoZSB0YWJsZSAtIGNvbHVtbnMgKndpdGhvdXQqIGBub3QgbnVsbGAgd2lsbCBiZSBudWxsYWJsZSBvbiBzZWxlY3QuXG5cdCAqL1xuXHRub3ROdWxsKCk6IE5vdE51bGw8dGhpcz4ge1xuXHRcdHRoaXMuY29uZmlnLm5vdE51bGwgPSB0cnVlO1xuXHRcdHJldHVybiB0aGlzIGFzIE5vdE51bGw8dGhpcz47XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBhIGBkZWZhdWx0IDx2YWx1ZT5gIGNsYXVzZSB0byB0aGUgY29sdW1uIGRlZmluaXRpb24uXG5cdCAqXG5cdCAqIEFmZmVjdHMgdGhlIGBpbnNlcnRgIG1vZGVsIG9mIHRoZSB0YWJsZSAtIGNvbHVtbnMgKndpdGgqIGBkZWZhdWx0YCBhcmUgb3B0aW9uYWwgb24gaW5zZXJ0LlxuXHQgKlxuXHQgKiBJZiB5b3UgbmVlZCB0byBzZXQgYSBkeW5hbWljIGRlZmF1bHQgdmFsdWUsIHVzZSB7QGxpbmsgJGRlZmF1bHRGbn0gaW5zdGVhZC5cblx0ICovXG5cdGRlZmF1bHQodmFsdWU6ICh0aGlzWydfJ10gZXh0ZW5kcyB7ICR0eXBlOiBpbmZlciBVIH0gPyBVIDogdGhpc1snXyddWydkYXRhJ10pIHwgU1FMKTogSGFzRGVmYXVsdDx0aGlzPiB7XG5cdFx0dGhpcy5jb25maWcuZGVmYXVsdCA9IHZhbHVlO1xuXHRcdHRoaXMuY29uZmlnLmhhc0RlZmF1bHQgPSB0cnVlO1xuXHRcdHJldHVybiB0aGlzIGFzIEhhc0RlZmF1bHQ8dGhpcz47XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBhIGR5bmFtaWMgZGVmYXVsdCB2YWx1ZSB0byB0aGUgY29sdW1uLlxuXHQgKiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgcm93IGlzIGluc2VydGVkLCBhbmQgdGhlIHJldHVybmVkIHZhbHVlIHdpbGwgYmUgdXNlZCBhcyB0aGUgY29sdW1uIHZhbHVlLlxuXHQgKlxuXHQgKiAqKk5vdGU6KiogVGhpcyB2YWx1ZSBkb2VzIG5vdCBhZmZlY3QgdGhlIGBkcml6emxlLWtpdGAgYmVoYXZpb3IsIGl0IGlzIG9ubHkgdXNlZCBhdCBydW50aW1lIGluIGBkcml6emxlLW9ybWAuXG5cdCAqL1xuXHQkZGVmYXVsdEZuKFxuXHRcdGZuOiAoKSA9PiAodGhpc1snXyddIGV4dGVuZHMgeyAkdHlwZTogaW5mZXIgVSB9ID8gVSA6IHRoaXNbJ18nXVsnZGF0YSddKSB8IFNRTCxcblx0KTogSGFzUnVudGltZURlZmF1bHQ8SGFzRGVmYXVsdDx0aGlzPj4ge1xuXHRcdHRoaXMuY29uZmlnLmRlZmF1bHRGbiA9IGZuO1xuXHRcdHRoaXMuY29uZmlnLmhhc0RlZmF1bHQgPSB0cnVlO1xuXHRcdHJldHVybiB0aGlzIGFzIEhhc1J1bnRpbWVEZWZhdWx0PEhhc0RlZmF1bHQ8dGhpcz4+O1xuXHR9XG5cblx0LyoqXG5cdCAqIEFsaWFzIGZvciB7QGxpbmsgJGRlZmF1bHRGbn0uXG5cdCAqL1xuXHQkZGVmYXVsdCA9IHRoaXMuJGRlZmF1bHRGbjtcblxuXHQvKipcblx0ICogQWRkcyBhIGR5bmFtaWMgdXBkYXRlIHZhbHVlIHRvIHRoZSBjb2x1bW4uXG5cdCAqIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSByb3cgaXMgdXBkYXRlZCwgYW5kIHRoZSByZXR1cm5lZCB2YWx1ZSB3aWxsIGJlIHVzZWQgYXMgdGhlIGNvbHVtbiB2YWx1ZSBpZiBub25lIGlzIHByb3ZpZGVkLlxuXHQgKiBJZiBubyBgZGVmYXVsdGAgKG9yIGAkZGVmYXVsdEZuYCkgdmFsdWUgaXMgcHJvdmlkZWQsIHRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCB3aGVuIHRoZSByb3cgaXMgaW5zZXJ0ZWQgYXMgd2VsbCwgYW5kIHRoZSByZXR1cm5lZCB2YWx1ZSB3aWxsIGJlIHVzZWQgYXMgdGhlIGNvbHVtbiB2YWx1ZS5cblx0ICpcblx0ICogKipOb3RlOioqIFRoaXMgdmFsdWUgZG9lcyBub3QgYWZmZWN0IHRoZSBgZHJpenpsZS1raXRgIGJlaGF2aW9yLCBpdCBpcyBvbmx5IHVzZWQgYXQgcnVudGltZSBpbiBgZHJpenpsZS1vcm1gLlxuXHQgKi9cblx0JG9uVXBkYXRlRm4oXG5cdFx0Zm46ICgpID0+ICh0aGlzWydfJ10gZXh0ZW5kcyB7ICR0eXBlOiBpbmZlciBVIH0gPyBVIDogdGhpc1snXyddWydkYXRhJ10pIHwgU1FMLFxuXHQpOiBIYXNEZWZhdWx0PHRoaXM+IHtcblx0XHR0aGlzLmNvbmZpZy5vblVwZGF0ZUZuID0gZm47XG5cdFx0dGhpcy5jb25maWcuaGFzRGVmYXVsdCA9IHRydWU7XG5cdFx0cmV0dXJuIHRoaXMgYXMgSGFzRGVmYXVsdDx0aGlzPjtcblx0fVxuXG5cdC8qKlxuXHQgKiBBbGlhcyBmb3Ige0BsaW5rICRvblVwZGF0ZUZufS5cblx0ICovXG5cdCRvblVwZGF0ZSA9IHRoaXMuJG9uVXBkYXRlRm47XG5cblx0LyoqXG5cdCAqIEFkZHMgYSBgcHJpbWFyeSBrZXlgIGNsYXVzZSB0byB0aGUgY29sdW1uIGRlZmluaXRpb24uIFRoaXMgaW1wbGljaXRseSBtYWtlcyB0aGUgY29sdW1uIGBub3QgbnVsbGAuXG5cdCAqXG5cdCAqIEluIFNRTGl0ZSwgYGludGVnZXIgcHJpbWFyeSBrZXlgIGltcGxpY2l0bHkgbWFrZXMgdGhlIGNvbHVtbiBhdXRvLWluY3JlbWVudGluZy5cblx0ICovXG5cdHByaW1hcnlLZXkoKTogVEV4dHJhQ29uZmlnWydwcmltYXJ5S2V5SGFzRGVmYXVsdCddIGV4dGVuZHMgdHJ1ZSA/IElzUHJpbWFyeUtleTxIYXNEZWZhdWx0PE5vdE51bGw8dGhpcz4+PlxuXHRcdDogSXNQcmltYXJ5S2V5PE5vdE51bGw8dGhpcz4+XG5cdHtcblx0XHR0aGlzLmNvbmZpZy5wcmltYXJ5S2V5ID0gdHJ1ZTtcblx0XHR0aGlzLmNvbmZpZy5ub3ROdWxsID0gdHJ1ZTtcblx0XHRyZXR1cm4gdGhpcyBhcyBURXh0cmFDb25maWdbJ3ByaW1hcnlLZXlIYXNEZWZhdWx0J10gZXh0ZW5kcyB0cnVlID8gSXNQcmltYXJ5S2V5PEhhc0RlZmF1bHQ8Tm90TnVsbDx0aGlzPj4+XG5cdFx0XHQ6IElzUHJpbWFyeUtleTxOb3ROdWxsPHRoaXM+Pjtcblx0fVxuXG5cdGFic3RyYWN0IGdlbmVyYXRlZEFsd2F5c0FzKFxuXHRcdGFzOiBTUUwgfCBUWydkYXRhJ10gfCAoKCkgPT4gU1FMKSxcblx0XHRjb25maWc/OiBQYXJ0aWFsPEdlbmVyYXRlZENvbHVtbkNvbmZpZzx1bmtub3duPj4sXG5cdCk6IEhhc0dlbmVyYXRlZDx0aGlzPjtcbn1cblxuZXhwb3J0IHR5cGUgQnVpbGRDb2x1bW48XG5cdFRUYWJsZU5hbWUgZXh0ZW5kcyBzdHJpbmcsXG5cdFRCdWlsZGVyIGV4dGVuZHMgQ29sdW1uQnVpbGRlckJhc2UsXG5cdFREaWFsZWN0IGV4dGVuZHMgRGlhbGVjdCxcbj4gPSBURGlhbGVjdCBleHRlbmRzICdwZycgPyBQZ0NvbHVtbjxNYWtlQ29sdW1uQ29uZmlnPFRCdWlsZGVyWydfJ10sIFRUYWJsZU5hbWU+PlxuXHQ6IFREaWFsZWN0IGV4dGVuZHMgJ215c3FsJyA/IE15U3FsQ29sdW1uPE1ha2VDb2x1bW5Db25maWc8VEJ1aWxkZXJbJ18nXSwgVFRhYmxlTmFtZT4+XG5cdDogVERpYWxlY3QgZXh0ZW5kcyAnc3FsaXRlJyA/IFNRTGl0ZUNvbHVtbjxNYWtlQ29sdW1uQ29uZmlnPFRCdWlsZGVyWydfJ10sIFRUYWJsZU5hbWU+PlxuXHQ6IFREaWFsZWN0IGV4dGVuZHMgJ2NvbW1vbicgPyBDb2x1bW48TWFrZUNvbHVtbkNvbmZpZzxUQnVpbGRlclsnXyddLCBUVGFibGVOYW1lPj5cblx0OiBuZXZlcjtcblxuZXhwb3J0IHR5cGUgQnVpbGRJbmRleENvbHVtbjxcblx0VERpYWxlY3QgZXh0ZW5kcyBEaWFsZWN0LFxuPiA9IFREaWFsZWN0IGV4dGVuZHMgJ3BnJyA/IEV4dHJhQ29uZmlnQ29sdW1uIDogbmV2ZXI7XG5cbi8vIFRPRE9cbi8vIHRyeSB0byBtYWtlIHNxbCBhcyB3ZWxsICsgaW5kZXhSYXdcblxuLy8gb3B0aW9uYWwgYWZ0ZXIgZXZlcnl0aGluZyB3aWxsIGJlIHdvcmtpbmcgYXMgZXhwZWN0ZWRcbi8vIGFsc28gdHJ5IHRvIGxlYXZlIG9ubHkgbmVlZGVkIG1ldGhvZHMgZm9yIGV4dHJhQ29uZmlnXG4vLyBtYWtlIGFuIGVycm9yIGlmIEkgcGFzcyAuYXNjKCkgdG8gZmsgYW5kIHNvIG9uXG5cbmV4cG9ydCB0eXBlIEJ1aWxkQ29sdW1uczxcblx0VFRhYmxlTmFtZSBleHRlbmRzIHN0cmluZyxcblx0VENvbmZpZ01hcCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIENvbHVtbkJ1aWxkZXJCYXNlPixcblx0VERpYWxlY3QgZXh0ZW5kcyBEaWFsZWN0LFxuPiA9XG5cdCYge1xuXHRcdFtLZXkgaW4ga2V5b2YgVENvbmZpZ01hcF06IEJ1aWxkQ29sdW1uPFRUYWJsZU5hbWUsIFRDb25maWdNYXBbS2V5XSwgVERpYWxlY3Q+O1xuXHR9XG5cdCYge307XG5cbmV4cG9ydCB0eXBlIEJ1aWxkRXh0cmFDb25maWdDb2x1bW5zPFxuXHRfVFRhYmxlTmFtZSBleHRlbmRzIHN0cmluZyxcblx0VENvbmZpZ01hcCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIENvbHVtbkJ1aWxkZXJCYXNlPixcblx0VERpYWxlY3QgZXh0ZW5kcyBEaWFsZWN0LFxuPiA9XG5cdCYge1xuXHRcdFtLZXkgaW4ga2V5b2YgVENvbmZpZ01hcF06IEJ1aWxkSW5kZXhDb2x1bW48VERpYWxlY3Q+O1xuXHR9XG5cdCYge307XG5cbmV4cG9ydCB0eXBlIENoYW5nZUNvbHVtblRhYmxlTmFtZTxUQ29sdW1uIGV4dGVuZHMgQ29sdW1uLCBUQWxpYXMgZXh0ZW5kcyBzdHJpbmcsIFREaWFsZWN0IGV4dGVuZHMgRGlhbGVjdD4gPVxuXHRURGlhbGVjdCBleHRlbmRzICdwZycgPyBQZ0NvbHVtbjxNYWtlQ29sdW1uQ29uZmlnPFRDb2x1bW5bJ18nXSwgVEFsaWFzPj5cblx0XHQ6IFREaWFsZWN0IGV4dGVuZHMgJ215c3FsJyA/IE15U3FsQ29sdW1uPE1ha2VDb2x1bW5Db25maWc8VENvbHVtblsnXyddLCBUQWxpYXM+PlxuXHRcdDogVERpYWxlY3QgZXh0ZW5kcyAnc3FsaXRlJyA/IFNRTGl0ZUNvbHVtbjxNYWtlQ29sdW1uQ29uZmlnPFRDb2x1bW5bJ18nXSwgVEFsaWFzPj5cblx0XHQ6IG5ldmVyO1xuIiwgImltcG9ydCB7IGVudGl0eUtpbmQgfSBmcm9tICd+L2VudGl0eS50cyc7XG5pbXBvcnQgdHlwZSB7IEFueVBnQ29sdW1uLCBQZ0NvbHVtbiB9IGZyb20gJy4vY29sdW1ucy9pbmRleC50cyc7XG5pbXBvcnQgeyBQZ1RhYmxlIH0gZnJvbSAnLi90YWJsZS50cyc7XG5cbmV4cG9ydCB0eXBlIFVwZGF0ZURlbGV0ZUFjdGlvbiA9ICdjYXNjYWRlJyB8ICdyZXN0cmljdCcgfCAnbm8gYWN0aW9uJyB8ICdzZXQgbnVsbCcgfCAnc2V0IGRlZmF1bHQnO1xuXG5leHBvcnQgdHlwZSBSZWZlcmVuY2UgPSAoKSA9PiB7XG5cdHJlYWRvbmx5IG5hbWU/OiBzdHJpbmc7XG5cdHJlYWRvbmx5IGNvbHVtbnM6IFBnQ29sdW1uW107XG5cdHJlYWRvbmx5IGZvcmVpZ25UYWJsZTogUGdUYWJsZTtcblx0cmVhZG9ubHkgZm9yZWlnbkNvbHVtbnM6IFBnQ29sdW1uW107XG59O1xuXG5leHBvcnQgY2xhc3MgRm9yZWlnbktleUJ1aWxkZXIge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnUGdGb3JlaWduS2V5QnVpbGRlcic7XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRyZWZlcmVuY2U6IFJlZmVyZW5jZTtcblxuXHQvKiogQGludGVybmFsICovXG5cdF9vblVwZGF0ZTogVXBkYXRlRGVsZXRlQWN0aW9uIHwgdW5kZWZpbmVkID0gJ25vIGFjdGlvbic7XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRfb25EZWxldGU6IFVwZGF0ZURlbGV0ZUFjdGlvbiB8IHVuZGVmaW5lZCA9ICdubyBhY3Rpb24nO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdGNvbmZpZzogKCkgPT4ge1xuXHRcdFx0bmFtZT86IHN0cmluZztcblx0XHRcdGNvbHVtbnM6IFBnQ29sdW1uW107XG5cdFx0XHRmb3JlaWduQ29sdW1uczogUGdDb2x1bW5bXTtcblx0XHR9LFxuXHRcdGFjdGlvbnM/OiB7XG5cdFx0XHRvblVwZGF0ZT86IFVwZGF0ZURlbGV0ZUFjdGlvbjtcblx0XHRcdG9uRGVsZXRlPzogVXBkYXRlRGVsZXRlQWN0aW9uO1xuXHRcdH0gfCB1bmRlZmluZWQsXG5cdCkge1xuXHRcdHRoaXMucmVmZXJlbmNlID0gKCkgPT4ge1xuXHRcdFx0Y29uc3QgeyBuYW1lLCBjb2x1bW5zLCBmb3JlaWduQ29sdW1ucyB9ID0gY29uZmlnKCk7XG5cdFx0XHRyZXR1cm4geyBuYW1lLCBjb2x1bW5zLCBmb3JlaWduVGFibGU6IGZvcmVpZ25Db2x1bW5zWzBdIS50YWJsZSBhcyBQZ1RhYmxlLCBmb3JlaWduQ29sdW1ucyB9O1xuXHRcdH07XG5cdFx0aWYgKGFjdGlvbnMpIHtcblx0XHRcdHRoaXMuX29uVXBkYXRlID0gYWN0aW9ucy5vblVwZGF0ZTtcblx0XHRcdHRoaXMuX29uRGVsZXRlID0gYWN0aW9ucy5vbkRlbGV0ZTtcblx0XHR9XG5cdH1cblxuXHRvblVwZGF0ZShhY3Rpb246IFVwZGF0ZURlbGV0ZUFjdGlvbik6IHRoaXMge1xuXHRcdHRoaXMuX29uVXBkYXRlID0gYWN0aW9uID09PSB1bmRlZmluZWQgPyAnbm8gYWN0aW9uJyA6IGFjdGlvbjtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdG9uRGVsZXRlKGFjdGlvbjogVXBkYXRlRGVsZXRlQWN0aW9uKTogdGhpcyB7XG5cdFx0dGhpcy5fb25EZWxldGUgPSBhY3Rpb24gPT09IHVuZGVmaW5lZCA/ICdubyBhY3Rpb24nIDogYWN0aW9uO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRidWlsZCh0YWJsZTogUGdUYWJsZSk6IEZvcmVpZ25LZXkge1xuXHRcdHJldHVybiBuZXcgRm9yZWlnbktleSh0YWJsZSwgdGhpcyk7XG5cdH1cbn1cblxuZXhwb3J0IHR5cGUgQW55Rm9yZWlnbktleUJ1aWxkZXIgPSBGb3JlaWduS2V5QnVpbGRlcjtcblxuZXhwb3J0IGNsYXNzIEZvcmVpZ25LZXkge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnUGdGb3JlaWduS2V5JztcblxuXHRyZWFkb25seSByZWZlcmVuY2U6IFJlZmVyZW5jZTtcblx0cmVhZG9ubHkgb25VcGRhdGU6IFVwZGF0ZURlbGV0ZUFjdGlvbiB8IHVuZGVmaW5lZDtcblx0cmVhZG9ubHkgb25EZWxldGU6IFVwZGF0ZURlbGV0ZUFjdGlvbiB8IHVuZGVmaW5lZDtcblxuXHRjb25zdHJ1Y3RvcihyZWFkb25seSB0YWJsZTogUGdUYWJsZSwgYnVpbGRlcjogRm9yZWlnbktleUJ1aWxkZXIpIHtcblx0XHR0aGlzLnJlZmVyZW5jZSA9IGJ1aWxkZXIucmVmZXJlbmNlO1xuXHRcdHRoaXMub25VcGRhdGUgPSBidWlsZGVyLl9vblVwZGF0ZTtcblx0XHR0aGlzLm9uRGVsZXRlID0gYnVpbGRlci5fb25EZWxldGU7XG5cdH1cblxuXHRnZXROYW1lKCk6IHN0cmluZyB7XG5cdFx0Y29uc3QgeyBuYW1lLCBjb2x1bW5zLCBmb3JlaWduQ29sdW1ucyB9ID0gdGhpcy5yZWZlcmVuY2UoKTtcblx0XHRjb25zdCBjb2x1bW5OYW1lcyA9IGNvbHVtbnMubWFwKChjb2x1bW4pID0+IGNvbHVtbi5uYW1lKTtcblx0XHRjb25zdCBmb3JlaWduQ29sdW1uTmFtZXMgPSBmb3JlaWduQ29sdW1ucy5tYXAoKGNvbHVtbikgPT4gY29sdW1uLm5hbWUpO1xuXHRcdGNvbnN0IGNodW5rcyA9IFtcblx0XHRcdHRoaXMudGFibGVbUGdUYWJsZS5TeW1ib2wuTmFtZV0sXG5cdFx0XHQuLi5jb2x1bW5OYW1lcyxcblx0XHRcdGZvcmVpZ25Db2x1bW5zWzBdIS50YWJsZVtQZ1RhYmxlLlN5bWJvbC5OYW1lXSxcblx0XHRcdC4uLmZvcmVpZ25Db2x1bW5OYW1lcyxcblx0XHRdO1xuXHRcdHJldHVybiBuYW1lID8/IGAke2NodW5rcy5qb2luKCdfJyl9X2ZrYDtcblx0fVxufVxuXG50eXBlIENvbHVtbnNXaXRoVGFibGU8XG5cdFRUYWJsZU5hbWUgZXh0ZW5kcyBzdHJpbmcsXG5cdFRDb2x1bW5zIGV4dGVuZHMgUGdDb2x1bW5bXSxcbj4gPSB7IFtLZXkgaW4ga2V5b2YgVENvbHVtbnNdOiBBbnlQZ0NvbHVtbjx7IHRhYmxlTmFtZTogVFRhYmxlTmFtZSB9PiB9O1xuXG5leHBvcnQgZnVuY3Rpb24gZm9yZWlnbktleTxcblx0VFRhYmxlTmFtZSBleHRlbmRzIHN0cmluZyxcblx0VEZvcmVpZ25UYWJsZU5hbWUgZXh0ZW5kcyBzdHJpbmcsXG5cdFRDb2x1bW5zIGV4dGVuZHMgW0FueVBnQ29sdW1uPHsgdGFibGVOYW1lOiBUVGFibGVOYW1lIH0+LCAuLi5BbnlQZ0NvbHVtbjx7IHRhYmxlTmFtZTogVFRhYmxlTmFtZSB9PltdXSxcbj4oXG5cdGNvbmZpZzoge1xuXHRcdG5hbWU/OiBzdHJpbmc7XG5cdFx0Y29sdW1uczogVENvbHVtbnM7XG5cdFx0Zm9yZWlnbkNvbHVtbnM6IENvbHVtbnNXaXRoVGFibGU8VEZvcmVpZ25UYWJsZU5hbWUsIFRDb2x1bW5zPjtcblx0fSxcbik6IEZvcmVpZ25LZXlCdWlsZGVyIHtcblx0ZnVuY3Rpb24gbWFwcGVkQ29uZmlnKCkge1xuXHRcdGNvbnN0IHsgbmFtZSwgY29sdW1ucywgZm9yZWlnbkNvbHVtbnMgfSA9IGNvbmZpZztcblx0XHRyZXR1cm4ge1xuXHRcdFx0bmFtZSxcblx0XHRcdGNvbHVtbnMsXG5cdFx0XHRmb3JlaWduQ29sdW1ucyxcblx0XHR9O1xuXHR9XG5cblx0cmV0dXJuIG5ldyBGb3JlaWduS2V5QnVpbGRlcihtYXBwZWRDb25maWcpO1xufVxuIiwgImV4cG9ydCBmdW5jdGlvbiBpaWZlPFQgZXh0ZW5kcyB1bmtub3duW10sIFU+KGZuOiAoLi4uYXJnczogVCkgPT4gVSwgLi4uYXJnczogVCk6IFUge1xuXHRyZXR1cm4gZm4oLi4uYXJncyk7XG59XG4iLCAiaW1wb3J0IHsgZW50aXR5S2luZCB9IGZyb20gJ34vZW50aXR5LnRzJztcbmltcG9ydCB0eXBlIHsgUGdDb2x1bW4gfSBmcm9tICcuL2NvbHVtbnMvaW5kZXgudHMnO1xuaW1wb3J0IHsgUGdUYWJsZSB9IGZyb20gJy4vdGFibGUudHMnO1xuXG5leHBvcnQgZnVuY3Rpb24gdW5pcXVlKG5hbWU/OiBzdHJpbmcpOiBVbmlxdWVPbkNvbnN0cmFpbnRCdWlsZGVyIHtcblx0cmV0dXJuIG5ldyBVbmlxdWVPbkNvbnN0cmFpbnRCdWlsZGVyKG5hbWUpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5pcXVlS2V5TmFtZSh0YWJsZTogUGdUYWJsZSwgY29sdW1uczogc3RyaW5nW10pIHtcblx0cmV0dXJuIGAke3RhYmxlW1BnVGFibGUuU3ltYm9sLk5hbWVdfV8ke2NvbHVtbnMuam9pbignXycpfV91bmlxdWVgO1xufVxuXG5leHBvcnQgY2xhc3MgVW5pcXVlQ29uc3RyYWludEJ1aWxkZXIge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnUGdVbmlxdWVDb25zdHJhaW50QnVpbGRlcic7XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRjb2x1bW5zOiBQZ0NvbHVtbltdO1xuXHQvKiogQGludGVybmFsICovXG5cdG51bGxzTm90RGlzdGluY3RDb25maWcgPSBmYWxzZTtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRjb2x1bW5zOiBQZ0NvbHVtbltdLFxuXHRcdHByaXZhdGUgbmFtZT86IHN0cmluZyxcblx0KSB7XG5cdFx0dGhpcy5jb2x1bW5zID0gY29sdW1ucztcblx0fVxuXG5cdG51bGxzTm90RGlzdGluY3QoKSB7XG5cdFx0dGhpcy5udWxsc05vdERpc3RpbmN0Q29uZmlnID0gdHJ1ZTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0YnVpbGQodGFibGU6IFBnVGFibGUpOiBVbmlxdWVDb25zdHJhaW50IHtcblx0XHRyZXR1cm4gbmV3IFVuaXF1ZUNvbnN0cmFpbnQodGFibGUsIHRoaXMuY29sdW1ucywgdGhpcy5udWxsc05vdERpc3RpbmN0Q29uZmlnLCB0aGlzLm5hbWUpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBVbmlxdWVPbkNvbnN0cmFpbnRCdWlsZGVyIHtcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ1BnVW5pcXVlT25Db25zdHJhaW50QnVpbGRlcic7XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRuYW1lPzogc3RyaW5nO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdG5hbWU/OiBzdHJpbmcsXG5cdCkge1xuXHRcdHRoaXMubmFtZSA9IG5hbWU7XG5cdH1cblxuXHRvbiguLi5jb2x1bW5zOiBbUGdDb2x1bW4sIC4uLlBnQ29sdW1uW11dKSB7XG5cdFx0cmV0dXJuIG5ldyBVbmlxdWVDb25zdHJhaW50QnVpbGRlcihjb2x1bW5zLCB0aGlzLm5hbWUpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBVbmlxdWVDb25zdHJhaW50IHtcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ1BnVW5pcXVlQ29uc3RyYWludCc7XG5cblx0cmVhZG9ubHkgY29sdW1uczogUGdDb2x1bW5bXTtcblx0cmVhZG9ubHkgbmFtZT86IHN0cmluZztcblx0cmVhZG9ubHkgbnVsbHNOb3REaXN0aW5jdDogYm9vbGVhbiA9IGZhbHNlO1xuXG5cdGNvbnN0cnVjdG9yKHJlYWRvbmx5IHRhYmxlOiBQZ1RhYmxlLCBjb2x1bW5zOiBQZ0NvbHVtbltdLCBudWxsc05vdERpc3RpbmN0OiBib29sZWFuLCBuYW1lPzogc3RyaW5nKSB7XG5cdFx0dGhpcy5jb2x1bW5zID0gY29sdW1ucztcblx0XHR0aGlzLm5hbWUgPSBuYW1lID8/IHVuaXF1ZUtleU5hbWUodGhpcy50YWJsZSwgdGhpcy5jb2x1bW5zLm1hcCgoY29sdW1uKSA9PiBjb2x1bW4ubmFtZSkpO1xuXHRcdHRoaXMubnVsbHNOb3REaXN0aW5jdCA9IG51bGxzTm90RGlzdGluY3Q7XG5cdH1cblxuXHRnZXROYW1lKCkge1xuXHRcdHJldHVybiB0aGlzLm5hbWU7XG5cdH1cbn1cbiIsICJmdW5jdGlvbiBwYXJzZVBnQXJyYXlWYWx1ZShhcnJheVN0cmluZzogc3RyaW5nLCBzdGFydEZyb206IG51bWJlciwgaW5RdW90ZXM6IGJvb2xlYW4pOiBbc3RyaW5nLCBudW1iZXJdIHtcblx0Zm9yIChsZXQgaSA9IHN0YXJ0RnJvbTsgaSA8IGFycmF5U3RyaW5nLmxlbmd0aDsgaSsrKSB7XG5cdFx0Y29uc3QgY2hhciA9IGFycmF5U3RyaW5nW2ldO1xuXG5cdFx0aWYgKGNoYXIgPT09ICdcXFxcJykge1xuXHRcdFx0aSsrO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0aWYgKGNoYXIgPT09ICdcIicpIHtcblx0XHRcdHJldHVybiBbYXJyYXlTdHJpbmcuc2xpY2Uoc3RhcnRGcm9tLCBpKS5yZXBsYWNlKC9cXFxcL2csICcnKSwgaSArIDFdO1xuXHRcdH1cblxuXHRcdGlmIChpblF1b3Rlcykge1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0aWYgKGNoYXIgPT09ICcsJyB8fCBjaGFyID09PSAnfScpIHtcblx0XHRcdHJldHVybiBbYXJyYXlTdHJpbmcuc2xpY2Uoc3RhcnRGcm9tLCBpKS5yZXBsYWNlKC9cXFxcL2csICcnKSwgaV07XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIFthcnJheVN0cmluZy5zbGljZShzdGFydEZyb20pLnJlcGxhY2UoL1xcXFwvZywgJycpLCBhcnJheVN0cmluZy5sZW5ndGhdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VQZ05lc3RlZEFycmF5KGFycmF5U3RyaW5nOiBzdHJpbmcsIHN0YXJ0RnJvbSA9IDApOiBbYW55W10sIG51bWJlcl0ge1xuXHRjb25zdCByZXN1bHQ6IGFueVtdID0gW107XG5cdGxldCBpID0gc3RhcnRGcm9tO1xuXHRsZXQgbGFzdENoYXJJc0NvbW1hID0gZmFsc2U7XG5cblx0d2hpbGUgKGkgPCBhcnJheVN0cmluZy5sZW5ndGgpIHtcblx0XHRjb25zdCBjaGFyID0gYXJyYXlTdHJpbmdbaV07XG5cblx0XHRpZiAoY2hhciA9PT0gJywnKSB7XG5cdFx0XHRpZiAobGFzdENoYXJJc0NvbW1hIHx8IGkgPT09IHN0YXJ0RnJvbSkge1xuXHRcdFx0XHRyZXN1bHQucHVzaCgnJyk7XG5cdFx0XHR9XG5cdFx0XHRsYXN0Q2hhcklzQ29tbWEgPSB0cnVlO1xuXHRcdFx0aSsrO1xuXHRcdFx0Y29udGludWU7XG5cdFx0fVxuXG5cdFx0bGFzdENoYXJJc0NvbW1hID0gZmFsc2U7XG5cblx0XHRpZiAoY2hhciA9PT0gJ1xcXFwnKSB7XG5cdFx0XHRpICs9IDI7XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRpZiAoY2hhciA9PT0gJ1wiJykge1xuXHRcdFx0Y29uc3QgW3ZhbHVlLCBzdGFydEZyb21dID0gcGFyc2VQZ0FycmF5VmFsdWUoYXJyYXlTdHJpbmcsIGkgKyAxLCB0cnVlKTtcblx0XHRcdHJlc3VsdC5wdXNoKHZhbHVlKTtcblx0XHRcdGkgPSBzdGFydEZyb207XG5cdFx0XHRjb250aW51ZTtcblx0XHR9XG5cblx0XHRpZiAoY2hhciA9PT0gJ30nKSB7XG5cdFx0XHRyZXR1cm4gW3Jlc3VsdCwgaSArIDFdO1xuXHRcdH1cblxuXHRcdGlmIChjaGFyID09PSAneycpIHtcblx0XHRcdGNvbnN0IFt2YWx1ZSwgc3RhcnRGcm9tXSA9IHBhcnNlUGdOZXN0ZWRBcnJheShhcnJheVN0cmluZywgaSArIDEpO1xuXHRcdFx0cmVzdWx0LnB1c2godmFsdWUpO1xuXHRcdFx0aSA9IHN0YXJ0RnJvbTtcblx0XHRcdGNvbnRpbnVlO1xuXHRcdH1cblxuXHRcdGNvbnN0IFt2YWx1ZSwgbmV3U3RhcnRGcm9tXSA9IHBhcnNlUGdBcnJheVZhbHVlKGFycmF5U3RyaW5nLCBpLCBmYWxzZSk7XG5cdFx0cmVzdWx0LnB1c2godmFsdWUpO1xuXHRcdGkgPSBuZXdTdGFydEZyb207XG5cdH1cblxuXHRyZXR1cm4gW3Jlc3VsdCwgaV07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVBnQXJyYXkoYXJyYXlTdHJpbmc6IHN0cmluZyk6IGFueVtdIHtcblx0Y29uc3QgW3Jlc3VsdF0gPSBwYXJzZVBnTmVzdGVkQXJyYXkoYXJyYXlTdHJpbmcsIDEpO1xuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFrZVBnQXJyYXkoYXJyYXk6IGFueVtdKTogc3RyaW5nIHtcblx0cmV0dXJuIGB7JHtcblx0XHRhcnJheS5tYXAoKGl0ZW0pID0+IHtcblx0XHRcdGlmIChBcnJheS5pc0FycmF5KGl0ZW0pKSB7XG5cdFx0XHRcdHJldHVybiBtYWtlUGdBcnJheShpdGVtKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKHR5cGVvZiBpdGVtID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRyZXR1cm4gYFwiJHtpdGVtLnJlcGxhY2UoL1xcXFwvZywgJ1xcXFxcXFxcJykucmVwbGFjZSgvXCIvZywgJ1xcXFxcIicpfVwiYDtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGAke2l0ZW19YDtcblx0XHR9KS5qb2luKCcsJylcblx0fX1gO1xufVxuIiwgImltcG9ydCB0eXBlIHtcblx0Q29sdW1uQnVpbGRlckJhc2UsXG5cdENvbHVtbkJ1aWxkZXJCYXNlQ29uZmlnLFxuXHRDb2x1bW5CdWlsZGVyRXh0cmFDb25maWcsXG5cdENvbHVtbkJ1aWxkZXJSdW50aW1lQ29uZmlnLFxuXHRDb2x1bW5EYXRhVHlwZSxcblx0R2VuZXJhdGVkQ29sdW1uQ29uZmlnLFxuXHRIYXNHZW5lcmF0ZWQsXG5cdE1ha2VDb2x1bW5Db25maWcsXG59IGZyb20gJ34vY29sdW1uLWJ1aWxkZXIudHMnO1xuaW1wb3J0IHsgQ29sdW1uQnVpbGRlciB9IGZyb20gJ34vY29sdW1uLWJ1aWxkZXIudHMnO1xuaW1wb3J0IHR5cGUgeyBDb2x1bW5CYXNlQ29uZmlnIH0gZnJvbSAnfi9jb2x1bW4udHMnO1xuaW1wb3J0IHsgQ29sdW1uIH0gZnJvbSAnfi9jb2x1bW4udHMnO1xuaW1wb3J0IHsgZW50aXR5S2luZCwgaXMgfSBmcm9tICd+L2VudGl0eS50cyc7XG5pbXBvcnQgdHlwZSB7IFVwZGF0ZSB9IGZyb20gJ34vdXRpbHMudHMnO1xuXG5pbXBvcnQgdHlwZSB7IFNRTCB9IGZyb20gJ34vaW5kZXgudHMnO1xuaW1wb3J0IHR5cGUgeyBGb3JlaWduS2V5LCBVcGRhdGVEZWxldGVBY3Rpb24gfSBmcm9tICd+L3BnLWNvcmUvZm9yZWlnbi1rZXlzLnRzJztcbmltcG9ydCB7IEZvcmVpZ25LZXlCdWlsZGVyIH0gZnJvbSAnfi9wZy1jb3JlL2ZvcmVpZ24ta2V5cy50cyc7XG5pbXBvcnQgdHlwZSB7IEFueVBnVGFibGUsIFBnVGFibGUgfSBmcm9tICd+L3BnLWNvcmUvdGFibGUudHMnO1xuaW1wb3J0IHsgaWlmZSB9IGZyb20gJ34vdHJhY2luZy11dGlscy50cyc7XG5pbXBvcnQgdHlwZSB7IFBnSW5kZXhPcENsYXNzIH0gZnJvbSAnLi4vaW5kZXhlcy50cyc7XG5pbXBvcnQgeyB1bmlxdWVLZXlOYW1lIH0gZnJvbSAnLi4vdW5pcXVlLWNvbnN0cmFpbnQudHMnO1xuaW1wb3J0IHsgbWFrZVBnQXJyYXksIHBhcnNlUGdBcnJheSB9IGZyb20gJy4uL3V0aWxzL2FycmF5LnRzJztcblxuZXhwb3J0IGludGVyZmFjZSBSZWZlcmVuY2VDb25maWcge1xuXHRyZWY6ICgpID0+IFBnQ29sdW1uO1xuXHRhY3Rpb25zOiB7XG5cdFx0b25VcGRhdGU/OiBVcGRhdGVEZWxldGVBY3Rpb247XG5cdFx0b25EZWxldGU/OiBVcGRhdGVEZWxldGVBY3Rpb247XG5cdH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUGdDb2x1bW5CdWlsZGVyQmFzZTxcblx0VCBleHRlbmRzIENvbHVtbkJ1aWxkZXJCYXNlQ29uZmlnPENvbHVtbkRhdGFUeXBlLCBzdHJpbmc+ID0gQ29sdW1uQnVpbGRlckJhc2VDb25maWc8Q29sdW1uRGF0YVR5cGUsIHN0cmluZz4sXG5cdFRUeXBlQ29uZmlnIGV4dGVuZHMgb2JqZWN0ID0gb2JqZWN0LFxuPiBleHRlbmRzIENvbHVtbkJ1aWxkZXJCYXNlPFQsIFRUeXBlQ29uZmlnICYgeyBkaWFsZWN0OiAncGcnIH0+IHt9XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBQZ0NvbHVtbkJ1aWxkZXI8XG5cdFQgZXh0ZW5kcyBDb2x1bW5CdWlsZGVyQmFzZUNvbmZpZzxDb2x1bW5EYXRhVHlwZSwgc3RyaW5nPiA9IENvbHVtbkJ1aWxkZXJCYXNlQ29uZmlnPENvbHVtbkRhdGFUeXBlLCBzdHJpbmc+LFxuXHRUUnVudGltZUNvbmZpZyBleHRlbmRzIG9iamVjdCA9IG9iamVjdCxcblx0VFR5cGVDb25maWcgZXh0ZW5kcyBvYmplY3QgPSBvYmplY3QsXG5cdFRFeHRyYUNvbmZpZyBleHRlbmRzIENvbHVtbkJ1aWxkZXJFeHRyYUNvbmZpZyA9IENvbHVtbkJ1aWxkZXJFeHRyYUNvbmZpZyxcbj4gZXh0ZW5kcyBDb2x1bW5CdWlsZGVyPFQsIFRSdW50aW1lQ29uZmlnLCBUVHlwZUNvbmZpZyAmIHsgZGlhbGVjdDogJ3BnJyB9LCBURXh0cmFDb25maWc+XG5cdGltcGxlbWVudHMgUGdDb2x1bW5CdWlsZGVyQmFzZTxULCBUVHlwZUNvbmZpZz5cbntcblx0cHJpdmF0ZSBmb3JlaWduS2V5Q29uZmlnczogUmVmZXJlbmNlQ29uZmlnW10gPSBbXTtcblxuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnUGdDb2x1bW5CdWlsZGVyJztcblxuXHRhcnJheShzaXplPzogbnVtYmVyKTogUGdBcnJheUJ1aWxkZXI8XG5cdFx0JiB7XG5cdFx0XHRuYW1lOiBUWyduYW1lJ107XG5cdFx0XHRkYXRhVHlwZTogJ2FycmF5Jztcblx0XHRcdGNvbHVtblR5cGU6ICdQZ0FycmF5Jztcblx0XHRcdGRhdGE6IFRbJ2RhdGEnXVtdO1xuXHRcdFx0ZHJpdmVyUGFyYW06IFRbJ2RyaXZlclBhcmFtJ11bXSB8IHN0cmluZztcblx0XHRcdGVudW1WYWx1ZXM6IFRbJ2VudW1WYWx1ZXMnXTtcblx0XHRcdGdlbmVyYXRlZDogR2VuZXJhdGVkQ29sdW1uQ29uZmlnPFRbJ2RhdGEnXT47XG5cdFx0fVxuXHRcdCYgKFQgZXh0ZW5kcyB7IG5vdE51bGw6IHRydWUgfSA/IHsgbm90TnVsbDogdHJ1ZSB9IDoge30pXG5cdFx0JiAoVCBleHRlbmRzIHsgaGFzRGVmYXVsdDogdHJ1ZSB9ID8geyBoYXNEZWZhdWx0OiB0cnVlIH0gOiB7fSksXG5cdFx0VFxuXHQ+IHtcblx0XHRyZXR1cm4gbmV3IFBnQXJyYXlCdWlsZGVyKHRoaXMuY29uZmlnLm5hbWUsIHRoaXMgYXMgUGdDb2x1bW5CdWlsZGVyPGFueSwgYW55Piwgc2l6ZSk7XG5cdH1cblxuXHRyZWZlcmVuY2VzKFxuXHRcdHJlZjogUmVmZXJlbmNlQ29uZmlnWydyZWYnXSxcblx0XHRhY3Rpb25zOiBSZWZlcmVuY2VDb25maWdbJ2FjdGlvbnMnXSA9IHt9LFxuXHQpOiB0aGlzIHtcblx0XHR0aGlzLmZvcmVpZ25LZXlDb25maWdzLnB1c2goeyByZWYsIGFjdGlvbnMgfSk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHR1bmlxdWUoXG5cdFx0bmFtZT86IHN0cmluZyxcblx0XHRjb25maWc/OiB7IG51bGxzOiAnZGlzdGluY3QnIHwgJ25vdCBkaXN0aW5jdCcgfSxcblx0KTogdGhpcyB7XG5cdFx0dGhpcy5jb25maWcuaXNVbmlxdWUgPSB0cnVlO1xuXHRcdHRoaXMuY29uZmlnLnVuaXF1ZU5hbWUgPSBuYW1lO1xuXHRcdHRoaXMuY29uZmlnLnVuaXF1ZVR5cGUgPSBjb25maWc/Lm51bGxzO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0Z2VuZXJhdGVkQWx3YXlzQXMoYXM6IFNRTCB8IFRbJ2RhdGEnXSB8ICgoKSA9PiBTUUwpKTogSGFzR2VuZXJhdGVkPHRoaXM+IHtcblx0XHR0aGlzLmNvbmZpZy5nZW5lcmF0ZWQgPSB7XG5cdFx0XHRhcyxcblx0XHRcdHR5cGU6ICdhbHdheXMnLFxuXHRcdFx0bW9kZTogJ3N0b3JlZCcsXG5cdFx0fTtcblx0XHRyZXR1cm4gdGhpcyBhcyBhbnk7XG5cdH1cblxuXHQvKiogQGludGVybmFsICovXG5cdGJ1aWxkRm9yZWlnbktleXMoY29sdW1uOiBQZ0NvbHVtbiwgdGFibGU6IFBnVGFibGUpOiBGb3JlaWduS2V5W10ge1xuXHRcdHJldHVybiB0aGlzLmZvcmVpZ25LZXlDb25maWdzLm1hcCgoeyByZWYsIGFjdGlvbnMgfSkgPT4ge1xuXHRcdFx0cmV0dXJuIGlpZmUoXG5cdFx0XHRcdChyZWYsIGFjdGlvbnMpID0+IHtcblx0XHRcdFx0XHRjb25zdCBidWlsZGVyID0gbmV3IEZvcmVpZ25LZXlCdWlsZGVyKCgpID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IGZvcmVpZ25Db2x1bW4gPSByZWYoKTtcblx0XHRcdFx0XHRcdHJldHVybiB7IGNvbHVtbnM6IFtjb2x1bW5dLCBmb3JlaWduQ29sdW1uczogW2ZvcmVpZ25Db2x1bW5dIH07XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0aWYgKGFjdGlvbnMub25VcGRhdGUpIHtcblx0XHRcdFx0XHRcdGJ1aWxkZXIub25VcGRhdGUoYWN0aW9ucy5vblVwZGF0ZSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChhY3Rpb25zLm9uRGVsZXRlKSB7XG5cdFx0XHRcdFx0XHRidWlsZGVyLm9uRGVsZXRlKGFjdGlvbnMub25EZWxldGUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gYnVpbGRlci5idWlsZCh0YWJsZSk7XG5cdFx0XHRcdH0sXG5cdFx0XHRcdHJlZixcblx0XHRcdFx0YWN0aW9ucyxcblx0XHRcdCk7XG5cdFx0fSk7XG5cdH1cblxuXHQvKiogQGludGVybmFsICovXG5cdGFic3RyYWN0IGJ1aWxkPFRUYWJsZU5hbWUgZXh0ZW5kcyBzdHJpbmc+KFxuXHRcdHRhYmxlOiBBbnlQZ1RhYmxlPHsgbmFtZTogVFRhYmxlTmFtZSB9Pixcblx0KTogUGdDb2x1bW48TWFrZUNvbHVtbkNvbmZpZzxULCBUVGFibGVOYW1lPj47XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRidWlsZEV4dHJhQ29uZmlnQ29sdW1uPFRUYWJsZU5hbWUgZXh0ZW5kcyBzdHJpbmc+KFxuXHRcdHRhYmxlOiBBbnlQZ1RhYmxlPHsgbmFtZTogVFRhYmxlTmFtZSB9Pixcblx0KTogRXh0cmFDb25maWdDb2x1bW4ge1xuXHRcdHJldHVybiBuZXcgRXh0cmFDb25maWdDb2x1bW4odGFibGUsIHRoaXMuY29uZmlnKTtcblx0fVxufVxuXG4vLyBUbyB1bmRlcnN0YW5kIGhvdyB0byB1c2UgYFBnQ29sdW1uYCBhbmQgYFBnQ29sdW1uYCwgc2VlIGBDb2x1bW5gIGFuZCBgQW55Q29sdW1uYCBkb2N1bWVudGF0aW9uLlxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFBnQ29sdW1uPFxuXHRUIGV4dGVuZHMgQ29sdW1uQmFzZUNvbmZpZzxDb2x1bW5EYXRhVHlwZSwgc3RyaW5nPiA9IENvbHVtbkJhc2VDb25maWc8Q29sdW1uRGF0YVR5cGUsIHN0cmluZz4sXG5cdFRSdW50aW1lQ29uZmlnIGV4dGVuZHMgb2JqZWN0ID0ge30sXG5cdFRUeXBlQ29uZmlnIGV4dGVuZHMgb2JqZWN0ID0ge30sXG4+IGV4dGVuZHMgQ29sdW1uPFQsIFRSdW50aW1lQ29uZmlnLCBUVHlwZUNvbmZpZyAmIHsgZGlhbGVjdDogJ3BnJyB9PiB7XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdQZ0NvbHVtbic7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0b3ZlcnJpZGUgcmVhZG9ubHkgdGFibGU6IFBnVGFibGUsXG5cdFx0Y29uZmlnOiBDb2x1bW5CdWlsZGVyUnVudGltZUNvbmZpZzxUWydkYXRhJ10sIFRSdW50aW1lQ29uZmlnPixcblx0KSB7XG5cdFx0aWYgKCFjb25maWcudW5pcXVlTmFtZSkge1xuXHRcdFx0Y29uZmlnLnVuaXF1ZU5hbWUgPSB1bmlxdWVLZXlOYW1lKHRhYmxlLCBbY29uZmlnLm5hbWVdKTtcblx0XHR9XG5cdFx0c3VwZXIodGFibGUsIGNvbmZpZyk7XG5cdH1cbn1cblxuZXhwb3J0IHR5cGUgSW5kZXhlZEV4dHJhQ29uZmlnVHlwZSA9IHsgb3JkZXI/OiAnYXNjJyB8ICdkZXNjJzsgbnVsbHM/OiAnZmlyc3QnIHwgJ2xhc3QnOyBvcENsYXNzPzogc3RyaW5nIH07XG5cbmV4cG9ydCBjbGFzcyBFeHRyYUNvbmZpZ0NvbHVtbjxcblx0VCBleHRlbmRzIENvbHVtbkJhc2VDb25maWc8Q29sdW1uRGF0YVR5cGUsIHN0cmluZz4gPSBDb2x1bW5CYXNlQ29uZmlnPENvbHVtbkRhdGFUeXBlLCBzdHJpbmc+LFxuPiBleHRlbmRzIFBnQ29sdW1uPFQsIEluZGV4ZWRFeHRyYUNvbmZpZ1R5cGU+IHtcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ0V4dHJhQ29uZmlnQ29sdW1uJztcblxuXHRvdmVycmlkZSBnZXRTUUxUeXBlKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0U1FMVHlwZSgpO1xuXHR9XG5cblx0aW5kZXhDb25maWc6IEluZGV4ZWRFeHRyYUNvbmZpZ1R5cGUgPSB7XG5cdFx0b3JkZXI6IHRoaXMuY29uZmlnLm9yZGVyID8/ICdhc2MnLFxuXHRcdG51bGxzOiB0aGlzLmNvbmZpZy5udWxscyA/PyAnbGFzdCcsXG5cdFx0b3BDbGFzczogdGhpcy5jb25maWcub3BDbGFzcyxcblx0fTtcblx0ZGVmYXVsdENvbmZpZzogSW5kZXhlZEV4dHJhQ29uZmlnVHlwZSA9IHtcblx0XHRvcmRlcjogJ2FzYycsXG5cdFx0bnVsbHM6ICdsYXN0Jyxcblx0XHRvcENsYXNzOiB1bmRlZmluZWQsXG5cdH07XG5cblx0YXNjKCk6IE9taXQ8dGhpcywgJ2FzYycgfCAnZGVzYyc+IHtcblx0XHR0aGlzLmluZGV4Q29uZmlnLm9yZGVyID0gJ2FzYyc7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRkZXNjKCk6IE9taXQ8dGhpcywgJ2FzYycgfCAnZGVzYyc+IHtcblx0XHR0aGlzLmluZGV4Q29uZmlnLm9yZGVyID0gJ2Rlc2MnO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0bnVsbHNGaXJzdCgpOiBPbWl0PHRoaXMsICdudWxsc0ZpcnN0JyB8ICdudWxsc0xhc3QnPiB7XG5cdFx0dGhpcy5pbmRleENvbmZpZy5udWxscyA9ICdmaXJzdCc7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHRudWxsc0xhc3QoKTogT21pdDx0aGlzLCAnbnVsbHNGaXJzdCcgfCAnbnVsbHNMYXN0Jz4ge1xuXHRcdHRoaXMuaW5kZXhDb25maWcubnVsbHMgPSAnbGFzdCc7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogIyMjIFBvc3RncmVTUUwgZG9jdW1lbnRhdGlvbiBxdW90ZVxuXHQgKlxuXHQgKiA+IEFuIG9wZXJhdG9yIGNsYXNzIHdpdGggb3B0aW9uYWwgcGFyYW1ldGVycyBjYW4gYmUgc3BlY2lmaWVkIGZvciBlYWNoIGNvbHVtbiBvZiBhbiBpbmRleC5cblx0ICogVGhlIG9wZXJhdG9yIGNsYXNzIGlkZW50aWZpZXMgdGhlIG9wZXJhdG9ycyB0byBiZSB1c2VkIGJ5IHRoZSBpbmRleCBmb3IgdGhhdCBjb2x1bW4uXG5cdCAqIEZvciBleGFtcGxlLCBhIEItdHJlZSBpbmRleCBvbiBmb3VyLWJ5dGUgaW50ZWdlcnMgd291bGQgdXNlIHRoZSBpbnQ0X29wcyBjbGFzcztcblx0ICogdGhpcyBvcGVyYXRvciBjbGFzcyBpbmNsdWRlcyBjb21wYXJpc29uIGZ1bmN0aW9ucyBmb3IgZm91ci1ieXRlIGludGVnZXJzLlxuXHQgKiBJbiBwcmFjdGljZSB0aGUgZGVmYXVsdCBvcGVyYXRvciBjbGFzcyBmb3IgdGhlIGNvbHVtbidzIGRhdGEgdHlwZSBpcyB1c3VhbGx5IHN1ZmZpY2llbnQuXG5cdCAqIFRoZSBtYWluIHBvaW50IG9mIGhhdmluZyBvcGVyYXRvciBjbGFzc2VzIGlzIHRoYXQgZm9yIHNvbWUgZGF0YSB0eXBlcywgdGhlcmUgY291bGQgYmUgbW9yZSB0aGFuIG9uZSBtZWFuaW5nZnVsIG9yZGVyaW5nLlxuXHQgKiBGb3IgZXhhbXBsZSwgd2UgbWlnaHQgd2FudCB0byBzb3J0IGEgY29tcGxleC1udW1iZXIgZGF0YSB0eXBlIGVpdGhlciBieSBhYnNvbHV0ZSB2YWx1ZSBvciBieSByZWFsIHBhcnQuXG5cdCAqIFdlIGNvdWxkIGRvIHRoaXMgYnkgZGVmaW5pbmcgdHdvIG9wZXJhdG9yIGNsYXNzZXMgZm9yIHRoZSBkYXRhIHR5cGUgYW5kIHRoZW4gc2VsZWN0aW5nIHRoZSBwcm9wZXIgY2xhc3Mgd2hlbiBjcmVhdGluZyBhbiBpbmRleC5cblx0ICogTW9yZSBpbmZvcm1hdGlvbiBhYm91dCBvcGVyYXRvciBjbGFzc2VzIGNoZWNrOlxuXHQgKlxuXHQgKiAjIyMgVXNlZnVsIGxpbmtzXG5cdCAqIGh0dHBzOi8vd3d3LnBvc3RncmVzcWwub3JnL2RvY3MvY3VycmVudC9zcWwtY3JlYXRlaW5kZXguaHRtbFxuXHQgKlxuXHQgKiBodHRwczovL3d3dy5wb3N0Z3Jlc3FsLm9yZy9kb2NzL2N1cnJlbnQvaW5kZXhlcy1vcGNsYXNzLmh0bWxcblx0ICpcblx0ICogaHR0cHM6Ly93d3cucG9zdGdyZXNxbC5vcmcvZG9jcy9jdXJyZW50L3hpbmRleC5odG1sXG5cdCAqXG5cdCAqICMjIyBBZGRpdGlvbmFsIHR5cGVzXG5cdCAqIElmIHlvdSBoYXZlIHRoZSBgcGdfdmVjdG9yYCBleHRlbnNpb24gaW5zdGFsbGVkIGluIHlvdXIgZGF0YWJhc2UsIHlvdSBjYW4gdXNlIHRoZVxuXHQgKiBgdmVjdG9yX2wyX29wc2AsIGB2ZWN0b3JfaXBfb3BzYCwgYHZlY3Rvcl9jb3NpbmVfb3BzYCwgYHZlY3Rvcl9sMV9vcHNgLCBgYml0X2hhbW1pbmdfb3BzYCwgYGJpdF9qYWNjYXJkX29wc2AsIGBoYWxmdmVjX2wyX29wc2AsIGBzcGFyc2V2ZWNfbDJfb3BzYCBvcHRpb25zLCB3aGljaCBhcmUgcHJlZGVmaW5lZCB0eXBlcy5cblx0ICpcblx0ICogKipZb3UgY2FuIGFsd2F5cyBzcGVjaWZ5IGFueSBzdHJpbmcgeW91IHdhbnQgaW4gdGhlIG9wZXJhdG9yIGNsYXNzLCBpbiBjYXNlIERyaXp6bGUgZG9lc24ndCBoYXZlIGl0IG5hdGl2ZWx5IGluIGl0cyB0eXBlcyoqXG5cdCAqXG5cdCAqIEBwYXJhbSBvcENsYXNzXG5cdCAqIEByZXR1cm5zXG5cdCAqL1xuXHRvcChvcENsYXNzOiBQZ0luZGV4T3BDbGFzcyk6IE9taXQ8dGhpcywgJ29wJz4ge1xuXHRcdHRoaXMuaW5kZXhDb25maWcub3BDbGFzcyA9IG9wQ2xhc3M7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIEluZGV4ZWRDb2x1bW4ge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnSW5kZXhlZENvbHVtbic7XG5cdGNvbnN0cnVjdG9yKFxuXHRcdG5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZCxcblx0XHR0eXBlOiBzdHJpbmcsXG5cdFx0aW5kZXhDb25maWc6IEluZGV4ZWRFeHRyYUNvbmZpZ1R5cGUsXG5cdCkge1xuXHRcdHRoaXMubmFtZSA9IG5hbWU7XG5cdFx0dGhpcy50eXBlID0gdHlwZTtcblx0XHR0aGlzLmluZGV4Q29uZmlnID0gaW5kZXhDb25maWc7XG5cdH1cblxuXHRuYW1lOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cdHR5cGU6IHN0cmluZztcblx0aW5kZXhDb25maWc6IEluZGV4ZWRFeHRyYUNvbmZpZ1R5cGU7XG59XG5cbmV4cG9ydCB0eXBlIEFueVBnQ29sdW1uPFRQYXJ0aWFsIGV4dGVuZHMgUGFydGlhbDxDb2x1bW5CYXNlQ29uZmlnPENvbHVtbkRhdGFUeXBlLCBzdHJpbmc+PiA9IHt9PiA9IFBnQ29sdW1uPFxuXHRSZXF1aXJlZDxVcGRhdGU8Q29sdW1uQmFzZUNvbmZpZzxDb2x1bW5EYXRhVHlwZSwgc3RyaW5nPiwgVFBhcnRpYWw+PlxuPjtcblxuZXhwb3J0IGNsYXNzIFBnQXJyYXlCdWlsZGVyPFxuXHRUIGV4dGVuZHMgQ29sdW1uQnVpbGRlckJhc2VDb25maWc8J2FycmF5JywgJ1BnQXJyYXknPixcblx0VEJhc2UgZXh0ZW5kcyBDb2x1bW5CdWlsZGVyQmFzZUNvbmZpZzxDb2x1bW5EYXRhVHlwZSwgc3RyaW5nPixcbj4gZXh0ZW5kcyBQZ0NvbHVtbkJ1aWxkZXI8XG5cdFQsXG5cdHtcblx0XHRiYXNlQnVpbGRlcjogUGdDb2x1bW5CdWlsZGVyPFRCYXNlPjtcblx0XHRzaXplOiBudW1iZXIgfCB1bmRlZmluZWQ7XG5cdH0sXG5cdHtcblx0XHRiYXNlQnVpbGRlcjogUGdDb2x1bW5CdWlsZGVyPFRCYXNlPjtcblx0fVxuPiB7XG5cdHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBbZW50aXR5S2luZF0gPSAnUGdBcnJheUJ1aWxkZXInO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdG5hbWU6IHN0cmluZyxcblx0XHRiYXNlQnVpbGRlcjogUGdBcnJheUJ1aWxkZXI8VCwgVEJhc2U+Wydjb25maWcnXVsnYmFzZUJ1aWxkZXInXSxcblx0XHRzaXplOiBudW1iZXIgfCB1bmRlZmluZWQsXG5cdCkge1xuXHRcdHN1cGVyKG5hbWUsICdhcnJheScsICdQZ0FycmF5Jyk7XG5cdFx0dGhpcy5jb25maWcuYmFzZUJ1aWxkZXIgPSBiYXNlQnVpbGRlcjtcblx0XHR0aGlzLmNvbmZpZy5zaXplID0gc2l6ZTtcblx0fVxuXG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0b3ZlcnJpZGUgYnVpbGQ8VFRhYmxlTmFtZSBleHRlbmRzIHN0cmluZz4oXG5cdFx0dGFibGU6IEFueVBnVGFibGU8eyBuYW1lOiBUVGFibGVOYW1lIH0+LFxuXHQpOiBQZ0FycmF5PE1ha2VDb2x1bW5Db25maWc8VCwgVFRhYmxlTmFtZT4sIFRCYXNlPiB7XG5cdFx0Y29uc3QgYmFzZUNvbHVtbiA9IHRoaXMuY29uZmlnLmJhc2VCdWlsZGVyLmJ1aWxkKHRhYmxlKTtcblx0XHRyZXR1cm4gbmV3IFBnQXJyYXk8TWFrZUNvbHVtbkNvbmZpZzxULCBUVGFibGVOYW1lPiwgVEJhc2U+KFxuXHRcdFx0dGFibGUgYXMgQW55UGdUYWJsZTx7IG5hbWU6IE1ha2VDb2x1bW5Db25maWc8VCwgVFRhYmxlTmFtZT5bJ3RhYmxlTmFtZSddIH0+LFxuXHRcdFx0dGhpcy5jb25maWcgYXMgQ29sdW1uQnVpbGRlclJ1bnRpbWVDb25maWc8YW55LCBhbnk+LFxuXHRcdFx0YmFzZUNvbHVtbixcblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBQZ0FycmF5PFxuXHRUIGV4dGVuZHMgQ29sdW1uQmFzZUNvbmZpZzwnYXJyYXknLCAnUGdBcnJheSc+LFxuXHRUQmFzZSBleHRlbmRzIENvbHVtbkJ1aWxkZXJCYXNlQ29uZmlnPENvbHVtbkRhdGFUeXBlLCBzdHJpbmc+LFxuPiBleHRlbmRzIFBnQ29sdW1uPFQ+IHtcblx0cmVhZG9ubHkgc2l6ZTogbnVtYmVyIHwgdW5kZWZpbmVkO1xuXG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdQZ0FycmF5JztcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHR0YWJsZTogQW55UGdUYWJsZTx7IG5hbWU6IFRbJ3RhYmxlTmFtZSddIH0+LFxuXHRcdGNvbmZpZzogUGdBcnJheUJ1aWxkZXI8VCwgVEJhc2U+Wydjb25maWcnXSxcblx0XHRyZWFkb25seSBiYXNlQ29sdW1uOiBQZ0NvbHVtbixcblx0XHRyZWFkb25seSByYW5nZT86IFtudW1iZXIgfCB1bmRlZmluZWQsIG51bWJlciB8IHVuZGVmaW5lZF0sXG5cdCkge1xuXHRcdHN1cGVyKHRhYmxlLCBjb25maWcpO1xuXHRcdHRoaXMuc2l6ZSA9IGNvbmZpZy5zaXplO1xuXHR9XG5cblx0Z2V0U1FMVHlwZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiBgJHt0aGlzLmJhc2VDb2x1bW4uZ2V0U1FMVHlwZSgpfVske3R5cGVvZiB0aGlzLnNpemUgPT09ICdudW1iZXInID8gdGhpcy5zaXplIDogJyd9XWA7XG5cdH1cblxuXHRvdmVycmlkZSBtYXBGcm9tRHJpdmVyVmFsdWUodmFsdWU6IHVua25vd25bXSB8IHN0cmluZyk6IFRbJ2RhdGEnXSB7XG5cdFx0aWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdC8vIFRoYW5rIHlvdSBub2RlLXBvc3RncmVzIGZvciBub3QgcGFyc2luZyBlbnVtIGFycmF5c1xuXHRcdFx0dmFsdWUgPSBwYXJzZVBnQXJyYXkodmFsdWUpO1xuXHRcdH1cblx0XHRyZXR1cm4gdmFsdWUubWFwKCh2KSA9PiB0aGlzLmJhc2VDb2x1bW4ubWFwRnJvbURyaXZlclZhbHVlKHYpKTtcblx0fVxuXG5cdG92ZXJyaWRlIG1hcFRvRHJpdmVyVmFsdWUodmFsdWU6IHVua25vd25bXSwgaXNOZXN0ZWRBcnJheSA9IGZhbHNlKTogdW5rbm93bltdIHwgc3RyaW5nIHtcblx0XHRjb25zdCBhID0gdmFsdWUubWFwKCh2KSA9PlxuXHRcdFx0diA9PT0gbnVsbFxuXHRcdFx0XHQ/IG51bGxcblx0XHRcdFx0OiBpcyh0aGlzLmJhc2VDb2x1bW4sIFBnQXJyYXkpXG5cdFx0XHRcdD8gdGhpcy5iYXNlQ29sdW1uLm1hcFRvRHJpdmVyVmFsdWUodiBhcyB1bmtub3duW10sIHRydWUpXG5cdFx0XHRcdDogdGhpcy5iYXNlQ29sdW1uLm1hcFRvRHJpdmVyVmFsdWUodilcblx0XHQpO1xuXHRcdGlmIChpc05lc3RlZEFycmF5KSByZXR1cm4gYTtcblx0XHRyZXR1cm4gbWFrZVBnQXJyYXkoYSk7XG5cdH1cbn1cbiIsICJpbXBvcnQgdHlwZSB7IENvbHVtbkJ1aWxkZXJCYXNlQ29uZmlnLCBDb2x1bW5CdWlsZGVyUnVudGltZUNvbmZpZywgTWFrZUNvbHVtbkNvbmZpZyB9IGZyb20gJ34vY29sdW1uLWJ1aWxkZXIudHMnO1xuaW1wb3J0IHR5cGUgeyBDb2x1bW5CYXNlQ29uZmlnIH0gZnJvbSAnfi9jb2x1bW4udHMnO1xuaW1wb3J0IHsgZW50aXR5S2luZCB9IGZyb20gJ34vZW50aXR5LnRzJztcbmltcG9ydCB0eXBlIHsgQW55UGdUYWJsZSB9IGZyb20gJ34vcGctY29yZS90YWJsZS50cyc7XG5pbXBvcnQgdHlwZSB7IFdyaXRhYmxlIH0gZnJvbSAnfi91dGlscy50cyc7XG5pbXBvcnQgeyBQZ0NvbHVtbiwgUGdDb2x1bW5CdWlsZGVyIH0gZnJvbSAnLi9jb21tb24udHMnO1xuXG5leHBvcnQgdHlwZSBQZ0VudW1Db2x1bW5CdWlsZGVySW5pdGlhbDxUTmFtZSBleHRlbmRzIHN0cmluZywgVFZhbHVlcyBleHRlbmRzIFtzdHJpbmcsIC4uLnN0cmluZ1tdXT4gPVxuXHRQZ0VudW1Db2x1bW5CdWlsZGVyPHtcblx0XHRuYW1lOiBUTmFtZTtcblx0XHRkYXRhVHlwZTogJ3N0cmluZyc7XG5cdFx0Y29sdW1uVHlwZTogJ1BnRW51bUNvbHVtbic7XG5cdFx0ZGF0YTogVFZhbHVlc1tudW1iZXJdO1xuXHRcdGVudW1WYWx1ZXM6IFRWYWx1ZXM7XG5cdFx0ZHJpdmVyUGFyYW06IHN0cmluZztcblx0XHRnZW5lcmF0ZWQ6IHVuZGVmaW5lZDtcblx0fT47XG5cbmNvbnN0IGlzUGdFbnVtU3ltID0gU3ltYm9sLmZvcignZHJpenpsZTppc1BnRW51bScpO1xuZXhwb3J0IGludGVyZmFjZSBQZ0VudW08VFZhbHVlcyBleHRlbmRzIFtzdHJpbmcsIC4uLnN0cmluZ1tdXT4ge1xuXHQ8VE5hbWUgZXh0ZW5kcyBzdHJpbmc+KG5hbWU6IFROYW1lKTogUGdFbnVtQ29sdW1uQnVpbGRlckluaXRpYWw8VE5hbWUsIFRWYWx1ZXM+O1xuXG5cdHJlYWRvbmx5IGVudW1OYW1lOiBzdHJpbmc7XG5cdHJlYWRvbmx5IGVudW1WYWx1ZXM6IFRWYWx1ZXM7XG5cdHJlYWRvbmx5IHNjaGVtYTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXHQvKiogQGludGVybmFsICovXG5cdFtpc1BnRW51bVN5bV06IHRydWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1BnRW51bShvYmo6IHVua25vd24pOiBvYmogaXMgUGdFbnVtPFtzdHJpbmcsIC4uLnN0cmluZ1tdXT4ge1xuXHRyZXR1cm4gISFvYmogJiYgdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJyAmJiBpc1BnRW51bVN5bSBpbiBvYmogJiYgb2JqW2lzUGdFbnVtU3ltXSA9PT0gdHJ1ZTtcbn1cblxuZXhwb3J0IGNsYXNzIFBnRW51bUNvbHVtbkJ1aWxkZXI8XG5cdFQgZXh0ZW5kcyBDb2x1bW5CdWlsZGVyQmFzZUNvbmZpZzwnc3RyaW5nJywgJ1BnRW51bUNvbHVtbic+ICYgeyBlbnVtVmFsdWVzOiBbc3RyaW5nLCAuLi5zdHJpbmdbXV0gfSxcbj4gZXh0ZW5kcyBQZ0NvbHVtbkJ1aWxkZXI8VCwgeyBlbnVtOiBQZ0VudW08VFsnZW51bVZhbHVlcyddPiB9PiB7XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdQZ0VudW1Db2x1bW5CdWlsZGVyJztcblxuXHRjb25zdHJ1Y3RvcihuYW1lOiBzdHJpbmcsIGVudW1JbnN0YW5jZTogUGdFbnVtPFRbJ2VudW1WYWx1ZXMnXT4pIHtcblx0XHRzdXBlcihuYW1lLCAnc3RyaW5nJywgJ1BnRW51bUNvbHVtbicpO1xuXHRcdHRoaXMuY29uZmlnLmVudW0gPSBlbnVtSW5zdGFuY2U7XG5cdH1cblxuXHQvKiogQGludGVybmFsICovXG5cdG92ZXJyaWRlIGJ1aWxkPFRUYWJsZU5hbWUgZXh0ZW5kcyBzdHJpbmc+KFxuXHRcdHRhYmxlOiBBbnlQZ1RhYmxlPHsgbmFtZTogVFRhYmxlTmFtZSB9Pixcblx0KTogUGdFbnVtQ29sdW1uPE1ha2VDb2x1bW5Db25maWc8VCwgVFRhYmxlTmFtZT4+IHtcblx0XHRyZXR1cm4gbmV3IFBnRW51bUNvbHVtbjxNYWtlQ29sdW1uQ29uZmlnPFQsIFRUYWJsZU5hbWU+Pihcblx0XHRcdHRhYmxlLFxuXHRcdFx0dGhpcy5jb25maWcgYXMgQ29sdW1uQnVpbGRlclJ1bnRpbWVDb25maWc8YW55LCBhbnk+LFxuXHRcdCk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFBnRW51bUNvbHVtbjxUIGV4dGVuZHMgQ29sdW1uQmFzZUNvbmZpZzwnc3RyaW5nJywgJ1BnRW51bUNvbHVtbic+ICYgeyBlbnVtVmFsdWVzOiBbc3RyaW5nLCAuLi5zdHJpbmdbXV0gfT5cblx0ZXh0ZW5kcyBQZ0NvbHVtbjxULCB7IGVudW06IFBnRW51bTxUWydlbnVtVmFsdWVzJ10+IH0+XG57XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdQZ0VudW1Db2x1bW4nO1xuXG5cdHJlYWRvbmx5IGVudW0gPSB0aGlzLmNvbmZpZy5lbnVtO1xuXHRvdmVycmlkZSByZWFkb25seSBlbnVtVmFsdWVzID0gdGhpcy5jb25maWcuZW51bS5lbnVtVmFsdWVzO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdHRhYmxlOiBBbnlQZ1RhYmxlPHsgbmFtZTogVFsndGFibGVOYW1lJ10gfT4sXG5cdFx0Y29uZmlnOiBQZ0VudW1Db2x1bW5CdWlsZGVyPFQ+Wydjb25maWcnXSxcblx0KSB7XG5cdFx0c3VwZXIodGFibGUsIGNvbmZpZyk7XG5cdFx0dGhpcy5lbnVtID0gY29uZmlnLmVudW07XG5cdH1cblxuXHRnZXRTUUxUeXBlKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIHRoaXMuZW51bS5lbnVtTmFtZTtcblx0fVxufVxuXG4vLyBHcmF0aXR1ZGUgdG8gem9kIGZvciB0aGUgZW51bSBmdW5jdGlvbiB0eXBlc1xuZXhwb3J0IGZ1bmN0aW9uIHBnRW51bTxVIGV4dGVuZHMgc3RyaW5nLCBUIGV4dGVuZHMgUmVhZG9ubHk8W1UsIC4uLlVbXV0+Pihcblx0ZW51bU5hbWU6IHN0cmluZyxcblx0dmFsdWVzOiBUIHwgV3JpdGFibGU8VD4sXG4pOiBQZ0VudW08V3JpdGFibGU8VD4+IHtcblx0cmV0dXJuIHBnRW51bVdpdGhTY2hlbWEoZW51bU5hbWUsIHZhbHVlcywgdW5kZWZpbmVkKTtcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBnRW51bVdpdGhTY2hlbWE8VSBleHRlbmRzIHN0cmluZywgVCBleHRlbmRzIFJlYWRvbmx5PFtVLCAuLi5VW11dPj4oXG5cdGVudW1OYW1lOiBzdHJpbmcsXG5cdHZhbHVlczogVCB8IFdyaXRhYmxlPFQ+LFxuXHRzY2hlbWE/OiBzdHJpbmcsXG4pOiBQZ0VudW08V3JpdGFibGU8VD4+IHtcblx0Y29uc3QgZW51bUluc3RhbmNlOiBQZ0VudW08V3JpdGFibGU8VD4+ID0gT2JqZWN0LmFzc2lnbihcblx0XHQ8VE5hbWUgZXh0ZW5kcyBzdHJpbmc+KG5hbWU6IFROYW1lKTogUGdFbnVtQ29sdW1uQnVpbGRlckluaXRpYWw8VE5hbWUsIFdyaXRhYmxlPFQ+PiA9PlxuXHRcdFx0bmV3IFBnRW51bUNvbHVtbkJ1aWxkZXIobmFtZSwgZW51bUluc3RhbmNlKSxcblx0XHR7XG5cdFx0XHRlbnVtTmFtZSxcblx0XHRcdGVudW1WYWx1ZXM6IHZhbHVlcyxcblx0XHRcdHNjaGVtYSxcblx0XHRcdFtpc1BnRW51bVN5bV06IHRydWUsXG5cdFx0fSBhcyBjb25zdCxcblx0KTtcblxuXHRyZXR1cm4gZW51bUluc3RhbmNlO1xufVxuIiwgImltcG9ydCB7IGVudGl0eUtpbmQgfSBmcm9tICcuL2VudGl0eS50cyc7XG5pbXBvcnQgdHlwZSB7IFNRTCwgU1FMV3JhcHBlciB9IGZyb20gJy4vc3FsL3NxbC50cyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3VicXVlcnk8XG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcblx0VEFsaWFzIGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nLFxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG5cdFRTZWxlY3RlZEZpZWxkcyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0gUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4+IGV4dGVuZHMgU1FMV3JhcHBlciB7XG5cdC8vIFNRTFdyYXBwZXIgcnVudGltZSBpbXBsZW1lbnRhdGlvbiBpcyBkZWZpbmVkIGluICdzcWwvc3FsLnRzJ1xufVxuZXhwb3J0IGNsYXNzIFN1YnF1ZXJ5PFxuXHRUQWxpYXMgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmcsXG5cdFRTZWxlY3RlZEZpZWxkcyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0gUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG4+IGltcGxlbWVudHMgU1FMV3JhcHBlciB7XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdTdWJxdWVyeSc7XG5cblx0ZGVjbGFyZSBfOiB7XG5cdFx0YnJhbmQ6ICdTdWJxdWVyeSc7XG5cdFx0c3FsOiBTUUw7XG5cdFx0c2VsZWN0ZWRGaWVsZHM6IFRTZWxlY3RlZEZpZWxkcztcblx0XHRhbGlhczogVEFsaWFzO1xuXHRcdGlzV2l0aDogYm9vbGVhbjtcblx0fTtcblxuXHRjb25zdHJ1Y3RvcihzcWw6IFNRTCwgc2VsZWN0aW9uOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiwgYWxpYXM6IHN0cmluZywgaXNXaXRoID0gZmFsc2UpIHtcblx0XHR0aGlzLl8gPSB7XG5cdFx0XHRicmFuZDogJ1N1YnF1ZXJ5Jyxcblx0XHRcdHNxbCxcblx0XHRcdHNlbGVjdGVkRmllbGRzOiBzZWxlY3Rpb24gYXMgVFNlbGVjdGVkRmllbGRzLFxuXHRcdFx0YWxpYXM6IGFsaWFzIGFzIFRBbGlhcyxcblx0XHRcdGlzV2l0aCxcblx0XHR9O1xuXHR9XG5cblx0Ly8gZ2V0U1FMKCk6IFNRTDx1bmtub3duPiB7XG5cdC8vIFx0cmV0dXJuIG5ldyBTUUwoW3RoaXNdKTtcblx0Ly8gfVxufVxuXG5leHBvcnQgY2xhc3MgV2l0aFN1YnF1ZXJ5PFxuXHRUQWxpYXMgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmcsXG5cdFRTZWxlY3Rpb24gZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuPiBleHRlbmRzIFN1YnF1ZXJ5PFRBbGlhcywgVFNlbGVjdGlvbj4ge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnV2l0aFN1YnF1ZXJ5Jztcbn1cbiIsICIvLyBwYWNrYWdlLmpzb25cbnZhciB2ZXJzaW9uID0gXCIwLjMzLjBcIjtcblxuLy8gc3JjL3ZlcnNpb24udHNcbnZhciBjb21wYXRpYmlsaXR5VmVyc2lvbiA9IDc7XG5leHBvcnQge1xuICBjb21wYXRpYmlsaXR5VmVyc2lvbixcbiAgdmVyc2lvbiBhcyBucG1WZXJzaW9uXG59O1xuIiwgImltcG9ydCB0eXBlIHsgU3BhbiwgVHJhY2VyIH0gZnJvbSAnQG9wZW50ZWxlbWV0cnkvYXBpJztcbmltcG9ydCB7IGlpZmUgfSBmcm9tICd+L3RyYWNpbmctdXRpbHMudHMnO1xuaW1wb3J0IHsgbnBtVmVyc2lvbiB9IGZyb20gJ34vdmVyc2lvbi50cyc7XG5cbmxldCBvdGVsOiB0eXBlb2YgaW1wb3J0KCdAb3BlbnRlbGVtZXRyeS9hcGknKSB8IHVuZGVmaW5lZDtcbmxldCByYXdUcmFjZXI6IFRyYWNlciB8IHVuZGVmaW5lZDtcbi8vIHRyeSB7XG4vLyBcdG90ZWwgPSBhd2FpdCBpbXBvcnQoJ0BvcGVudGVsZW1ldHJ5L2FwaScpO1xuLy8gfSBjYXRjaCAoZXJyOiBhbnkpIHtcbi8vIFx0aWYgKGVyci5jb2RlICE9PSAnTU9EVUxFX05PVF9GT1VORCcgJiYgZXJyLmNvZGUgIT09ICdFUlJfTU9EVUxFX05PVF9GT1VORCcpIHtcbi8vIFx0XHR0aHJvdyBlcnI7XG4vLyBcdH1cbi8vIH1cblxudHlwZSBTcGFuTmFtZSA9XG5cdHwgJ2RyaXp6bGUub3BlcmF0aW9uJ1xuXHR8ICdkcml6emxlLnByZXBhcmVRdWVyeSdcblx0fCAnZHJpenpsZS5idWlsZFNRTCdcblx0fCAnZHJpenpsZS5leGVjdXRlJ1xuXHR8ICdkcml6emxlLmRyaXZlci5leGVjdXRlJ1xuXHR8ICdkcml6emxlLm1hcFJlc3BvbnNlJztcblxuLyoqIEBpbnRlcm5hbCAqL1xuZXhwb3J0IGNvbnN0IHRyYWNlciA9IHtcblx0c3RhcnRBY3RpdmVTcGFuPEYgZXh0ZW5kcyAoc3Bhbj86IFNwYW4pID0+IHVua25vd24+KG5hbWU6IFNwYW5OYW1lLCBmbjogRik6IFJldHVyblR5cGU8Rj4ge1xuXHRcdGlmICghb3RlbCkge1xuXHRcdFx0cmV0dXJuIGZuKCkgYXMgUmV0dXJuVHlwZTxGPjtcblx0XHR9XG5cblx0XHRpZiAoIXJhd1RyYWNlcikge1xuXHRcdFx0cmF3VHJhY2VyID0gb3RlbC50cmFjZS5nZXRUcmFjZXIoJ2RyaXp6bGUtb3JtJywgbnBtVmVyc2lvbik7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGlpZmUoXG5cdFx0XHQob3RlbCwgcmF3VHJhY2VyKSA9PlxuXHRcdFx0XHRyYXdUcmFjZXIuc3RhcnRBY3RpdmVTcGFuKFxuXHRcdFx0XHRcdG5hbWUsXG5cdFx0XHRcdFx0KChzcGFuOiBTcGFuKSA9PiB7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gZm4oc3Bhbik7XG5cdFx0XHRcdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdFx0XHRcdHNwYW4uc2V0U3RhdHVzKHtcblx0XHRcdFx0XHRcdFx0XHRjb2RlOiBvdGVsLlNwYW5TdGF0dXNDb2RlLkVSUk9SLFxuXHRcdFx0XHRcdFx0XHRcdG1lc3NhZ2U6IGUgaW5zdGFuY2VvZiBFcnJvciA/IGUubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJywgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1pbnN0YW5jZW9mL25vLWluc3RhbmNlb2Zcblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdHRocm93IGU7XG5cdFx0XHRcdFx0XHR9IGZpbmFsbHkge1xuXHRcdFx0XHRcdFx0XHRzcGFuLmVuZCgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pIGFzIEYsXG5cdFx0XHRcdCksXG5cdFx0XHRvdGVsLFxuXHRcdFx0cmF3VHJhY2VyLFxuXHRcdCk7XG5cdH0sXG59O1xuIiwgImV4cG9ydCBjb25zdCBWaWV3QmFzZUNvbmZpZyA9IFN5bWJvbC5mb3IoJ2RyaXp6bGU6Vmlld0Jhc2VDb25maWcnKTtcbiIsICJpbXBvcnQgeyBlbnRpdHlLaW5kLCBpcyB9IGZyb20gJ34vZW50aXR5LnRzJztcbmltcG9ydCB0eXBlIHsgU2VsZWN0ZWRGaWVsZHMgfSBmcm9tICd+L29wZXJhdGlvbnMudHMnO1xuaW1wb3J0IHsgaXNQZ0VudW0gfSBmcm9tICd+L3BnLWNvcmUvY29sdW1ucy9lbnVtLnRzJztcbmltcG9ydCB7IFN1YnF1ZXJ5IH0gZnJvbSAnfi9zdWJxdWVyeS50cyc7XG5pbXBvcnQgeyB0cmFjZXIgfSBmcm9tICd+L3RyYWNpbmcudHMnO1xuaW1wb3J0IHsgVmlld0Jhc2VDb25maWcgfSBmcm9tICd+L3ZpZXctY29tbW9uLnRzJztcbmltcG9ydCB0eXBlIHsgQW55Q29sdW1uIH0gZnJvbSAnLi4vY29sdW1uLnRzJztcbmltcG9ydCB7IENvbHVtbiB9IGZyb20gJy4uL2NvbHVtbi50cyc7XG5pbXBvcnQgeyBUYWJsZSB9IGZyb20gJy4uL3RhYmxlLnRzJztcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGlzIHVzZWQgdG8gaW5kaWNhdGUgYSBwcmltaXRpdmUgcGFyYW0gdmFsdWUgdGhhdCBpcyB1c2VkIGluIGBzcWxgIHRhZy5cbiAqIEl0IGlzIG9ubHkgdXNlZCBvbiB0eXBlIGxldmVsIGFuZCBpcyBuZXZlciBpbnN0YW50aWF0ZWQgYXQgcnVudGltZS5cbiAqIElmIHlvdSBzZWUgYSB2YWx1ZSBvZiB0aGlzIHR5cGUgaW4gdGhlIGNvZGUsIGl0cyBydW50aW1lIHZhbHVlIGlzIGFjdHVhbGx5IHRoZSBwcmltaXRpdmUgcGFyYW0gdmFsdWUuXG4gKi9cbmV4cG9ydCBjbGFzcyBGYWtlUHJpbWl0aXZlUGFyYW0ge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnRmFrZVByaW1pdGl2ZVBhcmFtJztcbn1cblxuZXhwb3J0IHR5cGUgQ2h1bmsgPVxuXHR8IHN0cmluZ1xuXHR8IFRhYmxlXG5cdHwgVmlld1xuXHR8IEFueUNvbHVtblxuXHR8IE5hbWVcblx0fCBQYXJhbVxuXHR8IFBsYWNlaG9sZGVyXG5cdHwgU1FMO1xuXG5leHBvcnQgaW50ZXJmYWNlIEJ1aWxkUXVlcnlDb25maWcge1xuXHRlc2NhcGVOYW1lKG5hbWU6IHN0cmluZyk6IHN0cmluZztcblx0ZXNjYXBlUGFyYW0obnVtOiBudW1iZXIsIHZhbHVlOiB1bmtub3duKTogc3RyaW5nO1xuXHRlc2NhcGVTdHJpbmcoc3RyOiBzdHJpbmcpOiBzdHJpbmc7XG5cdHByZXBhcmVUeXBpbmc/OiAoZW5jb2RlcjogRHJpdmVyVmFsdWVFbmNvZGVyPHVua25vd24sIHVua25vd24+KSA9PiBRdWVyeVR5cGluZ3NWYWx1ZTtcblx0cGFyYW1TdGFydEluZGV4PzogeyB2YWx1ZTogbnVtYmVyIH07XG5cdGlubGluZVBhcmFtcz86IGJvb2xlYW47XG5cdGludm9rZVNvdXJjZT86ICdpbmRleGVzJyB8IHVuZGVmaW5lZDtcbn1cblxuZXhwb3J0IHR5cGUgUXVlcnlUeXBpbmdzVmFsdWUgPSAnanNvbicgfCAnZGVjaW1hbCcgfCAndGltZScgfCAndGltZXN0YW1wJyB8ICd1dWlkJyB8ICdkYXRlJyB8ICdub25lJztcblxuZXhwb3J0IGludGVyZmFjZSBRdWVyeSB7XG5cdHNxbDogc3RyaW5nO1xuXHRwYXJhbXM6IHVua25vd25bXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBRdWVyeVdpdGhUeXBpbmdzIGV4dGVuZHMgUXVlcnkge1xuXHR0eXBpbmdzPzogUXVlcnlUeXBpbmdzVmFsdWVbXTtcbn1cblxuLyoqXG4gKiBBbnkgdmFsdWUgdGhhdCBpbXBsZW1lbnRzIHRoZSBgZ2V0U1FMYCBtZXRob2QuIFRoZSBpbXBsZW1lbnRhdGlvbnMgaW5jbHVkZTpcbiAqIC0gYFRhYmxlYFxuICogLSBgQ29sdW1uYFxuICogLSBgVmlld2BcbiAqIC0gYFN1YnF1ZXJ5YFxuICogLSBgU1FMYFxuICogLSBgU1FMLkFsaWFzZWRgXG4gKiAtIGBQbGFjZWhvbGRlcmBcbiAqIC0gYFBhcmFtYFxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNRTFdyYXBwZXIge1xuXHRnZXRTUUwoKTogU1FMO1xuXHRzaG91bGRPbWl0U1FMUGFyZW5zPygpOiBib29sZWFuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNTUUxXcmFwcGVyKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgU1FMV3JhcHBlciB7XG5cdHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiAodmFsdWUgYXMgYW55KS5nZXRTUUwgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIG1lcmdlUXVlcmllcyhxdWVyaWVzOiBRdWVyeVdpdGhUeXBpbmdzW10pOiBRdWVyeVdpdGhUeXBpbmdzIHtcblx0Y29uc3QgcmVzdWx0OiBRdWVyeVdpdGhUeXBpbmdzID0geyBzcWw6ICcnLCBwYXJhbXM6IFtdIH07XG5cdGZvciAoY29uc3QgcXVlcnkgb2YgcXVlcmllcykge1xuXHRcdHJlc3VsdC5zcWwgKz0gcXVlcnkuc3FsO1xuXHRcdHJlc3VsdC5wYXJhbXMucHVzaCguLi5xdWVyeS5wYXJhbXMpO1xuXHRcdGlmIChxdWVyeS50eXBpbmdzPy5sZW5ndGgpIHtcblx0XHRcdGlmICghcmVzdWx0LnR5cGluZ3MpIHtcblx0XHRcdFx0cmVzdWx0LnR5cGluZ3MgPSBbXTtcblx0XHRcdH1cblx0XHRcdHJlc3VsdC50eXBpbmdzLnB1c2goLi4ucXVlcnkudHlwaW5ncyk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBjbGFzcyBTdHJpbmdDaHVuayBpbXBsZW1lbnRzIFNRTFdyYXBwZXIge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnU3RyaW5nQ2h1bmsnO1xuXG5cdHJlYWRvbmx5IHZhbHVlOiBzdHJpbmdbXTtcblxuXHRjb25zdHJ1Y3Rvcih2YWx1ZTogc3RyaW5nIHwgc3RyaW5nW10pIHtcblx0XHR0aGlzLnZhbHVlID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyB2YWx1ZSA6IFt2YWx1ZV07XG5cdH1cblxuXHRnZXRTUUwoKTogU1FMPHVua25vd24+IHtcblx0XHRyZXR1cm4gbmV3IFNRTChbdGhpc10pO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBTUUw8VCA9IHVua25vd24+IGltcGxlbWVudHMgU1FMV3JhcHBlciB7XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdTUUwnO1xuXG5cdGRlY2xhcmUgXzoge1xuXHRcdGJyYW5kOiAnU1FMJztcblx0XHR0eXBlOiBUO1xuXHR9O1xuXG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0ZGVjb2RlcjogRHJpdmVyVmFsdWVEZWNvZGVyPFQsIGFueT4gPSBub29wRGVjb2Rlcjtcblx0cHJpdmF0ZSBzaG91bGRJbmxpbmVQYXJhbXMgPSBmYWxzZTtcblxuXHRjb25zdHJ1Y3RvcihyZWFkb25seSBxdWVyeUNodW5rczogU1FMQ2h1bmtbXSkge31cblxuXHRhcHBlbmQocXVlcnk6IFNRTCk6IHRoaXMge1xuXHRcdHRoaXMucXVlcnlDaHVua3MucHVzaCguLi5xdWVyeS5xdWVyeUNodW5rcyk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHR0b1F1ZXJ5KGNvbmZpZzogQnVpbGRRdWVyeUNvbmZpZyk6IFF1ZXJ5V2l0aFR5cGluZ3Mge1xuXHRcdHJldHVybiB0cmFjZXIuc3RhcnRBY3RpdmVTcGFuKCdkcml6emxlLmJ1aWxkU1FMJywgKHNwYW4pID0+IHtcblx0XHRcdGNvbnN0IHF1ZXJ5ID0gdGhpcy5idWlsZFF1ZXJ5RnJvbVNvdXJjZVBhcmFtcyh0aGlzLnF1ZXJ5Q2h1bmtzLCBjb25maWcpO1xuXHRcdFx0c3Bhbj8uc2V0QXR0cmlidXRlcyh7XG5cdFx0XHRcdCdkcml6emxlLnF1ZXJ5LnRleHQnOiBxdWVyeS5zcWwsXG5cdFx0XHRcdCdkcml6emxlLnF1ZXJ5LnBhcmFtcyc6IEpTT04uc3RyaW5naWZ5KHF1ZXJ5LnBhcmFtcyksXG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiBxdWVyeTtcblx0XHR9KTtcblx0fVxuXG5cdGJ1aWxkUXVlcnlGcm9tU291cmNlUGFyYW1zKGNodW5rczogU1FMQ2h1bmtbXSwgX2NvbmZpZzogQnVpbGRRdWVyeUNvbmZpZyk6IFF1ZXJ5IHtcblx0XHRjb25zdCBjb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCBfY29uZmlnLCB7XG5cdFx0XHRpbmxpbmVQYXJhbXM6IF9jb25maWcuaW5saW5lUGFyYW1zIHx8IHRoaXMuc2hvdWxkSW5saW5lUGFyYW1zLFxuXHRcdFx0cGFyYW1TdGFydEluZGV4OiBfY29uZmlnLnBhcmFtU3RhcnRJbmRleCB8fCB7IHZhbHVlOiAwIH0sXG5cdFx0fSk7XG5cblx0XHRjb25zdCB7XG5cdFx0XHRlc2NhcGVOYW1lLFxuXHRcdFx0ZXNjYXBlUGFyYW0sXG5cdFx0XHRwcmVwYXJlVHlwaW5nLFxuXHRcdFx0aW5saW5lUGFyYW1zLFxuXHRcdFx0cGFyYW1TdGFydEluZGV4LFxuXHRcdH0gPSBjb25maWc7XG5cblx0XHRyZXR1cm4gbWVyZ2VRdWVyaWVzKGNodW5rcy5tYXAoKGNodW5rKTogUXVlcnlXaXRoVHlwaW5ncyA9PiB7XG5cdFx0XHRpZiAoaXMoY2h1bmssIFN0cmluZ0NodW5rKSkge1xuXHRcdFx0XHRyZXR1cm4geyBzcWw6IGNodW5rLnZhbHVlLmpvaW4oJycpLCBwYXJhbXM6IFtdIH07XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpcyhjaHVuaywgTmFtZSkpIHtcblx0XHRcdFx0cmV0dXJuIHsgc3FsOiBlc2NhcGVOYW1lKGNodW5rLnZhbHVlKSwgcGFyYW1zOiBbXSB9O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY2h1bmsgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRyZXR1cm4geyBzcWw6ICcnLCBwYXJhbXM6IFtdIH07XG5cdFx0XHR9XG5cblx0XHRcdGlmIChBcnJheS5pc0FycmF5KGNodW5rKSkge1xuXHRcdFx0XHRjb25zdCByZXN1bHQ6IFNRTENodW5rW10gPSBbbmV3IFN0cmluZ0NodW5rKCcoJyldO1xuXHRcdFx0XHRmb3IgKGNvbnN0IFtpLCBwXSBvZiBjaHVuay5lbnRyaWVzKCkpIHtcblx0XHRcdFx0XHRyZXN1bHQucHVzaChwKTtcblx0XHRcdFx0XHRpZiAoaSA8IGNodW5rLmxlbmd0aCAtIDEpIHtcblx0XHRcdFx0XHRcdHJlc3VsdC5wdXNoKG5ldyBTdHJpbmdDaHVuaygnLCAnKSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJlc3VsdC5wdXNoKG5ldyBTdHJpbmdDaHVuaygnKScpKTtcblx0XHRcdFx0cmV0dXJuIHRoaXMuYnVpbGRRdWVyeUZyb21Tb3VyY2VQYXJhbXMocmVzdWx0LCBjb25maWcpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaXMoY2h1bmssIFNRTCkpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuYnVpbGRRdWVyeUZyb21Tb3VyY2VQYXJhbXMoY2h1bmsucXVlcnlDaHVua3MsIHtcblx0XHRcdFx0XHQuLi5jb25maWcsXG5cdFx0XHRcdFx0aW5saW5lUGFyYW1zOiBpbmxpbmVQYXJhbXMgfHwgY2h1bmsuc2hvdWxkSW5saW5lUGFyYW1zLFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGlzKGNodW5rLCBUYWJsZSkpIHtcblx0XHRcdFx0Y29uc3Qgc2NoZW1hTmFtZSA9IGNodW5rW1RhYmxlLlN5bWJvbC5TY2hlbWFdO1xuXHRcdFx0XHRjb25zdCB0YWJsZU5hbWUgPSBjaHVua1tUYWJsZS5TeW1ib2wuTmFtZV07XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0c3FsOiBzY2hlbWFOYW1lID09PSB1bmRlZmluZWRcblx0XHRcdFx0XHRcdD8gZXNjYXBlTmFtZSh0YWJsZU5hbWUpXG5cdFx0XHRcdFx0XHQ6IGVzY2FwZU5hbWUoc2NoZW1hTmFtZSkgKyAnLicgKyBlc2NhcGVOYW1lKHRhYmxlTmFtZSksXG5cdFx0XHRcdFx0cGFyYW1zOiBbXSxcblx0XHRcdFx0fTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGlzKGNodW5rLCBDb2x1bW4pKSB7XG5cdFx0XHRcdGlmIChfY29uZmlnLmludm9rZVNvdXJjZSA9PT0gJ2luZGV4ZXMnKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHsgc3FsOiBlc2NhcGVOYW1lKGNodW5rLm5hbWUpLCBwYXJhbXM6IFtdIH07XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHsgc3FsOiBlc2NhcGVOYW1lKGNodW5rLnRhYmxlW1RhYmxlLlN5bWJvbC5OYW1lXSkgKyAnLicgKyBlc2NhcGVOYW1lKGNodW5rLm5hbWUpLCBwYXJhbXM6IFtdIH07XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpcyhjaHVuaywgVmlldykpIHtcblx0XHRcdFx0Y29uc3Qgc2NoZW1hTmFtZSA9IGNodW5rW1ZpZXdCYXNlQ29uZmlnXS5zY2hlbWE7XG5cdFx0XHRcdGNvbnN0IHZpZXdOYW1lID0gY2h1bmtbVmlld0Jhc2VDb25maWddLm5hbWU7XG5cdFx0XHRcdHJldHVybiB7XG5cdFx0XHRcdFx0c3FsOiBzY2hlbWFOYW1lID09PSB1bmRlZmluZWRcblx0XHRcdFx0XHRcdD8gZXNjYXBlTmFtZSh2aWV3TmFtZSlcblx0XHRcdFx0XHRcdDogZXNjYXBlTmFtZShzY2hlbWFOYW1lKSArICcuJyArIGVzY2FwZU5hbWUodmlld05hbWUpLFxuXHRcdFx0XHRcdHBhcmFtczogW10sXG5cdFx0XHRcdH07XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpcyhjaHVuaywgUGFyYW0pKSB7XG5cdFx0XHRcdGlmIChpcyhjaHVuay52YWx1ZSwgUGxhY2Vob2xkZXIpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHsgc3FsOiBlc2NhcGVQYXJhbShwYXJhbVN0YXJ0SW5kZXgudmFsdWUrKywgY2h1bmspLCBwYXJhbXM6IFtjaHVua10sIHR5cGluZ3M6IFsnbm9uZSddIH07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBtYXBwZWRWYWx1ZSA9IGNodW5rLnZhbHVlID09PSBudWxsID8gbnVsbCA6IGNodW5rLmVuY29kZXIubWFwVG9Ecml2ZXJWYWx1ZShjaHVuay52YWx1ZSk7XG5cblx0XHRcdFx0aWYgKGlzKG1hcHBlZFZhbHVlLCBTUUwpKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHRoaXMuYnVpbGRRdWVyeUZyb21Tb3VyY2VQYXJhbXMoW21hcHBlZFZhbHVlXSwgY29uZmlnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChpbmxpbmVQYXJhbXMpIHtcblx0XHRcdFx0XHRyZXR1cm4geyBzcWw6IHRoaXMubWFwSW5saW5lUGFyYW0obWFwcGVkVmFsdWUsIGNvbmZpZyksIHBhcmFtczogW10gfTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGxldCB0eXBpbmdzOiBRdWVyeVR5cGluZ3NWYWx1ZVtdID0gWydub25lJ107XG5cdFx0XHRcdGlmIChwcmVwYXJlVHlwaW5nKSB7XG5cdFx0XHRcdFx0dHlwaW5ncyA9IFtwcmVwYXJlVHlwaW5nKGNodW5rLmVuY29kZXIpXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiB7IHNxbDogZXNjYXBlUGFyYW0ocGFyYW1TdGFydEluZGV4LnZhbHVlKyssIG1hcHBlZFZhbHVlKSwgcGFyYW1zOiBbbWFwcGVkVmFsdWVdLCB0eXBpbmdzIH07XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpcyhjaHVuaywgUGxhY2Vob2xkZXIpKSB7XG5cdFx0XHRcdHJldHVybiB7IHNxbDogZXNjYXBlUGFyYW0ocGFyYW1TdGFydEluZGV4LnZhbHVlKyssIGNodW5rKSwgcGFyYW1zOiBbY2h1bmtdLCB0eXBpbmdzOiBbJ25vbmUnXSB9O1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaXMoY2h1bmssIFNRTC5BbGlhc2VkKSAmJiBjaHVuay5maWVsZEFsaWFzICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0cmV0dXJuIHsgc3FsOiBlc2NhcGVOYW1lKGNodW5rLmZpZWxkQWxpYXMpLCBwYXJhbXM6IFtdIH07XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpcyhjaHVuaywgU3VicXVlcnkpKSB7XG5cdFx0XHRcdGlmIChjaHVuay5fLmlzV2l0aCkge1xuXHRcdFx0XHRcdHJldHVybiB7IHNxbDogZXNjYXBlTmFtZShjaHVuay5fLmFsaWFzKSwgcGFyYW1zOiBbXSB9O1xuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0aGlzLmJ1aWxkUXVlcnlGcm9tU291cmNlUGFyYW1zKFtcblx0XHRcdFx0XHRuZXcgU3RyaW5nQ2h1bmsoJygnKSxcblx0XHRcdFx0XHRjaHVuay5fLnNxbCxcblx0XHRcdFx0XHRuZXcgU3RyaW5nQ2h1bmsoJykgJyksXG5cdFx0XHRcdFx0bmV3IE5hbWUoY2h1bmsuXy5hbGlhcyksXG5cdFx0XHRcdF0sIGNvbmZpZyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpc1BnRW51bShjaHVuaykpIHtcblx0XHRcdFx0aWYgKGNodW5rLnNjaGVtYSkge1xuXHRcdFx0XHRcdHJldHVybiB7IHNxbDogZXNjYXBlTmFtZShjaHVuay5zY2hlbWEpICsgJy4nICsgZXNjYXBlTmFtZShjaHVuay5lbnVtTmFtZSksIHBhcmFtczogW10gfTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4geyBzcWw6IGVzY2FwZU5hbWUoY2h1bmsuZW51bU5hbWUpLCBwYXJhbXM6IFtdIH07XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpc1NRTFdyYXBwZXIoY2h1bmspKSB7XG5cdFx0XHRcdGlmIChjaHVuay5zaG91bGRPbWl0U1FMUGFyZW5zPy4oKSkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLmJ1aWxkUXVlcnlGcm9tU291cmNlUGFyYW1zKFtjaHVuay5nZXRTUUwoKV0sIGNvbmZpZyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRoaXMuYnVpbGRRdWVyeUZyb21Tb3VyY2VQYXJhbXMoW1xuXHRcdFx0XHRcdG5ldyBTdHJpbmdDaHVuaygnKCcpLFxuXHRcdFx0XHRcdGNodW5rLmdldFNRTCgpLFxuXHRcdFx0XHRcdG5ldyBTdHJpbmdDaHVuaygnKScpLFxuXHRcdFx0XHRdLCBjb25maWcpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaW5saW5lUGFyYW1zKSB7XG5cdFx0XHRcdHJldHVybiB7IHNxbDogdGhpcy5tYXBJbmxpbmVQYXJhbShjaHVuaywgY29uZmlnKSwgcGFyYW1zOiBbXSB9O1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4geyBzcWw6IGVzY2FwZVBhcmFtKHBhcmFtU3RhcnRJbmRleC52YWx1ZSsrLCBjaHVuayksIHBhcmFtczogW2NodW5rXSwgdHlwaW5nczogWydub25lJ10gfTtcblx0XHR9KSk7XG5cdH1cblxuXHRwcml2YXRlIG1hcElubGluZVBhcmFtKFxuXHRcdGNodW5rOiB1bmtub3duLFxuXHRcdHsgZXNjYXBlU3RyaW5nIH06IEJ1aWxkUXVlcnlDb25maWcsXG5cdCk6IHN0cmluZyB7XG5cdFx0aWYgKGNodW5rID09PSBudWxsKSB7XG5cdFx0XHRyZXR1cm4gJ251bGwnO1xuXHRcdH1cblx0XHRpZiAodHlwZW9mIGNodW5rID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgY2h1bmsgPT09ICdib29sZWFuJykge1xuXHRcdFx0cmV0dXJuIGNodW5rLnRvU3RyaW5nKCk7XG5cdFx0fVxuXHRcdGlmICh0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnKSB7XG5cdFx0XHRyZXR1cm4gZXNjYXBlU3RyaW5nKGNodW5rKTtcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiBjaHVuayA9PT0gJ29iamVjdCcpIHtcblx0XHRcdGNvbnN0IG1hcHBlZFZhbHVlQXNTdHJpbmcgPSBjaHVuay50b1N0cmluZygpO1xuXHRcdFx0aWYgKG1hcHBlZFZhbHVlQXNTdHJpbmcgPT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG5cdFx0XHRcdHJldHVybiBlc2NhcGVTdHJpbmcoSlNPTi5zdHJpbmdpZnkoY2h1bmspKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBlc2NhcGVTdHJpbmcobWFwcGVkVmFsdWVBc1N0cmluZyk7XG5cdFx0fVxuXHRcdHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBwYXJhbSB2YWx1ZTogJyArIGNodW5rKTtcblx0fVxuXG5cdGdldFNRTCgpOiBTUUwge1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0YXMoYWxpYXM6IHN0cmluZyk6IFNRTC5BbGlhc2VkPFQ+O1xuXHQvKipcblx0ICogQGRlcHJlY2F0ZWRcblx0ICogVXNlIGBgc3FsPERhdGFUeXBlPmBxdWVyeWAuYXMoYWxpYXMpYGAgaW5zdGVhZC5cblx0ICovXG5cdGFzPFREYXRhPigpOiBTUUw8VERhdGE+O1xuXHQvKipcblx0ICogQGRlcHJlY2F0ZWRcblx0ICogVXNlIGBgc3FsPERhdGFUeXBlPmBxdWVyeWAuYXMoYWxpYXMpYGAgaW5zdGVhZC5cblx0ICovXG5cdGFzPFREYXRhPihhbGlhczogc3RyaW5nKTogU1FMLkFsaWFzZWQ8VERhdGE+O1xuXHRhcyhhbGlhcz86IHN0cmluZyk6IFNRTDxUPiB8IFNRTC5BbGlhc2VkPFQ+IHtcblx0XHQvLyBUT0RPOiByZW1vdmUgd2l0aCBkZXByZWNhdGVkIG92ZXJsb2Fkc1xuXHRcdGlmIChhbGlhcyA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cblx0XHRyZXR1cm4gbmV3IFNRTC5BbGlhc2VkKHRoaXMsIGFsaWFzKTtcblx0fVxuXG5cdG1hcFdpdGg8XG5cdFx0VERlY29kZXIgZXh0ZW5kc1xuXHRcdFx0fCBEcml2ZXJWYWx1ZURlY29kZXI8YW55LCBhbnk+XG5cdFx0XHR8IERyaXZlclZhbHVlRGVjb2RlcjxhbnksIGFueT5bJ21hcEZyb21Ecml2ZXJWYWx1ZSddLFxuXHQ+KGRlY29kZXI6IFREZWNvZGVyKTogU1FMPEdldERlY29kZXJSZXN1bHQ8VERlY29kZXI+PiB7XG5cdFx0dGhpcy5kZWNvZGVyID0gdHlwZW9mIGRlY29kZXIgPT09ICdmdW5jdGlvbicgPyB7IG1hcEZyb21Ecml2ZXJWYWx1ZTogZGVjb2RlciB9IDogZGVjb2Rlcjtcblx0XHRyZXR1cm4gdGhpcyBhcyBTUUw8R2V0RGVjb2RlclJlc3VsdDxURGVjb2Rlcj4+O1xuXHR9XG5cblx0aW5saW5lUGFyYW1zKCk6IHRoaXMge1xuXHRcdHRoaXMuc2hvdWxkSW5saW5lUGFyYW1zID0gdHJ1ZTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGNvbmRpdGlvbmFsbHkgaW5jbHVkZSBhIHBhcnQgb2YgdGhlIHF1ZXJ5LlxuXHQgKlxuXHQgKiBAcGFyYW0gY29uZGl0aW9uIC0gQ29uZGl0aW9uIHRvIGNoZWNrXG5cdCAqIEByZXR1cm5zIGl0c2VsZiBpZiB0aGUgY29uZGl0aW9uIGlzIGB0cnVlYCwgb3RoZXJ3aXNlIGB1bmRlZmluZWRgXG5cdCAqL1xuXHRpZihjb25kaXRpb246IGFueSB8IHVuZGVmaW5lZCk6IHRoaXMgfCB1bmRlZmluZWQge1xuXHRcdHJldHVybiBjb25kaXRpb24gPyB0aGlzIDogdW5kZWZpbmVkO1xuXHR9XG59XG5cbmV4cG9ydCB0eXBlIEdldERlY29kZXJSZXN1bHQ8VD4gPSBUIGV4dGVuZHMgQ29sdW1uID8gVFsnXyddWydkYXRhJ10gOiBUIGV4dGVuZHNcblx0fCBEcml2ZXJWYWx1ZURlY29kZXI8aW5mZXIgVERhdGEsIGFueT5cblx0fCBEcml2ZXJWYWx1ZURlY29kZXI8aW5mZXIgVERhdGEsIGFueT5bJ21hcEZyb21Ecml2ZXJWYWx1ZSddID8gVERhdGFcbjogbmV2ZXI7XG5cbi8qKlxuICogQW55IERCIG5hbWUgKHRhYmxlLCBjb2x1bW4sIGluZGV4IGV0Yy4pXG4gKi9cbmV4cG9ydCBjbGFzcyBOYW1lIGltcGxlbWVudHMgU1FMV3JhcHBlciB7XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdOYW1lJztcblxuXHRwcm90ZWN0ZWQgYnJhbmQhOiAnTmFtZSc7XG5cblx0Y29uc3RydWN0b3IocmVhZG9ubHkgdmFsdWU6IHN0cmluZykge31cblxuXHRnZXRTUUwoKTogU1FMPHVua25vd24+IHtcblx0XHRyZXR1cm4gbmV3IFNRTChbdGhpc10pO1xuXHR9XG59XG5cbi8qKlxuICogQW55IERCIG5hbWUgKHRhYmxlLCBjb2x1bW4sIGluZGV4IGV0Yy4pXG4gKiBAZGVwcmVjYXRlZCBVc2UgYHNxbC5pZGVudGlmaWVyYCBpbnN0ZWFkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gbmFtZSh2YWx1ZTogc3RyaW5nKTogTmFtZSB7XG5cdHJldHVybiBuZXcgTmFtZSh2YWx1ZSk7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJpdmVyVmFsdWVEZWNvZGVyPFREYXRhLCBURHJpdmVyUGFyYW0+IHtcblx0bWFwRnJvbURyaXZlclZhbHVlKHZhbHVlOiBURHJpdmVyUGFyYW0pOiBURGF0YTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEcml2ZXJWYWx1ZUVuY29kZXI8VERhdGEsIFREcml2ZXJQYXJhbT4ge1xuXHRtYXBUb0RyaXZlclZhbHVlKHZhbHVlOiBURGF0YSk6IFREcml2ZXJQYXJhbSB8IFNRTDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzRHJpdmVyVmFsdWVFbmNvZGVyKHZhbHVlOiB1bmtub3duKTogdmFsdWUgaXMgRHJpdmVyVmFsdWVFbmNvZGVyPGFueSwgYW55PiB7XG5cdHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmICdtYXBUb0RyaXZlclZhbHVlJyBpbiB2YWx1ZVxuXHRcdCYmIHR5cGVvZiAodmFsdWUgYXMgYW55KS5tYXBUb0RyaXZlclZhbHVlID09PSAnZnVuY3Rpb24nO1xufVxuXG5leHBvcnQgY29uc3Qgbm9vcERlY29kZXI6IERyaXZlclZhbHVlRGVjb2RlcjxhbnksIGFueT4gPSB7XG5cdG1hcEZyb21Ecml2ZXJWYWx1ZTogKHZhbHVlKSA9PiB2YWx1ZSxcbn07XG5cbmV4cG9ydCBjb25zdCBub29wRW5jb2RlcjogRHJpdmVyVmFsdWVFbmNvZGVyPGFueSwgYW55PiA9IHtcblx0bWFwVG9Ecml2ZXJWYWx1ZTogKHZhbHVlKSA9PiB2YWx1ZSxcbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJpdmVyVmFsdWVNYXBwZXI8VERhdGEsIFREcml2ZXJQYXJhbT5cblx0ZXh0ZW5kcyBEcml2ZXJWYWx1ZURlY29kZXI8VERhdGEsIFREcml2ZXJQYXJhbT4sIERyaXZlclZhbHVlRW5jb2RlcjxURGF0YSwgVERyaXZlclBhcmFtPlxue31cblxuZXhwb3J0IGNvbnN0IG5vb3BNYXBwZXI6IERyaXZlclZhbHVlTWFwcGVyPGFueSwgYW55PiA9IHtcblx0Li4ubm9vcERlY29kZXIsXG5cdC4uLm5vb3BFbmNvZGVyLFxufTtcblxuLyoqIFBhcmFtZXRlciB2YWx1ZSB0aGF0IGlzIG9wdGlvbmFsbHkgYm91bmQgdG8gYW4gZW5jb2RlciAoZm9yIGV4YW1wbGUsIGEgY29sdW1uKS4gKi9cbmV4cG9ydCBjbGFzcyBQYXJhbTxURGF0YVR5cGUgPSB1bmtub3duLCBURHJpdmVyUGFyYW1UeXBlID0gVERhdGFUeXBlPiBpbXBsZW1lbnRzIFNRTFdyYXBwZXIge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnUGFyYW0nO1xuXG5cdHByb3RlY3RlZCBicmFuZCE6ICdCb3VuZFBhcmFtVmFsdWUnO1xuXG5cdC8qKlxuXHQgKiBAcGFyYW0gdmFsdWUgLSBQYXJhbWV0ZXIgdmFsdWVcblx0ICogQHBhcmFtIGVuY29kZXIgLSBFbmNvZGVyIHRvIGNvbnZlcnQgdGhlIHZhbHVlIHRvIGEgZHJpdmVyIHBhcmFtZXRlclxuXHQgKi9cblx0Y29uc3RydWN0b3IoXG5cdFx0cmVhZG9ubHkgdmFsdWU6IFREYXRhVHlwZSxcblx0XHRyZWFkb25seSBlbmNvZGVyOiBEcml2ZXJWYWx1ZUVuY29kZXI8VERhdGFUeXBlLCBURHJpdmVyUGFyYW1UeXBlPiA9IG5vb3BFbmNvZGVyLFxuXHQpIHt9XG5cblx0Z2V0U1FMKCk6IFNRTDx1bmtub3duPiB7XG5cdFx0cmV0dXJuIG5ldyBTUUwoW3RoaXNdKTtcblx0fVxufVxuXG4vKiogQGRlcHJlY2F0ZWQgVXNlIGBzcWwucGFyYW1gIGluc3RlYWQuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyYW08VERhdGEsIFREcml2ZXI+KFxuXHR2YWx1ZTogVERhdGEsXG5cdGVuY29kZXI/OiBEcml2ZXJWYWx1ZUVuY29kZXI8VERhdGEsIFREcml2ZXI+LFxuKTogUGFyYW08VERhdGEsIFREcml2ZXI+IHtcblx0cmV0dXJuIG5ldyBQYXJhbSh2YWx1ZSwgZW5jb2Rlcik7XG59XG5cbi8qKlxuICogQW55dGhpbmcgdGhhdCBjYW4gYmUgcGFzc2VkIHRvIHRoZSBgYCBzcWxgLi4uYCBgYCB0YWdnZWQgZnVuY3Rpb24uXG4gKi9cbmV4cG9ydCB0eXBlIFNRTENodW5rID1cblx0fCBTdHJpbmdDaHVua1xuXHR8IFNRTENodW5rW11cblx0fCBTUUxXcmFwcGVyXG5cdHwgU1FMXG5cdHwgVGFibGVcblx0fCBWaWV3XG5cdHwgU3VicXVlcnlcblx0fCBBbnlDb2x1bW5cblx0fCBQYXJhbVxuXHR8IE5hbWVcblx0fCB1bmRlZmluZWRcblx0fCBGYWtlUHJpbWl0aXZlUGFyYW1cblx0fCBQbGFjZWhvbGRlcjtcblxuZXhwb3J0IGZ1bmN0aW9uIHNxbDxUPihzdHJpbmdzOiBUZW1wbGF0ZVN0cmluZ3NBcnJheSwgLi4ucGFyYW1zOiBhbnlbXSk6IFNRTDxUPjtcbi8qXG5cdFRoZSB0eXBlIG9mIGBwYXJhbXNgIGlzIHNwZWNpZmllZCBhcyBgU1FMQ2h1bmtbXWAsIGJ1dCB0aGF0J3Mgc2xpZ2h0bHkgaW5jb3JyZWN0IC1cblx0aW4gcnVudGltZSwgdXNlcnMgd29uJ3QgcGFzcyBgRmFrZVByaW1pdGl2ZVBhcmFtYCBpbnN0YW5jZXMgYXMgYHBhcmFtc2AgLSB0aGV5IHdpbGwgcGFzcyBwcmltaXRpdmUgdmFsdWVzXG5cdHdoaWNoIHdpbGwgYmUgd3JhcHBlZCBpbiBgUGFyYW1gLiBUaGF0J3Mgd2h5IHRoZSBvdmVybG9hZCBzcGVjaWZpZXMgYHBhcmFtc2AgYXMgYGFueVtdYCBhbmQgbm90IGFzIGBTUUxTb3VyY2VQYXJhbVtdYC5cblx0VGhpcyB0eXBlIGlzIHVzZWQgdG8gbWFrZSBvdXIgbGl2ZXMgZWFzaWVyIGFuZCB0aGUgdHlwZSBjaGVja2VyIGhhcHB5LlxuKi9cbmV4cG9ydCBmdW5jdGlvbiBzcWwoc3RyaW5nczogVGVtcGxhdGVTdHJpbmdzQXJyYXksIC4uLnBhcmFtczogU1FMQ2h1bmtbXSk6IFNRTCB7XG5cdGNvbnN0IHF1ZXJ5Q2h1bmtzOiBTUUxDaHVua1tdID0gW107XG5cdGlmIChwYXJhbXMubGVuZ3RoID4gMCB8fCAoc3RyaW5ncy5sZW5ndGggPiAwICYmIHN0cmluZ3NbMF0gIT09ICcnKSkge1xuXHRcdHF1ZXJ5Q2h1bmtzLnB1c2gobmV3IFN0cmluZ0NodW5rKHN0cmluZ3NbMF0hKSk7XG5cdH1cblx0Zm9yIChjb25zdCBbcGFyYW1JbmRleCwgcGFyYW1dIG9mIHBhcmFtcy5lbnRyaWVzKCkpIHtcblx0XHRxdWVyeUNodW5rcy5wdXNoKHBhcmFtLCBuZXcgU3RyaW5nQ2h1bmsoc3RyaW5nc1twYXJhbUluZGV4ICsgMV0hKSk7XG5cdH1cblxuXHRyZXR1cm4gbmV3IFNRTChxdWVyeUNodW5rcyk7XG59XG5cbmV4cG9ydCBuYW1lc3BhY2Ugc3FsIHtcblx0ZXhwb3J0IGZ1bmN0aW9uIGVtcHR5KCk6IFNRTCB7XG5cdFx0cmV0dXJuIG5ldyBTUUwoW10pO1xuXHR9XG5cblx0LyoqIEBkZXByZWNhdGVkIC0gdXNlIGBzcWwuam9pbigpYCAqL1xuXHRleHBvcnQgZnVuY3Rpb24gZnJvbUxpc3QobGlzdDogU1FMQ2h1bmtbXSk6IFNRTCB7XG5cdFx0cmV0dXJuIG5ldyBTUUwobGlzdCk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8gY3JlYXRlIGFuIFNRTCBxdWVyeSBmcm9tIGEgcmF3IHN0cmluZy5cblx0ICogQHBhcmFtIHN0ciBUaGUgcmF3IFNRTCBxdWVyeSBzdHJpbmcuXG5cdCAqL1xuXHRleHBvcnQgZnVuY3Rpb24gcmF3KHN0cjogc3RyaW5nKTogU1FMIHtcblx0XHRyZXR1cm4gbmV3IFNRTChbbmV3IFN0cmluZ0NodW5rKHN0cildKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBKb2luIGEgbGlzdCBvZiBTUUwgY2h1bmtzIHdpdGggYSBzZXBhcmF0b3IuXG5cdCAqIEBleGFtcGxlXG5cdCAqIGBgYHRzXG5cdCAqIGNvbnN0IHF1ZXJ5ID0gc3FsLmpvaW4oW3NxbGBhYCwgc3FsYGJgLCBzcWxgY2BdKTtcblx0ICogLy8gc3FsYGFiY2Bcblx0ICogYGBgXG5cdCAqIEBleGFtcGxlXG5cdCAqIGBgYHRzXG5cdCAqIGNvbnN0IHF1ZXJ5ID0gc3FsLmpvaW4oW3NxbGBhYCwgc3FsYGJgLCBzcWxgY2BdLCBzcWxgLCBgKTtcblx0ICogLy8gc3FsYGEsIGIsIGNgXG5cdCAqIGBgYFxuXHQgKi9cblx0ZXhwb3J0IGZ1bmN0aW9uIGpvaW4oY2h1bmtzOiBTUUxDaHVua1tdLCBzZXBhcmF0b3I/OiBTUUxDaHVuayk6IFNRTCB7XG5cdFx0Y29uc3QgcmVzdWx0OiBTUUxDaHVua1tdID0gW107XG5cdFx0Zm9yIChjb25zdCBbaSwgY2h1bmtdIG9mIGNodW5rcy5lbnRyaWVzKCkpIHtcblx0XHRcdGlmIChpID4gMCAmJiBzZXBhcmF0b3IgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRyZXN1bHQucHVzaChzZXBhcmF0b3IpO1xuXHRcdFx0fVxuXHRcdFx0cmVzdWx0LnB1c2goY2h1bmspO1xuXHRcdH1cblx0XHRyZXR1cm4gbmV3IFNRTChyZXN1bHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZSBhIFNRTCBjaHVuayB0aGF0IHJlcHJlc2VudHMgYSBEQiBpZGVudGlmaWVyICh0YWJsZSwgY29sdW1uLCBpbmRleCBldGMuKS5cblx0ICogV2hlbiB1c2VkIGluIGEgcXVlcnksIHRoZSBpZGVudGlmaWVyIHdpbGwgYmUgZXNjYXBlZCBiYXNlZCBvbiB0aGUgREIgZW5naW5lLlxuXHQgKiBGb3IgZXhhbXBsZSwgaW4gUG9zdGdyZVNRTCwgaWRlbnRpZmllcnMgYXJlIGVzY2FwZWQgd2l0aCBkb3VibGUgcXVvdGVzLlxuXHQgKlxuXHQgKiAqKldBUk5JTkc6IFRoaXMgZnVuY3Rpb24gZG9lcyBub3Qgb2ZmZXIgYW55IHByb3RlY3Rpb24gYWdhaW5zdCBTUUwgaW5qZWN0aW9ucywgc28geW91IG11c3QgdmFsaWRhdGUgYW55IHVzZXIgaW5wdXQgYmVmb3JlaGFuZC4qKlxuXHQgKlxuXHQgKiBAZXhhbXBsZSBgYGB0c1xuXHQgKiBjb25zdCBxdWVyeSA9IHNxbGBTRUxFQ1QgKiBGUk9NICR7c3FsLmlkZW50aWZpZXIoJ215LXRhYmxlJyl9YDtcblx0ICogLy8gJ1NFTEVDVCAqIEZST00gXCJteS10YWJsZVwiJ1xuXHQgKiBgYGBcblx0ICovXG5cdGV4cG9ydCBmdW5jdGlvbiBpZGVudGlmaWVyKHZhbHVlOiBzdHJpbmcpOiBOYW1lIHtcblx0XHRyZXR1cm4gbmV3IE5hbWUodmFsdWUpO1xuXHR9XG5cblx0ZXhwb3J0IGZ1bmN0aW9uIHBsYWNlaG9sZGVyPFROYW1lIGV4dGVuZHMgc3RyaW5nPihuYW1lOiBUTmFtZSk6IFBsYWNlaG9sZGVyPFROYW1lPiB7XG5cdFx0cmV0dXJuIG5ldyBQbGFjZWhvbGRlcihuYW1lKTtcblx0fVxuXG5cdGV4cG9ydCBmdW5jdGlvbiBwYXJhbTxURGF0YSwgVERyaXZlcj4oXG5cdFx0dmFsdWU6IFREYXRhLFxuXHRcdGVuY29kZXI/OiBEcml2ZXJWYWx1ZUVuY29kZXI8VERhdGEsIFREcml2ZXI+LFxuXHQpOiBQYXJhbTxURGF0YSwgVERyaXZlcj4ge1xuXHRcdHJldHVybiBuZXcgUGFyYW0odmFsdWUsIGVuY29kZXIpO1xuXHR9XG59XG5cbmV4cG9ydCBuYW1lc3BhY2UgU1FMIHtcblx0ZXhwb3J0IGNsYXNzIEFsaWFzZWQ8VCA9IHVua25vd24+IGltcGxlbWVudHMgU1FMV3JhcHBlciB7XG5cdFx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ1NRTC5BbGlhc2VkJztcblxuXHRcdGRlY2xhcmUgXzoge1xuXHRcdFx0YnJhbmQ6ICdTUUwuQWxpYXNlZCc7XG5cdFx0XHR0eXBlOiBUO1xuXHRcdH07XG5cblx0XHQvKiogQGludGVybmFsICovXG5cdFx0aXNTZWxlY3Rpb25GaWVsZCA9IGZhbHNlO1xuXG5cdFx0Y29uc3RydWN0b3IoXG5cdFx0XHRyZWFkb25seSBzcWw6IFNRTCxcblx0XHRcdHJlYWRvbmx5IGZpZWxkQWxpYXM6IHN0cmluZyxcblx0XHQpIHt9XG5cblx0XHRnZXRTUUwoKTogU1FMIHtcblx0XHRcdHJldHVybiB0aGlzLnNxbDtcblx0XHR9XG5cblx0XHQvKiogQGludGVybmFsICovXG5cdFx0Y2xvbmUoKSB7XG5cdFx0XHRyZXR1cm4gbmV3IEFsaWFzZWQodGhpcy5zcWwsIHRoaXMuZmllbGRBbGlhcyk7XG5cdFx0fVxuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBQbGFjZWhvbGRlcjxUTmFtZSBleHRlbmRzIHN0cmluZyA9IHN0cmluZywgVFZhbHVlID0gYW55PiBpbXBsZW1lbnRzIFNRTFdyYXBwZXIge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnUGxhY2Vob2xkZXInO1xuXG5cdGRlY2xhcmUgcHJvdGVjdGVkOiBUVmFsdWU7XG5cblx0Y29uc3RydWN0b3IocmVhZG9ubHkgbmFtZTogVE5hbWUpIHt9XG5cblx0Z2V0U1FMKCk6IFNRTCB7XG5cdFx0cmV0dXJuIG5ldyBTUUwoW3RoaXNdKTtcblx0fVxufVxuXG4vKiogQGRlcHJlY2F0ZWQgVXNlIGBzcWwucGxhY2Vob2xkZXJgIGluc3RlYWQuICovXG5leHBvcnQgZnVuY3Rpb24gcGxhY2Vob2xkZXI8VE5hbWUgZXh0ZW5kcyBzdHJpbmc+KG5hbWU6IFROYW1lKTogUGxhY2Vob2xkZXI8VE5hbWU+IHtcblx0cmV0dXJuIG5ldyBQbGFjZWhvbGRlcihuYW1lKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbGxQbGFjZWhvbGRlcnMocGFyYW1zOiB1bmtub3duW10sIHZhbHVlczogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pOiB1bmtub3duW10ge1xuXHRyZXR1cm4gcGFyYW1zLm1hcCgocCkgPT4ge1xuXHRcdGlmIChpcyhwLCBQbGFjZWhvbGRlcikpIHtcblx0XHRcdGlmICghKHAubmFtZSBpbiB2YWx1ZXMpKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgTm8gdmFsdWUgZm9yIHBsYWNlaG9sZGVyIFwiJHtwLm5hbWV9XCIgd2FzIHByb3ZpZGVkYCk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB2YWx1ZXNbcC5uYW1lXTtcblx0XHR9XG5cblx0XHRpZiAoaXMocCwgUGFyYW0pICYmIGlzKHAudmFsdWUsIFBsYWNlaG9sZGVyKSkge1xuXHRcdFx0aWYgKCEocC52YWx1ZS5uYW1lIGluIHZhbHVlcykpIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGBObyB2YWx1ZSBmb3IgcGxhY2Vob2xkZXIgXCIke3AudmFsdWUubmFtZX1cIiB3YXMgcHJvdmlkZWRgKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHAuZW5jb2Rlci5tYXBUb0RyaXZlclZhbHVlKHZhbHVlc1twLnZhbHVlLm5hbWVdKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcDtcblx0fSk7XG59XG5cbmV4cG9ydCB0eXBlIENvbHVtbnNTZWxlY3Rpb24gPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFZpZXc8XG5cdFROYW1lIGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nLFxuXHRURXhpc3RpbmcgZXh0ZW5kcyBib29sZWFuID0gYm9vbGVhbixcblx0VFNlbGVjdGlvbiBleHRlbmRzIENvbHVtbnNTZWxlY3Rpb24gPSBDb2x1bW5zU2VsZWN0aW9uLFxuPiBpbXBsZW1lbnRzIFNRTFdyYXBwZXIge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnVmlldyc7XG5cblx0ZGVjbGFyZSBfOiB7XG5cdFx0YnJhbmQ6ICdWaWV3Jztcblx0XHR2aWV3QnJhbmQ6IHN0cmluZztcblx0XHRuYW1lOiBUTmFtZTtcblx0XHRleGlzdGluZzogVEV4aXN0aW5nO1xuXHRcdHNlbGVjdGVkRmllbGRzOiBUU2VsZWN0aW9uO1xuXHR9O1xuXG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0W1ZpZXdCYXNlQ29uZmlnXToge1xuXHRcdG5hbWU6IFROYW1lO1xuXHRcdG9yaWdpbmFsTmFtZTogVE5hbWU7XG5cdFx0c2NoZW1hOiBzdHJpbmcgfCB1bmRlZmluZWQ7XG5cdFx0c2VsZWN0ZWRGaWVsZHM6IFNlbGVjdGVkRmllbGRzPEFueUNvbHVtbiwgVGFibGU+O1xuXHRcdGlzRXhpc3Rpbmc6IFRFeGlzdGluZztcblx0XHRxdWVyeTogVEV4aXN0aW5nIGV4dGVuZHMgdHJ1ZSA/IHVuZGVmaW5lZCA6IFNRTDtcblx0XHRpc0FsaWFzOiBib29sZWFuO1xuXHR9O1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdHsgbmFtZSwgc2NoZW1hLCBzZWxlY3RlZEZpZWxkcywgcXVlcnkgfToge1xuXHRcdFx0bmFtZTogVE5hbWU7XG5cdFx0XHRzY2hlbWE6IHN0cmluZyB8IHVuZGVmaW5lZDtcblx0XHRcdHNlbGVjdGVkRmllbGRzOiBTZWxlY3RlZEZpZWxkczxBbnlDb2x1bW4sIFRhYmxlPjtcblx0XHRcdHF1ZXJ5OiBTUUwgfCB1bmRlZmluZWQ7XG5cdFx0fSxcblx0KSB7XG5cdFx0dGhpc1tWaWV3QmFzZUNvbmZpZ10gPSB7XG5cdFx0XHRuYW1lLFxuXHRcdFx0b3JpZ2luYWxOYW1lOiBuYW1lLFxuXHRcdFx0c2NoZW1hLFxuXHRcdFx0c2VsZWN0ZWRGaWVsZHMsXG5cdFx0XHRxdWVyeTogcXVlcnkgYXMgKFRFeGlzdGluZyBleHRlbmRzIHRydWUgPyB1bmRlZmluZWQgOiBTUUwpLFxuXHRcdFx0aXNFeGlzdGluZzogIXF1ZXJ5IGFzIFRFeGlzdGluZyxcblx0XHRcdGlzQWxpYXM6IGZhbHNlLFxuXHRcdH07XG5cdH1cblxuXHRnZXRTUUwoKTogU1FMPHVua25vd24+IHtcblx0XHRyZXR1cm4gbmV3IFNRTChbdGhpc10pO1xuXHR9XG59XG5cbi8vIERlZmluZWQgc2VwYXJhdGVseSBmcm9tIHRoZSBDb2x1bW4gY2xhc3MgdG8gcmVzb2x2ZSBjaXJjdWxhciBkZXBlbmRlbmN5XG5Db2x1bW4ucHJvdG90eXBlLmdldFNRTCA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gbmV3IFNRTChbdGhpc10pO1xufTtcblxuLy8gRGVmaW5lZCBzZXBhcmF0ZWx5IGZyb20gdGhlIFRhYmxlIGNsYXNzIHRvIHJlc29sdmUgY2lyY3VsYXIgZGVwZW5kZW5jeVxuVGFibGUucHJvdG90eXBlLmdldFNRTCA9IGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gbmV3IFNRTChbdGhpc10pO1xufTtcblxuLy8gRGVmaW5lZCBzZXBhcmF0ZWx5IGZyb20gdGhlIENvbHVtbiBjbGFzcyB0byByZXNvbHZlIGNpcmN1bGFyIGRlcGVuZGVuY3lcblN1YnF1ZXJ5LnByb3RvdHlwZS5nZXRTUUwgPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIG5ldyBTUUwoW3RoaXNdKTtcbn07XG4iLCAiaW1wb3J0IHsgdHlwZSBBbnlDb2x1bW4sIENvbHVtbiwgdHlwZSBHZXRDb2x1bW5EYXRhIH0gZnJvbSAnfi9jb2x1bW4udHMnO1xuaW1wb3J0IHsgaXMgfSBmcm9tICd+L2VudGl0eS50cyc7XG5pbXBvcnQgeyBUYWJsZSB9IGZyb20gJ34vdGFibGUudHMnO1xuaW1wb3J0IHtcblx0aXNEcml2ZXJWYWx1ZUVuY29kZXIsXG5cdGlzU1FMV3JhcHBlcixcblx0UGFyYW0sXG5cdFBsYWNlaG9sZGVyLFxuXHRTUUwsXG5cdHNxbCxcblx0dHlwZSBTUUxDaHVuayxcblx0dHlwZSBTUUxXcmFwcGVyLFxuXHRTdHJpbmdDaHVuayxcblx0Vmlldyxcbn0gZnJvbSAnLi4vc3FsLnRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGJpbmRJZlBhcmFtKHZhbHVlOiB1bmtub3duLCBjb2x1bW46IFNRTFdyYXBwZXIpOiBTUUxDaHVuayB7XG5cdGlmIChcblx0XHRpc0RyaXZlclZhbHVlRW5jb2Rlcihjb2x1bW4pXG5cdFx0JiYgIWlzU1FMV3JhcHBlcih2YWx1ZSlcblx0XHQmJiAhaXModmFsdWUsIFBhcmFtKVxuXHRcdCYmICFpcyh2YWx1ZSwgUGxhY2Vob2xkZXIpXG5cdFx0JiYgIWlzKHZhbHVlLCBDb2x1bW4pXG5cdFx0JiYgIWlzKHZhbHVlLCBUYWJsZSlcblx0XHQmJiAhaXModmFsdWUsIFZpZXcpXG5cdCkge1xuXHRcdHJldHVybiBuZXcgUGFyYW0odmFsdWUsIGNvbHVtbik7XG5cdH1cblx0cmV0dXJuIHZhbHVlIGFzIFNRTENodW5rO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJpbmFyeU9wZXJhdG9yIHtcblx0PFRDb2x1bW4gZXh0ZW5kcyBDb2x1bW4+KFxuXHRcdGxlZnQ6IFRDb2x1bW4sXG5cdFx0cmlnaHQ6IEdldENvbHVtbkRhdGE8VENvbHVtbiwgJ3Jhdyc+IHwgU1FMV3JhcHBlcixcblx0KTogU1FMO1xuXHQ8VD4obGVmdDogU1FMLkFsaWFzZWQ8VD4sIHJpZ2h0OiBUIHwgU1FMV3JhcHBlcik6IFNRTDtcblx0PFQgZXh0ZW5kcyBTUUxXcmFwcGVyPihcblx0XHRsZWZ0OiBFeGNsdWRlPFQsIFNRTC5BbGlhc2VkIHwgQ29sdW1uPixcblx0XHRyaWdodDogdW5rbm93bixcblx0KTogU1FMO1xufVxuXG4vKipcbiAqIFRlc3QgdGhhdCB0d28gdmFsdWVzIGFyZSBlcXVhbC5cbiAqXG4gKiBSZW1lbWJlciB0aGF0IHRoZSBTUUwgc3RhbmRhcmQgZGljdGF0ZXMgdGhhdFxuICogdHdvIE5VTEwgdmFsdWVzIGFyZSBub3QgZXF1YWwsIHNvIGlmIHlvdSB3YW50IHRvIHRlc3RcbiAqIHdoZXRoZXIgYSB2YWx1ZSBpcyBudWxsLCB5b3UgbWF5IHdhbnQgdG8gdXNlXG4gKiBgaXNOdWxsYCBpbnN0ZWFkLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogYGBgdHNcbiAqIC8vIFNlbGVjdCBjYXJzIG1hZGUgYnkgRm9yZFxuICogZGIuc2VsZWN0KCkuZnJvbShjYXJzKVxuICogICAud2hlcmUoZXEoY2Fycy5tYWtlLCAnRm9yZCcpKVxuICogYGBgXG4gKlxuICogQHNlZSBpc051bGwgZm9yIGEgd2F5IHRvIHRlc3QgZXF1YWxpdHkgdG8gTlVMTC5cbiAqL1xuZXhwb3J0IGNvbnN0IGVxOiBCaW5hcnlPcGVyYXRvciA9IChsZWZ0OiBTUUxXcmFwcGVyLCByaWdodDogdW5rbm93bik6IFNRTCA9PiB7XG5cdHJldHVybiBzcWxgJHtsZWZ0fSA9ICR7YmluZElmUGFyYW0ocmlnaHQsIGxlZnQpfWA7XG59O1xuXG4vKipcbiAqIFRlc3QgdGhhdCB0d28gdmFsdWVzIGFyZSBub3QgZXF1YWwuXG4gKlxuICogUmVtZW1iZXIgdGhhdCB0aGUgU1FMIHN0YW5kYXJkIGRpY3RhdGVzIHRoYXRcbiAqIHR3byBOVUxMIHZhbHVlcyBhcmUgbm90IGVxdWFsLCBzbyBpZiB5b3Ugd2FudCB0byB0ZXN0XG4gKiB3aGV0aGVyIGEgdmFsdWUgaXMgbm90IG51bGwsIHlvdSBtYXkgd2FudCB0byB1c2VcbiAqIGBpc05vdE51bGxgIGluc3RlYWQuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBgYGB0c1xuICogLy8gU2VsZWN0IGNhcnMgbm90IG1hZGUgYnkgRm9yZFxuICogZGIuc2VsZWN0KCkuZnJvbShjYXJzKVxuICogICAud2hlcmUobmUoY2Fycy5tYWtlLCAnRm9yZCcpKVxuICogYGBgXG4gKlxuICogQHNlZSBpc05vdE51bGwgZm9yIGEgd2F5IHRvIHRlc3Qgd2hldGhlciBhIHZhbHVlIGlzIG5vdCBudWxsLlxuICovXG5leHBvcnQgY29uc3QgbmU6IEJpbmFyeU9wZXJhdG9yID0gKGxlZnQ6IFNRTFdyYXBwZXIsIHJpZ2h0OiB1bmtub3duKTogU1FMID0+IHtcblx0cmV0dXJuIHNxbGAke2xlZnR9IDw+ICR7YmluZElmUGFyYW0ocmlnaHQsIGxlZnQpfWA7XG59O1xuXG4vKipcbiAqIENvbWJpbmUgYSBsaXN0IG9mIGNvbmRpdGlvbnMgd2l0aCB0aGUgYGFuZGAgb3BlcmF0b3IuIENvbmRpdGlvbnNcbiAqIHRoYXQgYXJlIGVxdWFsIGB1bmRlZmluZWRgIGFyZSBhdXRvbWF0aWNhbGx5IGlnbm9yZWQuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBgYGB0c1xuICogZGIuc2VsZWN0KCkuZnJvbShjYXJzKVxuICogICAud2hlcmUoXG4gKiAgICAgYW5kKFxuICogICAgICAgZXEoY2Fycy5tYWtlLCAnVm9sdm8nKSxcbiAqICAgICAgIGVxKGNhcnMueWVhciwgMTk1MCksXG4gKiAgICAgKVxuICogICApXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFuZCguLi5jb25kaXRpb25zOiAoU1FMV3JhcHBlciB8IHVuZGVmaW5lZClbXSk6IFNRTCB8IHVuZGVmaW5lZDtcbmV4cG9ydCBmdW5jdGlvbiBhbmQoXG5cdC4uLnVuZmlsdGVyZWRDb25kaXRpb25zOiAoU1FMV3JhcHBlciB8IHVuZGVmaW5lZClbXVxuKTogU1FMIHwgdW5kZWZpbmVkIHtcblx0Y29uc3QgY29uZGl0aW9ucyA9IHVuZmlsdGVyZWRDb25kaXRpb25zLmZpbHRlcihcblx0XHQoYyk6IGMgaXMgRXhjbHVkZTx0eXBlb2YgYywgdW5kZWZpbmVkPiA9PiBjICE9PSB1bmRlZmluZWQsXG5cdCk7XG5cblx0aWYgKGNvbmRpdGlvbnMubGVuZ3RoID09PSAwKSB7XG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0fVxuXG5cdGlmIChjb25kaXRpb25zLmxlbmd0aCA9PT0gMSkge1xuXHRcdHJldHVybiBuZXcgU1FMKGNvbmRpdGlvbnMpO1xuXHR9XG5cblx0cmV0dXJuIG5ldyBTUUwoW1xuXHRcdG5ldyBTdHJpbmdDaHVuaygnKCcpLFxuXHRcdHNxbC5qb2luKGNvbmRpdGlvbnMsIG5ldyBTdHJpbmdDaHVuaygnIGFuZCAnKSksXG5cdFx0bmV3IFN0cmluZ0NodW5rKCcpJyksXG5cdF0pO1xufVxuXG4vKipcbiAqIENvbWJpbmUgYSBsaXN0IG9mIGNvbmRpdGlvbnMgd2l0aCB0aGUgYG9yYCBvcGVyYXRvci4gQ29uZGl0aW9uc1xuICogdGhhdCBhcmUgZXF1YWwgYHVuZGVmaW5lZGAgYXJlIGF1dG9tYXRpY2FsbHkgaWdub3JlZC5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIGBgYHRzXG4gKiBkYi5zZWxlY3QoKS5mcm9tKGNhcnMpXG4gKiAgIC53aGVyZShcbiAqICAgICBvcihcbiAqICAgICAgIGVxKGNhcnMubWFrZSwgJ0dNJyksXG4gKiAgICAgICBlcShjYXJzLm1ha2UsICdGb3JkJyksXG4gKiAgICAgKVxuICogICApXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9yKC4uLmNvbmRpdGlvbnM6IChTUUxXcmFwcGVyIHwgdW5kZWZpbmVkKVtdKTogU1FMIHwgdW5kZWZpbmVkO1xuZXhwb3J0IGZ1bmN0aW9uIG9yKFxuXHQuLi51bmZpbHRlcmVkQ29uZGl0aW9uczogKFNRTFdyYXBwZXIgfCB1bmRlZmluZWQpW11cbik6IFNRTCB8IHVuZGVmaW5lZCB7XG5cdGNvbnN0IGNvbmRpdGlvbnMgPSB1bmZpbHRlcmVkQ29uZGl0aW9ucy5maWx0ZXIoXG5cdFx0KGMpOiBjIGlzIEV4Y2x1ZGU8dHlwZW9mIGMsIHVuZGVmaW5lZD4gPT4gYyAhPT0gdW5kZWZpbmVkLFxuXHQpO1xuXG5cdGlmIChjb25kaXRpb25zLmxlbmd0aCA9PT0gMCkge1xuXHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdH1cblxuXHRpZiAoY29uZGl0aW9ucy5sZW5ndGggPT09IDEpIHtcblx0XHRyZXR1cm4gbmV3IFNRTChjb25kaXRpb25zKTtcblx0fVxuXG5cdHJldHVybiBuZXcgU1FMKFtcblx0XHRuZXcgU3RyaW5nQ2h1bmsoJygnKSxcblx0XHRzcWwuam9pbihjb25kaXRpb25zLCBuZXcgU3RyaW5nQ2h1bmsoJyBvciAnKSksXG5cdFx0bmV3IFN0cmluZ0NodW5rKCcpJyksXG5cdF0pO1xufVxuXG4vKipcbiAqIE5lZ2F0ZSB0aGUgbWVhbmluZyBvZiBhbiBleHByZXNzaW9uIHVzaW5nIHRoZSBgbm90YCBrZXl3b3JkLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogYGBgdHNcbiAqIC8vIFNlbGVjdCBjYXJzIF9ub3RfIG1hZGUgYnkgR00gb3IgRm9yZC5cbiAqIGRiLnNlbGVjdCgpLmZyb20oY2FycylcbiAqICAgLndoZXJlKG5vdChpbkFycmF5KGNhcnMubWFrZSwgWydHTScsICdGb3JkJ10pKSlcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gbm90KGNvbmRpdGlvbjogU1FMV3JhcHBlcik6IFNRTCB7XG5cdHJldHVybiBzcWxgbm90ICR7Y29uZGl0aW9ufWA7XG59XG5cbi8qKlxuICogVGVzdCB0aGF0IHRoZSBmaXJzdCBleHByZXNzaW9uIHBhc3NlZCBpcyBncmVhdGVyIHRoYW5cbiAqIHRoZSBzZWNvbmQgZXhwcmVzc2lvbi5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIGBgYHRzXG4gKiAvLyBTZWxlY3QgY2FycyBtYWRlIGFmdGVyIDIwMDAuXG4gKiBkYi5zZWxlY3QoKS5mcm9tKGNhcnMpXG4gKiAgIC53aGVyZShndChjYXJzLnllYXIsIDIwMDApKVxuICogYGBgXG4gKlxuICogQHNlZSBndGUgZm9yIGdyZWF0ZXItdGhhbi1vci1lcXVhbFxuICovXG5leHBvcnQgY29uc3QgZ3Q6IEJpbmFyeU9wZXJhdG9yID0gKGxlZnQ6IFNRTFdyYXBwZXIsIHJpZ2h0OiB1bmtub3duKTogU1FMID0+IHtcblx0cmV0dXJuIHNxbGAke2xlZnR9ID4gJHtiaW5kSWZQYXJhbShyaWdodCwgbGVmdCl9YDtcbn07XG5cbi8qKlxuICogVGVzdCB0aGF0IHRoZSBmaXJzdCBleHByZXNzaW9uIHBhc3NlZCBpcyBncmVhdGVyIHRoYW5cbiAqIG9yIGVxdWFsIHRvIHRoZSBzZWNvbmQgZXhwcmVzc2lvbi4gVXNlIGBndGAgdG9cbiAqIHRlc3Qgd2hldGhlciBhbiBleHByZXNzaW9uIGlzIHN0cmljdGx5IGdyZWF0ZXJcbiAqIHRoYW4gYW5vdGhlci5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIGBgYHRzXG4gKiAvLyBTZWxlY3QgY2FycyBtYWRlIG9uIG9yIGFmdGVyIDIwMDAuXG4gKiBkYi5zZWxlY3QoKS5mcm9tKGNhcnMpXG4gKiAgIC53aGVyZShndGUoY2Fycy55ZWFyLCAyMDAwKSlcbiAqIGBgYFxuICpcbiAqIEBzZWUgZ3QgZm9yIGEgc3RyaWN0bHkgZ3JlYXRlci10aGFuIGNvbmRpdGlvblxuICovXG5leHBvcnQgY29uc3QgZ3RlOiBCaW5hcnlPcGVyYXRvciA9IChsZWZ0OiBTUUxXcmFwcGVyLCByaWdodDogdW5rbm93bik6IFNRTCA9PiB7XG5cdHJldHVybiBzcWxgJHtsZWZ0fSA+PSAke2JpbmRJZlBhcmFtKHJpZ2h0LCBsZWZ0KX1gO1xufTtcblxuLyoqXG4gKiBUZXN0IHRoYXQgdGhlIGZpcnN0IGV4cHJlc3Npb24gcGFzc2VkIGlzIGxlc3MgdGhhblxuICogdGhlIHNlY29uZCBleHByZXNzaW9uLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogYGBgdHNcbiAqIC8vIFNlbGVjdCBjYXJzIG1hZGUgYmVmb3JlIDIwMDAuXG4gKiBkYi5zZWxlY3QoKS5mcm9tKGNhcnMpXG4gKiAgIC53aGVyZShsdChjYXJzLnllYXIsIDIwMDApKVxuICogYGBgXG4gKlxuICogQHNlZSBsdGUgZm9yIGxlc3MtdGhhbi1vci1lcXVhbFxuICovXG5leHBvcnQgY29uc3QgbHQ6IEJpbmFyeU9wZXJhdG9yID0gKGxlZnQ6IFNRTFdyYXBwZXIsIHJpZ2h0OiB1bmtub3duKTogU1FMID0+IHtcblx0cmV0dXJuIHNxbGAke2xlZnR9IDwgJHtiaW5kSWZQYXJhbShyaWdodCwgbGVmdCl9YDtcbn07XG5cbi8qKlxuICogVGVzdCB0aGF0IHRoZSBmaXJzdCBleHByZXNzaW9uIHBhc3NlZCBpcyBsZXNzIHRoYW5cbiAqIG9yIGVxdWFsIHRvIHRoZSBzZWNvbmQgZXhwcmVzc2lvbi5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIGBgYHRzXG4gKiAvLyBTZWxlY3QgY2FycyBtYWRlIGJlZm9yZSAyMDAwLlxuICogZGIuc2VsZWN0KCkuZnJvbShjYXJzKVxuICogICAud2hlcmUobHRlKGNhcnMueWVhciwgMjAwMCkpXG4gKiBgYGBcbiAqXG4gKiBAc2VlIGx0IGZvciBhIHN0cmljdGx5IGxlc3MtdGhhbiBjb25kaXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IGx0ZTogQmluYXJ5T3BlcmF0b3IgPSAobGVmdDogU1FMV3JhcHBlciwgcmlnaHQ6IHVua25vd24pOiBTUUwgPT4ge1xuXHRyZXR1cm4gc3FsYCR7bGVmdH0gPD0gJHtiaW5kSWZQYXJhbShyaWdodCwgbGVmdCl9YDtcbn07XG5cbi8qKlxuICogVGVzdCB3aGV0aGVyIHRoZSBmaXJzdCBwYXJhbWV0ZXIsIGEgY29sdW1uIG9yIGV4cHJlc3Npb24sXG4gKiBoYXMgYSB2YWx1ZSBmcm9tIGEgbGlzdCBwYXNzZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudC5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIGBgYHRzXG4gKiAvLyBTZWxlY3QgY2FycyBtYWRlIGJ5IEZvcmQgb3IgR00uXG4gKiBkYi5zZWxlY3QoKS5mcm9tKGNhcnMpXG4gKiAgIC53aGVyZShpbkFycmF5KGNhcnMubWFrZSwgWydGb3JkJywgJ0dNJ10pKVxuICogYGBgXG4gKlxuICogQHNlZSBub3RJbkFycmF5IGZvciB0aGUgaW52ZXJzZSBvZiB0aGlzIHRlc3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluQXJyYXk8VD4oXG5cdGNvbHVtbjogU1FMLkFsaWFzZWQ8VD4sXG5cdHZhbHVlczogKFQgfCBQbGFjZWhvbGRlcilbXSB8IFNRTFdyYXBwZXIsXG4pOiBTUUw7XG5leHBvcnQgZnVuY3Rpb24gaW5BcnJheTxUQ29sdW1uIGV4dGVuZHMgQ29sdW1uPihcblx0Y29sdW1uOiBUQ29sdW1uLFxuXHR2YWx1ZXM6IChHZXRDb2x1bW5EYXRhPFRDb2x1bW4sICdyYXcnPiB8IFBsYWNlaG9sZGVyKVtdIHwgU1FMV3JhcHBlcixcbik6IFNRTDtcbmV4cG9ydCBmdW5jdGlvbiBpbkFycmF5PFQgZXh0ZW5kcyBTUUxXcmFwcGVyPihcblx0Y29sdW1uOiBFeGNsdWRlPFQsIFNRTC5BbGlhc2VkIHwgQ29sdW1uPixcblx0dmFsdWVzOiAodW5rbm93biB8IFBsYWNlaG9sZGVyKVtdIHwgU1FMV3JhcHBlcixcbik6IFNRTDtcbmV4cG9ydCBmdW5jdGlvbiBpbkFycmF5KFxuXHRjb2x1bW46IFNRTFdyYXBwZXIsXG5cdHZhbHVlczogKHVua25vd24gfCBQbGFjZWhvbGRlcilbXSB8IFNRTFdyYXBwZXIsXG4pOiBTUUwge1xuXHRpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XG5cdFx0aWYgKHZhbHVlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybiBzcWxgZmFsc2VgO1xuXHRcdH1cblx0XHRyZXR1cm4gc3FsYCR7Y29sdW1ufSBpbiAke3ZhbHVlcy5tYXAoKHYpID0+IGJpbmRJZlBhcmFtKHYsIGNvbHVtbikpfWA7XG5cdH1cblxuXHRyZXR1cm4gc3FsYCR7Y29sdW1ufSBpbiAke2JpbmRJZlBhcmFtKHZhbHVlcywgY29sdW1uKX1gO1xufVxuXG4vKipcbiAqIFRlc3Qgd2hldGhlciB0aGUgZmlyc3QgcGFyYW1ldGVyLCBhIGNvbHVtbiBvciBleHByZXNzaW9uLFxuICogaGFzIGEgdmFsdWUgdGhhdCBpcyBub3QgcHJlc2VudCBpbiBhIGxpc3QgcGFzc2VkIGFzIHRoZVxuICogc2Vjb25kIGFyZ3VtZW50LlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogYGBgdHNcbiAqIC8vIFNlbGVjdCBjYXJzIG1hZGUgYnkgYW55IGNvbXBhbnkgZXhjZXB0IEZvcmQgb3IgR00uXG4gKiBkYi5zZWxlY3QoKS5mcm9tKGNhcnMpXG4gKiAgIC53aGVyZShub3RJbkFycmF5KGNhcnMubWFrZSwgWydGb3JkJywgJ0dNJ10pKVxuICogYGBgXG4gKlxuICogQHNlZSBpbkFycmF5IGZvciB0aGUgaW52ZXJzZSBvZiB0aGlzIHRlc3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vdEluQXJyYXk8VD4oXG5cdGNvbHVtbjogU1FMLkFsaWFzZWQ8VD4sXG5cdHZhbHVlczogKFQgfCBQbGFjZWhvbGRlcilbXSB8IFNRTFdyYXBwZXIsXG4pOiBTUUw7XG5leHBvcnQgZnVuY3Rpb24gbm90SW5BcnJheTxUQ29sdW1uIGV4dGVuZHMgQ29sdW1uPihcblx0Y29sdW1uOiBUQ29sdW1uLFxuXHR2YWx1ZXM6IChHZXRDb2x1bW5EYXRhPFRDb2x1bW4sICdyYXcnPiB8IFBsYWNlaG9sZGVyKVtdIHwgU1FMV3JhcHBlcixcbik6IFNRTDtcbmV4cG9ydCBmdW5jdGlvbiBub3RJbkFycmF5PFQgZXh0ZW5kcyBTUUxXcmFwcGVyPihcblx0Y29sdW1uOiBFeGNsdWRlPFQsIFNRTC5BbGlhc2VkIHwgQ29sdW1uPixcblx0dmFsdWVzOiAodW5rbm93biB8IFBsYWNlaG9sZGVyKVtdIHwgU1FMV3JhcHBlcixcbik6IFNRTDtcbmV4cG9ydCBmdW5jdGlvbiBub3RJbkFycmF5KFxuXHRjb2x1bW46IFNRTFdyYXBwZXIsXG5cdHZhbHVlczogKHVua25vd24gfCBQbGFjZWhvbGRlcilbXSB8IFNRTFdyYXBwZXIsXG4pOiBTUUwge1xuXHRpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XG5cdFx0aWYgKHZhbHVlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybiBzcWxgdHJ1ZWA7XG5cdFx0fVxuXHRcdHJldHVybiBzcWxgJHtjb2x1bW59IG5vdCBpbiAke3ZhbHVlcy5tYXAoKHYpID0+IGJpbmRJZlBhcmFtKHYsIGNvbHVtbikpfWA7XG5cdH1cblxuXHRyZXR1cm4gc3FsYCR7Y29sdW1ufSBub3QgaW4gJHtiaW5kSWZQYXJhbSh2YWx1ZXMsIGNvbHVtbil9YDtcbn1cblxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYW4gZXhwcmVzc2lvbiBpcyBOVUxMLiBCeSB0aGUgU1FMIHN0YW5kYXJkLFxuICogTlVMTCBpcyBuZWl0aGVyIGVxdWFsIG5vciBub3QgZXF1YWwgdG8gaXRzZWxmLCBzb1xuICogaXQncyByZWNvbW1lbmRlZCB0byB1c2UgYGlzTnVsbGAgYW5kIGBub3RJc051bGxgIGZvclxuICogY29tcGFyaXNvbnMgdG8gTlVMTC5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIGBgYHRzXG4gKiAvLyBTZWxlY3QgY2FycyB0aGF0IGhhdmUgbm8gZGlzY29udGludWVkQXQgZGF0ZS5cbiAqIGRiLnNlbGVjdCgpLmZyb20oY2FycylcbiAqICAgLndoZXJlKGlzTnVsbChjYXJzLmRpc2NvbnRpbnVlZEF0KSlcbiAqIGBgYFxuICpcbiAqIEBzZWUgaXNOb3ROdWxsIGZvciB0aGUgaW52ZXJzZSBvZiB0aGlzIHRlc3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTnVsbCh2YWx1ZTogU1FMV3JhcHBlcik6IFNRTCB7XG5cdHJldHVybiBzcWxgJHt2YWx1ZX0gaXMgbnVsbGA7XG59XG5cbi8qKlxuICogVGVzdCB3aGV0aGVyIGFuIGV4cHJlc3Npb24gaXMgbm90IE5VTEwuIEJ5IHRoZSBTUUwgc3RhbmRhcmQsXG4gKiBOVUxMIGlzIG5laXRoZXIgZXF1YWwgbm9yIG5vdCBlcXVhbCB0byBpdHNlbGYsIHNvXG4gKiBpdCdzIHJlY29tbWVuZGVkIHRvIHVzZSBgaXNOdWxsYCBhbmQgYG5vdElzTnVsbGAgZm9yXG4gKiBjb21wYXJpc29ucyB0byBOVUxMLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogYGBgdHNcbiAqIC8vIFNlbGVjdCBjYXJzIHRoYXQgaGF2ZSBiZWVuIGRpc2NvbnRpbnVlZC5cbiAqIGRiLnNlbGVjdCgpLmZyb20oY2FycylcbiAqICAgLndoZXJlKGlzTm90TnVsbChjYXJzLmRpc2NvbnRpbnVlZEF0KSlcbiAqIGBgYFxuICpcbiAqIEBzZWUgaXNOdWxsIGZvciB0aGUgaW52ZXJzZSBvZiB0aGlzIHRlc3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTm90TnVsbCh2YWx1ZTogU1FMV3JhcHBlcik6IFNRTCB7XG5cdHJldHVybiBzcWxgJHt2YWx1ZX0gaXMgbm90IG51bGxgO1xufVxuXG4vKipcbiAqIFRlc3Qgd2hldGhlciBhIHN1YnF1ZXJ5IGV2YWx1YXRlcyB0byBoYXZlIGFueSByb3dzLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogYGBgdHNcbiAqIC8vIFVzZXJzIHdob3NlIGBob21lQ2l0eWAgY29sdW1uIGhhcyBhIG1hdGNoIGluIGEgY2l0aWVzXG4gKiAvLyB0YWJsZS5cbiAqIGRiXG4gKiAgIC5zZWxlY3QoKVxuICogICAuZnJvbSh1c2VycylcbiAqICAgLndoZXJlKFxuICogICAgIGV4aXN0cyhkYi5zZWxlY3QoKVxuICogICAgICAgLmZyb20oY2l0aWVzKVxuICogICAgICAgLndoZXJlKGVxKHVzZXJzLmhvbWVDaXR5LCBjaXRpZXMuaWQpKSksXG4gKiAgICk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIG5vdEV4aXN0cyBmb3IgdGhlIGludmVyc2Ugb2YgdGhpcyB0ZXN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBleGlzdHMoc3VicXVlcnk6IFNRTFdyYXBwZXIpOiBTUUwge1xuXHRyZXR1cm4gc3FsYGV4aXN0cyAke3N1YnF1ZXJ5fWA7XG59XG5cbi8qKlxuICogVGVzdCB3aGV0aGVyIGEgc3VicXVlcnkgZG9lc24ndCBpbmNsdWRlIGFueSByZXN1bHRcbiAqIHJvd3MuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBgYGB0c1xuICogLy8gVXNlcnMgd2hvc2UgYGhvbWVDaXR5YCBjb2x1bW4gZG9lc24ndCBtYXRjaFxuICogLy8gYSByb3cgaW4gdGhlIGNpdGllcyB0YWJsZS5cbiAqIGRiXG4gKiAgIC5zZWxlY3QoKVxuICogICAuZnJvbSh1c2VycylcbiAqICAgLndoZXJlKFxuICogICAgIG5vdEV4aXN0cyhkYi5zZWxlY3QoKVxuICogICAgICAgLmZyb20oY2l0aWVzKVxuICogICAgICAgLndoZXJlKGVxKHVzZXJzLmhvbWVDaXR5LCBjaXRpZXMuaWQpKSksXG4gKiAgICk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIGV4aXN0cyBmb3IgdGhlIGludmVyc2Ugb2YgdGhpcyB0ZXN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3RFeGlzdHMoc3VicXVlcnk6IFNRTFdyYXBwZXIpOiBTUUwge1xuXHRyZXR1cm4gc3FsYG5vdCBleGlzdHMgJHtzdWJxdWVyeX1gO1xufVxuXG4vKipcbiAqIFRlc3Qgd2hldGhlciBhbiBleHByZXNzaW9uIGlzIGJldHdlZW4gdHdvIHZhbHVlcy4gVGhpc1xuICogaXMgYW4gZWFzaWVyIHdheSB0byBleHByZXNzIHJhbmdlIHRlc3RzLCB3aGljaCB3b3VsZCBiZVxuICogZXhwcmVzc2VkIG1hdGhlbWF0aWNhbGx5IGFzIGB4IDw9IGEgPD0geWAgYnV0IGluIFNRTFxuICogd291bGQgaGF2ZSB0byBiZSBsaWtlIGBhID49IHggQU5EIGEgPD0geWAuXG4gKlxuICogQmV0d2VlbiBpcyBpbmNsdXNpdmUgb2YgdGhlIGVuZHBvaW50czogaWYgYGNvbHVtbmBcbiAqIGlzIGVxdWFsIHRvIGBtaW5gIG9yIGBtYXhgLCBpdCB3aWxsIGJlIFRSVUUuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBgYGB0c1xuICogLy8gU2VsZWN0IGNhcnMgbWFkZSBiZXR3ZWVuIDE5OTAgYW5kIDIwMDBcbiAqIGRiLnNlbGVjdCgpLmZyb20oY2FycylcbiAqICAgLndoZXJlKGJldHdlZW4oY2Fycy55ZWFyLCAxOTkwLCAyMDAwKSlcbiAqIGBgYFxuICpcbiAqIEBzZWUgbm90QmV0d2VlbiBmb3IgdGhlIGludmVyc2Ugb2YgdGhpcyB0ZXN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiZXR3ZWVuPFQ+KFxuXHRjb2x1bW46IFNRTC5BbGlhc2VkLFxuXHRtaW46IFQgfCBTUUxXcmFwcGVyLFxuXHRtYXg6IFQgfCBTUUxXcmFwcGVyLFxuKTogU1FMO1xuZXhwb3J0IGZ1bmN0aW9uIGJldHdlZW48VENvbHVtbiBleHRlbmRzIEFueUNvbHVtbj4oXG5cdGNvbHVtbjogVENvbHVtbixcblx0bWluOiBHZXRDb2x1bW5EYXRhPFRDb2x1bW4sICdyYXcnPiB8IFNRTFdyYXBwZXIsXG5cdG1heDogR2V0Q29sdW1uRGF0YTxUQ29sdW1uLCAncmF3Jz4gfCBTUUxXcmFwcGVyLFxuKTogU1FMO1xuZXhwb3J0IGZ1bmN0aW9uIGJldHdlZW48VCBleHRlbmRzIFNRTFdyYXBwZXI+KFxuXHRjb2x1bW46IEV4Y2x1ZGU8VCwgU1FMLkFsaWFzZWQgfCBDb2x1bW4+LFxuXHRtaW46IHVua25vd24sXG5cdG1heDogdW5rbm93bixcbik6IFNRTDtcbmV4cG9ydCBmdW5jdGlvbiBiZXR3ZWVuKGNvbHVtbjogU1FMV3JhcHBlciwgbWluOiB1bmtub3duLCBtYXg6IHVua25vd24pOiBTUUwge1xuXHRyZXR1cm4gc3FsYCR7Y29sdW1ufSBiZXR3ZWVuICR7YmluZElmUGFyYW0obWluLCBjb2x1bW4pfSBhbmQgJHtcblx0XHRiaW5kSWZQYXJhbShcblx0XHRcdG1heCxcblx0XHRcdGNvbHVtbixcblx0XHQpXG5cdH1gO1xufVxuXG4vKipcbiAqIFRlc3Qgd2hldGhlciBhbiBleHByZXNzaW9uIGlzIG5vdCBiZXR3ZWVuIHR3byB2YWx1ZXMuXG4gKlxuICogVGhpcywgbGlrZSBgYmV0d2VlbmAsIGluY2x1ZGVzIGl0cyBlbmRwb2ludHMsIHNvIGlmXG4gKiB0aGUgYGNvbHVtbmAgaXMgZXF1YWwgdG8gYG1pbmAgb3IgYG1heGAsIGluIHRoaXMgY2FzZVxuICogaXQgd2lsbCBldmFsdWF0ZSB0byBGQUxTRS5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIGBgYHRzXG4gKiAvLyBFeGNsdWRlIGNhcnMgbWFkZSBpbiB0aGUgMTk3MHNcbiAqIGRiLnNlbGVjdCgpLmZyb20oY2FycylcbiAqICAgLndoZXJlKG5vdEJldHdlZW4oY2Fycy55ZWFyLCAxOTcwLCAxOTc5KSlcbiAqIGBgYFxuICpcbiAqIEBzZWUgYmV0d2VlbiBmb3IgdGhlIGludmVyc2Ugb2YgdGhpcyB0ZXN0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3RCZXR3ZWVuPFQ+KFxuXHRjb2x1bW46IFNRTC5BbGlhc2VkLFxuXHRtaW46IFQgfCBTUUxXcmFwcGVyLFxuXHRtYXg6IFQgfCBTUUxXcmFwcGVyLFxuKTogU1FMO1xuZXhwb3J0IGZ1bmN0aW9uIG5vdEJldHdlZW48VENvbHVtbiBleHRlbmRzIEFueUNvbHVtbj4oXG5cdGNvbHVtbjogVENvbHVtbixcblx0bWluOiBHZXRDb2x1bW5EYXRhPFRDb2x1bW4sICdyYXcnPiB8IFNRTFdyYXBwZXIsXG5cdG1heDogR2V0Q29sdW1uRGF0YTxUQ29sdW1uLCAncmF3Jz4gfCBTUUxXcmFwcGVyLFxuKTogU1FMO1xuZXhwb3J0IGZ1bmN0aW9uIG5vdEJldHdlZW48VCBleHRlbmRzIFNRTFdyYXBwZXI+KFxuXHRjb2x1bW46IEV4Y2x1ZGU8VCwgU1FMLkFsaWFzZWQgfCBDb2x1bW4+LFxuXHRtaW46IHVua25vd24sXG5cdG1heDogdW5rbm93bixcbik6IFNRTDtcbmV4cG9ydCBmdW5jdGlvbiBub3RCZXR3ZWVuKFxuXHRjb2x1bW46IFNRTFdyYXBwZXIsXG5cdG1pbjogdW5rbm93bixcblx0bWF4OiB1bmtub3duLFxuKTogU1FMIHtcblx0cmV0dXJuIHNxbGAke2NvbHVtbn0gbm90IGJldHdlZW4gJHtcblx0XHRiaW5kSWZQYXJhbShcblx0XHRcdG1pbixcblx0XHRcdGNvbHVtbixcblx0XHQpXG5cdH0gYW5kICR7YmluZElmUGFyYW0obWF4LCBjb2x1bW4pfWA7XG59XG5cbi8qKlxuICogQ29tcGFyZSBhIGNvbHVtbiB0byBhIHBhdHRlcm4sIHdoaWNoIGNhbiBpbmNsdWRlIGAlYCBhbmQgYF9gXG4gKiBjaGFyYWN0ZXJzIHRvIG1hdGNoIG11bHRpcGxlIHZhcmlhdGlvbnMuIEluY2x1ZGluZyBgJWBcbiAqIGluIHRoZSBwYXR0ZXJuIG1hdGNoZXMgemVybyBvciBtb3JlIGNoYXJhY3RlcnMsIGFuZCBpbmNsdWRpbmdcbiAqIGBfYCB3aWxsIG1hdGNoIGEgc2luZ2xlIGNoYXJhY3Rlci5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIGBgYHRzXG4gKiAvLyBTZWxlY3QgYWxsIGNhcnMgd2l0aCAnVHVyYm8nIGluIHRoZWlyIG5hbWVzLlxuICogZGIuc2VsZWN0KCkuZnJvbShjYXJzKVxuICogICAud2hlcmUobGlrZShjYXJzLm5hbWUsICclVHVyYm8lJykpXG4gKiBgYGBcbiAqXG4gKiBAc2VlIGlsaWtlIGZvciBhIGNhc2UtaW5zZW5zaXRpdmUgdmVyc2lvbiBvZiB0aGlzIGNvbmRpdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlrZShjb2x1bW46IENvbHVtbiwgdmFsdWU6IHN0cmluZyB8IFNRTFdyYXBwZXIpOiBTUUwge1xuXHRyZXR1cm4gc3FsYCR7Y29sdW1ufSBsaWtlICR7dmFsdWV9YDtcbn1cblxuLyoqXG4gKiBUaGUgaW52ZXJzZSBvZiBsaWtlIC0gdGhpcyB0ZXN0cyB0aGF0IGEgZ2l2ZW4gY29sdW1uXG4gKiBkb2VzIG5vdCBtYXRjaCBhIHBhdHRlcm4sIHdoaWNoIGNhbiBpbmNsdWRlIGAlYCBhbmQgYF9gXG4gKiBjaGFyYWN0ZXJzIHRvIG1hdGNoIG11bHRpcGxlIHZhcmlhdGlvbnMuIEluY2x1ZGluZyBgJWBcbiAqIGluIHRoZSBwYXR0ZXJuIG1hdGNoZXMgemVybyBvciBtb3JlIGNoYXJhY3RlcnMsIGFuZCBpbmNsdWRpbmdcbiAqIGBfYCB3aWxsIG1hdGNoIGEgc2luZ2xlIGNoYXJhY3Rlci5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIGBgYHRzXG4gKiAvLyBTZWxlY3QgYWxsIGNhcnMgdGhhdCBkb24ndCBoYXZlIFwiUk92ZXJcIiBpbiB0aGVpciBuYW1lLlxuICogZGIuc2VsZWN0KCkuZnJvbShjYXJzKVxuICogICAud2hlcmUobm90TGlrZShjYXJzLm5hbWUsICclUm92ZXIlJykpXG4gKiBgYGBcbiAqXG4gKiBAc2VlIGxpa2UgZm9yIHRoZSBpbnZlcnNlIGNvbmRpdGlvblxuICogQHNlZSBub3RJbGlrZSBmb3IgYSBjYXNlLWluc2Vuc2l0aXZlIHZlcnNpb24gb2YgdGhpcyBjb25kaXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vdExpa2UoY29sdW1uOiBDb2x1bW4sIHZhbHVlOiBzdHJpbmcgfCBTUUxXcmFwcGVyKTogU1FMIHtcblx0cmV0dXJuIHNxbGAke2NvbHVtbn0gbm90IGxpa2UgJHt2YWx1ZX1gO1xufVxuXG4vKipcbiAqIENhc2UtaW5zZW5zaXRpdmVseSBjb21wYXJlIGEgY29sdW1uIHRvIGEgcGF0dGVybixcbiAqIHdoaWNoIGNhbiBpbmNsdWRlIGAlYCBhbmQgYF9gXG4gKiBjaGFyYWN0ZXJzIHRvIG1hdGNoIG11bHRpcGxlIHZhcmlhdGlvbnMuIEluY2x1ZGluZyBgJWBcbiAqIGluIHRoZSBwYXR0ZXJuIG1hdGNoZXMgemVybyBvciBtb3JlIGNoYXJhY3RlcnMsIGFuZCBpbmNsdWRpbmdcbiAqIGBfYCB3aWxsIG1hdGNoIGEgc2luZ2xlIGNoYXJhY3Rlci5cbiAqXG4gKiBVbmxpa2UgbGlrZSwgdGhpcyBwZXJmb3JtcyBhIGNhc2UtaW5zZW5zaXRpdmUgY29tcGFyaXNvbi5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIGBgYHRzXG4gKiAvLyBTZWxlY3QgYWxsIGNhcnMgd2l0aCAnVHVyYm8nIGluIHRoZWlyIG5hbWVzLlxuICogZGIuc2VsZWN0KCkuZnJvbShjYXJzKVxuICogICAud2hlcmUoaWxpa2UoY2Fycy5uYW1lLCAnJVR1cmJvJScpKVxuICogYGBgXG4gKlxuICogQHNlZSBsaWtlIGZvciBhIGNhc2Utc2Vuc2l0aXZlIHZlcnNpb24gb2YgdGhpcyBjb25kaXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlsaWtlKGNvbHVtbjogQ29sdW1uLCB2YWx1ZTogc3RyaW5nIHwgU1FMV3JhcHBlcik6IFNRTCB7XG5cdHJldHVybiBzcWxgJHtjb2x1bW59IGlsaWtlICR7dmFsdWV9YDtcbn1cblxuLyoqXG4gKiBUaGUgaW52ZXJzZSBvZiBpbGlrZSAtIHRoaXMgY2FzZS1pbnNlbnNpdGl2ZWx5IHRlc3RzIHRoYXQgYSBnaXZlbiBjb2x1bW5cbiAqIGRvZXMgbm90IG1hdGNoIGEgcGF0dGVybiwgd2hpY2ggY2FuIGluY2x1ZGUgYCVgIGFuZCBgX2BcbiAqIGNoYXJhY3RlcnMgdG8gbWF0Y2ggbXVsdGlwbGUgdmFyaWF0aW9ucy4gSW5jbHVkaW5nIGAlYFxuICogaW4gdGhlIHBhdHRlcm4gbWF0Y2hlcyB6ZXJvIG9yIG1vcmUgY2hhcmFjdGVycywgYW5kIGluY2x1ZGluZ1xuICogYF9gIHdpbGwgbWF0Y2ggYSBzaW5nbGUgY2hhcmFjdGVyLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogYGBgdHNcbiAqIC8vIFNlbGVjdCBhbGwgY2FycyB0aGF0IGRvbid0IGhhdmUgXCJSb3ZlclwiIGluIHRoZWlyIG5hbWUuXG4gKiBkYi5zZWxlY3QoKS5mcm9tKGNhcnMpXG4gKiAgIC53aGVyZShub3RMaWtlKGNhcnMubmFtZSwgJyVSb3ZlciUnKSlcbiAqIGBgYFxuICpcbiAqIEBzZWUgaWxpa2UgZm9yIHRoZSBpbnZlcnNlIGNvbmRpdGlvblxuICogQHNlZSBub3RMaWtlIGZvciBhIGNhc2Utc2Vuc2l0aXZlIHZlcnNpb24gb2YgdGhpcyBjb25kaXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vdElsaWtlKGNvbHVtbjogQ29sdW1uLCB2YWx1ZTogc3RyaW5nIHwgU1FMV3JhcHBlcik6IFNRTCB7XG5cdHJldHVybiBzcWxgJHtjb2x1bW59IG5vdCBpbGlrZSAke3ZhbHVlfWA7XG59XG5cbi8qKlxuICogVGVzdCB0aGF0IGEgY29sdW1uIG9yIGV4cHJlc3Npb24gY29udGFpbnMgYWxsIGVsZW1lbnRzIG9mXG4gKiB0aGUgbGlzdCBwYXNzZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudC5cbiAqXG4gKiAjIyBUaHJvd3NcbiAqXG4gKiBUaGUgYXJndW1lbnQgcGFzc2VkIGluIHRoZSBzZWNvbmQgYXJyYXkgY2FuJ3QgYmUgZW1wdHk6XG4gKiBpZiBhbiBlbXB0eSBpcyBwcm92aWRlZCwgdGhpcyBtZXRob2Qgd2lsbCB0aHJvdy5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIGBgYHRzXG4gKiAvLyBTZWxlY3QgcG9zdHMgd2hlcmUgaXRzIHRhZ3MgY29udGFpbiBcIlR5cGVzY3JpcHRcIiBhbmQgXCJPUk1cIi5cbiAqIGRiLnNlbGVjdCgpLmZyb20ocG9zdHMpXG4gKiAgIC53aGVyZShhcnJheUNvbnRhaW5zKHBvc3RzLnRhZ3MsIFsnVHlwZXNjcmlwdCcsICdPUk0nXSkpXG4gKiBgYGBcbiAqXG4gKiBAc2VlIGFycmF5Q29udGFpbmVkIHRvIGZpbmQgaWYgYW4gYXJyYXkgY29udGFpbnMgYWxsIGVsZW1lbnRzIG9mIGEgY29sdW1uIG9yIGV4cHJlc3Npb25cbiAqIEBzZWUgYXJyYXlPdmVybGFwcyB0byBmaW5kIGlmIGEgY29sdW1uIG9yIGV4cHJlc3Npb24gY29udGFpbnMgYW55IGVsZW1lbnRzIG9mIGFuIGFycmF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcnJheUNvbnRhaW5zPFQ+KFxuXHRjb2x1bW46IFNRTC5BbGlhc2VkPFQ+LFxuXHR2YWx1ZXM6IChUIHwgUGxhY2Vob2xkZXIpIHwgU1FMV3JhcHBlcixcbik6IFNRTDtcbmV4cG9ydCBmdW5jdGlvbiBhcnJheUNvbnRhaW5zPFRDb2x1bW4gZXh0ZW5kcyBDb2x1bW4+KFxuXHRjb2x1bW46IFRDb2x1bW4sXG5cdHZhbHVlczogKEdldENvbHVtbkRhdGE8VENvbHVtbiwgJ3Jhdyc+IHwgUGxhY2Vob2xkZXIpIHwgU1FMV3JhcHBlcixcbik6IFNRTDtcbmV4cG9ydCBmdW5jdGlvbiBhcnJheUNvbnRhaW5zPFQgZXh0ZW5kcyBTUUxXcmFwcGVyPihcblx0Y29sdW1uOiBFeGNsdWRlPFQsIFNRTC5BbGlhc2VkIHwgQ29sdW1uPixcblx0dmFsdWVzOiAodW5rbm93biB8IFBsYWNlaG9sZGVyKVtdIHwgU1FMV3JhcHBlcixcbik6IFNRTDtcbmV4cG9ydCBmdW5jdGlvbiBhcnJheUNvbnRhaW5zKFxuXHRjb2x1bW46IFNRTFdyYXBwZXIsXG5cdHZhbHVlczogKHVua25vd24gfCBQbGFjZWhvbGRlcilbXSB8IFNRTFdyYXBwZXIsXG4pOiBTUUwge1xuXHRpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XG5cdFx0aWYgKHZhbHVlcy5sZW5ndGggPT09IDApIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignYXJyYXlDb250YWlucyByZXF1aXJlcyBhdCBsZWFzdCBvbmUgdmFsdWUnKTtcblx0XHR9XG5cdFx0Y29uc3QgYXJyYXkgPSBzcWxgJHtiaW5kSWZQYXJhbSh2YWx1ZXMsIGNvbHVtbil9YDtcblx0XHRyZXR1cm4gc3FsYCR7Y29sdW1ufSBAPiAke2FycmF5fWA7XG5cdH1cblxuXHRyZXR1cm4gc3FsYCR7Y29sdW1ufSBAPiAke2JpbmRJZlBhcmFtKHZhbHVlcywgY29sdW1uKX1gO1xufVxuXG4vKipcbiAqIFRlc3QgdGhhdCB0aGUgbGlzdCBwYXNzZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudCBjb250YWluc1xuICogYWxsIGVsZW1lbnRzIG9mIGEgY29sdW1uIG9yIGV4cHJlc3Npb24uXG4gKlxuICogIyMgVGhyb3dzXG4gKlxuICogVGhlIGFyZ3VtZW50IHBhc3NlZCBpbiB0aGUgc2Vjb25kIGFycmF5IGNhbid0IGJlIGVtcHR5OlxuICogaWYgYW4gZW1wdHkgaXMgcHJvdmlkZWQsIHRoaXMgbWV0aG9kIHdpbGwgdGhyb3cuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBgYGB0c1xuICogLy8gU2VsZWN0IHBvc3RzIHdoZXJlIGl0cyB0YWdzIGNvbnRhaW4gXCJUeXBlc2NyaXB0XCIsIFwiT1JNXCIgb3IgYm90aCxcbiAqIC8vIGJ1dCBmaWx0ZXJpbmcgcG9zdHMgdGhhdCBoYXZlIGFkZGl0aW9uYWwgdGFncy5cbiAqIGRiLnNlbGVjdCgpLmZyb20ocG9zdHMpXG4gKiAgIC53aGVyZShhcnJheUNvbnRhaW5lZChwb3N0cy50YWdzLCBbJ1R5cGVzY3JpcHQnLCAnT1JNJ10pKVxuICogYGBgXG4gKlxuICogQHNlZSBhcnJheUNvbnRhaW5zIHRvIGZpbmQgaWYgYSBjb2x1bW4gb3IgZXhwcmVzc2lvbiBjb250YWlucyBhbGwgZWxlbWVudHMgb2YgYW4gYXJyYXlcbiAqIEBzZWUgYXJyYXlPdmVybGFwcyB0byBmaW5kIGlmIGEgY29sdW1uIG9yIGV4cHJlc3Npb24gY29udGFpbnMgYW55IGVsZW1lbnRzIG9mIGFuIGFycmF5XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcnJheUNvbnRhaW5lZDxUPihcblx0Y29sdW1uOiBTUUwuQWxpYXNlZDxUPixcblx0dmFsdWVzOiAoVCB8IFBsYWNlaG9sZGVyKSB8IFNRTFdyYXBwZXIsXG4pOiBTUUw7XG5leHBvcnQgZnVuY3Rpb24gYXJyYXlDb250YWluZWQ8VENvbHVtbiBleHRlbmRzIENvbHVtbj4oXG5cdGNvbHVtbjogVENvbHVtbixcblx0dmFsdWVzOiAoR2V0Q29sdW1uRGF0YTxUQ29sdW1uLCAncmF3Jz4gfCBQbGFjZWhvbGRlcikgfCBTUUxXcmFwcGVyLFxuKTogU1FMO1xuZXhwb3J0IGZ1bmN0aW9uIGFycmF5Q29udGFpbmVkPFQgZXh0ZW5kcyBTUUxXcmFwcGVyPihcblx0Y29sdW1uOiBFeGNsdWRlPFQsIFNRTC5BbGlhc2VkIHwgQ29sdW1uPixcblx0dmFsdWVzOiAodW5rbm93biB8IFBsYWNlaG9sZGVyKVtdIHwgU1FMV3JhcHBlcixcbik6IFNRTDtcbmV4cG9ydCBmdW5jdGlvbiBhcnJheUNvbnRhaW5lZChcblx0Y29sdW1uOiBTUUxXcmFwcGVyLFxuXHR2YWx1ZXM6ICh1bmtub3duIHwgUGxhY2Vob2xkZXIpW10gfCBTUUxXcmFwcGVyLFxuKTogU1FMIHtcblx0aWYgKEFycmF5LmlzQXJyYXkodmFsdWVzKSkge1xuXHRcdGlmICh2YWx1ZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ2FycmF5Q29udGFpbmVkIHJlcXVpcmVzIGF0IGxlYXN0IG9uZSB2YWx1ZScpO1xuXHRcdH1cblx0XHRjb25zdCBhcnJheSA9IHNxbGAke2JpbmRJZlBhcmFtKHZhbHVlcywgY29sdW1uKX1gO1xuXHRcdHJldHVybiBzcWxgJHtjb2x1bW59IDxAICR7YXJyYXl9YDtcblx0fVxuXG5cdHJldHVybiBzcWxgJHtjb2x1bW59IDxAICR7YmluZElmUGFyYW0odmFsdWVzLCBjb2x1bW4pfWA7XG59XG5cbi8qKlxuICogVGVzdCB0aGF0IGEgY29sdW1uIG9yIGV4cHJlc3Npb24gY29udGFpbnMgYW55IGVsZW1lbnRzIG9mXG4gKiB0aGUgbGlzdCBwYXNzZWQgYXMgdGhlIHNlY29uZCBhcmd1bWVudC5cbiAqXG4gKiAjIyBUaHJvd3NcbiAqXG4gKiBUaGUgYXJndW1lbnQgcGFzc2VkIGluIHRoZSBzZWNvbmQgYXJyYXkgY2FuJ3QgYmUgZW1wdHk6XG4gKiBpZiBhbiBlbXB0eSBpcyBwcm92aWRlZCwgdGhpcyBtZXRob2Qgd2lsbCB0aHJvdy5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIGBgYHRzXG4gKiAvLyBTZWxlY3QgcG9zdHMgd2hlcmUgaXRzIHRhZ3MgY29udGFpbiBcIlR5cGVzY3JpcHRcIiwgXCJPUk1cIiBvciBib3RoLlxuICogZGIuc2VsZWN0KCkuZnJvbShwb3N0cylcbiAqICAgLndoZXJlKGFycmF5T3ZlcmxhcHMocG9zdHMudGFncywgWydUeXBlc2NyaXB0JywgJ09STSddKSlcbiAqIGBgYFxuICpcbiAqIEBzZWUgYXJyYXlDb250YWlucyB0byBmaW5kIGlmIGEgY29sdW1uIG9yIGV4cHJlc3Npb24gY29udGFpbnMgYWxsIGVsZW1lbnRzIG9mIGFuIGFycmF5XG4gKiBAc2VlIGFycmF5Q29udGFpbmVkIHRvIGZpbmQgaWYgYW4gYXJyYXkgY29udGFpbnMgYWxsIGVsZW1lbnRzIG9mIGEgY29sdW1uIG9yIGV4cHJlc3Npb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFycmF5T3ZlcmxhcHM8VD4oXG5cdGNvbHVtbjogU1FMLkFsaWFzZWQ8VD4sXG5cdHZhbHVlczogKFQgfCBQbGFjZWhvbGRlcikgfCBTUUxXcmFwcGVyLFxuKTogU1FMO1xuZXhwb3J0IGZ1bmN0aW9uIGFycmF5T3ZlcmxhcHM8VENvbHVtbiBleHRlbmRzIENvbHVtbj4oXG5cdGNvbHVtbjogVENvbHVtbixcblx0dmFsdWVzOiAoR2V0Q29sdW1uRGF0YTxUQ29sdW1uLCAncmF3Jz4gfCBQbGFjZWhvbGRlcikgfCBTUUxXcmFwcGVyLFxuKTogU1FMO1xuZXhwb3J0IGZ1bmN0aW9uIGFycmF5T3ZlcmxhcHM8VCBleHRlbmRzIFNRTFdyYXBwZXI+KFxuXHRjb2x1bW46IEV4Y2x1ZGU8VCwgU1FMLkFsaWFzZWQgfCBDb2x1bW4+LFxuXHR2YWx1ZXM6ICh1bmtub3duIHwgUGxhY2Vob2xkZXIpW10gfCBTUUxXcmFwcGVyLFxuKTogU1FMO1xuZXhwb3J0IGZ1bmN0aW9uIGFycmF5T3ZlcmxhcHMoXG5cdGNvbHVtbjogU1FMV3JhcHBlcixcblx0dmFsdWVzOiAodW5rbm93biB8IFBsYWNlaG9sZGVyKVtdIHwgU1FMV3JhcHBlcixcbik6IFNRTCB7XG5cdGlmIChBcnJheS5pc0FycmF5KHZhbHVlcykpIHtcblx0XHRpZiAodmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdhcnJheU92ZXJsYXBzIHJlcXVpcmVzIGF0IGxlYXN0IG9uZSB2YWx1ZScpO1xuXHRcdH1cblx0XHRjb25zdCBhcnJheSA9IHNxbGAke2JpbmRJZlBhcmFtKHZhbHVlcywgY29sdW1uKX1gO1xuXHRcdHJldHVybiBzcWxgJHtjb2x1bW59ICYmICR7YXJyYXl9YDtcblx0fVxuXG5cdHJldHVybiBzcWxgJHtjb2x1bW59ICYmICR7YmluZElmUGFyYW0odmFsdWVzLCBjb2x1bW4pfWA7XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBBbnlDb2x1bW4gfSBmcm9tICcuLi8uLi9jb2x1bW4udHMnO1xuaW1wb3J0IHR5cGUgeyBTUUwsIFNRTFdyYXBwZXIgfSBmcm9tICcuLi9zcWwudHMnO1xuaW1wb3J0IHsgc3FsIH0gZnJvbSAnLi4vc3FsLnRzJztcblxuLyoqXG4gKiBVc2VkIGluIHNvcnRpbmcsIHRoaXMgc3BlY2lmaWVzIHRoYXQgdGhlIGdpdmVuXG4gKiBjb2x1bW4gb3IgZXhwcmVzc2lvbiBzaG91bGQgYmUgc29ydGVkIGluIGFzY2VuZGluZ1xuICogb3JkZXIuIEJ5IHRoZSBTUUwgc3RhbmRhcmQsIGFzY2VuZGluZyBvcmRlciBpcyB0aGVcbiAqIGRlZmF1bHQsIHNvIGl0IGlzIG5vdCB1c3VhbGx5IG5lY2Vzc2FyeSB0byBzcGVjaWZ5XG4gKiBhc2NlbmRpbmcgc29ydCBvcmRlci5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIGBgYHRzXG4gKiAvLyBSZXR1cm4gY2Fycywgc3RhcnRpbmcgd2l0aCB0aGUgb2xkZXN0IG1vZGVsc1xuICogLy8gYW5kIGdvaW5nIGluIGFzY2VuZGluZyBvcmRlciB0byB0aGUgbmV3ZXN0LlxuICogZGIuc2VsZWN0KCkuZnJvbShjYXJzKVxuICogICAub3JkZXJCeShhc2MoY2Fycy55ZWFyKSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIGRlc2MgdG8gc29ydCBpbiBkZXNjZW5kaW5nIG9yZGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc2MoY29sdW1uOiBBbnlDb2x1bW4gfCBTUUxXcmFwcGVyKTogU1FMIHtcblx0cmV0dXJuIHNxbGAke2NvbHVtbn0gYXNjYDtcbn1cblxuLyoqXG4gKiBVc2VkIGluIHNvcnRpbmcsIHRoaXMgc3BlY2lmaWVzIHRoYXQgdGhlIGdpdmVuXG4gKiBjb2x1bW4gb3IgZXhwcmVzc2lvbiBzaG91bGQgYmUgc29ydGVkIGluIGRlc2NlbmRpbmdcbiAqIG9yZGVyLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogYGBgdHNcbiAqIC8vIFNlbGVjdCB1c2Vycywgd2l0aCB0aGUgbW9zdCByZWNlbnRseSBjcmVhdGVkXG4gKiAvLyByZWNvcmRzIGNvbWluZyBmaXJzdC5cbiAqIGRiLnNlbGVjdCgpLmZyb20odXNlcnMpXG4gKiAgIC5vcmRlckJ5KGRlc2ModXNlcnMuY3JlYXRlZEF0KSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIGFzYyB0byBzb3J0IGluIGFzY2VuZGluZyBvcmRlclxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVzYyhjb2x1bW46IEFueUNvbHVtbiB8IFNRTFdyYXBwZXIpOiBTUUwge1xuXHRyZXR1cm4gc3FsYCR7Y29sdW1ufSBkZXNjYDtcbn1cbiIsICJpbXBvcnQgeyB0eXBlIEFueVRhYmxlLCBnZXRUYWJsZVVuaXF1ZU5hbWUsIHR5cGUgSW5mZXJNb2RlbEZyb21Db2x1bW5zLCBUYWJsZSB9IGZyb20gJ34vdGFibGUudHMnO1xuaW1wb3J0IHsgdHlwZSBBbnlDb2x1bW4sIENvbHVtbiB9IGZyb20gJy4vY29sdW1uLnRzJztcbmltcG9ydCB7IGVudGl0eUtpbmQsIGlzIH0gZnJvbSAnLi9lbnRpdHkudHMnO1xuaW1wb3J0IHsgUHJpbWFyeUtleUJ1aWxkZXIgfSBmcm9tICcuL3BnLWNvcmUvcHJpbWFyeS1rZXlzLnRzJztcbmltcG9ydCB7XG5cdGFuZCxcblx0YXNjLFxuXHRiZXR3ZWVuLFxuXHRkZXNjLFxuXHRlcSxcblx0ZXhpc3RzLFxuXHRndCxcblx0Z3RlLFxuXHRpbGlrZSxcblx0aW5BcnJheSxcblx0aXNOb3ROdWxsLFxuXHRpc051bGwsXG5cdGxpa2UsXG5cdGx0LFxuXHRsdGUsXG5cdG5lLFxuXHRub3QsXG5cdG5vdEJldHdlZW4sXG5cdG5vdEV4aXN0cyxcblx0bm90SWxpa2UsXG5cdG5vdEluQXJyYXksXG5cdG5vdExpa2UsXG5cdG9yLFxufSBmcm9tICcuL3NxbC9leHByZXNzaW9ucy9pbmRleC50cyc7XG5pbXBvcnQgeyB0eXBlIFBsYWNlaG9sZGVyLCBTUUwsIHNxbCB9IGZyb20gJy4vc3FsL3NxbC50cyc7XG5pbXBvcnQgdHlwZSB7IEFzc3VtZSwgQ29sdW1uc1dpdGhUYWJsZSwgRXF1YWwsIFNpbXBsaWZ5LCBWYWx1ZU9yQXJyYXkgfSBmcm9tICcuL3V0aWxzLnRzJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFJlbGF0aW9uPFRUYWJsZU5hbWUgZXh0ZW5kcyBzdHJpbmcgPSBzdHJpbmc+IHtcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ1JlbGF0aW9uJztcblxuXHRkZWNsYXJlIHJlYWRvbmx5ICRicmFuZDogJ1JlbGF0aW9uJztcblx0cmVhZG9ubHkgcmVmZXJlbmNlZFRhYmxlTmFtZTogVFRhYmxlTmFtZTtcblx0ZmllbGROYW1lITogc3RyaW5nO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdHJlYWRvbmx5IHNvdXJjZVRhYmxlOiBUYWJsZSxcblx0XHRyZWFkb25seSByZWZlcmVuY2VkVGFibGU6IEFueVRhYmxlPHsgbmFtZTogVFRhYmxlTmFtZSB9Pixcblx0XHRyZWFkb25seSByZWxhdGlvbk5hbWU6IHN0cmluZyB8IHVuZGVmaW5lZCxcblx0KSB7XG5cdFx0dGhpcy5yZWZlcmVuY2VkVGFibGVOYW1lID0gcmVmZXJlbmNlZFRhYmxlW1RhYmxlLlN5bWJvbC5OYW1lXSBhcyBUVGFibGVOYW1lO1xuXHR9XG5cblx0YWJzdHJhY3Qgd2l0aEZpZWxkTmFtZShmaWVsZE5hbWU6IHN0cmluZyk6IFJlbGF0aW9uPFRUYWJsZU5hbWU+O1xufVxuXG5leHBvcnQgY2xhc3MgUmVsYXRpb25zPFxuXHRUVGFibGVOYW1lIGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nLFxuXHRUQ29uZmlnIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgUmVsYXRpb24+ID0gUmVjb3JkPHN0cmluZywgUmVsYXRpb24+LFxuPiB7XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdSZWxhdGlvbnMnO1xuXG5cdGRlY2xhcmUgcmVhZG9ubHkgJGJyYW5kOiAnUmVsYXRpb25zJztcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRyZWFkb25seSB0YWJsZTogQW55VGFibGU8eyBuYW1lOiBUVGFibGVOYW1lIH0+LFxuXHRcdHJlYWRvbmx5IGNvbmZpZzogKGhlbHBlcnM6IFRhYmxlUmVsYXRpb25zSGVscGVyczxUVGFibGVOYW1lPikgPT4gVENvbmZpZyxcblx0KSB7fVxufVxuXG5leHBvcnQgY2xhc3MgT25lPFxuXHRUVGFibGVOYW1lIGV4dGVuZHMgc3RyaW5nID0gc3RyaW5nLFxuXHRUSXNOdWxsYWJsZSBleHRlbmRzIGJvb2xlYW4gPSBib29sZWFuLFxuPiBleHRlbmRzIFJlbGF0aW9uPFRUYWJsZU5hbWU+IHtcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ09uZSc7XG5cblx0ZGVjbGFyZSBwcm90ZWN0ZWQgJHJlbGF0aW9uQnJhbmQ6ICdPbmUnO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdHNvdXJjZVRhYmxlOiBUYWJsZSxcblx0XHRyZWZlcmVuY2VkVGFibGU6IEFueVRhYmxlPHsgbmFtZTogVFRhYmxlTmFtZSB9Pixcblx0XHRyZWFkb25seSBjb25maWc6XG5cdFx0XHR8IFJlbGF0aW9uQ29uZmlnPFxuXHRcdFx0XHRUVGFibGVOYW1lLFxuXHRcdFx0XHRzdHJpbmcsXG5cdFx0XHRcdEFueUNvbHVtbjx7IHRhYmxlTmFtZTogVFRhYmxlTmFtZSB9PltdXG5cdFx0XHQ+XG5cdFx0XHR8IHVuZGVmaW5lZCxcblx0XHRyZWFkb25seSBpc051bGxhYmxlOiBUSXNOdWxsYWJsZSxcblx0KSB7XG5cdFx0c3VwZXIoc291cmNlVGFibGUsIHJlZmVyZW5jZWRUYWJsZSwgY29uZmlnPy5yZWxhdGlvbk5hbWUpO1xuXHR9XG5cblx0d2l0aEZpZWxkTmFtZShmaWVsZE5hbWU6IHN0cmluZyk6IE9uZTxUVGFibGVOYW1lPiB7XG5cdFx0Y29uc3QgcmVsYXRpb24gPSBuZXcgT25lKFxuXHRcdFx0dGhpcy5zb3VyY2VUYWJsZSxcblx0XHRcdHRoaXMucmVmZXJlbmNlZFRhYmxlLFxuXHRcdFx0dGhpcy5jb25maWcsXG5cdFx0XHR0aGlzLmlzTnVsbGFibGUsXG5cdFx0KTtcblx0XHRyZWxhdGlvbi5maWVsZE5hbWUgPSBmaWVsZE5hbWU7XG5cdFx0cmV0dXJuIHJlbGF0aW9uO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBNYW55PFRUYWJsZU5hbWUgZXh0ZW5kcyBzdHJpbmc+IGV4dGVuZHMgUmVsYXRpb248VFRhYmxlTmFtZT4ge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnTWFueSc7XG5cblx0ZGVjbGFyZSBwcm90ZWN0ZWQgJHJlbGF0aW9uQnJhbmQ6ICdNYW55JztcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRzb3VyY2VUYWJsZTogVGFibGUsXG5cdFx0cmVmZXJlbmNlZFRhYmxlOiBBbnlUYWJsZTx7IG5hbWU6IFRUYWJsZU5hbWUgfT4sXG5cdFx0cmVhZG9ubHkgY29uZmlnOiB7IHJlbGF0aW9uTmFtZTogc3RyaW5nIH0gfCB1bmRlZmluZWQsXG5cdCkge1xuXHRcdHN1cGVyKHNvdXJjZVRhYmxlLCByZWZlcmVuY2VkVGFibGUsIGNvbmZpZz8ucmVsYXRpb25OYW1lKTtcblx0fVxuXG5cdHdpdGhGaWVsZE5hbWUoZmllbGROYW1lOiBzdHJpbmcpOiBNYW55PFRUYWJsZU5hbWU+IHtcblx0XHRjb25zdCByZWxhdGlvbiA9IG5ldyBNYW55KFxuXHRcdFx0dGhpcy5zb3VyY2VUYWJsZSxcblx0XHRcdHRoaXMucmVmZXJlbmNlZFRhYmxlLFxuXHRcdFx0dGhpcy5jb25maWcsXG5cdFx0KTtcblx0XHRyZWxhdGlvbi5maWVsZE5hbWUgPSBmaWVsZE5hbWU7XG5cdFx0cmV0dXJuIHJlbGF0aW9uO1xuXHR9XG59XG5cbmV4cG9ydCB0eXBlIFRhYmxlUmVsYXRpb25zS2V5c09ubHk8XG5cdFRTY2hlbWEgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcblx0VFRhYmxlTmFtZSBleHRlbmRzIHN0cmluZyxcblx0SyBleHRlbmRzIGtleW9mIFRTY2hlbWEsXG4+ID0gVFNjaGVtYVtLXSBleHRlbmRzIFJlbGF0aW9uczxUVGFibGVOYW1lPiA/IEsgOiBuZXZlcjtcblxuZXhwb3J0IHR5cGUgRXh0cmFjdFRhYmxlUmVsYXRpb25zRnJvbVNjaGVtYTxcblx0VFNjaGVtYSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuXHRUVGFibGVOYW1lIGV4dGVuZHMgc3RyaW5nLFxuPiA9IEV4dHJhY3RPYmplY3RWYWx1ZXM8XG5cdHtcblx0XHRbXG5cdFx0XHRLIGluIGtleW9mIFRTY2hlbWEgYXMgVGFibGVSZWxhdGlvbnNLZXlzT25seTxcblx0XHRcdFx0VFNjaGVtYSxcblx0XHRcdFx0VFRhYmxlTmFtZSxcblx0XHRcdFx0S1xuXHRcdFx0PlxuXHRcdF06IFRTY2hlbWFbS10gZXh0ZW5kcyBSZWxhdGlvbnM8VFRhYmxlTmFtZSwgaW5mZXIgVENvbmZpZz4gPyBUQ29uZmlnIDogbmV2ZXI7XG5cdH1cbj47XG5cbmV4cG9ydCB0eXBlIEV4dHJhY3RPYmplY3RWYWx1ZXM8VD4gPSBUW2tleW9mIFRdO1xuXG5leHBvcnQgdHlwZSBFeHRyYWN0UmVsYXRpb25zRnJvbVRhYmxlRXh0cmFDb25maWdTY2hlbWE8XG5cdFRDb25maWcgZXh0ZW5kcyB1bmtub3duW10sXG4+ID0gRXh0cmFjdE9iamVjdFZhbHVlczxcblx0e1xuXHRcdFtcblx0XHRcdEsgaW4ga2V5b2YgVENvbmZpZyBhcyBUQ29uZmlnW0tdIGV4dGVuZHMgUmVsYXRpb25zPGFueT4gPyBLXG5cdFx0XHRcdDogbmV2ZXJcblx0XHRdOiBUQ29uZmlnW0tdIGV4dGVuZHMgUmVsYXRpb25zPGluZmVyIFRSZWxhdGlvbkNvbmZpZz4gPyBUUmVsYXRpb25Db25maWdcblx0XHRcdDogbmV2ZXI7XG5cdH1cbj47XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRPcGVyYXRvcnMoKSB7XG5cdHJldHVybiB7XG5cdFx0YW5kLFxuXHRcdGJldHdlZW4sXG5cdFx0ZXEsXG5cdFx0ZXhpc3RzLFxuXHRcdGd0LFxuXHRcdGd0ZSxcblx0XHRpbGlrZSxcblx0XHRpbkFycmF5LFxuXHRcdGlzTnVsbCxcblx0XHRpc05vdE51bGwsXG5cdFx0bGlrZSxcblx0XHRsdCxcblx0XHRsdGUsXG5cdFx0bmUsXG5cdFx0bm90LFxuXHRcdG5vdEJldHdlZW4sXG5cdFx0bm90RXhpc3RzLFxuXHRcdG5vdExpa2UsXG5cdFx0bm90SWxpa2UsXG5cdFx0bm90SW5BcnJheSxcblx0XHRvcixcblx0XHRzcWwsXG5cdH07XG59XG5cbmV4cG9ydCB0eXBlIE9wZXJhdG9ycyA9IFJldHVyblR5cGU8dHlwZW9mIGdldE9wZXJhdG9ycz47XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRPcmRlckJ5T3BlcmF0b3JzKCkge1xuXHRyZXR1cm4ge1xuXHRcdHNxbCxcblx0XHRhc2MsXG5cdFx0ZGVzYyxcblx0fTtcbn1cblxuZXhwb3J0IHR5cGUgT3JkZXJCeU9wZXJhdG9ycyA9IFJldHVyblR5cGU8dHlwZW9mIGdldE9yZGVyQnlPcGVyYXRvcnM+O1xuXG5leHBvcnQgdHlwZSBGaW5kVGFibGVCeURCTmFtZTxcblx0VFNjaGVtYSBleHRlbmRzIFRhYmxlc1JlbGF0aW9uYWxDb25maWcsXG5cdFRUYWJsZU5hbWUgZXh0ZW5kcyBzdHJpbmcsXG4+ID0gRXh0cmFjdE9iamVjdFZhbHVlczxcblx0e1xuXHRcdFtcblx0XHRcdEsgaW4ga2V5b2YgVFNjaGVtYSBhcyBUU2NoZW1hW0tdWydkYk5hbWUnXSBleHRlbmRzIFRUYWJsZU5hbWUgPyBLXG5cdFx0XHRcdDogbmV2ZXJcblx0XHRdOiBUU2NoZW1hW0tdO1xuXHR9XG4+O1xuXG5leHBvcnQgdHlwZSBEQlF1ZXJ5Q29uZmlnPFxuXHRUUmVsYXRpb25UeXBlIGV4dGVuZHMgJ29uZScgfCAnbWFueScgPSAnb25lJyB8ICdtYW55Jyxcblx0VElzUm9vdCBleHRlbmRzIGJvb2xlYW4gPSBib29sZWFuLFxuXHRUU2NoZW1hIGV4dGVuZHMgVGFibGVzUmVsYXRpb25hbENvbmZpZyA9IFRhYmxlc1JlbGF0aW9uYWxDb25maWcsXG5cdFRUYWJsZUNvbmZpZyBleHRlbmRzIFRhYmxlUmVsYXRpb25hbENvbmZpZyA9IFRhYmxlUmVsYXRpb25hbENvbmZpZyxcbj4gPVxuXHQmIHtcblx0XHRjb2x1bW5zPzoge1xuXHRcdFx0W0sgaW4ga2V5b2YgVFRhYmxlQ29uZmlnWydjb2x1bW5zJ11dPzogYm9vbGVhbjtcblx0XHR9O1xuXHRcdHdpdGg/OiB7XG5cdFx0XHRbSyBpbiBrZXlvZiBUVGFibGVDb25maWdbJ3JlbGF0aW9ucyddXT86XG5cdFx0XHRcdHwgdHJ1ZVxuXHRcdFx0XHR8IERCUXVlcnlDb25maWc8XG5cdFx0XHRcdFx0VFRhYmxlQ29uZmlnWydyZWxhdGlvbnMnXVtLXSBleHRlbmRzIE9uZSA/ICdvbmUnIDogJ21hbnknLFxuXHRcdFx0XHRcdGZhbHNlLFxuXHRcdFx0XHRcdFRTY2hlbWEsXG5cdFx0XHRcdFx0RmluZFRhYmxlQnlEQk5hbWU8XG5cdFx0XHRcdFx0XHRUU2NoZW1hLFxuXHRcdFx0XHRcdFx0VFRhYmxlQ29uZmlnWydyZWxhdGlvbnMnXVtLXVsncmVmZXJlbmNlZFRhYmxlTmFtZSddXG5cdFx0XHRcdFx0PlxuXHRcdFx0XHQ+O1xuXHRcdH07XG5cdFx0ZXh0cmFzPzpcblx0XHRcdHwgUmVjb3JkPHN0cmluZywgU1FMLkFsaWFzZWQ+XG5cdFx0XHR8ICgoXG5cdFx0XHRcdGZpZWxkczogU2ltcGxpZnk8XG5cdFx0XHRcdFx0W1RUYWJsZUNvbmZpZ1snY29sdW1ucyddXSBleHRlbmRzIFtuZXZlcl0gPyB7fVxuXHRcdFx0XHRcdFx0OiBUVGFibGVDb25maWdbJ2NvbHVtbnMnXVxuXHRcdFx0XHQ+LFxuXHRcdFx0XHRvcGVyYXRvcnM6IHsgc3FsOiBPcGVyYXRvcnNbJ3NxbCddIH0sXG5cdFx0XHQpID0+IFJlY29yZDxzdHJpbmcsIFNRTC5BbGlhc2VkPik7XG5cdH1cblx0JiAoVFJlbGF0aW9uVHlwZSBleHRlbmRzICdtYW55JyA/XG5cdFx0XHQmIHtcblx0XHRcdFx0d2hlcmU/OlxuXHRcdFx0XHRcdHwgU1FMXG5cdFx0XHRcdFx0fCB1bmRlZmluZWRcblx0XHRcdFx0XHR8ICgoXG5cdFx0XHRcdFx0XHRmaWVsZHM6IFNpbXBsaWZ5PFxuXHRcdFx0XHRcdFx0XHRbVFRhYmxlQ29uZmlnWydjb2x1bW5zJ11dIGV4dGVuZHMgW25ldmVyXSA/IHt9XG5cdFx0XHRcdFx0XHRcdFx0OiBUVGFibGVDb25maWdbJ2NvbHVtbnMnXVxuXHRcdFx0XHRcdFx0Pixcblx0XHRcdFx0XHRcdG9wZXJhdG9yczogT3BlcmF0b3JzLFxuXHRcdFx0XHRcdCkgPT4gU1FMIHwgdW5kZWZpbmVkKTtcblx0XHRcdFx0b3JkZXJCeT86XG5cdFx0XHRcdFx0fCBWYWx1ZU9yQXJyYXk8QW55Q29sdW1uIHwgU1FMPlxuXHRcdFx0XHRcdHwgKChcblx0XHRcdFx0XHRcdGZpZWxkczogU2ltcGxpZnk8XG5cdFx0XHRcdFx0XHRcdFtUVGFibGVDb25maWdbJ2NvbHVtbnMnXV0gZXh0ZW5kcyBbbmV2ZXJdID8ge31cblx0XHRcdFx0XHRcdFx0XHQ6IFRUYWJsZUNvbmZpZ1snY29sdW1ucyddXG5cdFx0XHRcdFx0XHQ+LFxuXHRcdFx0XHRcdFx0b3BlcmF0b3JzOiBPcmRlckJ5T3BlcmF0b3JzLFxuXHRcdFx0XHRcdCkgPT4gVmFsdWVPckFycmF5PEFueUNvbHVtbiB8IFNRTD4pO1xuXHRcdFx0XHRsaW1pdD86IG51bWJlciB8IFBsYWNlaG9sZGVyO1xuXHRcdFx0fVxuXHRcdFx0JiAoVElzUm9vdCBleHRlbmRzIHRydWUgPyB7XG5cdFx0XHRcdFx0b2Zmc2V0PzogbnVtYmVyIHwgUGxhY2Vob2xkZXI7XG5cdFx0XHRcdH1cblx0XHRcdFx0OiB7fSlcblx0XHQ6IHt9KTtcblxuZXhwb3J0IGludGVyZmFjZSBUYWJsZVJlbGF0aW9uYWxDb25maWcge1xuXHR0c05hbWU6IHN0cmluZztcblx0ZGJOYW1lOiBzdHJpbmc7XG5cdGNvbHVtbnM6IFJlY29yZDxzdHJpbmcsIENvbHVtbj47XG5cdHJlbGF0aW9uczogUmVjb3JkPHN0cmluZywgUmVsYXRpb24+O1xuXHRwcmltYXJ5S2V5OiBBbnlDb2x1bW5bXTtcblx0c2NoZW1hPzogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBUYWJsZXNSZWxhdGlvbmFsQ29uZmlnID0gUmVjb3JkPHN0cmluZywgVGFibGVSZWxhdGlvbmFsQ29uZmlnPjtcblxuZXhwb3J0IGludGVyZmFjZSBSZWxhdGlvbmFsU2NoZW1hQ29uZmlnPFxuXHRUU2NoZW1hIGV4dGVuZHMgVGFibGVzUmVsYXRpb25hbENvbmZpZyxcbj4ge1xuXHRmdWxsU2NoZW1hOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcblx0c2NoZW1hOiBUU2NoZW1hO1xuXHR0YWJsZU5hbWVzTWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xufVxuXG5leHBvcnQgdHlwZSBFeHRyYWN0VGFibGVzV2l0aFJlbGF0aW9uczxcblx0VFNjaGVtYSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuPiA9IHtcblx0W1xuXHRcdEsgaW4ga2V5b2YgVFNjaGVtYSBhcyBUU2NoZW1hW0tdIGV4dGVuZHMgVGFibGUgPyBLXG5cdFx0XHQ6IG5ldmVyXG5cdF06IFRTY2hlbWFbS10gZXh0ZW5kcyBUYWJsZSA/IHtcblx0XHRcdHRzTmFtZTogSyAmIHN0cmluZztcblx0XHRcdGRiTmFtZTogVFNjaGVtYVtLXVsnXyddWyduYW1lJ107XG5cdFx0XHRjb2x1bW5zOiBUU2NoZW1hW0tdWydfJ11bJ2NvbHVtbnMnXTtcblx0XHRcdHJlbGF0aW9uczogRXh0cmFjdFRhYmxlUmVsYXRpb25zRnJvbVNjaGVtYTxcblx0XHRcdFx0VFNjaGVtYSxcblx0XHRcdFx0VFNjaGVtYVtLXVsnXyddWyduYW1lJ11cblx0XHRcdD47XG5cdFx0XHRwcmltYXJ5S2V5OiBBbnlDb2x1bW5bXTtcblx0XHR9XG5cdFx0OiBuZXZlcjtcbn07XG5cbmV4cG9ydCB0eXBlIFJldHVyblR5cGVPclZhbHVlPFQ+ID0gVCBleHRlbmRzICguLi5hcmdzOiBhbnlbXSkgPT4gaW5mZXIgUiA/IFJcblx0OiBUO1xuXG5leHBvcnQgdHlwZSBCdWlsZFJlbGF0aW9uUmVzdWx0PFxuXHRUU2NoZW1hIGV4dGVuZHMgVGFibGVzUmVsYXRpb25hbENvbmZpZyxcblx0VEluY2x1ZGUsXG5cdFRSZWxhdGlvbnMgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBSZWxhdGlvbj4sXG4+ID0ge1xuXHRbXG5cdFx0SyBpblxuXHRcdFx0JiBOb25VbmRlZmluZWRLZXlzT25seTxUSW5jbHVkZT5cblx0XHRcdCYga2V5b2YgVFJlbGF0aW9uc1xuXHRdOiBUUmVsYXRpb25zW0tdIGV4dGVuZHMgaW5mZXIgVFJlbCBleHRlbmRzIFJlbGF0aW9uID8gQnVpbGRRdWVyeVJlc3VsdDxcblx0XHRcdFRTY2hlbWEsXG5cdFx0XHRGaW5kVGFibGVCeURCTmFtZTxUU2NoZW1hLCBUUmVsWydyZWZlcmVuY2VkVGFibGVOYW1lJ10+LFxuXHRcdFx0QXNzdW1lPFRJbmNsdWRlW0tdLCB0cnVlIHwgUmVjb3JkPHN0cmluZywgdW5rbm93bj4+XG5cdFx0PiBleHRlbmRzIGluZmVyIFRSZXN1bHQgPyBUUmVsIGV4dGVuZHMgT25lID9cblx0XHRcdFx0XHR8IFRSZXN1bHRcblx0XHRcdFx0XHR8IChFcXVhbDxUUmVsWydpc051bGxhYmxlJ10sIGZhbHNlPiBleHRlbmRzIHRydWUgPyBudWxsIDogbmV2ZXIpXG5cdFx0XHQ6IFRSZXN1bHRbXVxuXHRcdDogbmV2ZXJcblx0XHQ6IG5ldmVyO1xufTtcblxuZXhwb3J0IHR5cGUgTm9uVW5kZWZpbmVkS2V5c09ubHk8VD4gPVxuXHQmIEV4dHJhY3RPYmplY3RWYWx1ZXM8XG5cdFx0e1xuXHRcdFx0W0sgaW4ga2V5b2YgVCBhcyBUW0tdIGV4dGVuZHMgdW5kZWZpbmVkID8gbmV2ZXIgOiBLXTogSztcblx0XHR9XG5cdD5cblx0JiBrZXlvZiBUO1xuXG5leHBvcnQgdHlwZSBCdWlsZFF1ZXJ5UmVzdWx0PFxuXHRUU2NoZW1hIGV4dGVuZHMgVGFibGVzUmVsYXRpb25hbENvbmZpZyxcblx0VFRhYmxlQ29uZmlnIGV4dGVuZHMgVGFibGVSZWxhdGlvbmFsQ29uZmlnLFxuXHRURnVsbFNlbGVjdGlvbiBleHRlbmRzIHRydWUgfCBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcbj4gPSBFcXVhbDxURnVsbFNlbGVjdGlvbiwgdHJ1ZT4gZXh0ZW5kcyB0cnVlID8gSW5mZXJNb2RlbEZyb21Db2x1bW5zPFRUYWJsZUNvbmZpZ1snY29sdW1ucyddPlxuXHQ6IFRGdWxsU2VsZWN0aW9uIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPyBTaW1wbGlmeTxcblx0XHRcdCYgKFRGdWxsU2VsZWN0aW9uWydjb2x1bW5zJ10gZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA/IEluZmVyTW9kZWxGcm9tQ29sdW1uczxcblx0XHRcdFx0XHR7XG5cdFx0XHRcdFx0XHRbXG5cdFx0XHRcdFx0XHRcdEsgaW4gRXF1YWw8XG5cdFx0XHRcdFx0XHRcdFx0RXhjbHVkZTxcblx0XHRcdFx0XHRcdFx0XHRcdFRGdWxsU2VsZWN0aW9uWydjb2x1bW5zJ11bXG5cdFx0XHRcdFx0XHRcdFx0XHRcdCYga2V5b2YgVEZ1bGxTZWxlY3Rpb25bJ2NvbHVtbnMnXVxuXHRcdFx0XHRcdFx0XHRcdFx0XHQmIGtleW9mIFRUYWJsZUNvbmZpZ1snY29sdW1ucyddXG5cdFx0XHRcdFx0XHRcdFx0XHRdLFxuXHRcdFx0XHRcdFx0XHRcdFx0dW5kZWZpbmVkXG5cdFx0XHRcdFx0XHRcdFx0Pixcblx0XHRcdFx0XHRcdFx0XHRmYWxzZVxuXHRcdFx0XHRcdFx0XHQ+IGV4dGVuZHMgdHJ1ZSA/IEV4Y2x1ZGU8XG5cdFx0XHRcdFx0XHRcdFx0XHRrZXlvZiBUVGFibGVDb25maWdbJ2NvbHVtbnMnXSxcblx0XHRcdFx0XHRcdFx0XHRcdE5vblVuZGVmaW5lZEtleXNPbmx5PFRGdWxsU2VsZWN0aW9uWydjb2x1bW5zJ10+XG5cdFx0XHRcdFx0XHRcdFx0PlxuXHRcdFx0XHRcdFx0XHRcdDpcblx0XHRcdFx0XHRcdFx0XHRcdCYge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRbSyBpbiBrZXlvZiBURnVsbFNlbGVjdGlvblsnY29sdW1ucyddXTogRXF1YWw8XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0VEZ1bGxTZWxlY3Rpb25bJ2NvbHVtbnMnXVtLXSxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0cnVlXG5cdFx0XHRcdFx0XHRcdFx0XHRcdD4gZXh0ZW5kcyB0cnVlID8gS1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDogbmV2ZXI7XG5cdFx0XHRcdFx0XHRcdFx0XHR9W2tleW9mIFRGdWxsU2VsZWN0aW9uWydjb2x1bW5zJ11dXG5cdFx0XHRcdFx0XHRcdFx0XHQmIGtleW9mIFRUYWJsZUNvbmZpZ1snY29sdW1ucyddXG5cdFx0XHRcdFx0XHRdOiBUVGFibGVDb25maWdbJ2NvbHVtbnMnXVtLXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdD5cblx0XHRcdFx0OiBJbmZlck1vZGVsRnJvbUNvbHVtbnM8VFRhYmxlQ29uZmlnWydjb2x1bW5zJ10+KVxuXHRcdFx0JiAoVEZ1bGxTZWxlY3Rpb25bJ2V4dHJhcyddIGV4dGVuZHNcblx0XHRcdFx0fCBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPlxuXHRcdFx0XHR8ICgoLi4uYXJnczogYW55W10pID0+IFJlY29yZDxzdHJpbmcsIHVua25vd24+KSA/IHtcblx0XHRcdFx0XHRbXG5cdFx0XHRcdFx0XHRLIGluIE5vblVuZGVmaW5lZEtleXNPbmx5PFxuXHRcdFx0XHRcdFx0XHRSZXR1cm5UeXBlT3JWYWx1ZTxURnVsbFNlbGVjdGlvblsnZXh0cmFzJ10+XG5cdFx0XHRcdFx0XHQ+XG5cdFx0XHRcdFx0XTogQXNzdW1lPFxuXHRcdFx0XHRcdFx0UmV0dXJuVHlwZU9yVmFsdWU8VEZ1bGxTZWxlY3Rpb25bJ2V4dHJhcyddPltLXSxcblx0XHRcdFx0XHRcdFNRTC5BbGlhc2VkXG5cdFx0XHRcdFx0PlsnXyddWyd0eXBlJ107XG5cdFx0XHRcdH1cblx0XHRcdFx0OiB7fSlcblx0XHRcdCYgKFRGdWxsU2VsZWN0aW9uWyd3aXRoJ10gZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA/IEJ1aWxkUmVsYXRpb25SZXN1bHQ8XG5cdFx0XHRcdFx0VFNjaGVtYSxcblx0XHRcdFx0XHRURnVsbFNlbGVjdGlvblsnd2l0aCddLFxuXHRcdFx0XHRcdFRUYWJsZUNvbmZpZ1sncmVsYXRpb25zJ11cblx0XHRcdFx0PlxuXHRcdFx0XHQ6IHt9KVxuXHRcdD5cblx0OiBuZXZlcjtcblxuZXhwb3J0IGludGVyZmFjZSBSZWxhdGlvbkNvbmZpZzxcblx0VFRhYmxlTmFtZSBleHRlbmRzIHN0cmluZyxcblx0VEZvcmVpZ25UYWJsZU5hbWUgZXh0ZW5kcyBzdHJpbmcsXG5cdFRDb2x1bW5zIGV4dGVuZHMgQW55Q29sdW1uPHsgdGFibGVOYW1lOiBUVGFibGVOYW1lIH0+W10sXG4+IHtcblx0cmVsYXRpb25OYW1lPzogc3RyaW5nO1xuXHRmaWVsZHM6IFRDb2x1bW5zO1xuXHRyZWZlcmVuY2VzOiBDb2x1bW5zV2l0aFRhYmxlPFRUYWJsZU5hbWUsIFRGb3JlaWduVGFibGVOYW1lLCBUQ29sdW1ucz47XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0VGFibGVzUmVsYXRpb25hbENvbmZpZzxcblx0VFRhYmxlcyBleHRlbmRzIFRhYmxlc1JlbGF0aW9uYWxDb25maWcsXG4+KFxuXHRzY2hlbWE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuXHRjb25maWdIZWxwZXJzOiAodGFibGU6IFRhYmxlKSA9PiBhbnksXG4pOiB7IHRhYmxlczogVFRhYmxlczsgdGFibGVOYW1lc01hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiB9IHtcblx0aWYgKFxuXHRcdE9iamVjdC5rZXlzKHNjaGVtYSkubGVuZ3RoID09PSAxXG5cdFx0JiYgJ2RlZmF1bHQnIGluIHNjaGVtYVxuXHRcdCYmICFpcyhzY2hlbWFbJ2RlZmF1bHQnXSwgVGFibGUpXG5cdCkge1xuXHRcdHNjaGVtYSA9IHNjaGVtYVsnZGVmYXVsdCddIGFzIFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHR9XG5cblx0Ly8gdGFibGUgREIgbmFtZSAtPiBzY2hlbWEgdGFibGUga2V5XG5cdGNvbnN0IHRhYmxlTmFtZXNNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7fTtcblx0Ly8gVGFibGUgcmVsYXRpb25zIGZvdW5kIGJlZm9yZSB0aGVpciB0YWJsZXMgLSBuZWVkIHRvIGJ1ZmZlciB0aGVtIHVudGlsIHdlIGtub3cgdGhlIHNjaGVtYSB0YWJsZSBrZXlcblx0Y29uc3QgcmVsYXRpb25zQnVmZmVyOiBSZWNvcmQ8XG5cdFx0c3RyaW5nLFxuXHRcdHsgcmVsYXRpb25zOiBSZWNvcmQ8c3RyaW5nLCBSZWxhdGlvbj47IHByaW1hcnlLZXk/OiBBbnlDb2x1bW5bXSB9XG5cdD4gPSB7fTtcblx0Y29uc3QgdGFibGVzQ29uZmlnOiBUYWJsZXNSZWxhdGlvbmFsQ29uZmlnID0ge307XG5cdGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHNjaGVtYSkpIHtcblx0XHRpZiAoaXModmFsdWUsIFRhYmxlKSkge1xuXHRcdFx0Y29uc3QgZGJOYW1lID0gZ2V0VGFibGVVbmlxdWVOYW1lKHZhbHVlKTtcblx0XHRcdGNvbnN0IGJ1ZmZlcmVkUmVsYXRpb25zID0gcmVsYXRpb25zQnVmZmVyW2RiTmFtZV07XG5cdFx0XHR0YWJsZU5hbWVzTWFwW2RiTmFtZV0gPSBrZXk7XG5cdFx0XHR0YWJsZXNDb25maWdba2V5XSA9IHtcblx0XHRcdFx0dHNOYW1lOiBrZXksXG5cdFx0XHRcdGRiTmFtZTogdmFsdWVbVGFibGUuU3ltYm9sLk5hbWVdLFxuXHRcdFx0XHRzY2hlbWE6IHZhbHVlW1RhYmxlLlN5bWJvbC5TY2hlbWFdLFxuXHRcdFx0XHRjb2x1bW5zOiB2YWx1ZVtUYWJsZS5TeW1ib2wuQ29sdW1uc10sXG5cdFx0XHRcdHJlbGF0aW9uczogYnVmZmVyZWRSZWxhdGlvbnM/LnJlbGF0aW9ucyA/PyB7fSxcblx0XHRcdFx0cHJpbWFyeUtleTogYnVmZmVyZWRSZWxhdGlvbnM/LnByaW1hcnlLZXkgPz8gW10sXG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBGaWxsIGluIHByaW1hcnkga2V5c1xuXHRcdFx0Zm9yIChcblx0XHRcdFx0Y29uc3QgY29sdW1uIG9mIE9iamVjdC52YWx1ZXMoXG5cdFx0XHRcdFx0KHZhbHVlIGFzIFRhYmxlKVtUYWJsZS5TeW1ib2wuQ29sdW1uc10sXG5cdFx0XHRcdClcblx0XHRcdCkge1xuXHRcdFx0XHRpZiAoY29sdW1uLnByaW1hcnkpIHtcblx0XHRcdFx0XHR0YWJsZXNDb25maWdba2V5XSEucHJpbWFyeUtleS5wdXNoKGNvbHVtbik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgZXh0cmFDb25maWcgPSB2YWx1ZVtUYWJsZS5TeW1ib2wuRXh0cmFDb25maWdCdWlsZGVyXT8uKCh2YWx1ZSBhcyBUYWJsZSlbVGFibGUuU3ltYm9sLkV4dHJhQ29uZmlnQ29sdW1uc10pO1xuXHRcdFx0aWYgKGV4dHJhQ29uZmlnKSB7XG5cdFx0XHRcdGZvciAoY29uc3QgY29uZmlnRW50cnkgb2YgT2JqZWN0LnZhbHVlcyhleHRyYUNvbmZpZykpIHtcblx0XHRcdFx0XHRpZiAoaXMoY29uZmlnRW50cnksIFByaW1hcnlLZXlCdWlsZGVyKSkge1xuXHRcdFx0XHRcdFx0dGFibGVzQ29uZmlnW2tleV0hLnByaW1hcnlLZXkucHVzaCguLi5jb25maWdFbnRyeS5jb2x1bW5zKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2UgaWYgKGlzKHZhbHVlLCBSZWxhdGlvbnMpKSB7XG5cdFx0XHRjb25zdCBkYk5hbWUgPSBnZXRUYWJsZVVuaXF1ZU5hbWUodmFsdWUudGFibGUpO1xuXHRcdFx0Y29uc3QgdGFibGVOYW1lID0gdGFibGVOYW1lc01hcFtkYk5hbWVdO1xuXHRcdFx0Y29uc3QgcmVsYXRpb25zOiBSZWNvcmQ8c3RyaW5nLCBSZWxhdGlvbj4gPSB2YWx1ZS5jb25maWcoXG5cdFx0XHRcdGNvbmZpZ0hlbHBlcnModmFsdWUudGFibGUpLFxuXHRcdFx0KTtcblx0XHRcdGxldCBwcmltYXJ5S2V5OiBBbnlDb2x1bW5bXSB8IHVuZGVmaW5lZDtcblxuXHRcdFx0Zm9yIChjb25zdCBbcmVsYXRpb25OYW1lLCByZWxhdGlvbl0gb2YgT2JqZWN0LmVudHJpZXMocmVsYXRpb25zKSkge1xuXHRcdFx0XHRpZiAodGFibGVOYW1lKSB7XG5cdFx0XHRcdFx0Y29uc3QgdGFibGVDb25maWcgPSB0YWJsZXNDb25maWdbdGFibGVOYW1lXSE7XG5cdFx0XHRcdFx0dGFibGVDb25maWcucmVsYXRpb25zW3JlbGF0aW9uTmFtZV0gPSByZWxhdGlvbjtcblx0XHRcdFx0XHRpZiAocHJpbWFyeUtleSkge1xuXHRcdFx0XHRcdFx0dGFibGVDb25maWcucHJpbWFyeUtleS5wdXNoKC4uLnByaW1hcnlLZXkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAoIShkYk5hbWUgaW4gcmVsYXRpb25zQnVmZmVyKSkge1xuXHRcdFx0XHRcdFx0cmVsYXRpb25zQnVmZmVyW2RiTmFtZV0gPSB7XG5cdFx0XHRcdFx0XHRcdHJlbGF0aW9uczoge30sXG5cdFx0XHRcdFx0XHRcdHByaW1hcnlLZXksXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZWxhdGlvbnNCdWZmZXJbZGJOYW1lXSEucmVsYXRpb25zW3JlbGF0aW9uTmFtZV0gPSByZWxhdGlvbjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiB7IHRhYmxlczogdGFibGVzQ29uZmlnIGFzIFRUYWJsZXMsIHRhYmxlTmFtZXNNYXAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbGF0aW9uczxcblx0VFRhYmxlTmFtZSBleHRlbmRzIHN0cmluZyxcblx0VFJlbGF0aW9ucyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIFJlbGF0aW9uPGFueT4+LFxuPihcblx0dGFibGU6IEFueVRhYmxlPHsgbmFtZTogVFRhYmxlTmFtZSB9Pixcblx0cmVsYXRpb25zOiAoaGVscGVyczogVGFibGVSZWxhdGlvbnNIZWxwZXJzPFRUYWJsZU5hbWU+KSA9PiBUUmVsYXRpb25zLFxuKTogUmVsYXRpb25zPFRUYWJsZU5hbWUsIFRSZWxhdGlvbnM+IHtcblx0cmV0dXJuIG5ldyBSZWxhdGlvbnM8VFRhYmxlTmFtZSwgVFJlbGF0aW9ucz4oXG5cdFx0dGFibGUsXG5cdFx0KGhlbHBlcnM6IFRhYmxlUmVsYXRpb25zSGVscGVyczxUVGFibGVOYW1lPikgPT5cblx0XHRcdE9iamVjdC5mcm9tRW50cmllcyhcblx0XHRcdFx0T2JqZWN0LmVudHJpZXMocmVsYXRpb25zKGhlbHBlcnMpKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gW1xuXHRcdFx0XHRcdGtleSxcblx0XHRcdFx0XHR2YWx1ZS53aXRoRmllbGROYW1lKGtleSksXG5cdFx0XHRcdF0pLFxuXHRcdFx0KSBhcyBUUmVsYXRpb25zLFxuXHQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT25lPFRUYWJsZU5hbWUgZXh0ZW5kcyBzdHJpbmc+KHNvdXJjZVRhYmxlOiBUYWJsZSkge1xuXHRyZXR1cm4gZnVuY3Rpb24gb25lPFxuXHRcdFRGb3JlaWduVGFibGUgZXh0ZW5kcyBUYWJsZSxcblx0XHRUQ29sdW1ucyBleHRlbmRzIFtcblx0XHRcdEFueUNvbHVtbjx7IHRhYmxlTmFtZTogVFRhYmxlTmFtZSB9Pixcblx0XHRcdC4uLkFueUNvbHVtbjx7IHRhYmxlTmFtZTogVFRhYmxlTmFtZSB9PltdLFxuXHRcdF0sXG5cdD4oXG5cdFx0dGFibGU6IFRGb3JlaWduVGFibGUsXG5cdFx0Y29uZmlnPzogUmVsYXRpb25Db25maWc8VFRhYmxlTmFtZSwgVEZvcmVpZ25UYWJsZVsnXyddWyduYW1lJ10sIFRDb2x1bW5zPixcblx0KTogT25lPFxuXHRcdFRGb3JlaWduVGFibGVbJ18nXVsnbmFtZSddLFxuXHRcdEVxdWFsPFRDb2x1bW5zW251bWJlcl1bJ18nXVsnbm90TnVsbCddLCB0cnVlPlxuXHQ+IHtcblx0XHRyZXR1cm4gbmV3IE9uZShcblx0XHRcdHNvdXJjZVRhYmxlLFxuXHRcdFx0dGFibGUsXG5cdFx0XHRjb25maWcsXG5cdFx0XHQoY29uZmlnPy5maWVsZHMucmVkdWNlPGJvb2xlYW4+KChyZXMsIGYpID0+IHJlcyAmJiBmLm5vdE51bGwsIHRydWUpXG5cdFx0XHRcdD8/IGZhbHNlKSBhcyBFcXVhbDxUQ29sdW1uc1tudW1iZXJdWydfJ11bJ25vdE51bGwnXSwgdHJ1ZT4sXG5cdFx0KTtcblx0fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1hbnkoc291cmNlVGFibGU6IFRhYmxlKSB7XG5cdHJldHVybiBmdW5jdGlvbiBtYW55PFRGb3JlaWduVGFibGUgZXh0ZW5kcyBUYWJsZT4oXG5cdFx0cmVmZXJlbmNlZFRhYmxlOiBURm9yZWlnblRhYmxlLFxuXHRcdGNvbmZpZz86IHsgcmVsYXRpb25OYW1lOiBzdHJpbmcgfSxcblx0KTogTWFueTxURm9yZWlnblRhYmxlWydfJ11bJ25hbWUnXT4ge1xuXHRcdHJldHVybiBuZXcgTWFueShzb3VyY2VUYWJsZSwgcmVmZXJlbmNlZFRhYmxlLCBjb25maWcpO1xuXHR9O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIE5vcm1hbGl6ZWRSZWxhdGlvbiB7XG5cdGZpZWxkczogQW55Q29sdW1uW107XG5cdHJlZmVyZW5jZXM6IEFueUNvbHVtbltdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplUmVsYXRpb24oXG5cdHNjaGVtYTogVGFibGVzUmVsYXRpb25hbENvbmZpZyxcblx0dGFibGVOYW1lc01hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPixcblx0cmVsYXRpb246IFJlbGF0aW9uLFxuKTogTm9ybWFsaXplZFJlbGF0aW9uIHtcblx0aWYgKGlzKHJlbGF0aW9uLCBPbmUpICYmIHJlbGF0aW9uLmNvbmZpZykge1xuXHRcdHJldHVybiB7XG5cdFx0XHRmaWVsZHM6IHJlbGF0aW9uLmNvbmZpZy5maWVsZHMsXG5cdFx0XHRyZWZlcmVuY2VzOiByZWxhdGlvbi5jb25maWcucmVmZXJlbmNlcyxcblx0XHR9O1xuXHR9XG5cblx0Y29uc3QgcmVmZXJlbmNlZFRhYmxlVHNOYW1lID0gdGFibGVOYW1lc01hcFtnZXRUYWJsZVVuaXF1ZU5hbWUocmVsYXRpb24ucmVmZXJlbmNlZFRhYmxlKV07XG5cdGlmICghcmVmZXJlbmNlZFRhYmxlVHNOYW1lKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0YFRhYmxlIFwiJHtyZWxhdGlvbi5yZWZlcmVuY2VkVGFibGVbVGFibGUuU3ltYm9sLk5hbWVdfVwiIG5vdCBmb3VuZCBpbiBzY2hlbWFgLFxuXHRcdCk7XG5cdH1cblxuXHRjb25zdCByZWZlcmVuY2VkVGFibGVDb25maWcgPSBzY2hlbWFbcmVmZXJlbmNlZFRhYmxlVHNOYW1lXTtcblx0aWYgKCFyZWZlcmVuY2VkVGFibGVDb25maWcpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoYFRhYmxlIFwiJHtyZWZlcmVuY2VkVGFibGVUc05hbWV9XCIgbm90IGZvdW5kIGluIHNjaGVtYWApO1xuXHR9XG5cblx0Y29uc3Qgc291cmNlVGFibGUgPSByZWxhdGlvbi5zb3VyY2VUYWJsZTtcblx0Y29uc3Qgc291cmNlVGFibGVUc05hbWUgPSB0YWJsZU5hbWVzTWFwW2dldFRhYmxlVW5pcXVlTmFtZShzb3VyY2VUYWJsZSldO1xuXHRpZiAoIXNvdXJjZVRhYmxlVHNOYW1lKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0YFRhYmxlIFwiJHtzb3VyY2VUYWJsZVtUYWJsZS5TeW1ib2wuTmFtZV19XCIgbm90IGZvdW5kIGluIHNjaGVtYWAsXG5cdFx0KTtcblx0fVxuXG5cdGNvbnN0IHJldmVyc2VSZWxhdGlvbnM6IFJlbGF0aW9uW10gPSBbXTtcblx0Zm9yIChcblx0XHRjb25zdCByZWZlcmVuY2VkVGFibGVSZWxhdGlvbiBvZiBPYmplY3QudmFsdWVzKFxuXHRcdFx0cmVmZXJlbmNlZFRhYmxlQ29uZmlnLnJlbGF0aW9ucyxcblx0XHQpXG5cdCkge1xuXHRcdGlmIChcblx0XHRcdChyZWxhdGlvbi5yZWxhdGlvbk5hbWVcblx0XHRcdFx0JiYgcmVsYXRpb24gIT09IHJlZmVyZW5jZWRUYWJsZVJlbGF0aW9uXG5cdFx0XHRcdCYmIHJlZmVyZW5jZWRUYWJsZVJlbGF0aW9uLnJlbGF0aW9uTmFtZSA9PT0gcmVsYXRpb24ucmVsYXRpb25OYW1lKVxuXHRcdFx0fHwgKCFyZWxhdGlvbi5yZWxhdGlvbk5hbWVcblx0XHRcdFx0JiYgcmVmZXJlbmNlZFRhYmxlUmVsYXRpb24ucmVmZXJlbmNlZFRhYmxlID09PSByZWxhdGlvbi5zb3VyY2VUYWJsZSlcblx0XHQpIHtcblx0XHRcdHJldmVyc2VSZWxhdGlvbnMucHVzaChyZWZlcmVuY2VkVGFibGVSZWxhdGlvbik7XG5cdFx0fVxuXHR9XG5cblx0aWYgKHJldmVyc2VSZWxhdGlvbnMubGVuZ3RoID4gMSkge1xuXHRcdHRocm93IHJlbGF0aW9uLnJlbGF0aW9uTmFtZVxuXHRcdFx0PyBuZXcgRXJyb3IoXG5cdFx0XHRcdGBUaGVyZSBhcmUgbXVsdGlwbGUgcmVsYXRpb25zIHdpdGggbmFtZSBcIiR7cmVsYXRpb24ucmVsYXRpb25OYW1lfVwiIGluIHRhYmxlIFwiJHtyZWZlcmVuY2VkVGFibGVUc05hbWV9XCJgLFxuXHRcdFx0KVxuXHRcdFx0OiBuZXcgRXJyb3IoXG5cdFx0XHRcdGBUaGVyZSBhcmUgbXVsdGlwbGUgcmVsYXRpb25zIGJldHdlZW4gXCIke3JlZmVyZW5jZWRUYWJsZVRzTmFtZX1cIiBhbmQgXCIke1xuXHRcdFx0XHRcdHJlbGF0aW9uLnNvdXJjZVRhYmxlW1RhYmxlLlN5bWJvbC5OYW1lXVxuXHRcdFx0XHR9XCIuIFBsZWFzZSBzcGVjaWZ5IHJlbGF0aW9uIG5hbWVgLFxuXHRcdFx0KTtcblx0fVxuXG5cdGlmIChcblx0XHRyZXZlcnNlUmVsYXRpb25zWzBdXG5cdFx0JiYgaXMocmV2ZXJzZVJlbGF0aW9uc1swXSwgT25lKVxuXHRcdCYmIHJldmVyc2VSZWxhdGlvbnNbMF0uY29uZmlnXG5cdCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRmaWVsZHM6IHJldmVyc2VSZWxhdGlvbnNbMF0uY29uZmlnLnJlZmVyZW5jZXMsXG5cdFx0XHRyZWZlcmVuY2VzOiByZXZlcnNlUmVsYXRpb25zWzBdLmNvbmZpZy5maWVsZHMsXG5cdFx0fTtcblx0fVxuXG5cdHRocm93IG5ldyBFcnJvcihcblx0XHRgVGhlcmUgaXMgbm90IGVub3VnaCBpbmZvcm1hdGlvbiB0byBpbmZlciByZWxhdGlvbiBcIiR7c291cmNlVGFibGVUc05hbWV9LiR7cmVsYXRpb24uZmllbGROYW1lfVwiYCxcblx0KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRhYmxlUmVsYXRpb25zSGVscGVyczxUVGFibGVOYW1lIGV4dGVuZHMgc3RyaW5nPihcblx0c291cmNlVGFibGU6IEFueVRhYmxlPHsgbmFtZTogVFRhYmxlTmFtZSB9Pixcbikge1xuXHRyZXR1cm4ge1xuXHRcdG9uZTogY3JlYXRlT25lPFRUYWJsZU5hbWU+KHNvdXJjZVRhYmxlKSxcblx0XHRtYW55OiBjcmVhdGVNYW55KHNvdXJjZVRhYmxlKSxcblx0fTtcbn1cblxuZXhwb3J0IHR5cGUgVGFibGVSZWxhdGlvbnNIZWxwZXJzPFRUYWJsZU5hbWUgZXh0ZW5kcyBzdHJpbmc+ID0gUmV0dXJuVHlwZTxcblx0dHlwZW9mIGNyZWF0ZVRhYmxlUmVsYXRpb25zSGVscGVyczxUVGFibGVOYW1lPlxuPjtcblxuZXhwb3J0IGludGVyZmFjZSBCdWlsZFJlbGF0aW9uYWxRdWVyeVJlc3VsdDxcblx0VFRhYmxlIGV4dGVuZHMgVGFibGUgPSBUYWJsZSxcblx0VENvbHVtbiBleHRlbmRzIENvbHVtbiA9IENvbHVtbixcbj4ge1xuXHR0YWJsZVRzS2V5OiBzdHJpbmc7XG5cdHNlbGVjdGlvbjoge1xuXHRcdGRiS2V5OiBzdHJpbmc7XG5cdFx0dHNLZXk6IHN0cmluZztcblx0XHRmaWVsZDogVENvbHVtbiB8IFNRTCB8IFNRTC5BbGlhc2VkO1xuXHRcdHJlbGF0aW9uVGFibGVUc0tleTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXHRcdGlzSnNvbjogYm9vbGVhbjtcblx0XHRpc0V4dHJhPzogYm9vbGVhbjtcblx0XHRzZWxlY3Rpb246IEJ1aWxkUmVsYXRpb25hbFF1ZXJ5UmVzdWx0PFRUYWJsZT5bJ3NlbGVjdGlvbiddO1xuXHR9W107XG5cdHNxbDogVFRhYmxlIHwgU1FMO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFwUmVsYXRpb25hbFJvdyhcblx0dGFibGVzQ29uZmlnOiBUYWJsZXNSZWxhdGlvbmFsQ29uZmlnLFxuXHR0YWJsZUNvbmZpZzogVGFibGVSZWxhdGlvbmFsQ29uZmlnLFxuXHRyb3c6IHVua25vd25bXSxcblx0YnVpbGRRdWVyeVJlc3VsdFNlbGVjdGlvbjogQnVpbGRSZWxhdGlvbmFsUXVlcnlSZXN1bHRbJ3NlbGVjdGlvbiddLFxuXHRtYXBDb2x1bW5WYWx1ZTogKHZhbHVlOiB1bmtub3duKSA9PiB1bmtub3duID0gKHZhbHVlKSA9PiB2YWx1ZSxcbik6IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcblx0Y29uc3QgcmVzdWx0OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IHt9O1xuXG5cdGZvciAoXG5cdFx0Y29uc3QgW1xuXHRcdFx0c2VsZWN0aW9uSXRlbUluZGV4LFxuXHRcdFx0c2VsZWN0aW9uSXRlbSxcblx0XHRdIG9mIGJ1aWxkUXVlcnlSZXN1bHRTZWxlY3Rpb24uZW50cmllcygpXG5cdCkge1xuXHRcdGlmIChzZWxlY3Rpb25JdGVtLmlzSnNvbikge1xuXHRcdFx0Y29uc3QgcmVsYXRpb24gPSB0YWJsZUNvbmZpZy5yZWxhdGlvbnNbc2VsZWN0aW9uSXRlbS50c0tleV0hO1xuXHRcdFx0Y29uc3QgcmF3U3ViUm93cyA9IHJvd1tzZWxlY3Rpb25JdGVtSW5kZXhdIGFzXG5cdFx0XHRcdHwgdW5rbm93bltdXG5cdFx0XHRcdHwgbnVsbFxuXHRcdFx0XHR8IFtudWxsXVxuXHRcdFx0XHR8IHN0cmluZztcblx0XHRcdGNvbnN0IHN1YlJvd3MgPSB0eXBlb2YgcmF3U3ViUm93cyA9PT0gJ3N0cmluZydcblx0XHRcdFx0PyAoSlNPTi5wYXJzZShyYXdTdWJSb3dzKSBhcyB1bmtub3duW10pXG5cdFx0XHRcdDogcmF3U3ViUm93cztcblx0XHRcdHJlc3VsdFtzZWxlY3Rpb25JdGVtLnRzS2V5XSA9IGlzKHJlbGF0aW9uLCBPbmUpXG5cdFx0XHRcdD8gc3ViUm93c1xuXHRcdFx0XHRcdCYmIG1hcFJlbGF0aW9uYWxSb3coXG5cdFx0XHRcdFx0XHR0YWJsZXNDb25maWcsXG5cdFx0XHRcdFx0XHR0YWJsZXNDb25maWdbc2VsZWN0aW9uSXRlbS5yZWxhdGlvblRhYmxlVHNLZXkhXSEsXG5cdFx0XHRcdFx0XHRzdWJSb3dzLFxuXHRcdFx0XHRcdFx0c2VsZWN0aW9uSXRlbS5zZWxlY3Rpb24sXG5cdFx0XHRcdFx0XHRtYXBDb2x1bW5WYWx1ZSxcblx0XHRcdFx0XHQpXG5cdFx0XHRcdDogKHN1YlJvd3MgYXMgdW5rbm93bltdW10pLm1hcCgoc3ViUm93KSA9PlxuXHRcdFx0XHRcdG1hcFJlbGF0aW9uYWxSb3coXG5cdFx0XHRcdFx0XHR0YWJsZXNDb25maWcsXG5cdFx0XHRcdFx0XHR0YWJsZXNDb25maWdbc2VsZWN0aW9uSXRlbS5yZWxhdGlvblRhYmxlVHNLZXkhXSEsXG5cdFx0XHRcdFx0XHRzdWJSb3csXG5cdFx0XHRcdFx0XHRzZWxlY3Rpb25JdGVtLnNlbGVjdGlvbixcblx0XHRcdFx0XHRcdG1hcENvbHVtblZhbHVlLFxuXHRcdFx0XHRcdClcblx0XHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc3QgdmFsdWUgPSBtYXBDb2x1bW5WYWx1ZShyb3dbc2VsZWN0aW9uSXRlbUluZGV4XSk7XG5cdFx0XHRjb25zdCBmaWVsZCA9IHNlbGVjdGlvbkl0ZW0uZmllbGQhO1xuXHRcdFx0bGV0IGRlY29kZXI7XG5cdFx0XHRpZiAoaXMoZmllbGQsIENvbHVtbikpIHtcblx0XHRcdFx0ZGVjb2RlciA9IGZpZWxkO1xuXHRcdFx0fSBlbHNlIGlmIChpcyhmaWVsZCwgU1FMKSkge1xuXHRcdFx0XHRkZWNvZGVyID0gZmllbGQuZGVjb2Rlcjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGRlY29kZXIgPSBmaWVsZC5zcWwuZGVjb2Rlcjtcblx0XHRcdH1cblx0XHRcdHJlc3VsdFtzZWxlY3Rpb25JdGVtLnRzS2V5XSA9IHZhbHVlID09PSBudWxsID8gbnVsbCA6IGRlY29kZXIubWFwRnJvbURyaXZlclZhbHVlKHZhbHVlKTtcblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0O1xufVxuIiwgImltcG9ydCB0eXBlIHsgQW55Q29sdW1uIH0gZnJvbSAnLi9jb2x1bW4udHMnO1xuaW1wb3J0IHsgQ29sdW1uIH0gZnJvbSAnLi9jb2x1bW4udHMnO1xuaW1wb3J0IHsgZW50aXR5S2luZCwgaXMgfSBmcm9tICcuL2VudGl0eS50cyc7XG5pbXBvcnQgdHlwZSB7IFJlbGF0aW9uIH0gZnJvbSAnLi9yZWxhdGlvbnMudHMnO1xuaW1wb3J0IHR5cGUgeyBWaWV3IH0gZnJvbSAnLi9zcWwvc3FsLnRzJztcbmltcG9ydCB7IFNRTCwgc3FsIH0gZnJvbSAnLi9zcWwvc3FsLnRzJztcbmltcG9ydCB7IFRhYmxlIH0gZnJvbSAnLi90YWJsZS50cyc7XG5pbXBvcnQgeyBWaWV3QmFzZUNvbmZpZyB9IGZyb20gJy4vdmlldy1jb21tb24udHMnO1xuXG5leHBvcnQgY2xhc3MgQ29sdW1uQWxpYXNQcm94eUhhbmRsZXI8VENvbHVtbiBleHRlbmRzIENvbHVtbj4gaW1wbGVtZW50cyBQcm94eUhhbmRsZXI8VENvbHVtbj4ge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnQ29sdW1uQWxpYXNQcm94eUhhbmRsZXInO1xuXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgdGFibGU6IFRhYmxlIHwgVmlldykge31cblxuXHRnZXQoY29sdW1uT2JqOiBUQ29sdW1uLCBwcm9wOiBzdHJpbmcgfCBzeW1ib2wpOiBhbnkge1xuXHRcdGlmIChwcm9wID09PSAndGFibGUnKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy50YWJsZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gY29sdW1uT2JqW3Byb3AgYXMga2V5b2YgVENvbHVtbl07XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFRhYmxlQWxpYXNQcm94eUhhbmRsZXI8VCBleHRlbmRzIFRhYmxlIHwgVmlldz4gaW1wbGVtZW50cyBQcm94eUhhbmRsZXI8VD4ge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnVGFibGVBbGlhc1Byb3h5SGFuZGxlcic7XG5cblx0Y29uc3RydWN0b3IocHJpdmF0ZSBhbGlhczogc3RyaW5nLCBwcml2YXRlIHJlcGxhY2VPcmlnaW5hbE5hbWU6IGJvb2xlYW4pIHt9XG5cblx0Z2V0KHRhcmdldDogVCwgcHJvcDogc3RyaW5nIHwgc3ltYm9sKTogYW55IHtcblx0XHRpZiAocHJvcCA9PT0gVGFibGUuU3ltYm9sLklzQWxpYXMpIHtcblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH1cblxuXHRcdGlmIChwcm9wID09PSBUYWJsZS5TeW1ib2wuTmFtZSkge1xuXHRcdFx0cmV0dXJuIHRoaXMuYWxpYXM7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMucmVwbGFjZU9yaWdpbmFsTmFtZSAmJiBwcm9wID09PSBUYWJsZS5TeW1ib2wuT3JpZ2luYWxOYW1lKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5hbGlhcztcblx0XHR9XG5cblx0XHRpZiAocHJvcCA9PT0gVmlld0Jhc2VDb25maWcpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdC4uLnRhcmdldFtWaWV3QmFzZUNvbmZpZyBhcyBrZXlvZiB0eXBlb2YgdGFyZ2V0XSxcblx0XHRcdFx0bmFtZTogdGhpcy5hbGlhcyxcblx0XHRcdFx0aXNBbGlhczogdHJ1ZSxcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0aWYgKHByb3AgPT09IFRhYmxlLlN5bWJvbC5Db2x1bW5zKSB7XG5cdFx0XHRjb25zdCBjb2x1bW5zID0gKHRhcmdldCBhcyBUYWJsZSlbVGFibGUuU3ltYm9sLkNvbHVtbnNdO1xuXHRcdFx0aWYgKCFjb2x1bW5zKSB7XG5cdFx0XHRcdHJldHVybiBjb2x1bW5zO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBwcm94aWVkQ29sdW1uczogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9O1xuXG5cdFx0XHRPYmplY3Qua2V5cyhjb2x1bW5zKS5tYXAoKGtleSkgPT4ge1xuXHRcdFx0XHRwcm94aWVkQ29sdW1uc1trZXldID0gbmV3IFByb3h5KFxuXHRcdFx0XHRcdGNvbHVtbnNba2V5XSEsXG5cdFx0XHRcdFx0bmV3IENvbHVtbkFsaWFzUHJveHlIYW5kbGVyKG5ldyBQcm94eSh0YXJnZXQsIHRoaXMpKSxcblx0XHRcdFx0KTtcblx0XHRcdH0pO1xuXG5cdFx0XHRyZXR1cm4gcHJveGllZENvbHVtbnM7XG5cdFx0fVxuXG5cdFx0Y29uc3QgdmFsdWUgPSB0YXJnZXRbcHJvcCBhcyBrZXlvZiB0eXBlb2YgdGFyZ2V0XTtcblx0XHRpZiAoaXModmFsdWUsIENvbHVtbikpIHtcblx0XHRcdHJldHVybiBuZXcgUHJveHkodmFsdWUgYXMgQW55Q29sdW1uLCBuZXcgQ29sdW1uQWxpYXNQcm94eUhhbmRsZXIobmV3IFByb3h5KHRhcmdldCwgdGhpcykpKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdmFsdWU7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFJlbGF0aW9uVGFibGVBbGlhc1Byb3h5SGFuZGxlcjxUIGV4dGVuZHMgUmVsYXRpb24+IGltcGxlbWVudHMgUHJveHlIYW5kbGVyPFQ+IHtcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ1JlbGF0aW9uVGFibGVBbGlhc1Byb3h5SGFuZGxlcic7XG5cblx0Y29uc3RydWN0b3IocHJpdmF0ZSBhbGlhczogc3RyaW5nKSB7fVxuXG5cdGdldCh0YXJnZXQ6IFQsIHByb3A6IHN0cmluZyB8IHN5bWJvbCk6IGFueSB7XG5cdFx0aWYgKHByb3AgPT09ICdzb3VyY2VUYWJsZScpIHtcblx0XHRcdHJldHVybiBhbGlhc2VkVGFibGUodGFyZ2V0LnNvdXJjZVRhYmxlLCB0aGlzLmFsaWFzKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGFyZ2V0W3Byb3AgYXMga2V5b2YgdHlwZW9mIHRhcmdldF07XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFsaWFzZWRUYWJsZTxUIGV4dGVuZHMgVGFibGU+KHRhYmxlOiBULCB0YWJsZUFsaWFzOiBzdHJpbmcpOiBUIHtcblx0cmV0dXJuIG5ldyBQcm94eSh0YWJsZSwgbmV3IFRhYmxlQWxpYXNQcm94eUhhbmRsZXIodGFibGVBbGlhcywgZmFsc2UpKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFsaWFzZWRSZWxhdGlvbjxUIGV4dGVuZHMgUmVsYXRpb24+KHJlbGF0aW9uOiBULCB0YWJsZUFsaWFzOiBzdHJpbmcpOiBUIHtcblx0cmV0dXJuIG5ldyBQcm94eShyZWxhdGlvbiwgbmV3IFJlbGF0aW9uVGFibGVBbGlhc1Byb3h5SGFuZGxlcih0YWJsZUFsaWFzKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhbGlhc2VkVGFibGVDb2x1bW48VCBleHRlbmRzIEFueUNvbHVtbj4oY29sdW1uOiBULCB0YWJsZUFsaWFzOiBzdHJpbmcpOiBUIHtcblx0cmV0dXJuIG5ldyBQcm94eShcblx0XHRjb2x1bW4sXG5cdFx0bmV3IENvbHVtbkFsaWFzUHJveHlIYW5kbGVyKG5ldyBQcm94eShjb2x1bW4udGFibGUsIG5ldyBUYWJsZUFsaWFzUHJveHlIYW5kbGVyKHRhYmxlQWxpYXMsIGZhbHNlKSkpLFxuXHQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFwQ29sdW1uc0luQWxpYXNlZFNRTFRvQWxpYXMocXVlcnk6IFNRTC5BbGlhc2VkLCBhbGlhczogc3RyaW5nKTogU1FMLkFsaWFzZWQge1xuXHRyZXR1cm4gbmV3IFNRTC5BbGlhc2VkKG1hcENvbHVtbnNJblNRTFRvQWxpYXMocXVlcnkuc3FsLCBhbGlhcyksIHF1ZXJ5LmZpZWxkQWxpYXMpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbWFwQ29sdW1uc0luU1FMVG9BbGlhcyhxdWVyeTogU1FMLCBhbGlhczogc3RyaW5nKTogU1FMIHtcblx0cmV0dXJuIHNxbC5qb2luKHF1ZXJ5LnF1ZXJ5Q2h1bmtzLm1hcCgoYykgPT4ge1xuXHRcdGlmIChpcyhjLCBDb2x1bW4pKSB7XG5cdFx0XHRyZXR1cm4gYWxpYXNlZFRhYmxlQ29sdW1uKGMsIGFsaWFzKTtcblx0XHR9XG5cdFx0aWYgKGlzKGMsIFNRTCkpIHtcblx0XHRcdHJldHVybiBtYXBDb2x1bW5zSW5TUUxUb0FsaWFzKGMsIGFsaWFzKTtcblx0XHR9XG5cdFx0aWYgKGlzKGMsIFNRTC5BbGlhc2VkKSkge1xuXHRcdFx0cmV0dXJuIG1hcENvbHVtbnNJbkFsaWFzZWRTUUxUb0FsaWFzKGMsIGFsaWFzKTtcblx0XHR9XG5cdFx0cmV0dXJuIGM7XG5cdH0pKTtcbn1cbiIsICJpbXBvcnQgeyBDb2x1bW5BbGlhc1Byb3h5SGFuZGxlciwgVGFibGVBbGlhc1Byb3h5SGFuZGxlciB9IGZyb20gJy4vYWxpYXMudHMnO1xuaW1wb3J0IHsgQ29sdW1uIH0gZnJvbSAnLi9jb2x1bW4udHMnO1xuaW1wb3J0IHsgZW50aXR5S2luZCwgaXMgfSBmcm9tICcuL2VudGl0eS50cyc7XG5pbXBvcnQgeyBTUUwsIFZpZXcgfSBmcm9tICcuL3NxbC9zcWwudHMnO1xuaW1wb3J0IHsgU3VicXVlcnkgfSBmcm9tICcuL3N1YnF1ZXJ5LnRzJztcbmltcG9ydCB7IFZpZXdCYXNlQ29uZmlnIH0gZnJvbSAnLi92aWV3LWNvbW1vbi50cyc7XG5cbmV4cG9ydCBjbGFzcyBTZWxlY3Rpb25Qcm94eUhhbmRsZXI8VCBleHRlbmRzIFN1YnF1ZXJ5IHwgUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCBWaWV3PlxuXHRpbXBsZW1lbnRzIFByb3h5SGFuZGxlcjxTdWJxdWVyeSB8IFJlY29yZDxzdHJpbmcsIHVua25vd24+IHwgVmlldz5cbntcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ1NlbGVjdGlvblByb3h5SGFuZGxlcic7XG5cblx0cHJpdmF0ZSBjb25maWc6IHtcblx0XHQvKipcblx0XHQgKiBUYWJsZSBhbGlhcyBmb3IgdGhlIGNvbHVtbnNcblx0XHQgKi9cblx0XHRhbGlhcz86IHN0cmluZztcblx0XHQvKipcblx0XHQgKiBXaGF0IHRvIGRvIHdoZW4gYSBmaWVsZCBpcyBhbiBpbnN0YW5jZSBvZiBgU1FMLkFsaWFzZWRgIGFuZCBpdCdzIG5vdCBhIHNlbGVjdGlvbiBmaWVsZCAoZnJvbSBhIHN1YnF1ZXJ5KVxuXHRcdCAqXG5cdFx0ICogYHNxbGAgLSByZXR1cm4gdGhlIHVuZGVybHlpbmcgU1FMIGV4cHJlc3Npb25cblx0XHQgKlxuXHRcdCAqIGBhbGlhc2AgLSByZXR1cm4gdGhlIGZpZWxkIGFsaWFzXG5cdFx0ICovXG5cdFx0c3FsQWxpYXNlZEJlaGF2aW9yOiAnc3FsJyB8ICdhbGlhcyc7XG5cdFx0LyoqXG5cdFx0ICogV2hhdCB0byBkbyB3aGVuIGEgZmllbGQgaXMgYW4gaW5zdGFuY2Ugb2YgYFNRTGAgYW5kIGl0IGRvZXNuJ3QgaGF2ZSBhbiBhbGlhcyBkZWNsYXJlZFxuXHRcdCAqXG5cdFx0ICogYHNxbGAgLSByZXR1cm4gdGhlIHVuZGVybHlpbmcgU1FMIGV4cHJlc3Npb25cblx0XHQgKlxuXHRcdCAqIGBlcnJvcmAgLSByZXR1cm4gYSBEcml6emxlVHlwZUVycm9yIG9uIHR5cGUgbGV2ZWwgYW5kIHRocm93IGFuIGVycm9yIG9uIHJ1bnRpbWVcblx0XHQgKi9cblx0XHRzcWxCZWhhdmlvcjogJ3NxbCcgfCAnZXJyb3InO1xuXG5cdFx0LyoqXG5cdFx0ICogV2hldGhlciB0byByZXBsYWNlIHRoZSBvcmlnaW5hbCBuYW1lIG9mIHRoZSBjb2x1bW4gd2l0aCB0aGUgYWxpYXNcblx0XHQgKiBTaG91bGQgYmUgc2V0IHRvIGB0cnVlYCBmb3Igdmlld3MgY3JlYXRpb25cblx0XHQgKiBAZGVmYXVsdCBmYWxzZVxuXHRcdCAqL1xuXHRcdHJlcGxhY2VPcmlnaW5hbE5hbWU/OiBib29sZWFuO1xuXHR9O1xuXG5cdGNvbnN0cnVjdG9yKGNvbmZpZzogU2VsZWN0aW9uUHJveHlIYW5kbGVyPFQ+Wydjb25maWcnXSkge1xuXHRcdHRoaXMuY29uZmlnID0geyAuLi5jb25maWcgfTtcblx0fVxuXG5cdGdldChzdWJxdWVyeTogVCwgcHJvcDogc3RyaW5nIHwgc3ltYm9sKTogYW55IHtcblx0XHRpZiAocHJvcCA9PT0gJ18nKSB7XG5cdFx0XHRyZXR1cm4ge1xuXHRcdFx0XHQuLi5zdWJxdWVyeVsnXycgYXMga2V5b2YgdHlwZW9mIHN1YnF1ZXJ5XSxcblx0XHRcdFx0c2VsZWN0ZWRGaWVsZHM6IG5ldyBQcm94eShcblx0XHRcdFx0XHQoc3VicXVlcnkgYXMgU3VicXVlcnkpLl8uc2VsZWN0ZWRGaWVsZHMsXG5cdFx0XHRcdFx0dGhpcyBhcyBQcm94eUhhbmRsZXI8UmVjb3JkPHN0cmluZywgdW5rbm93bj4+LFxuXHRcdFx0XHQpLFxuXHRcdFx0fTtcblx0XHR9XG5cblx0XHRpZiAocHJvcCA9PT0gVmlld0Jhc2VDb25maWcpIHtcblx0XHRcdHJldHVybiB7XG5cdFx0XHRcdC4uLnN1YnF1ZXJ5W1ZpZXdCYXNlQ29uZmlnIGFzIGtleW9mIHR5cGVvZiBzdWJxdWVyeV0sXG5cdFx0XHRcdHNlbGVjdGVkRmllbGRzOiBuZXcgUHJveHkoXG5cdFx0XHRcdFx0KHN1YnF1ZXJ5IGFzIFZpZXcpW1ZpZXdCYXNlQ29uZmlnXS5zZWxlY3RlZEZpZWxkcyxcblx0XHRcdFx0XHR0aGlzIGFzIFByb3h5SGFuZGxlcjxSZWNvcmQ8c3RyaW5nLCB1bmtub3duPj4sXG5cdFx0XHRcdCksXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2YgcHJvcCA9PT0gJ3N5bWJvbCcpIHtcblx0XHRcdHJldHVybiBzdWJxdWVyeVtwcm9wIGFzIGtleW9mIHR5cGVvZiBzdWJxdWVyeV07XG5cdFx0fVxuXG5cdFx0Y29uc3QgY29sdW1ucyA9IGlzKHN1YnF1ZXJ5LCBTdWJxdWVyeSlcblx0XHRcdD8gc3VicXVlcnkuXy5zZWxlY3RlZEZpZWxkc1xuXHRcdFx0OiBpcyhzdWJxdWVyeSwgVmlldylcblx0XHRcdD8gc3VicXVlcnlbVmlld0Jhc2VDb25maWddLnNlbGVjdGVkRmllbGRzXG5cdFx0XHQ6IHN1YnF1ZXJ5O1xuXHRcdGNvbnN0IHZhbHVlOiB1bmtub3duID0gY29sdW1uc1twcm9wIGFzIGtleW9mIHR5cGVvZiBjb2x1bW5zXTtcblxuXHRcdGlmIChpcyh2YWx1ZSwgU1FMLkFsaWFzZWQpKSB7XG5cdFx0XHQvLyBOZXZlciByZXR1cm4gdGhlIHVuZGVybHlpbmcgU1FMIGV4cHJlc3Npb24gZm9yIGEgZmllbGQgcHJldmlvdXNseSBzZWxlY3RlZCBpbiBhIHN1YnF1ZXJ5XG5cdFx0XHRpZiAodGhpcy5jb25maWcuc3FsQWxpYXNlZEJlaGF2aW9yID09PSAnc3FsJyAmJiAhdmFsdWUuaXNTZWxlY3Rpb25GaWVsZCkge1xuXHRcdFx0XHRyZXR1cm4gdmFsdWUuc3FsO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBuZXdWYWx1ZSA9IHZhbHVlLmNsb25lKCk7XG5cdFx0XHRuZXdWYWx1ZS5pc1NlbGVjdGlvbkZpZWxkID0gdHJ1ZTtcblx0XHRcdHJldHVybiBuZXdWYWx1ZTtcblx0XHR9XG5cblx0XHRpZiAoaXModmFsdWUsIFNRTCkpIHtcblx0XHRcdGlmICh0aGlzLmNvbmZpZy5zcWxCZWhhdmlvciA9PT0gJ3NxbCcpIHtcblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXG5cdFx0XHRcdGBZb3UgdHJpZWQgdG8gcmVmZXJlbmNlIFwiJHtwcm9wfVwiIGZpZWxkIGZyb20gYSBzdWJxdWVyeSwgd2hpY2ggaXMgYSByYXcgU1FMIGZpZWxkLCBidXQgaXQgZG9lc24ndCBoYXZlIGFuIGFsaWFzIGRlY2xhcmVkLiBQbGVhc2UgYWRkIGFuIGFsaWFzIHRvIHRoZSBmaWVsZCB1c2luZyBcIi5hcygnYWxpYXMnKVwiIG1ldGhvZC5gLFxuXHRcdFx0KTtcblx0XHR9XG5cblx0XHRpZiAoaXModmFsdWUsIENvbHVtbikpIHtcblx0XHRcdGlmICh0aGlzLmNvbmZpZy5hbGlhcykge1xuXHRcdFx0XHRyZXR1cm4gbmV3IFByb3h5KFxuXHRcdFx0XHRcdHZhbHVlLFxuXHRcdFx0XHRcdG5ldyBDb2x1bW5BbGlhc1Byb3h5SGFuZGxlcihcblx0XHRcdFx0XHRcdG5ldyBQcm94eShcblx0XHRcdFx0XHRcdFx0dmFsdWUudGFibGUsXG5cdFx0XHRcdFx0XHRcdG5ldyBUYWJsZUFsaWFzUHJveHlIYW5kbGVyKHRoaXMuY29uZmlnLmFsaWFzLCB0aGlzLmNvbmZpZy5yZXBsYWNlT3JpZ2luYWxOYW1lID8/IGZhbHNlKSxcblx0XHRcdFx0XHRcdCksXG5cdFx0XHRcdFx0KSxcblx0XHRcdFx0KTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cblx0XHRpZiAodHlwZW9mIHZhbHVlICE9PSAnb2JqZWN0JyB8fCB2YWx1ZSA9PT0gbnVsbCkge1xuXHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblxuXHRcdHJldHVybiBuZXcgUHJveHkodmFsdWUsIG5ldyBTZWxlY3Rpb25Qcm94eUhhbmRsZXIodGhpcy5jb25maWcpKTtcblx0fVxufVxuIiwgImltcG9ydCB7IGVudGl0eUtpbmQgfSBmcm9tICd+L2VudGl0eS50cyc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBRdWVyeVByb21pc2U8VD4gaW1wbGVtZW50cyBQcm9taXNlPFQ+IHtcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ1F1ZXJ5UHJvbWlzZSc7XG5cblx0W1N5bWJvbC50b1N0cmluZ1RhZ10gPSAnUXVlcnlQcm9taXNlJztcblxuXHRjYXRjaDxUUmVzdWx0ID0gbmV2ZXI+KFxuXHRcdG9uUmVqZWN0ZWQ/OiAoKHJlYXNvbjogYW55KSA9PiBUUmVzdWx0IHwgUHJvbWlzZUxpa2U8VFJlc3VsdD4pIHwgbnVsbCB8IHVuZGVmaW5lZCxcblx0KTogUHJvbWlzZTxUIHwgVFJlc3VsdD4ge1xuXHRcdHJldHVybiB0aGlzLnRoZW4odW5kZWZpbmVkLCBvblJlamVjdGVkKTtcblx0fVxuXG5cdGZpbmFsbHkob25GaW5hbGx5PzogKCgpID0+IHZvaWQpIHwgbnVsbCB8IHVuZGVmaW5lZCk6IFByb21pc2U8VD4ge1xuXHRcdHJldHVybiB0aGlzLnRoZW4oXG5cdFx0XHQodmFsdWUpID0+IHtcblx0XHRcdFx0b25GaW5hbGx5Py4oKTtcblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdFx0fSxcblx0XHRcdChyZWFzb24pID0+IHtcblx0XHRcdFx0b25GaW5hbGx5Py4oKTtcblx0XHRcdFx0dGhyb3cgcmVhc29uO1xuXHRcdFx0fSxcblx0XHQpO1xuXHR9XG5cblx0dGhlbjxUUmVzdWx0MSA9IFQsIFRSZXN1bHQyID0gbmV2ZXI+KFxuXHRcdG9uRnVsZmlsbGVkPzogKCh2YWx1ZTogVCkgPT4gVFJlc3VsdDEgfCBQcm9taXNlTGlrZTxUUmVzdWx0MT4pIHwgdW5kZWZpbmVkIHwgbnVsbCxcblx0XHRvblJlamVjdGVkPzogKChyZWFzb246IGFueSkgPT4gVFJlc3VsdDIgfCBQcm9taXNlTGlrZTxUUmVzdWx0Mj4pIHwgdW5kZWZpbmVkIHwgbnVsbCxcblx0KTogUHJvbWlzZTxUUmVzdWx0MSB8IFRSZXN1bHQyPiB7XG5cdFx0cmV0dXJuIHRoaXMuZXhlY3V0ZSgpLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpO1xuXHR9XG5cblx0YWJzdHJhY3QgZXhlY3V0ZSgpOiBQcm9taXNlPFQ+O1xufVxuIiwgImltcG9ydCB0eXBlIHsgQnVpbGRDb2x1bW5zLCBCdWlsZEV4dHJhQ29uZmlnQ29sdW1ucyB9IGZyb20gJ34vY29sdW1uLWJ1aWxkZXIudHMnO1xuaW1wb3J0IHsgZW50aXR5S2luZCB9IGZyb20gJ34vZW50aXR5LnRzJztcbmltcG9ydCB7IFRhYmxlLCB0eXBlIFRhYmxlQ29uZmlnIGFzIFRhYmxlQ29uZmlnQmFzZSwgdHlwZSBVcGRhdGVUYWJsZUNvbmZpZyB9IGZyb20gJ34vdGFibGUudHMnO1xuaW1wb3J0IHR5cGUgeyBDaGVja0J1aWxkZXIgfSBmcm9tICcuL2NoZWNrcy50cyc7XG5pbXBvcnQgdHlwZSB7IFNRTGl0ZUNvbHVtbiwgU1FMaXRlQ29sdW1uQnVpbGRlciwgU1FMaXRlQ29sdW1uQnVpbGRlckJhc2UgfSBmcm9tICcuL2NvbHVtbnMvY29tbW9uLnRzJztcbmltcG9ydCB0eXBlIHsgRm9yZWlnbktleSwgRm9yZWlnbktleUJ1aWxkZXIgfSBmcm9tICcuL2ZvcmVpZ24ta2V5cy50cyc7XG5pbXBvcnQgdHlwZSB7IEluZGV4QnVpbGRlciB9IGZyb20gJy4vaW5kZXhlcy50cyc7XG5pbXBvcnQgdHlwZSB7IFByaW1hcnlLZXlCdWlsZGVyIH0gZnJvbSAnLi9wcmltYXJ5LWtleXMudHMnO1xuaW1wb3J0IHR5cGUgeyBVbmlxdWVDb25zdHJhaW50QnVpbGRlciB9IGZyb20gJy4vdW5pcXVlLWNvbnN0cmFpbnQudHMnO1xuXG5leHBvcnQgdHlwZSBTUUxpdGVUYWJsZUV4dHJhQ29uZmlnID0gUmVjb3JkPFxuXHRzdHJpbmcsXG5cdHwgSW5kZXhCdWlsZGVyXG5cdHwgQ2hlY2tCdWlsZGVyXG5cdHwgRm9yZWlnbktleUJ1aWxkZXJcblx0fCBQcmltYXJ5S2V5QnVpbGRlclxuXHR8IFVuaXF1ZUNvbnN0cmFpbnRCdWlsZGVyXG4+O1xuXG5leHBvcnQgdHlwZSBUYWJsZUNvbmZpZyA9IFRhYmxlQ29uZmlnQmFzZTxTUUxpdGVDb2x1bW48YW55Pj47XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBjb25zdCBJbmxpbmVGb3JlaWduS2V5cyA9IFN5bWJvbC5mb3IoJ2RyaXp6bGU6U1FMaXRlSW5saW5lRm9yZWlnbktleXMnKTtcblxuZXhwb3J0IGNsYXNzIFNRTGl0ZVRhYmxlPFQgZXh0ZW5kcyBUYWJsZUNvbmZpZyA9IFRhYmxlQ29uZmlnPiBleHRlbmRzIFRhYmxlPFQ+IHtcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ1NRTGl0ZVRhYmxlJztcblxuXHQvKiogQGludGVybmFsICovXG5cdHN0YXRpYyBvdmVycmlkZSByZWFkb25seSBTeW1ib2wgPSBPYmplY3QuYXNzaWduKHt9LCBUYWJsZS5TeW1ib2wsIHtcblx0XHRJbmxpbmVGb3JlaWduS2V5czogSW5saW5lRm9yZWlnbktleXMgYXMgdHlwZW9mIElubGluZUZvcmVpZ25LZXlzLFxuXHR9KTtcblxuXHQvKiogQGludGVybmFsICovXG5cdG92ZXJyaWRlIFtUYWJsZS5TeW1ib2wuQ29sdW1uc10hOiBOb25OdWxsYWJsZTxUWydjb2x1bW5zJ10+O1xuXG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0W0lubGluZUZvcmVpZ25LZXlzXTogRm9yZWlnbktleVtdID0gW107XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRvdmVycmlkZSBbVGFibGUuU3ltYm9sLkV4dHJhQ29uZmlnQnVpbGRlcl06XG5cdFx0fCAoKHNlbGY6IFJlY29yZDxzdHJpbmcsIFNRTGl0ZUNvbHVtbj4pID0+IFNRTGl0ZVRhYmxlRXh0cmFDb25maWcpXG5cdFx0fCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG59XG5cbmV4cG9ydCB0eXBlIEFueVNRTGl0ZVRhYmxlPFRQYXJ0aWFsIGV4dGVuZHMgUGFydGlhbDxUYWJsZUNvbmZpZz4gPSB7fT4gPSBTUUxpdGVUYWJsZTxcblx0VXBkYXRlVGFibGVDb25maWc8VGFibGVDb25maWcsIFRQYXJ0aWFsPlxuPjtcblxuZXhwb3J0IHR5cGUgU1FMaXRlVGFibGVXaXRoQ29sdW1uczxUIGV4dGVuZHMgVGFibGVDb25maWc+ID1cblx0JiBTUUxpdGVUYWJsZTxUPlxuXHQmIHtcblx0XHRbS2V5IGluIGtleW9mIFRbJ2NvbHVtbnMnXV06IFRbJ2NvbHVtbnMnXVtLZXldO1xuXHR9O1xuXG5leHBvcnQgaW50ZXJmYWNlIFNRTGl0ZVRhYmxlRm48VFNjaGVtYSBleHRlbmRzIHN0cmluZyB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZD4ge1xuXHQ8XG5cdFx0VFRhYmxlTmFtZSBleHRlbmRzIHN0cmluZyxcblx0XHRUQ29sdW1uc01hcCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIFNRTGl0ZUNvbHVtbkJ1aWxkZXJCYXNlPixcblx0Pihcblx0XHRuYW1lOiBUVGFibGVOYW1lLFxuXHRcdGNvbHVtbnM6IFRDb2x1bW5zTWFwLFxuXHRcdGV4dHJhQ29uZmlnPzogKHNlbGY6IEJ1aWxkQ29sdW1uczxUVGFibGVOYW1lLCBUQ29sdW1uc01hcCwgJ3NxbGl0ZSc+KSA9PiBTUUxpdGVUYWJsZUV4dHJhQ29uZmlnLFxuXHQpOiBTUUxpdGVUYWJsZVdpdGhDb2x1bW5zPHtcblx0XHRuYW1lOiBUVGFibGVOYW1lO1xuXHRcdHNjaGVtYTogVFNjaGVtYTtcblx0XHRjb2x1bW5zOiBCdWlsZENvbHVtbnM8VFRhYmxlTmFtZSwgVENvbHVtbnNNYXAsICdzcWxpdGUnPjtcblx0XHRkaWFsZWN0OiAnc3FsaXRlJztcblx0fT47XG59XG5cbmZ1bmN0aW9uIHNxbGl0ZVRhYmxlQmFzZTxcblx0VFRhYmxlTmFtZSBleHRlbmRzIHN0cmluZyxcblx0VENvbHVtbnNNYXAgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBTUUxpdGVDb2x1bW5CdWlsZGVyQmFzZT4sXG5cdFRTY2hlbWEgZXh0ZW5kcyBzdHJpbmcgfCB1bmRlZmluZWQsXG4+KFxuXHRuYW1lOiBUVGFibGVOYW1lLFxuXHRjb2x1bW5zOiBUQ29sdW1uc01hcCxcblx0ZXh0cmFDb25maWc/OiAoc2VsZjogQnVpbGRDb2x1bW5zPFRUYWJsZU5hbWUsIFRDb2x1bW5zTWFwLCAnc3FsaXRlJz4pID0+IFNRTGl0ZVRhYmxlRXh0cmFDb25maWcsXG5cdHNjaGVtYT86IFRTY2hlbWEsXG5cdGJhc2VOYW1lID0gbmFtZSxcbik6IFNRTGl0ZVRhYmxlV2l0aENvbHVtbnM8e1xuXHRuYW1lOiBUVGFibGVOYW1lO1xuXHRzY2hlbWE6IFRTY2hlbWE7XG5cdGNvbHVtbnM6IEJ1aWxkQ29sdW1uczxUVGFibGVOYW1lLCBUQ29sdW1uc01hcCwgJ3NxbGl0ZSc+O1xuXHRkaWFsZWN0OiAnc3FsaXRlJztcbn0+IHtcblx0Y29uc3QgcmF3VGFibGUgPSBuZXcgU1FMaXRlVGFibGU8e1xuXHRcdG5hbWU6IFRUYWJsZU5hbWU7XG5cdFx0c2NoZW1hOiBUU2NoZW1hO1xuXHRcdGNvbHVtbnM6IEJ1aWxkQ29sdW1uczxUVGFibGVOYW1lLCBUQ29sdW1uc01hcCwgJ3NxbGl0ZSc+O1xuXHRcdGRpYWxlY3Q6ICdzcWxpdGUnO1xuXHR9PihuYW1lLCBzY2hlbWEsIGJhc2VOYW1lKTtcblxuXHRjb25zdCBidWlsdENvbHVtbnMgPSBPYmplY3QuZnJvbUVudHJpZXMoXG5cdFx0T2JqZWN0LmVudHJpZXMoY29sdW1ucykubWFwKChbbmFtZSwgY29sQnVpbGRlckJhc2VdKSA9PiB7XG5cdFx0XHRjb25zdCBjb2xCdWlsZGVyID0gY29sQnVpbGRlckJhc2UgYXMgU1FMaXRlQ29sdW1uQnVpbGRlcjtcblx0XHRcdGNvbnN0IGNvbHVtbiA9IGNvbEJ1aWxkZXIuYnVpbGQocmF3VGFibGUpO1xuXHRcdFx0cmF3VGFibGVbSW5saW5lRm9yZWlnbktleXNdLnB1c2goLi4uY29sQnVpbGRlci5idWlsZEZvcmVpZ25LZXlzKGNvbHVtbiwgcmF3VGFibGUpKTtcblx0XHRcdHJldHVybiBbbmFtZSwgY29sdW1uXTtcblx0XHR9KSxcblx0KSBhcyB1bmtub3duIGFzIEJ1aWxkQ29sdW1uczxUVGFibGVOYW1lLCBUQ29sdW1uc01hcCwgJ3NxbGl0ZSc+O1xuXG5cdGNvbnN0IHRhYmxlID0gT2JqZWN0LmFzc2lnbihyYXdUYWJsZSwgYnVpbHRDb2x1bW5zKTtcblxuXHR0YWJsZVtUYWJsZS5TeW1ib2wuQ29sdW1uc10gPSBidWlsdENvbHVtbnM7XG5cdHRhYmxlW1RhYmxlLlN5bWJvbC5FeHRyYUNvbmZpZ0NvbHVtbnNdID0gYnVpbHRDb2x1bW5zIGFzIHVua25vd24gYXMgQnVpbGRFeHRyYUNvbmZpZ0NvbHVtbnM8XG5cdFx0VFRhYmxlTmFtZSxcblx0XHRUQ29sdW1uc01hcCxcblx0XHQnc3FsaXRlJ1xuXHQ+O1xuXG5cdGlmIChleHRyYUNvbmZpZykge1xuXHRcdHRhYmxlW1NRTGl0ZVRhYmxlLlN5bWJvbC5FeHRyYUNvbmZpZ0J1aWxkZXJdID0gZXh0cmFDb25maWcgYXMgKFxuXHRcdFx0c2VsZjogUmVjb3JkPHN0cmluZywgU1FMaXRlQ29sdW1uPixcblx0XHQpID0+IFNRTGl0ZVRhYmxlRXh0cmFDb25maWc7XG5cdH1cblxuXHRyZXR1cm4gdGFibGU7XG59XG5cbmV4cG9ydCBjb25zdCBzcWxpdGVUYWJsZTogU1FMaXRlVGFibGVGbiA9IChuYW1lLCBjb2x1bW5zLCBleHRyYUNvbmZpZykgPT4ge1xuXHRyZXR1cm4gc3FsaXRlVGFibGVCYXNlKG5hbWUsIGNvbHVtbnMsIGV4dHJhQ29uZmlnKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBzcWxpdGVUYWJsZUNyZWF0b3IoY3VzdG9taXplVGFibGVOYW1lOiAobmFtZTogc3RyaW5nKSA9PiBzdHJpbmcpOiBTUUxpdGVUYWJsZUZuIHtcblx0cmV0dXJuIChuYW1lLCBjb2x1bW5zLCBleHRyYUNvbmZpZykgPT4ge1xuXHRcdHJldHVybiBzcWxpdGVUYWJsZUJhc2UoY3VzdG9taXplVGFibGVOYW1lKG5hbWUpIGFzIHR5cGVvZiBuYW1lLCBjb2x1bW5zLCBleHRyYUNvbmZpZywgdW5kZWZpbmVkLCBuYW1lKTtcblx0fTtcbn1cbiIsICJpbXBvcnQgdHlwZSB7IEFueUNvbHVtbiB9IGZyb20gJy4vY29sdW1uLnRzJztcbmltcG9ydCB7IENvbHVtbiB9IGZyb20gJy4vY29sdW1uLnRzJztcbmltcG9ydCB7IGlzIH0gZnJvbSAnLi9lbnRpdHkudHMnO1xuaW1wb3J0IHR5cGUgeyBMb2dnZXIgfSBmcm9tICcuL2xvZ2dlci50cyc7XG5pbXBvcnQgdHlwZSB7IFNlbGVjdGVkRmllbGRzT3JkZXJlZCB9IGZyb20gJy4vb3BlcmF0aW9ucy50cyc7XG5pbXBvcnQgdHlwZSB7IFRhYmxlTGlrZSB9IGZyb20gJy4vcXVlcnktYnVpbGRlcnMvc2VsZWN0LnR5cGVzLnRzJztcbmltcG9ydCB7IFBhcmFtLCBTUUwsIFZpZXcgfSBmcm9tICcuL3NxbC9zcWwudHMnO1xuaW1wb3J0IHR5cGUgeyBEcml2ZXJWYWx1ZURlY29kZXIgfSBmcm9tICcuL3NxbC9zcWwudHMnO1xuaW1wb3J0IHsgU3VicXVlcnkgfSBmcm9tICcuL3N1YnF1ZXJ5LnRzJztcbmltcG9ydCB7IGdldFRhYmxlTmFtZSwgVGFibGUgfSBmcm9tICcuL3RhYmxlLnRzJztcbmltcG9ydCB7IFZpZXdCYXNlQ29uZmlnIH0gZnJvbSAnLi92aWV3LWNvbW1vbi50cyc7XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXBSZXN1bHRSb3c8VFJlc3VsdD4oXG5cdGNvbHVtbnM6IFNlbGVjdGVkRmllbGRzT3JkZXJlZDxBbnlDb2x1bW4+LFxuXHRyb3c6IHVua25vd25bXSxcblx0am9pbnNOb3ROdWxsYWJsZU1hcDogUmVjb3JkPHN0cmluZywgYm9vbGVhbj4gfCB1bmRlZmluZWQsXG4pOiBUUmVzdWx0IHtcblx0Ly8gS2V5IC0+IG5lc3RlZCBvYmplY3Qga2V5LCB2YWx1ZSAtPiB0YWJsZSBuYW1lIGlmIGFsbCBmaWVsZHMgaW4gdGhlIG5lc3RlZCBvYmplY3QgYXJlIGZyb20gdGhlIHNhbWUgdGFibGUsIGZhbHNlIG90aGVyd2lzZVxuXHRjb25zdCBudWxsaWZ5TWFwOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmcgfCBmYWxzZT4gPSB7fTtcblxuXHRjb25zdCByZXN1bHQgPSBjb2x1bW5zLnJlZHVjZTxSZWNvcmQ8c3RyaW5nLCBhbnk+Pihcblx0XHQocmVzdWx0LCB7IHBhdGgsIGZpZWxkIH0sIGNvbHVtbkluZGV4KSA9PiB7XG5cdFx0XHRsZXQgZGVjb2RlcjogRHJpdmVyVmFsdWVEZWNvZGVyPHVua25vd24sIHVua25vd24+O1xuXHRcdFx0aWYgKGlzKGZpZWxkLCBDb2x1bW4pKSB7XG5cdFx0XHRcdGRlY29kZXIgPSBmaWVsZDtcblx0XHRcdH0gZWxzZSBpZiAoaXMoZmllbGQsIFNRTCkpIHtcblx0XHRcdFx0ZGVjb2RlciA9IGZpZWxkLmRlY29kZXI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRkZWNvZGVyID0gZmllbGQuc3FsLmRlY29kZXI7XG5cdFx0XHR9XG5cdFx0XHRsZXQgbm9kZSA9IHJlc3VsdDtcblx0XHRcdGZvciAoY29uc3QgW3BhdGhDaHVua0luZGV4LCBwYXRoQ2h1bmtdIG9mIHBhdGguZW50cmllcygpKSB7XG5cdFx0XHRcdGlmIChwYXRoQ2h1bmtJbmRleCA8IHBhdGgubGVuZ3RoIC0gMSkge1xuXHRcdFx0XHRcdGlmICghKHBhdGhDaHVuayBpbiBub2RlKSkge1xuXHRcdFx0XHRcdFx0bm9kZVtwYXRoQ2h1bmtdID0ge307XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG5vZGUgPSBub2RlW3BhdGhDaHVua107XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc3QgcmF3VmFsdWUgPSByb3dbY29sdW1uSW5kZXhdITtcblx0XHRcdFx0XHRjb25zdCB2YWx1ZSA9IG5vZGVbcGF0aENodW5rXSA9IHJhd1ZhbHVlID09PSBudWxsID8gbnVsbCA6IGRlY29kZXIubWFwRnJvbURyaXZlclZhbHVlKHJhd1ZhbHVlKTtcblxuXHRcdFx0XHRcdGlmIChqb2luc05vdE51bGxhYmxlTWFwICYmIGlzKGZpZWxkLCBDb2x1bW4pICYmIHBhdGgubGVuZ3RoID09PSAyKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBvYmplY3ROYW1lID0gcGF0aFswXSE7XG5cdFx0XHRcdFx0XHRpZiAoIShvYmplY3ROYW1lIGluIG51bGxpZnlNYXApKSB7XG5cdFx0XHRcdFx0XHRcdG51bGxpZnlNYXBbb2JqZWN0TmFtZV0gPSB2YWx1ZSA9PT0gbnVsbCA/IGdldFRhYmxlTmFtZShmaWVsZC50YWJsZSkgOiBmYWxzZTtcblx0XHRcdFx0XHRcdH0gZWxzZSBpZiAoXG5cdFx0XHRcdFx0XHRcdHR5cGVvZiBudWxsaWZ5TWFwW29iamVjdE5hbWVdID09PSAnc3RyaW5nJyAmJiBudWxsaWZ5TWFwW29iamVjdE5hbWVdICE9PSBnZXRUYWJsZU5hbWUoZmllbGQudGFibGUpXG5cdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0bnVsbGlmeU1hcFtvYmplY3ROYW1lXSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9LFxuXHRcdHt9LFxuXHQpO1xuXG5cdC8vIE51bGxpZnkgYWxsIG5lc3RlZCBvYmplY3RzIGZyb20gbnVsbGlmeU1hcCB0aGF0IGFyZSBudWxsYWJsZVxuXHRpZiAoam9pbnNOb3ROdWxsYWJsZU1hcCAmJiBPYmplY3Qua2V5cyhudWxsaWZ5TWFwKS5sZW5ndGggPiAwKSB7XG5cdFx0Zm9yIChjb25zdCBbb2JqZWN0TmFtZSwgdGFibGVOYW1lXSBvZiBPYmplY3QuZW50cmllcyhudWxsaWZ5TWFwKSkge1xuXHRcdFx0aWYgKHR5cGVvZiB0YWJsZU5hbWUgPT09ICdzdHJpbmcnICYmICFqb2luc05vdE51bGxhYmxlTWFwW3RhYmxlTmFtZV0pIHtcblx0XHRcdFx0cmVzdWx0W29iamVjdE5hbWVdID0gbnVsbDtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRyZXR1cm4gcmVzdWx0IGFzIFRSZXN1bHQ7XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBvcmRlclNlbGVjdGVkRmllbGRzPFRDb2x1bW4gZXh0ZW5kcyBBbnlDb2x1bW4+KFxuXHRmaWVsZHM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuXHRwYXRoUHJlZml4Pzogc3RyaW5nW10sXG4pOiBTZWxlY3RlZEZpZWxkc09yZGVyZWQ8VENvbHVtbj4ge1xuXHRyZXR1cm4gT2JqZWN0LmVudHJpZXMoZmllbGRzKS5yZWR1Y2U8U2VsZWN0ZWRGaWVsZHNPcmRlcmVkPEFueUNvbHVtbj4+KChyZXN1bHQsIFtuYW1lLCBmaWVsZF0pID0+IHtcblx0XHRpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH1cblxuXHRcdGNvbnN0IG5ld1BhdGggPSBwYXRoUHJlZml4ID8gWy4uLnBhdGhQcmVmaXgsIG5hbWVdIDogW25hbWVdO1xuXHRcdGlmIChpcyhmaWVsZCwgQ29sdW1uKSB8fCBpcyhmaWVsZCwgU1FMKSB8fCBpcyhmaWVsZCwgU1FMLkFsaWFzZWQpKSB7XG5cdFx0XHRyZXN1bHQucHVzaCh7IHBhdGg6IG5ld1BhdGgsIGZpZWxkIH0pO1xuXHRcdH0gZWxzZSBpZiAoaXMoZmllbGQsIFRhYmxlKSkge1xuXHRcdFx0cmVzdWx0LnB1c2goLi4ub3JkZXJTZWxlY3RlZEZpZWxkcyhmaWVsZFtUYWJsZS5TeW1ib2wuQ29sdW1uc10sIG5ld1BhdGgpKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzdWx0LnB1c2goLi4ub3JkZXJTZWxlY3RlZEZpZWxkcyhmaWVsZCBhcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiwgbmV3UGF0aCkpO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LCBbXSkgYXMgU2VsZWN0ZWRGaWVsZHNPcmRlcmVkPFRDb2x1bW4+O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGF2ZVNhbWVLZXlzKGxlZnQ6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LCByaWdodDogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pIHtcblx0Y29uc3QgbGVmdEtleXMgPSBPYmplY3Qua2V5cyhsZWZ0KTtcblx0Y29uc3QgcmlnaHRLZXlzID0gT2JqZWN0LmtleXMocmlnaHQpO1xuXG5cdGlmIChsZWZ0S2V5cy5sZW5ndGggIT09IHJpZ2h0S2V5cy5sZW5ndGgpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRmb3IgKGNvbnN0IFtpbmRleCwga2V5XSBvZiBsZWZ0S2V5cy5lbnRyaWVzKCkpIHtcblx0XHRpZiAoa2V5ICE9PSByaWdodEtleXNbaW5kZXhdKSB7XG5cdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHRydWU7XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXBVcGRhdGVTZXQodGFibGU6IFRhYmxlLCB2YWx1ZXM6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KTogVXBkYXRlU2V0IHtcblx0Y29uc3QgZW50cmllczogW3N0cmluZywgVXBkYXRlU2V0W3N0cmluZ11dW10gPSBPYmplY3QuZW50cmllcyh2YWx1ZXMpXG5cdFx0LmZpbHRlcigoWywgdmFsdWVdKSA9PiB2YWx1ZSAhPT0gdW5kZWZpbmVkKVxuXHRcdC5tYXAoKFtrZXksIHZhbHVlXSkgPT4ge1xuXHRcdFx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vcHJlZmVyLXRlcm5hcnlcblx0XHRcdGlmIChpcyh2YWx1ZSwgU1FMKSkge1xuXHRcdFx0XHRyZXR1cm4gW2tleSwgdmFsdWVdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuIFtrZXksIG5ldyBQYXJhbSh2YWx1ZSwgdGFibGVbVGFibGUuU3ltYm9sLkNvbHVtbnNdW2tleV0pXTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRpZiAoZW50cmllcy5sZW5ndGggPT09IDApIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ05vIHZhbHVlcyB0byBzZXQnKTtcblx0fVxuXG5cdHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoZW50cmllcyk7XG59XG5cbmV4cG9ydCB0eXBlIFVwZGF0ZVNldCA9IFJlY29yZDxzdHJpbmcsIFNRTCB8IFBhcmFtIHwgbnVsbCB8IHVuZGVmaW5lZD47XG5cbmV4cG9ydCB0eXBlIE9uZU9yTWFueTxUPiA9IFQgfCBUW107XG5cbmV4cG9ydCB0eXBlIFVwZGF0ZTxULCBUVXBkYXRlPiA9XG5cdCYge1xuXHRcdFtLIGluIEV4Y2x1ZGU8a2V5b2YgVCwga2V5b2YgVFVwZGF0ZT5dOiBUW0tdO1xuXHR9XG5cdCYgVFVwZGF0ZTtcblxuZXhwb3J0IHR5cGUgU2ltcGxpZnk8VD4gPVxuXHQmIHtcblx0XHQvLyBAdHMtaWdub3JlIC0gXCJUeXBlIHBhcmFtZXRlciAnSycgaGFzIGEgY2lyY3VsYXIgY29uc3RyYWludFwiLCBub3Qgc3VyZSB3aHlcblx0XHRbSyBpbiBrZXlvZiBUXTogVFtLXTtcblx0fVxuXHQmIHt9O1xuXG5leHBvcnQgdHlwZSBTaW1wbGlmeU1hcHBlZFR5cGU8VD4gPSBbVF0gZXh0ZW5kcyBbdW5rbm93bl0gPyBUIDogbmV2ZXI7XG5cbmV4cG9ydCB0eXBlIFNoYWxsb3dSZWNvcmQ8SyBleHRlbmRzIGtleW9mIGFueSwgVD4gPSBTaW1wbGlmeU1hcHBlZFR5cGU8eyBbUCBpbiBLXTogVCB9PjtcblxuZXhwb3J0IHR5cGUgQXNzdW1lPFQsIFU+ID0gVCBleHRlbmRzIFUgPyBUIDogVTtcblxuZXhwb3J0IHR5cGUgRXF1YWw8WCwgWT4gPSAoPFQ+KCkgPT4gVCBleHRlbmRzIFggPyAxIDogMikgZXh0ZW5kcyAoPFQ+KCkgPT4gVCBleHRlbmRzIFkgPyAxIDogMikgPyB0cnVlIDogZmFsc2U7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRHJpenpsZVR5cGVFcnJvcjxUIGV4dGVuZHMgc3RyaW5nPiB7XG5cdCRkcml6emxlVHlwZUVycm9yOiBUO1xufVxuXG5leHBvcnQgdHlwZSBWYWx1ZU9yQXJyYXk8VD4gPSBUIHwgVFtdO1xuXG4vKiogQGludGVybmFsICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlNaXhpbnMoYmFzZUNsYXNzOiBhbnksIGV4dGVuZGVkQ2xhc3NlczogYW55W10pIHtcblx0Zm9yIChjb25zdCBleHRlbmRlZENsYXNzIG9mIGV4dGVuZGVkQ2xhc3Nlcykge1xuXHRcdGZvciAoY29uc3QgbmFtZSBvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhleHRlbmRlZENsYXNzLnByb3RvdHlwZSkpIHtcblx0XHRcdGlmIChuYW1lID09PSAnY29uc3RydWN0b3InKSBjb250aW51ZTtcblxuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KFxuXHRcdFx0XHRiYXNlQ2xhc3MucHJvdG90eXBlLFxuXHRcdFx0XHRuYW1lLFxuXHRcdFx0XHRPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGV4dGVuZGVkQ2xhc3MucHJvdG90eXBlLCBuYW1lKSB8fCBPYmplY3QuY3JlYXRlKG51bGwpLFxuXHRcdFx0KTtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IHR5cGUgT3I8VDEsIFQyPiA9IFQxIGV4dGVuZHMgdHJ1ZSA/IHRydWUgOiBUMiBleHRlbmRzIHRydWUgPyB0cnVlIDogZmFsc2U7XG5cbmV4cG9ydCB0eXBlIElmVGhlbkVsc2U8SWYsIFRoZW4sIEVsc2U+ID0gSWYgZXh0ZW5kcyB0cnVlID8gVGhlbiA6IEVsc2U7XG5cbmV4cG9ydCB0eXBlIFByb21pc2VPZjxUPiA9IFQgZXh0ZW5kcyBQcm9taXNlPGluZmVyIFU+ID8gVSA6IFQ7XG5cbmV4cG9ydCB0eXBlIFdyaXRhYmxlPFQ+ID0ge1xuXHQtcmVhZG9ubHkgW1AgaW4ga2V5b2YgVF06IFRbUF07XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGFibGVDb2x1bW5zPFQgZXh0ZW5kcyBUYWJsZT4odGFibGU6IFQpOiBUWydfJ11bJ2NvbHVtbnMnXSB7XG5cdHJldHVybiB0YWJsZVtUYWJsZS5TeW1ib2wuQ29sdW1uc107XG59XG5cbi8qKiBAaW50ZXJuYWwgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUYWJsZUxpa2VOYW1lKHRhYmxlOiBUYWJsZUxpa2UpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuXHRyZXR1cm4gaXModGFibGUsIFN1YnF1ZXJ5KVxuXHRcdD8gdGFibGUuXy5hbGlhc1xuXHRcdDogaXModGFibGUsIFZpZXcpXG5cdFx0PyB0YWJsZVtWaWV3QmFzZUNvbmZpZ10ubmFtZVxuXHRcdDogaXModGFibGUsIFNRTClcblx0XHQ/IHVuZGVmaW5lZFxuXHRcdDogdGFibGVbVGFibGUuU3ltYm9sLklzQWxpYXNdXG5cdFx0PyB0YWJsZVtUYWJsZS5TeW1ib2wuTmFtZV1cblx0XHQ6IHRhYmxlW1RhYmxlLlN5bWJvbC5CYXNlTmFtZV07XG59XG5cbmV4cG9ydCB0eXBlIENvbHVtbnNXaXRoVGFibGU8XG5cdFRUYWJsZU5hbWUgZXh0ZW5kcyBzdHJpbmcsXG5cdFRGb3JlaWduVGFibGVOYW1lIGV4dGVuZHMgc3RyaW5nLFxuXHRUQ29sdW1ucyBleHRlbmRzIEFueUNvbHVtbjx7IHRhYmxlTmFtZTogVFRhYmxlTmFtZSB9PltdLFxuPiA9IHsgW0tleSBpbiBrZXlvZiBUQ29sdW1uc106IEFueUNvbHVtbjx7IHRhYmxlTmFtZTogVEZvcmVpZ25UYWJsZU5hbWUgfT4gfTtcblxuZXhwb3J0IGludGVyZmFjZSBEcml6emxlQ29uZmlnPFRTY2hlbWEgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IFJlY29yZDxzdHJpbmcsIG5ldmVyPj4ge1xuXHRsb2dnZXI/OiBib29sZWFuIHwgTG9nZ2VyO1xuXHRzY2hlbWE/OiBUU2NoZW1hO1xufVxuZXhwb3J0IHR5cGUgVmFsaWRhdGVTaGFwZTxULCBWYWxpZFNoYXBlLCBUUmVzdWx0ID0gVD4gPSBUIGV4dGVuZHMgVmFsaWRTaGFwZVxuXHQ/IEV4Y2x1ZGU8a2V5b2YgVCwga2V5b2YgVmFsaWRTaGFwZT4gZXh0ZW5kcyBuZXZlciA/IFRSZXN1bHRcblx0OiBEcml6emxlVHlwZUVycm9yPFxuXHRcdGBJbnZhbGlkIGtleShzKTogJHtFeGNsdWRlPChrZXlvZiBUKSAmIChzdHJpbmcgfCBudW1iZXIgfCBiaWdpbnQgfCBib29sZWFuIHwgbnVsbCB8IHVuZGVmaW5lZCksIGtleW9mIFZhbGlkU2hhcGU+fWBcblx0PlxuXHQ6IG5ldmVyO1xuXG5leHBvcnQgdHlwZSBLbm93bktleXNPbmx5PFQsIFU+ID0ge1xuXHRbSyBpbiBrZXlvZiBUXTogSyBleHRlbmRzIGtleW9mIFUgPyBUW0tdIDogbmV2ZXI7XG59O1xuXG5leHBvcnQgdHlwZSBJc0FueTxUPiA9IDAgZXh0ZW5kcyAoMSAmIFQpID8gdHJ1ZSA6IGZhbHNlO1xuIiwgImltcG9ydCB7IGVudGl0eUtpbmQgfSBmcm9tICd+L2VudGl0eS50cyc7XG5pbXBvcnQgdHlwZSB7IFNlbGVjdFJlc3VsdEZpZWxkcyB9IGZyb20gJ34vcXVlcnktYnVpbGRlcnMvc2VsZWN0LnR5cGVzLnRzJztcbmltcG9ydCB7IFF1ZXJ5UHJvbWlzZSB9IGZyb20gJ34vcXVlcnktcHJvbWlzZS50cyc7XG5pbXBvcnQgdHlwZSB7IFJ1bm5hYmxlUXVlcnkgfSBmcm9tICd+L3J1bm5hYmxlLXF1ZXJ5LnRzJztcbmltcG9ydCB0eXBlIHsgUXVlcnksIFNRTCwgU1FMV3JhcHBlciB9IGZyb20gJ34vc3FsL3NxbC50cyc7XG5pbXBvcnQgdHlwZSB7IFNRTGl0ZURpYWxlY3QgfSBmcm9tICd+L3NxbGl0ZS1jb3JlL2RpYWxlY3QudHMnO1xuaW1wb3J0IHR5cGUgeyBTUUxpdGVQcmVwYXJlZFF1ZXJ5LCBTUUxpdGVTZXNzaW9uIH0gZnJvbSAnfi9zcWxpdGUtY29yZS9zZXNzaW9uLnRzJztcbmltcG9ydCB7IFNRTGl0ZVRhYmxlIH0gZnJvbSAnfi9zcWxpdGUtY29yZS90YWJsZS50cyc7XG5pbXBvcnQgdHlwZSB7IFN1YnF1ZXJ5IH0gZnJvbSAnfi9zdWJxdWVyeS50cyc7XG5pbXBvcnQgeyB0eXBlIERyaXp6bGVUeXBlRXJyb3IsIG9yZGVyU2VsZWN0ZWRGaWVsZHMgfSBmcm9tICd+L3V0aWxzLnRzJztcbmltcG9ydCB0eXBlIHsgU1FMaXRlQ29sdW1uIH0gZnJvbSAnLi4vY29sdW1ucy9jb21tb24udHMnO1xuaW1wb3J0IHR5cGUgeyBTZWxlY3RlZEZpZWxkc0ZsYXQsIFNlbGVjdGVkRmllbGRzT3JkZXJlZCB9IGZyb20gJy4vc2VsZWN0LnR5cGVzLnRzJztcblxuZXhwb3J0IHR5cGUgU1FMaXRlRGVsZXRlV2l0aG91dDxcblx0VCBleHRlbmRzIEFueVNRTGl0ZURlbGV0ZUJhc2UsXG5cdFREeW5hbWljIGV4dGVuZHMgYm9vbGVhbixcblx0SyBleHRlbmRzIGtleW9mIFQgJiBzdHJpbmcsXG4+ID0gVER5bmFtaWMgZXh0ZW5kcyB0cnVlID8gVFxuXHQ6IE9taXQ8XG5cdFx0U1FMaXRlRGVsZXRlQmFzZTxcblx0XHRcdFRbJ18nXVsndGFibGUnXSxcblx0XHRcdFRbJ18nXVsncmVzdWx0VHlwZSddLFxuXHRcdFx0VFsnXyddWydydW5SZXN1bHQnXSxcblx0XHRcdFRbJ18nXVsncmV0dXJuaW5nJ10sXG5cdFx0XHRURHluYW1pYyxcblx0XHRcdFRbJ18nXVsnZXhjbHVkZWRNZXRob2RzJ10gfCBLXG5cdFx0Pixcblx0XHRUWydfJ11bJ2V4Y2x1ZGVkTWV0aG9kcyddIHwgS1xuXHQ+O1xuXG5leHBvcnQgdHlwZSBTUUxpdGVEZWxldGU8XG5cdFRUYWJsZSBleHRlbmRzIFNRTGl0ZVRhYmxlID0gU1FMaXRlVGFibGUsXG5cdFRSZXN1bHRUeXBlIGV4dGVuZHMgJ3N5bmMnIHwgJ2FzeW5jJyA9ICdzeW5jJyB8ICdhc3luYycsXG5cdFRSdW5SZXN1bHQgPSB1bmtub3duLFxuXHRUUmV0dXJuaW5nIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsXG4+ID0gU1FMaXRlRGVsZXRlQmFzZTxUVGFibGUsIFRSZXN1bHRUeXBlLCBUUnVuUmVzdWx0LCBUUmV0dXJuaW5nLCB0cnVlLCBuZXZlcj47XG5cbmV4cG9ydCBpbnRlcmZhY2UgU1FMaXRlRGVsZXRlQ29uZmlnIHtcblx0d2hlcmU/OiBTUUwgfCB1bmRlZmluZWQ7XG5cdHRhYmxlOiBTUUxpdGVUYWJsZTtcblx0cmV0dXJuaW5nPzogU2VsZWN0ZWRGaWVsZHNPcmRlcmVkO1xuXHR3aXRoTGlzdD86IFN1YnF1ZXJ5W107XG59XG5cbmV4cG9ydCB0eXBlIFNRTGl0ZURlbGV0ZVJldHVybmluZ0FsbDxcblx0VCBleHRlbmRzIEFueVNRTGl0ZURlbGV0ZUJhc2UsXG5cdFREeW5hbWljIGV4dGVuZHMgYm9vbGVhbixcbj4gPSBTUUxpdGVEZWxldGVXaXRob3V0PFxuXHRTUUxpdGVEZWxldGVCYXNlPFxuXHRcdFRbJ18nXVsndGFibGUnXSxcblx0XHRUWydfJ11bJ3Jlc3VsdFR5cGUnXSxcblx0XHRUWydfJ11bJ3J1blJlc3VsdCddLFxuXHRcdFRbJ18nXVsndGFibGUnXVsnJGluZmVyU2VsZWN0J10sXG5cdFx0VFsnXyddWydkeW5hbWljJ10sXG5cdFx0VFsnXyddWydleGNsdWRlZE1ldGhvZHMnXVxuXHQ+LFxuXHRURHluYW1pYyxcblx0J3JldHVybmluZydcbj47XG5cbmV4cG9ydCB0eXBlIFNRTGl0ZURlbGV0ZVJldHVybmluZzxcblx0VCBleHRlbmRzIEFueVNRTGl0ZURlbGV0ZUJhc2UsXG5cdFREeW5hbWljIGV4dGVuZHMgYm9vbGVhbixcblx0VFNlbGVjdGVkRmllbGRzIGV4dGVuZHMgU2VsZWN0ZWRGaWVsZHNGbGF0LFxuPiA9IFNRTGl0ZURlbGV0ZVdpdGhvdXQ8XG5cdFNRTGl0ZURlbGV0ZUJhc2U8XG5cdFx0VFsnXyddWyd0YWJsZSddLFxuXHRcdFRbJ18nXVsncmVzdWx0VHlwZSddLFxuXHRcdFRbJ18nXVsncnVuUmVzdWx0J10sXG5cdFx0U2VsZWN0UmVzdWx0RmllbGRzPFRTZWxlY3RlZEZpZWxkcz4sXG5cdFx0VFsnXyddWydkeW5hbWljJ10sXG5cdFx0VFsnXyddWydleGNsdWRlZE1ldGhvZHMnXVxuXHQ+LFxuXHRURHluYW1pYyxcblx0J3JldHVybmluZydcbj47XG5cbmV4cG9ydCB0eXBlIFNRTGl0ZURlbGV0ZUV4ZWN1dGU8VCBleHRlbmRzIEFueVNRTGl0ZURlbGV0ZUJhc2U+ID0gVFsnXyddWydyZXR1cm5pbmcnXSBleHRlbmRzIHVuZGVmaW5lZFxuXHQ/IFRbJ18nXVsncnVuUmVzdWx0J11cblx0OiBUWydfJ11bJ3JldHVybmluZyddW107XG5cbmV4cG9ydCB0eXBlIFNRTGl0ZURlbGV0ZVByZXBhcmU8VCBleHRlbmRzIEFueVNRTGl0ZURlbGV0ZUJhc2U+ID0gU1FMaXRlUHJlcGFyZWRRdWVyeTx7XG5cdHR5cGU6IFRbJ18nXVsncmVzdWx0VHlwZSddO1xuXHRydW46IFRbJ18nXVsncnVuUmVzdWx0J107XG5cdGFsbDogVFsnXyddWydyZXR1cm5pbmcnXSBleHRlbmRzIHVuZGVmaW5lZCA/IERyaXp6bGVUeXBlRXJyb3I8Jy5hbGwoKSBjYW5ub3QgYmUgdXNlZCB3aXRob3V0IC5yZXR1cm5pbmcoKSc+XG5cdFx0OiBUWydfJ11bJ3JldHVybmluZyddW107XG5cdGdldDogVFsnXyddWydyZXR1cm5pbmcnXSBleHRlbmRzIHVuZGVmaW5lZCA/IERyaXp6bGVUeXBlRXJyb3I8Jy5nZXQoKSBjYW5ub3QgYmUgdXNlZCB3aXRob3V0IC5yZXR1cm5pbmcoKSc+XG5cdFx0OiBUWydfJ11bJ3JldHVybmluZyddIHwgdW5kZWZpbmVkO1xuXHR2YWx1ZXM6IFRbJ18nXVsncmV0dXJuaW5nJ10gZXh0ZW5kcyB1bmRlZmluZWQgPyBEcml6emxlVHlwZUVycm9yPCcudmFsdWVzKCkgY2Fubm90IGJlIHVzZWQgd2l0aG91dCAucmV0dXJuaW5nKCknPlxuXHRcdDogYW55W11bXTtcblx0ZXhlY3V0ZTogU1FMaXRlRGVsZXRlRXhlY3V0ZTxUPjtcbn0+O1xuXG5leHBvcnQgdHlwZSBTUUxpdGVEZWxldGVEeW5hbWljPFQgZXh0ZW5kcyBBbnlTUUxpdGVEZWxldGVCYXNlPiA9IFNRTGl0ZURlbGV0ZTxcblx0VFsnXyddWyd0YWJsZSddLFxuXHRUWydfJ11bJ3Jlc3VsdFR5cGUnXSxcblx0VFsnXyddWydydW5SZXN1bHQnXSxcblx0VFsnXyddWydyZXR1cm5pbmcnXVxuPjtcblxuZXhwb3J0IHR5cGUgQW55U1FMaXRlRGVsZXRlQmFzZSA9IFNRTGl0ZURlbGV0ZUJhc2U8YW55LCBhbnksIGFueSwgYW55LCBhbnksIGFueT47XG5cbmV4cG9ydCBpbnRlcmZhY2UgU1FMaXRlRGVsZXRlQmFzZTxcblx0VFRhYmxlIGV4dGVuZHMgU1FMaXRlVGFibGUsXG5cdFRSZXN1bHRUeXBlIGV4dGVuZHMgJ3N5bmMnIHwgJ2FzeW5jJyxcblx0VFJ1blJlc3VsdCxcblx0VFJldHVybmluZyBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+IHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkLFxuXHRURHluYW1pYyBleHRlbmRzIGJvb2xlYW4gPSBmYWxzZSxcblx0VEV4Y2x1ZGVkTWV0aG9kcyBleHRlbmRzIHN0cmluZyA9IG5ldmVyLFxuPiBleHRlbmRzXG5cdFF1ZXJ5UHJvbWlzZTxUUmV0dXJuaW5nIGV4dGVuZHMgdW5kZWZpbmVkID8gVFJ1blJlc3VsdCA6IFRSZXR1cm5pbmdbXT4sXG5cdFJ1bm5hYmxlUXVlcnk8VFJldHVybmluZyBleHRlbmRzIHVuZGVmaW5lZCA/IFRSdW5SZXN1bHQgOiBUUmV0dXJuaW5nW10sICdzcWxpdGUnPixcblx0U1FMV3JhcHBlclxue1xuXHRyZWFkb25seSBfOiB7XG5cdFx0ZGlhbGVjdDogJ3NxbGl0ZSc7XG5cdFx0cmVhZG9ubHkgdGFibGU6IFRUYWJsZTtcblx0XHRyZWFkb25seSByZXN1bHRUeXBlOiBUUmVzdWx0VHlwZTtcblx0XHRyZWFkb25seSBydW5SZXN1bHQ6IFRSdW5SZXN1bHQ7XG5cdFx0cmVhZG9ubHkgcmV0dXJuaW5nOiBUUmV0dXJuaW5nO1xuXHRcdHJlYWRvbmx5IGR5bmFtaWM6IFREeW5hbWljO1xuXHRcdHJlYWRvbmx5IGV4Y2x1ZGVkTWV0aG9kczogVEV4Y2x1ZGVkTWV0aG9kcztcblx0XHRyZWFkb25seSByZXN1bHQ6IFRSZXR1cm5pbmcgZXh0ZW5kcyB1bmRlZmluZWQgPyBUUnVuUmVzdWx0IDogVFJldHVybmluZ1tdO1xuXHR9O1xufVxuXG5leHBvcnQgY2xhc3MgU1FMaXRlRGVsZXRlQmFzZTxcblx0VFRhYmxlIGV4dGVuZHMgU1FMaXRlVGFibGUsXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcblx0VFJlc3VsdFR5cGUgZXh0ZW5kcyAnc3luYycgfCAnYXN5bmMnLFxuXHRUUnVuUmVzdWx0LFxuXHRUUmV0dXJuaW5nIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCB1bmRlZmluZWQgPSB1bmRlZmluZWQsXG5cdFREeW5hbWljIGV4dGVuZHMgYm9vbGVhbiA9IGZhbHNlLFxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG5cdFRFeGNsdWRlZE1ldGhvZHMgZXh0ZW5kcyBzdHJpbmcgPSBuZXZlcixcbj4gZXh0ZW5kcyBRdWVyeVByb21pc2U8VFJldHVybmluZyBleHRlbmRzIHVuZGVmaW5lZCA/IFRSdW5SZXN1bHQgOiBUUmV0dXJuaW5nW10+XG5cdGltcGxlbWVudHMgUnVubmFibGVRdWVyeTxUUmV0dXJuaW5nIGV4dGVuZHMgdW5kZWZpbmVkID8gVFJ1blJlc3VsdCA6IFRSZXR1cm5pbmdbXSwgJ3NxbGl0ZSc+LCBTUUxXcmFwcGVyXG57XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdTUUxpdGVEZWxldGUnO1xuXG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0Y29uZmlnOiBTUUxpdGVEZWxldGVDb25maWc7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSB0YWJsZTogVFRhYmxlLFxuXHRcdHByaXZhdGUgc2Vzc2lvbjogU1FMaXRlU2Vzc2lvbjxhbnksIGFueSwgYW55LCBhbnk+LFxuXHRcdHByaXZhdGUgZGlhbGVjdDogU1FMaXRlRGlhbGVjdCxcblx0XHR3aXRoTGlzdD86IFN1YnF1ZXJ5W10sXG5cdCkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5jb25maWcgPSB7IHRhYmxlLCB3aXRoTGlzdCB9O1xuXHR9XG5cblx0LyoqXG5cdCAqIEFkZHMgYSBgd2hlcmVgIGNsYXVzZSB0byB0aGUgcXVlcnkuXG5cdCAqXG5cdCAqIENhbGxpbmcgdGhpcyBtZXRob2Qgd2lsbCBkZWxldGUgb25seSB0aG9zZSByb3dzIHRoYXQgZnVsZmlsbCBhIHNwZWNpZmllZCBjb25kaXRpb24uXG5cdCAqXG5cdCAqIFNlZSBkb2NzOiB7QGxpbmsgaHR0cHM6Ly9vcm0uZHJpenpsZS50ZWFtL2RvY3MvZGVsZXRlfVxuXHQgKlxuXHQgKiBAcGFyYW0gd2hlcmUgdGhlIGB3aGVyZWAgY2xhdXNlLlxuXHQgKlxuXHQgKiBAZXhhbXBsZVxuXHQgKiBZb3UgY2FuIHVzZSBjb25kaXRpb25hbCBvcGVyYXRvcnMgYW5kIGBzcWwgZnVuY3Rpb25gIHRvIGZpbHRlciB0aGUgcm93cyB0byBiZSBkZWxldGVkLlxuXHQgKlxuXHQgKiBgYGB0c1xuXHQgKiAvLyBEZWxldGUgYWxsIGNhcnMgd2l0aCBncmVlbiBjb2xvclxuXHQgKiBkYi5kZWxldGUoY2Fycykud2hlcmUoZXEoY2Fycy5jb2xvciwgJ2dyZWVuJykpO1xuXHQgKiAvLyBvclxuXHQgKiBkYi5kZWxldGUoY2Fycykud2hlcmUoc3FsYCR7Y2Fycy5jb2xvcn0gPSAnZ3JlZW4nYClcblx0ICogYGBgXG5cdCAqXG5cdCAqIFlvdSBjYW4gbG9naWNhbGx5IGNvbWJpbmUgY29uZGl0aW9uYWwgb3BlcmF0b3JzIHdpdGggYGFuZCgpYCBhbmQgYG9yKClgIG9wZXJhdG9yczpcblx0ICpcblx0ICogYGBgdHNcblx0ICogLy8gRGVsZXRlIGFsbCBCTVcgY2FycyB3aXRoIGEgZ3JlZW4gY29sb3Jcblx0ICogZGIuZGVsZXRlKGNhcnMpLndoZXJlKGFuZChlcShjYXJzLmNvbG9yLCAnZ3JlZW4nKSwgZXEoY2Fycy5icmFuZCwgJ0JNVycpKSk7XG5cdCAqXG5cdCAqIC8vIERlbGV0ZSBhbGwgY2FycyB3aXRoIHRoZSBncmVlbiBvciBibHVlIGNvbG9yXG5cdCAqIGRiLmRlbGV0ZShjYXJzKS53aGVyZShvcihlcShjYXJzLmNvbG9yLCAnZ3JlZW4nKSwgZXEoY2Fycy5jb2xvciwgJ2JsdWUnKSkpO1xuXHQgKiBgYGBcblx0ICovXG5cdHdoZXJlKHdoZXJlOiBTUUwgfCB1bmRlZmluZWQpOiBTUUxpdGVEZWxldGVXaXRob3V0PHRoaXMsIFREeW5hbWljLCAnd2hlcmUnPiB7XG5cdFx0dGhpcy5jb25maWcud2hlcmUgPSB3aGVyZTtcblx0XHRyZXR1cm4gdGhpcyBhcyBhbnk7XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBhIGByZXR1cm5pbmdgIGNsYXVzZSB0byB0aGUgcXVlcnkuXG5cdCAqXG5cdCAqIENhbGxpbmcgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gdGhlIHNwZWNpZmllZCBmaWVsZHMgb2YgdGhlIGRlbGV0ZWQgcm93cy4gSWYgbm8gZmllbGRzIGFyZSBzcGVjaWZpZWQsIGFsbCBmaWVsZHMgd2lsbCBiZSByZXR1cm5lZC5cblx0ICpcblx0ICogU2VlIGRvY3M6IHtAbGluayBodHRwczovL29ybS5kcml6emxlLnRlYW0vZG9jcy9kZWxldGUjZGVsZXRlLXdpdGgtcmV0dXJufVxuXHQgKlxuXHQgKiBAZXhhbXBsZVxuXHQgKiBgYGB0c1xuXHQgKiAvLyBEZWxldGUgYWxsIGNhcnMgd2l0aCB0aGUgZ3JlZW4gY29sb3IgYW5kIHJldHVybiBhbGwgZmllbGRzXG5cdCAqIGNvbnN0IGRlbGV0ZWRDYXJzOiBDYXJbXSA9IGF3YWl0IGRiLmRlbGV0ZShjYXJzKVxuXHQgKiAgIC53aGVyZShlcShjYXJzLmNvbG9yLCAnZ3JlZW4nKSlcblx0ICogICAucmV0dXJuaW5nKCk7XG5cdCAqXG5cdCAqIC8vIERlbGV0ZSBhbGwgY2FycyB3aXRoIHRoZSBncmVlbiBjb2xvciBhbmQgcmV0dXJuIG9ubHkgdGhlaXIgaWQgYW5kIGJyYW5kIGZpZWxkc1xuXHQgKiBjb25zdCBkZWxldGVkQ2Fyc0lkc0FuZEJyYW5kczogeyBpZDogbnVtYmVyLCBicmFuZDogc3RyaW5nIH1bXSA9IGF3YWl0IGRiLmRlbGV0ZShjYXJzKVxuXHQgKiAgIC53aGVyZShlcShjYXJzLmNvbG9yLCAnZ3JlZW4nKSlcblx0ICogICAucmV0dXJuaW5nKHsgaWQ6IGNhcnMuaWQsIGJyYW5kOiBjYXJzLmJyYW5kIH0pO1xuXHQgKiBgYGBcblx0ICovXG5cdHJldHVybmluZygpOiBTUUxpdGVEZWxldGVSZXR1cm5pbmdBbGw8dGhpcywgVER5bmFtaWM+O1xuXHRyZXR1cm5pbmc8VFNlbGVjdGVkRmllbGRzIGV4dGVuZHMgU2VsZWN0ZWRGaWVsZHNGbGF0Pihcblx0XHRmaWVsZHM6IFRTZWxlY3RlZEZpZWxkcyxcblx0KTogU1FMaXRlRGVsZXRlUmV0dXJuaW5nPHRoaXMsIFREeW5hbWljLCBUU2VsZWN0ZWRGaWVsZHM+O1xuXHRyZXR1cm5pbmcoXG5cdFx0ZmllbGRzOiBTZWxlY3RlZEZpZWxkc0ZsYXQgPSB0aGlzLnRhYmxlW1NRTGl0ZVRhYmxlLlN5bWJvbC5Db2x1bW5zXSxcblx0KTogU1FMaXRlRGVsZXRlUmV0dXJuaW5nPHRoaXMsIFREeW5hbWljLCBhbnk+IHtcblx0XHR0aGlzLmNvbmZpZy5yZXR1cm5pbmcgPSBvcmRlclNlbGVjdGVkRmllbGRzPFNRTGl0ZUNvbHVtbj4oZmllbGRzKTtcblx0XHRyZXR1cm4gdGhpcyBhcyBhbnk7XG5cdH1cblxuXHQvKiogQGludGVybmFsICovXG5cdGdldFNRTCgpOiBTUUwge1xuXHRcdHJldHVybiB0aGlzLmRpYWxlY3QuYnVpbGREZWxldGVRdWVyeSh0aGlzLmNvbmZpZyk7XG5cdH1cblxuXHR0b1NRTCgpOiBRdWVyeSB7XG5cdFx0Y29uc3QgeyB0eXBpbmdzOiBfdHlwaW5ncywgLi4ucmVzdCB9ID0gdGhpcy5kaWFsZWN0LnNxbFRvUXVlcnkodGhpcy5nZXRTUUwoKSk7XG5cdFx0cmV0dXJuIHJlc3Q7XG5cdH1cblxuXHQvKiogQGludGVybmFsICovXG5cdF9wcmVwYXJlKGlzT25lVGltZVF1ZXJ5ID0gdHJ1ZSk6IFNRTGl0ZURlbGV0ZVByZXBhcmU8dGhpcz4ge1xuXHRcdHJldHVybiB0aGlzLnNlc3Npb25baXNPbmVUaW1lUXVlcnkgPyAncHJlcGFyZU9uZVRpbWVRdWVyeScgOiAncHJlcGFyZVF1ZXJ5J10oXG5cdFx0XHR0aGlzLmRpYWxlY3Quc3FsVG9RdWVyeSh0aGlzLmdldFNRTCgpKSxcblx0XHRcdHRoaXMuY29uZmlnLnJldHVybmluZyxcblx0XHRcdHRoaXMuY29uZmlnLnJldHVybmluZyA/ICdhbGwnIDogJ3J1bicsXG5cdFx0XHR0cnVlLFxuXHRcdCkgYXMgU1FMaXRlRGVsZXRlUHJlcGFyZTx0aGlzPjtcblx0fVxuXG5cdHByZXBhcmUoKTogU1FMaXRlRGVsZXRlUHJlcGFyZTx0aGlzPiB7XG5cdFx0cmV0dXJuIHRoaXMuX3ByZXBhcmUoZmFsc2UpO1xuXHR9XG5cblx0cnVuOiBSZXR1cm5UeXBlPHRoaXNbJ3ByZXBhcmUnXT5bJ3J1biddID0gKHBsYWNlaG9sZGVyVmFsdWVzKSA9PiB7XG5cdFx0cmV0dXJuIHRoaXMuX3ByZXBhcmUoKS5ydW4ocGxhY2Vob2xkZXJWYWx1ZXMpO1xuXHR9O1xuXG5cdGFsbDogUmV0dXJuVHlwZTx0aGlzWydwcmVwYXJlJ10+WydhbGwnXSA9IChwbGFjZWhvbGRlclZhbHVlcykgPT4ge1xuXHRcdHJldHVybiB0aGlzLl9wcmVwYXJlKCkuYWxsKHBsYWNlaG9sZGVyVmFsdWVzKTtcblx0fTtcblxuXHRnZXQ6IFJldHVyblR5cGU8dGhpc1sncHJlcGFyZSddPlsnZ2V0J10gPSAocGxhY2Vob2xkZXJWYWx1ZXMpID0+IHtcblx0XHRyZXR1cm4gdGhpcy5fcHJlcGFyZSgpLmdldChwbGFjZWhvbGRlclZhbHVlcyk7XG5cdH07XG5cblx0dmFsdWVzOiBSZXR1cm5UeXBlPHRoaXNbJ3ByZXBhcmUnXT5bJ3ZhbHVlcyddID0gKHBsYWNlaG9sZGVyVmFsdWVzKSA9PiB7XG5cdFx0cmV0dXJuIHRoaXMuX3ByZXBhcmUoKS52YWx1ZXMocGxhY2Vob2xkZXJWYWx1ZXMpO1xuXHR9O1xuXG5cdG92ZXJyaWRlIGFzeW5jIGV4ZWN1dGUocGxhY2Vob2xkZXJWYWx1ZXM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPik6IFByb21pc2U8U1FMaXRlRGVsZXRlRXhlY3V0ZTx0aGlzPj4ge1xuXHRcdHJldHVybiB0aGlzLl9wcmVwYXJlKCkuZXhlY3V0ZShwbGFjZWhvbGRlclZhbHVlcykgYXMgU1FMaXRlRGVsZXRlRXhlY3V0ZTx0aGlzPjtcblx0fVxuXG5cdCRkeW5hbWljKCk6IFNRTGl0ZURlbGV0ZUR5bmFtaWM8dGhpcz4ge1xuXHRcdHJldHVybiB0aGlzIGFzIGFueTtcblx0fVxufVxuIiwgImltcG9ydCB7IGVudGl0eUtpbmQsIGlzIH0gZnJvbSAnfi9lbnRpdHkudHMnO1xuaW1wb3J0IHR5cGUgeyBTZWxlY3RSZXN1bHRGaWVsZHMgfSBmcm9tICd+L3F1ZXJ5LWJ1aWxkZXJzL3NlbGVjdC50eXBlcy50cyc7XG5pbXBvcnQgeyBRdWVyeVByb21pc2UgfSBmcm9tICd+L3F1ZXJ5LXByb21pc2UudHMnO1xuaW1wb3J0IHR5cGUgeyBSdW5uYWJsZVF1ZXJ5IH0gZnJvbSAnfi9ydW5uYWJsZS1xdWVyeS50cyc7XG5pbXBvcnQgdHlwZSB7IFBsYWNlaG9sZGVyLCBRdWVyeSwgU1FMV3JhcHBlciB9IGZyb20gJ34vc3FsL3NxbC50cyc7XG5pbXBvcnQgeyBQYXJhbSwgU1FMLCBzcWwgfSBmcm9tICd+L3NxbC9zcWwudHMnO1xuaW1wb3J0IHR5cGUgeyBTUUxpdGVEaWFsZWN0IH0gZnJvbSAnfi9zcWxpdGUtY29yZS9kaWFsZWN0LnRzJztcbmltcG9ydCB0eXBlIHsgSW5kZXhDb2x1bW4gfSBmcm9tICd+L3NxbGl0ZS1jb3JlL2luZGV4ZXMudHMnO1xuaW1wb3J0IHR5cGUgeyBTUUxpdGVQcmVwYXJlZFF1ZXJ5LCBTUUxpdGVTZXNzaW9uIH0gZnJvbSAnfi9zcWxpdGUtY29yZS9zZXNzaW9uLnRzJztcbmltcG9ydCB7IFNRTGl0ZVRhYmxlIH0gZnJvbSAnfi9zcWxpdGUtY29yZS90YWJsZS50cyc7XG5pbXBvcnQgdHlwZSB7IFN1YnF1ZXJ5IH0gZnJvbSAnfi9zdWJxdWVyeS50cyc7XG5pbXBvcnQgeyBUYWJsZSB9IGZyb20gJ34vdGFibGUudHMnO1xuaW1wb3J0IHsgdHlwZSBEcml6emxlVHlwZUVycm9yLCBtYXBVcGRhdGVTZXQsIG9yZGVyU2VsZWN0ZWRGaWVsZHMsIHR5cGUgU2ltcGxpZnkgfSBmcm9tICd+L3V0aWxzLnRzJztcbmltcG9ydCB0eXBlIHsgU1FMaXRlQ29sdW1uIH0gZnJvbSAnLi4vY29sdW1ucy9jb21tb24udHMnO1xuaW1wb3J0IHR5cGUgeyBTZWxlY3RlZEZpZWxkc0ZsYXQsIFNlbGVjdGVkRmllbGRzT3JkZXJlZCB9IGZyb20gJy4vc2VsZWN0LnR5cGVzLnRzJztcbmltcG9ydCB0eXBlIHsgU1FMaXRlVXBkYXRlU2V0U291cmNlIH0gZnJvbSAnLi91cGRhdGUudHMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNRTGl0ZUluc2VydENvbmZpZzxUVGFibGUgZXh0ZW5kcyBTUUxpdGVUYWJsZSA9IFNRTGl0ZVRhYmxlPiB7XG5cdHRhYmxlOiBUVGFibGU7XG5cdHZhbHVlczogUmVjb3JkPHN0cmluZywgUGFyYW0gfCBTUUw+W107XG5cdHdpdGhMaXN0PzogU3VicXVlcnlbXTtcblx0b25Db25mbGljdD86IFNRTDtcblx0cmV0dXJuaW5nPzogU2VsZWN0ZWRGaWVsZHNPcmRlcmVkO1xufVxuXG5leHBvcnQgdHlwZSBTUUxpdGVJbnNlcnRWYWx1ZTxUVGFibGUgZXh0ZW5kcyBTUUxpdGVUYWJsZT4gPSBTaW1wbGlmeTxcblx0e1xuXHRcdFtLZXkgaW4ga2V5b2YgVFRhYmxlWyckaW5mZXJJbnNlcnQnXV06IFRUYWJsZVsnJGluZmVySW5zZXJ0J11bS2V5XSB8IFNRTCB8IFBsYWNlaG9sZGVyO1xuXHR9XG4+O1xuXG5leHBvcnQgY2xhc3MgU1FMaXRlSW5zZXJ0QnVpbGRlcjxcblx0VFRhYmxlIGV4dGVuZHMgU1FMaXRlVGFibGUsXG5cdFRSZXN1bHRUeXBlIGV4dGVuZHMgJ3N5bmMnIHwgJ2FzeW5jJyxcblx0VFJ1blJlc3VsdCxcbj4ge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnU1FMaXRlSW5zZXJ0QnVpbGRlcic7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0cHJvdGVjdGVkIHRhYmxlOiBUVGFibGUsXG5cdFx0cHJvdGVjdGVkIHNlc3Npb246IFNRTGl0ZVNlc3Npb248YW55LCBhbnksIGFueSwgYW55Pixcblx0XHRwcm90ZWN0ZWQgZGlhbGVjdDogU1FMaXRlRGlhbGVjdCxcblx0XHRwcml2YXRlIHdpdGhMaXN0PzogU3VicXVlcnlbXSxcblx0KSB7fVxuXG5cdHZhbHVlcyh2YWx1ZTogU1FMaXRlSW5zZXJ0VmFsdWU8VFRhYmxlPik6IFNRTGl0ZUluc2VydEJhc2U8VFRhYmxlLCBUUmVzdWx0VHlwZSwgVFJ1blJlc3VsdD47XG5cdHZhbHVlcyh2YWx1ZXM6IFNRTGl0ZUluc2VydFZhbHVlPFRUYWJsZT5bXSk6IFNRTGl0ZUluc2VydEJhc2U8VFRhYmxlLCBUUmVzdWx0VHlwZSwgVFJ1blJlc3VsdD47XG5cdHZhbHVlcyhcblx0XHR2YWx1ZXM6IFNRTGl0ZUluc2VydFZhbHVlPFRUYWJsZT4gfCBTUUxpdGVJbnNlcnRWYWx1ZTxUVGFibGU+W10sXG5cdCk6IFNRTGl0ZUluc2VydEJhc2U8VFRhYmxlLCBUUmVzdWx0VHlwZSwgVFJ1blJlc3VsdD4ge1xuXHRcdHZhbHVlcyA9IEFycmF5LmlzQXJyYXkodmFsdWVzKSA/IHZhbHVlcyA6IFt2YWx1ZXNdO1xuXHRcdGlmICh2YWx1ZXMubGVuZ3RoID09PSAwKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ3ZhbHVlcygpIG11c3QgYmUgY2FsbGVkIHdpdGggYXQgbGVhc3Qgb25lIHZhbHVlJyk7XG5cdFx0fVxuXHRcdGNvbnN0IG1hcHBlZFZhbHVlcyA9IHZhbHVlcy5tYXAoKGVudHJ5KSA9PiB7XG5cdFx0XHRjb25zdCByZXN1bHQ6IFJlY29yZDxzdHJpbmcsIFBhcmFtIHwgU1FMPiA9IHt9O1xuXHRcdFx0Y29uc3QgY29scyA9IHRoaXMudGFibGVbVGFibGUuU3ltYm9sLkNvbHVtbnNdO1xuXHRcdFx0Zm9yIChjb25zdCBjb2xLZXkgb2YgT2JqZWN0LmtleXMoZW50cnkpKSB7XG5cdFx0XHRcdGNvbnN0IGNvbFZhbHVlID0gZW50cnlbY29sS2V5IGFzIGtleW9mIHR5cGVvZiBlbnRyeV07XG5cdFx0XHRcdHJlc3VsdFtjb2xLZXldID0gaXMoY29sVmFsdWUsIFNRTCkgPyBjb2xWYWx1ZSA6IG5ldyBQYXJhbShjb2xWYWx1ZSwgY29sc1tjb2xLZXldKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fSk7XG5cblx0XHQvLyBpZiAobWFwcGVkVmFsdWVzLmxlbmd0aCA+IDEgJiYgbWFwcGVkVmFsdWVzLnNvbWUoKHQpID0+IE9iamVjdC5rZXlzKHQpLmxlbmd0aCA9PT0gMCkpIHtcblx0XHQvLyBcdHRocm93IG5ldyBFcnJvcihcblx0XHQvLyBcdFx0YE9uZSBvZiB0aGUgdmFsdWVzIHlvdSB3YW50IHRvIGluc2VydCBpcyBlbXB0eS4gSW4gU1FMaXRlIHlvdSBjYW4gaW5zZXJ0IG9ubHkgb25lIGVtcHR5IG9iamVjdCBwZXIgc3RhdGVtZW50LiBGb3IgdGhpcyBjYXNlIERyaXp6bGUgd2l0aCB1c2UgXCJJTlNFUlQgSU5UTyAuLi4gREVGQVVMVCBWQUxVRVNcIiBzeW50YXhgLFxuXHRcdC8vIFx0KTtcblx0XHQvLyB9XG5cblx0XHRyZXR1cm4gbmV3IFNRTGl0ZUluc2VydEJhc2UodGhpcy50YWJsZSwgbWFwcGVkVmFsdWVzLCB0aGlzLnNlc3Npb24sIHRoaXMuZGlhbGVjdCwgdGhpcy53aXRoTGlzdCk7XG5cdH1cbn1cblxuZXhwb3J0IHR5cGUgU1FMaXRlSW5zZXJ0V2l0aG91dDxUIGV4dGVuZHMgQW55U1FMaXRlSW5zZXJ0LCBURHluYW1pYyBleHRlbmRzIGJvb2xlYW4sIEsgZXh0ZW5kcyBrZXlvZiBUICYgc3RyaW5nPiA9XG5cdFREeW5hbWljIGV4dGVuZHMgdHJ1ZSA/IFRcblx0XHQ6IE9taXQ8XG5cdFx0XHRTUUxpdGVJbnNlcnRCYXNlPFxuXHRcdFx0XHRUWydfJ11bJ3RhYmxlJ10sXG5cdFx0XHRcdFRbJ18nXVsncmVzdWx0VHlwZSddLFxuXHRcdFx0XHRUWydfJ11bJ3J1blJlc3VsdCddLFxuXHRcdFx0XHRUWydfJ11bJ3JldHVybmluZyddLFxuXHRcdFx0XHRURHluYW1pYyxcblx0XHRcdFx0VFsnXyddWydleGNsdWRlZE1ldGhvZHMnXSB8IEtcblx0XHRcdD4sXG5cdFx0XHRUWydfJ11bJ2V4Y2x1ZGVkTWV0aG9kcyddIHwgS1xuXHRcdD47XG5cbmV4cG9ydCB0eXBlIFNRTGl0ZUluc2VydFJldHVybmluZzxcblx0VCBleHRlbmRzIEFueVNRTGl0ZUluc2VydCxcblx0VER5bmFtaWMgZXh0ZW5kcyBib29sZWFuLFxuXHRUU2VsZWN0ZWRGaWVsZHMgZXh0ZW5kcyBTZWxlY3RlZEZpZWxkc0ZsYXQsXG4+ID0gU1FMaXRlSW5zZXJ0V2l0aG91dDxcblx0U1FMaXRlSW5zZXJ0QmFzZTxcblx0XHRUWydfJ11bJ3RhYmxlJ10sXG5cdFx0VFsnXyddWydyZXN1bHRUeXBlJ10sXG5cdFx0VFsnXyddWydydW5SZXN1bHQnXSxcblx0XHRTZWxlY3RSZXN1bHRGaWVsZHM8VFNlbGVjdGVkRmllbGRzPixcblx0XHRURHluYW1pYyxcblx0XHRUWydfJ11bJ2V4Y2x1ZGVkTWV0aG9kcyddXG5cdD4sXG5cdFREeW5hbWljLFxuXHQncmV0dXJuaW5nJ1xuPjtcblxuZXhwb3J0IHR5cGUgU1FMaXRlSW5zZXJ0UmV0dXJuaW5nQWxsPFxuXHRUIGV4dGVuZHMgQW55U1FMaXRlSW5zZXJ0LFxuXHRURHluYW1pYyBleHRlbmRzIGJvb2xlYW4sXG4+ID0gU1FMaXRlSW5zZXJ0V2l0aG91dDxcblx0U1FMaXRlSW5zZXJ0QmFzZTxcblx0XHRUWydfJ11bJ3RhYmxlJ10sXG5cdFx0VFsnXyddWydyZXN1bHRUeXBlJ10sXG5cdFx0VFsnXyddWydydW5SZXN1bHQnXSxcblx0XHRUWydfJ11bJ3RhYmxlJ11bJyRpbmZlclNlbGVjdCddLFxuXHRcdFREeW5hbWljLFxuXHRcdFRbJ18nXVsnZXhjbHVkZWRNZXRob2RzJ11cblx0Pixcblx0VER5bmFtaWMsXG5cdCdyZXR1cm5pbmcnXG4+O1xuXG5leHBvcnQgdHlwZSBTUUxpdGVJbnNlcnRPbkNvbmZsaWN0RG9VcGRhdGVDb25maWc8VCBleHRlbmRzIEFueVNRTGl0ZUluc2VydD4gPSB7XG5cdHRhcmdldDogSW5kZXhDb2x1bW4gfCBJbmRleENvbHVtbltdO1xuXHQvKiogQGRlcHJlY2F0ZWQgLSB1c2UgZWl0aGVyIGB0YXJnZXRXaGVyZWAgb3IgYHNldFdoZXJlYCAqL1xuXHR3aGVyZT86IFNRTDtcblx0Ly8gVE9ETzogYWRkIHRlc3RzIGZvciB0YXJnZXRXaGVyZSBhbmQgc2V0V2hlcmVcblx0dGFyZ2V0V2hlcmU/OiBTUUw7XG5cdHNldFdoZXJlPzogU1FMO1xuXHRzZXQ6IFNRTGl0ZVVwZGF0ZVNldFNvdXJjZTxUWydfJ11bJ3RhYmxlJ10+O1xufTtcblxuZXhwb3J0IHR5cGUgU1FMaXRlSW5zZXJ0RHluYW1pYzxUIGV4dGVuZHMgQW55U1FMaXRlSW5zZXJ0PiA9IFNRTGl0ZUluc2VydDxcblx0VFsnXyddWyd0YWJsZSddLFxuXHRUWydfJ11bJ3Jlc3VsdFR5cGUnXSxcblx0VFsnXyddWydydW5SZXN1bHQnXSxcblx0VFsnXyddWydyZXR1cm5pbmcnXVxuPjtcblxuZXhwb3J0IHR5cGUgU1FMaXRlSW5zZXJ0RXhlY3V0ZTxUIGV4dGVuZHMgQW55U1FMaXRlSW5zZXJ0PiA9IFRbJ18nXVsncmV0dXJuaW5nJ10gZXh0ZW5kcyB1bmRlZmluZWQgPyBUWydfJ11bJ3J1blJlc3VsdCddXG5cdDogVFsnXyddWydyZXR1cm5pbmcnXVtdO1xuXG5leHBvcnQgdHlwZSBTUUxpdGVJbnNlcnRQcmVwYXJlPFQgZXh0ZW5kcyBBbnlTUUxpdGVJbnNlcnQ+ID0gU1FMaXRlUHJlcGFyZWRRdWVyeTxcblx0e1xuXHRcdHR5cGU6IFRbJ18nXVsncmVzdWx0VHlwZSddO1xuXHRcdHJ1bjogVFsnXyddWydydW5SZXN1bHQnXTtcblx0XHRhbGw6IFRbJ18nXVsncmV0dXJuaW5nJ10gZXh0ZW5kcyB1bmRlZmluZWQgPyBEcml6emxlVHlwZUVycm9yPCcuYWxsKCkgY2Fubm90IGJlIHVzZWQgd2l0aG91dCAucmV0dXJuaW5nKCknPlxuXHRcdFx0OiBUWydfJ11bJ3JldHVybmluZyddW107XG5cdFx0Z2V0OiBUWydfJ11bJ3JldHVybmluZyddIGV4dGVuZHMgdW5kZWZpbmVkID8gRHJpenpsZVR5cGVFcnJvcjwnLmdldCgpIGNhbm5vdCBiZSB1c2VkIHdpdGhvdXQgLnJldHVybmluZygpJz5cblx0XHRcdDogVFsnXyddWydyZXR1cm5pbmcnXTtcblx0XHR2YWx1ZXM6IFRbJ18nXVsncmV0dXJuaW5nJ10gZXh0ZW5kcyB1bmRlZmluZWQgPyBEcml6emxlVHlwZUVycm9yPCcudmFsdWVzKCkgY2Fubm90IGJlIHVzZWQgd2l0aG91dCAucmV0dXJuaW5nKCknPlxuXHRcdFx0OiBhbnlbXVtdO1xuXHRcdGV4ZWN1dGU6IFNRTGl0ZUluc2VydEV4ZWN1dGU8VD47XG5cdH1cbj47XG5cbmV4cG9ydCB0eXBlIEFueVNRTGl0ZUluc2VydCA9IFNRTGl0ZUluc2VydEJhc2U8YW55LCBhbnksIGFueSwgYW55LCBhbnksIGFueT47XG5cbmV4cG9ydCB0eXBlIFNRTGl0ZUluc2VydDxcblx0VFRhYmxlIGV4dGVuZHMgU1FMaXRlVGFibGUgPSBTUUxpdGVUYWJsZSxcblx0VFJlc3VsdFR5cGUgZXh0ZW5kcyAnc3luYycgfCAnYXN5bmMnID0gJ3N5bmMnIHwgJ2FzeW5jJyxcblx0VFJ1blJlc3VsdCA9IHVua25vd24sXG5cdFRSZXR1cm5pbmcgPSBhbnksXG4+ID0gU1FMaXRlSW5zZXJ0QmFzZTxUVGFibGUsIFRSZXN1bHRUeXBlLCBUUnVuUmVzdWx0LCBUUmV0dXJuaW5nLCB0cnVlLCBuZXZlcj47XG5cbmV4cG9ydCBpbnRlcmZhY2UgU1FMaXRlSW5zZXJ0QmFzZTxcblx0VFRhYmxlIGV4dGVuZHMgU1FMaXRlVGFibGUsXG5cdFRSZXN1bHRUeXBlIGV4dGVuZHMgJ3N5bmMnIHwgJ2FzeW5jJyxcblx0VFJ1blJlc3VsdCxcblx0VFJldHVybmluZyA9IHVuZGVmaW5lZCxcblx0VER5bmFtaWMgZXh0ZW5kcyBib29sZWFuID0gZmFsc2UsXG5cdFRFeGNsdWRlZE1ldGhvZHMgZXh0ZW5kcyBzdHJpbmcgPSBuZXZlcixcbj4gZXh0ZW5kc1xuXHRTUUxXcmFwcGVyLFxuXHRRdWVyeVByb21pc2U8VFJldHVybmluZyBleHRlbmRzIHVuZGVmaW5lZCA/IFRSdW5SZXN1bHQgOiBUUmV0dXJuaW5nW10+LFxuXHRSdW5uYWJsZVF1ZXJ5PFRSZXR1cm5pbmcgZXh0ZW5kcyB1bmRlZmluZWQgPyBUUnVuUmVzdWx0IDogVFJldHVybmluZ1tdLCAnc3FsaXRlJz5cbntcblx0cmVhZG9ubHkgXzoge1xuXHRcdHJlYWRvbmx5IGRpYWxlY3Q6ICdzcWxpdGUnO1xuXHRcdHJlYWRvbmx5IHRhYmxlOiBUVGFibGU7XG5cdFx0cmVhZG9ubHkgcmVzdWx0VHlwZTogVFJlc3VsdFR5cGU7XG5cdFx0cmVhZG9ubHkgcnVuUmVzdWx0OiBUUnVuUmVzdWx0O1xuXHRcdHJlYWRvbmx5IHJldHVybmluZzogVFJldHVybmluZztcblx0XHRyZWFkb25seSBkeW5hbWljOiBURHluYW1pYztcblx0XHRyZWFkb25seSBleGNsdWRlZE1ldGhvZHM6IFRFeGNsdWRlZE1ldGhvZHM7XG5cdFx0cmVhZG9ubHkgcmVzdWx0OiBUUmV0dXJuaW5nIGV4dGVuZHMgdW5kZWZpbmVkID8gVFJ1blJlc3VsdCA6IFRSZXR1cm5pbmdbXTtcblx0fTtcbn1cblxuZXhwb3J0IGNsYXNzIFNRTGl0ZUluc2VydEJhc2U8XG5cdFRUYWJsZSBleHRlbmRzIFNRTGl0ZVRhYmxlLFxuXHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG5cdFRSZXN1bHRUeXBlIGV4dGVuZHMgJ3N5bmMnIHwgJ2FzeW5jJyxcblx0VFJ1blJlc3VsdCxcblx0VFJldHVybmluZyA9IHVuZGVmaW5lZCxcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuXHRURHluYW1pYyBleHRlbmRzIGJvb2xlYW4gPSBmYWxzZSxcblx0Ly8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnVzZWQtdmFyc1xuXHRURXhjbHVkZWRNZXRob2RzIGV4dGVuZHMgc3RyaW5nID0gbmV2ZXIsXG4+IGV4dGVuZHMgUXVlcnlQcm9taXNlPFRSZXR1cm5pbmcgZXh0ZW5kcyB1bmRlZmluZWQgPyBUUnVuUmVzdWx0IDogVFJldHVybmluZ1tdPlxuXHRpbXBsZW1lbnRzIFJ1bm5hYmxlUXVlcnk8VFJldHVybmluZyBleHRlbmRzIHVuZGVmaW5lZCA/IFRSdW5SZXN1bHQgOiBUUmV0dXJuaW5nW10sICdzcWxpdGUnPiwgU1FMV3JhcHBlclxue1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnU1FMaXRlSW5zZXJ0JztcblxuXHQvKiogQGludGVybmFsICovXG5cdGNvbmZpZzogU1FMaXRlSW5zZXJ0Q29uZmlnPFRUYWJsZT47XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0dGFibGU6IFRUYWJsZSxcblx0XHR2YWx1ZXM6IFNRTGl0ZUluc2VydENvbmZpZ1sndmFsdWVzJ10sXG5cdFx0cHJpdmF0ZSBzZXNzaW9uOiBTUUxpdGVTZXNzaW9uPGFueSwgYW55LCBhbnksIGFueT4sXG5cdFx0cHJpdmF0ZSBkaWFsZWN0OiBTUUxpdGVEaWFsZWN0LFxuXHRcdHdpdGhMaXN0PzogU3VicXVlcnlbXSxcblx0KSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmNvbmZpZyA9IHsgdGFibGUsIHZhbHVlcywgd2l0aExpc3QgfTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIGEgYHJldHVybmluZ2AgY2xhdXNlIHRvIHRoZSBxdWVyeS5cblx0ICpcblx0ICogQ2FsbGluZyB0aGlzIG1ldGhvZCB3aWxsIHJldHVybiB0aGUgc3BlY2lmaWVkIGZpZWxkcyBvZiB0aGUgaW5zZXJ0ZWQgcm93cy4gSWYgbm8gZmllbGRzIGFyZSBzcGVjaWZpZWQsIGFsbCBmaWVsZHMgd2lsbCBiZSByZXR1cm5lZC5cblx0ICpcblx0ICogU2VlIGRvY3M6IHtAbGluayBodHRwczovL29ybS5kcml6emxlLnRlYW0vZG9jcy9pbnNlcnQjaW5zZXJ0LXJldHVybmluZ31cblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogYGBgdHNcblx0ICogLy8gSW5zZXJ0IG9uZSByb3cgYW5kIHJldHVybiBhbGwgZmllbGRzXG5cdCAqIGNvbnN0IGluc2VydGVkQ2FyOiBDYXJbXSA9IGF3YWl0IGRiLmluc2VydChjYXJzKVxuXHQgKiAgIC52YWx1ZXMoeyBicmFuZDogJ0JNVycgfSlcblx0ICogICAucmV0dXJuaW5nKCk7XG5cdCAqXG5cdCAqIC8vIEluc2VydCBvbmUgcm93IGFuZCByZXR1cm4gb25seSB0aGUgaWRcblx0ICogY29uc3QgaW5zZXJ0ZWRDYXJJZDogeyBpZDogbnVtYmVyIH1bXSA9IGF3YWl0IGRiLmluc2VydChjYXJzKVxuXHQgKiAgIC52YWx1ZXMoeyBicmFuZDogJ0JNVycgfSlcblx0ICogICAucmV0dXJuaW5nKHsgaWQ6IGNhcnMuaWQgfSk7XG5cdCAqIGBgYFxuXHQgKi9cblx0cmV0dXJuaW5nKCk6IFNRTGl0ZUluc2VydFJldHVybmluZ0FsbDx0aGlzLCBURHluYW1pYz47XG5cdHJldHVybmluZzxUU2VsZWN0ZWRGaWVsZHMgZXh0ZW5kcyBTZWxlY3RlZEZpZWxkc0ZsYXQ+KFxuXHRcdGZpZWxkczogVFNlbGVjdGVkRmllbGRzLFxuXHQpOiBTUUxpdGVJbnNlcnRSZXR1cm5pbmc8dGhpcywgVER5bmFtaWMsIFRTZWxlY3RlZEZpZWxkcz47XG5cdHJldHVybmluZyhcblx0XHRmaWVsZHM6IFNlbGVjdGVkRmllbGRzRmxhdCA9IHRoaXMuY29uZmlnLnRhYmxlW1NRTGl0ZVRhYmxlLlN5bWJvbC5Db2x1bW5zXSxcblx0KTogU1FMaXRlSW5zZXJ0V2l0aG91dDxBbnlTUUxpdGVJbnNlcnQsIFREeW5hbWljLCAncmV0dXJuaW5nJz4ge1xuXHRcdHRoaXMuY29uZmlnLnJldHVybmluZyA9IG9yZGVyU2VsZWN0ZWRGaWVsZHM8U1FMaXRlQ29sdW1uPihmaWVsZHMpO1xuXHRcdHJldHVybiB0aGlzIGFzIGFueTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIGFuIGBvbiBjb25mbGljdCBkbyBub3RoaW5nYCBjbGF1c2UgdG8gdGhlIHF1ZXJ5LlxuXHQgKlxuXHQgKiBDYWxsaW5nIHRoaXMgbWV0aG9kIHNpbXBseSBhdm9pZHMgaW5zZXJ0aW5nIGEgcm93IGFzIGl0cyBhbHRlcm5hdGl2ZSBhY3Rpb24uXG5cdCAqXG5cdCAqIFNlZSBkb2NzOiB7QGxpbmsgaHR0cHM6Ly9vcm0uZHJpenpsZS50ZWFtL2RvY3MvaW5zZXJ0I29uLWNvbmZsaWN0LWRvLW5vdGhpbmd9XG5cdCAqXG5cdCAqIEBwYXJhbSBjb25maWcgVGhlIGB0YXJnZXRgIGFuZCBgd2hlcmVgIGNsYXVzZXMuXG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqIGBgYHRzXG5cdCAqIC8vIEluc2VydCBvbmUgcm93IGFuZCBjYW5jZWwgdGhlIGluc2VydCBpZiB0aGVyZSdzIGEgY29uZmxpY3Rcblx0ICogYXdhaXQgZGIuaW5zZXJ0KGNhcnMpXG5cdCAqICAgLnZhbHVlcyh7IGlkOiAxLCBicmFuZDogJ0JNVycgfSlcblx0ICogICAub25Db25mbGljdERvTm90aGluZygpO1xuXHQgKlxuXHQgKiAvLyBFeHBsaWNpdGx5IHNwZWNpZnkgY29uZmxpY3QgdGFyZ2V0XG5cdCAqIGF3YWl0IGRiLmluc2VydChjYXJzKVxuXHQgKiAgIC52YWx1ZXMoeyBpZDogMSwgYnJhbmQ6ICdCTVcnIH0pXG5cdCAqICAgLm9uQ29uZmxpY3REb05vdGhpbmcoeyB0YXJnZXQ6IGNhcnMuaWQgfSk7XG5cdCAqIGBgYFxuXHQgKi9cblx0b25Db25mbGljdERvTm90aGluZyhjb25maWc6IHsgdGFyZ2V0PzogSW5kZXhDb2x1bW4gfCBJbmRleENvbHVtbltdOyB3aGVyZT86IFNRTCB9ID0ge30pOiB0aGlzIHtcblx0XHRpZiAoY29uZmlnLnRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHR0aGlzLmNvbmZpZy5vbkNvbmZsaWN0ID0gc3FsYGRvIG5vdGhpbmdgO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zdCB0YXJnZXRTcWwgPSBBcnJheS5pc0FycmF5KGNvbmZpZy50YXJnZXQpID8gc3FsYCR7Y29uZmlnLnRhcmdldH1gIDogc3FsYCR7W2NvbmZpZy50YXJnZXRdfWA7XG5cdFx0XHRjb25zdCB3aGVyZVNxbCA9IGNvbmZpZy53aGVyZSA/IHNxbGAgd2hlcmUgJHtjb25maWcud2hlcmV9YCA6IHNxbGBgO1xuXHRcdFx0dGhpcy5jb25maWcub25Db25mbGljdCA9IHNxbGAke3RhcmdldFNxbH0gZG8gbm90aGluZyR7d2hlcmVTcWx9YDtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBhbiBgb24gY29uZmxpY3QgZG8gdXBkYXRlYCBjbGF1c2UgdG8gdGhlIHF1ZXJ5LlxuXHQgKlxuXHQgKiBDYWxsaW5nIHRoaXMgbWV0aG9kIHdpbGwgdXBkYXRlIHRoZSBleGlzdGluZyByb3cgdGhhdCBjb25mbGljdHMgd2l0aCB0aGUgcm93IHByb3Bvc2VkIGZvciBpbnNlcnRpb24gYXMgaXRzIGFsdGVybmF0aXZlIGFjdGlvbi5cblx0ICpcblx0ICogU2VlIGRvY3M6IHtAbGluayBodHRwczovL29ybS5kcml6emxlLnRlYW0vZG9jcy9pbnNlcnQjdXBzZXJ0cy1hbmQtY29uZmxpY3RzfVxuXHQgKlxuXHQgKiBAcGFyYW0gY29uZmlnIFRoZSBgdGFyZ2V0YCwgYHNldGAgYW5kIGB3aGVyZWAgY2xhdXNlcy5cblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogYGBgdHNcblx0ICogLy8gVXBkYXRlIHRoZSByb3cgaWYgdGhlcmUncyBhIGNvbmZsaWN0XG5cdCAqIGF3YWl0IGRiLmluc2VydChjYXJzKVxuXHQgKiAgIC52YWx1ZXMoeyBpZDogMSwgYnJhbmQ6ICdCTVcnIH0pXG5cdCAqICAgLm9uQ29uZmxpY3REb1VwZGF0ZSh7XG5cdCAqICAgICB0YXJnZXQ6IGNhcnMuaWQsXG5cdCAqICAgICBzZXQ6IHsgYnJhbmQ6ICdQb3JzY2hlJyB9XG5cdCAqICAgfSk7XG5cdCAqXG5cdCAqIC8vIFVwc2VydCB3aXRoICd3aGVyZScgY2xhdXNlXG5cdCAqIGF3YWl0IGRiLmluc2VydChjYXJzKVxuXHQgKiAgIC52YWx1ZXMoeyBpZDogMSwgYnJhbmQ6ICdCTVcnIH0pXG5cdCAqICAgLm9uQ29uZmxpY3REb1VwZGF0ZSh7XG5cdCAqICAgICB0YXJnZXQ6IGNhcnMuaWQsXG5cdCAqICAgICBzZXQ6IHsgYnJhbmQ6ICduZXdCTVcnIH0sXG5cdCAqICAgICB3aGVyZTogc3FsYCR7Y2Fycy5jcmVhdGVkQXR9ID4gJzIwMjMtMDEtMDEnOjpkYXRlYCxcblx0ICogICB9KTtcblx0ICogYGBgXG5cdCAqL1xuXHRvbkNvbmZsaWN0RG9VcGRhdGUoY29uZmlnOiBTUUxpdGVJbnNlcnRPbkNvbmZsaWN0RG9VcGRhdGVDb25maWc8dGhpcz4pOiB0aGlzIHtcblx0XHRpZiAoY29uZmlnLndoZXJlICYmIChjb25maWcudGFyZ2V0V2hlcmUgfHwgY29uZmlnLnNldFdoZXJlKSkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHQnWW91IGNhbm5vdCB1c2UgYm90aCBcIndoZXJlXCIgYW5kIFwidGFyZ2V0V2hlcmVcIi9cInNldFdoZXJlXCIgYXQgdGhlIHNhbWUgdGltZSAtIFwid2hlcmVcIiBpcyBkZXByZWNhdGVkLCB1c2UgXCJ0YXJnZXRXaGVyZVwiIG9yIFwic2V0V2hlcmVcIiBpbnN0ZWFkLicsXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRjb25zdCB3aGVyZVNxbCA9IGNvbmZpZy53aGVyZSA/IHNxbGAgd2hlcmUgJHtjb25maWcud2hlcmV9YCA6IHVuZGVmaW5lZDtcblx0XHRjb25zdCB0YXJnZXRXaGVyZVNxbCA9IGNvbmZpZy50YXJnZXRXaGVyZSA/IHNxbGAgd2hlcmUgJHtjb25maWcudGFyZ2V0V2hlcmV9YCA6IHVuZGVmaW5lZDtcblx0XHRjb25zdCBzZXRXaGVyZVNxbCA9IGNvbmZpZy5zZXRXaGVyZSA/IHNxbGAgd2hlcmUgJHtjb25maWcuc2V0V2hlcmV9YCA6IHVuZGVmaW5lZDtcblx0XHRjb25zdCB0YXJnZXRTcWwgPSBBcnJheS5pc0FycmF5KGNvbmZpZy50YXJnZXQpID8gc3FsYCR7Y29uZmlnLnRhcmdldH1gIDogc3FsYCR7W2NvbmZpZy50YXJnZXRdfWA7XG5cdFx0Y29uc3Qgc2V0U3FsID0gdGhpcy5kaWFsZWN0LmJ1aWxkVXBkYXRlU2V0KHRoaXMuY29uZmlnLnRhYmxlLCBtYXBVcGRhdGVTZXQodGhpcy5jb25maWcudGFibGUsIGNvbmZpZy5zZXQpKTtcblx0XHR0aGlzLmNvbmZpZy5vbkNvbmZsaWN0ID0gc3FsYCR7dGFyZ2V0U3FsfSR7dGFyZ2V0V2hlcmVTcWx9IGRvIHVwZGF0ZSBzZXQgJHtzZXRTcWx9JHt3aGVyZVNxbH0ke3NldFdoZXJlU3FsfWA7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKiogQGludGVybmFsICovXG5cdGdldFNRTCgpOiBTUUwge1xuXHRcdHJldHVybiB0aGlzLmRpYWxlY3QuYnVpbGRJbnNlcnRRdWVyeSh0aGlzLmNvbmZpZyk7XG5cdH1cblxuXHR0b1NRTCgpOiBRdWVyeSB7XG5cdFx0Y29uc3QgeyB0eXBpbmdzOiBfdHlwaW5ncywgLi4ucmVzdCB9ID0gdGhpcy5kaWFsZWN0LnNxbFRvUXVlcnkodGhpcy5nZXRTUUwoKSk7XG5cdFx0cmV0dXJuIHJlc3Q7XG5cdH1cblxuXHQvKiogQGludGVybmFsICovXG5cdF9wcmVwYXJlKGlzT25lVGltZVF1ZXJ5ID0gdHJ1ZSk6IFNRTGl0ZUluc2VydFByZXBhcmU8dGhpcz4ge1xuXHRcdHJldHVybiB0aGlzLnNlc3Npb25baXNPbmVUaW1lUXVlcnkgPyAncHJlcGFyZU9uZVRpbWVRdWVyeScgOiAncHJlcGFyZVF1ZXJ5J10oXG5cdFx0XHR0aGlzLmRpYWxlY3Quc3FsVG9RdWVyeSh0aGlzLmdldFNRTCgpKSxcblx0XHRcdHRoaXMuY29uZmlnLnJldHVybmluZyxcblx0XHRcdHRoaXMuY29uZmlnLnJldHVybmluZyA/ICdhbGwnIDogJ3J1bicsXG5cdFx0XHR0cnVlLFxuXHRcdCkgYXMgU1FMaXRlSW5zZXJ0UHJlcGFyZTx0aGlzPjtcblx0fVxuXG5cdHByZXBhcmUoKTogU1FMaXRlSW5zZXJ0UHJlcGFyZTx0aGlzPiB7XG5cdFx0cmV0dXJuIHRoaXMuX3ByZXBhcmUoZmFsc2UpO1xuXHR9XG5cblx0cnVuOiBSZXR1cm5UeXBlPHRoaXNbJ3ByZXBhcmUnXT5bJ3J1biddID0gKHBsYWNlaG9sZGVyVmFsdWVzKSA9PiB7XG5cdFx0cmV0dXJuIHRoaXMuX3ByZXBhcmUoKS5ydW4ocGxhY2Vob2xkZXJWYWx1ZXMpO1xuXHR9O1xuXG5cdGFsbDogUmV0dXJuVHlwZTx0aGlzWydwcmVwYXJlJ10+WydhbGwnXSA9IChwbGFjZWhvbGRlclZhbHVlcykgPT4ge1xuXHRcdHJldHVybiB0aGlzLl9wcmVwYXJlKCkuYWxsKHBsYWNlaG9sZGVyVmFsdWVzKTtcblx0fTtcblxuXHRnZXQ6IFJldHVyblR5cGU8dGhpc1sncHJlcGFyZSddPlsnZ2V0J10gPSAocGxhY2Vob2xkZXJWYWx1ZXMpID0+IHtcblx0XHRyZXR1cm4gdGhpcy5fcHJlcGFyZSgpLmdldChwbGFjZWhvbGRlclZhbHVlcyk7XG5cdH07XG5cblx0dmFsdWVzOiBSZXR1cm5UeXBlPHRoaXNbJ3ByZXBhcmUnXT5bJ3ZhbHVlcyddID0gKHBsYWNlaG9sZGVyVmFsdWVzKSA9PiB7XG5cdFx0cmV0dXJuIHRoaXMuX3ByZXBhcmUoKS52YWx1ZXMocGxhY2Vob2xkZXJWYWx1ZXMpO1xuXHR9O1xuXG5cdG92ZXJyaWRlIGFzeW5jIGV4ZWN1dGUoKTogUHJvbWlzZTxTUUxpdGVJbnNlcnRFeGVjdXRlPHRoaXM+PiB7XG5cdFx0cmV0dXJuICh0aGlzLmNvbmZpZy5yZXR1cm5pbmcgPyB0aGlzLmFsbCgpIDogdGhpcy5ydW4oKSkgYXMgU1FMaXRlSW5zZXJ0RXhlY3V0ZTx0aGlzPjtcblx0fVxuXG5cdCRkeW5hbWljKCk6IFNRTGl0ZUluc2VydER5bmFtaWM8dGhpcz4ge1xuXHRcdHJldHVybiB0aGlzIGFzIGFueTtcblx0fVxufVxuIiwgImltcG9ydCB7IGVudGl0eUtpbmQgfSBmcm9tICd+L2VudGl0eS50cyc7XG5cbmV4cG9ydCBjbGFzcyBEcml6emxlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdEcml6emxlRXJyb3InO1xuXG5cdGNvbnN0cnVjdG9yKHsgbWVzc2FnZSwgY2F1c2UgfTogeyBtZXNzYWdlPzogc3RyaW5nOyBjYXVzZT86IHVua25vd24gfSkge1xuXHRcdHN1cGVyKG1lc3NhZ2UpO1xuXHRcdHRoaXMubmFtZSA9ICdEcml6emxlRXJyb3InO1xuXHRcdHRoaXMuY2F1c2UgPSBjYXVzZTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgVHJhbnNhY3Rpb25Sb2xsYmFja0Vycm9yIGV4dGVuZHMgRHJpenpsZUVycm9yIHtcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ1RyYW5zYWN0aW9uUm9sbGJhY2tFcnJvcic7XG5cblx0Y29uc3RydWN0b3IoKSB7XG5cdFx0c3VwZXIoeyBtZXNzYWdlOiAnUm9sbGJhY2snIH0pO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgZW50aXR5S2luZCB9IGZyb20gJ34vZW50aXR5LnRzJztcbmltcG9ydCB0eXBlIHsgQW55U1FMaXRlQ29sdW1uLCBTUUxpdGVDb2x1bW4gfSBmcm9tICcuL2NvbHVtbnMvaW5kZXgudHMnO1xuaW1wb3J0IHsgU1FMaXRlVGFibGUgfSBmcm9tICcuL3RhYmxlLnRzJztcblxuZXhwb3J0IHR5cGUgVXBkYXRlRGVsZXRlQWN0aW9uID0gJ2Nhc2NhZGUnIHwgJ3Jlc3RyaWN0JyB8ICdubyBhY3Rpb24nIHwgJ3NldCBudWxsJyB8ICdzZXQgZGVmYXVsdCc7XG5cbmV4cG9ydCB0eXBlIFJlZmVyZW5jZSA9ICgpID0+IHtcblx0cmVhZG9ubHkgbmFtZT86IHN0cmluZztcblx0cmVhZG9ubHkgY29sdW1uczogU1FMaXRlQ29sdW1uW107XG5cdHJlYWRvbmx5IGZvcmVpZ25UYWJsZTogU1FMaXRlVGFibGU7XG5cdHJlYWRvbmx5IGZvcmVpZ25Db2x1bW5zOiBTUUxpdGVDb2x1bW5bXTtcbn07XG5cbmV4cG9ydCBjbGFzcyBGb3JlaWduS2V5QnVpbGRlciB7XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdTUUxpdGVGb3JlaWduS2V5QnVpbGRlcic7XG5cblx0ZGVjbGFyZSBfOiB7XG5cdFx0YnJhbmQ6ICdTUUxpdGVGb3JlaWduS2V5QnVpbGRlcic7XG5cdFx0Zm9yZWlnblRhYmxlTmFtZTogJ1RGb3JlaWduVGFibGVOYW1lJztcblx0fTtcblxuXHQvKiogQGludGVybmFsICovXG5cdHJlZmVyZW5jZTogUmVmZXJlbmNlO1xuXG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0X29uVXBkYXRlOiBVcGRhdGVEZWxldGVBY3Rpb24gfCB1bmRlZmluZWQ7XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRfb25EZWxldGU6IFVwZGF0ZURlbGV0ZUFjdGlvbiB8IHVuZGVmaW5lZDtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRjb25maWc6ICgpID0+IHtcblx0XHRcdG5hbWU/OiBzdHJpbmc7XG5cdFx0XHRjb2x1bW5zOiBTUUxpdGVDb2x1bW5bXTtcblx0XHRcdGZvcmVpZ25Db2x1bW5zOiBTUUxpdGVDb2x1bW5bXTtcblx0XHR9LFxuXHRcdGFjdGlvbnM/OiB7XG5cdFx0XHRvblVwZGF0ZT86IFVwZGF0ZURlbGV0ZUFjdGlvbjtcblx0XHRcdG9uRGVsZXRlPzogVXBkYXRlRGVsZXRlQWN0aW9uO1xuXHRcdH0gfCB1bmRlZmluZWQsXG5cdCkge1xuXHRcdHRoaXMucmVmZXJlbmNlID0gKCkgPT4ge1xuXHRcdFx0Y29uc3QgeyBuYW1lLCBjb2x1bW5zLCBmb3JlaWduQ29sdW1ucyB9ID0gY29uZmlnKCk7XG5cdFx0XHRyZXR1cm4geyBuYW1lLCBjb2x1bW5zLCBmb3JlaWduVGFibGU6IGZvcmVpZ25Db2x1bW5zWzBdIS50YWJsZSBhcyBTUUxpdGVUYWJsZSwgZm9yZWlnbkNvbHVtbnMgfTtcblx0XHR9O1xuXHRcdGlmIChhY3Rpb25zKSB7XG5cdFx0XHR0aGlzLl9vblVwZGF0ZSA9IGFjdGlvbnMub25VcGRhdGU7XG5cdFx0XHR0aGlzLl9vbkRlbGV0ZSA9IGFjdGlvbnMub25EZWxldGU7XG5cdFx0fVxuXHR9XG5cblx0b25VcGRhdGUoYWN0aW9uOiBVcGRhdGVEZWxldGVBY3Rpb24pOiB0aGlzIHtcblx0XHR0aGlzLl9vblVwZGF0ZSA9IGFjdGlvbjtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxuXG5cdG9uRGVsZXRlKGFjdGlvbjogVXBkYXRlRGVsZXRlQWN0aW9uKTogdGhpcyB7XG5cdFx0dGhpcy5fb25EZWxldGUgPSBhY3Rpb247XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHQvKiogQGludGVybmFsICovXG5cdGJ1aWxkKHRhYmxlOiBTUUxpdGVUYWJsZSk6IEZvcmVpZ25LZXkge1xuXHRcdHJldHVybiBuZXcgRm9yZWlnbktleSh0YWJsZSwgdGhpcyk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIEZvcmVpZ25LZXkge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnU1FMaXRlRm9yZWlnbktleSc7XG5cblx0cmVhZG9ubHkgcmVmZXJlbmNlOiBSZWZlcmVuY2U7XG5cdHJlYWRvbmx5IG9uVXBkYXRlOiBVcGRhdGVEZWxldGVBY3Rpb24gfCB1bmRlZmluZWQ7XG5cdHJlYWRvbmx5IG9uRGVsZXRlOiBVcGRhdGVEZWxldGVBY3Rpb24gfCB1bmRlZmluZWQ7XG5cblx0Y29uc3RydWN0b3IocmVhZG9ubHkgdGFibGU6IFNRTGl0ZVRhYmxlLCBidWlsZGVyOiBGb3JlaWduS2V5QnVpbGRlcikge1xuXHRcdHRoaXMucmVmZXJlbmNlID0gYnVpbGRlci5yZWZlcmVuY2U7XG5cdFx0dGhpcy5vblVwZGF0ZSA9IGJ1aWxkZXIuX29uVXBkYXRlO1xuXHRcdHRoaXMub25EZWxldGUgPSBidWlsZGVyLl9vbkRlbGV0ZTtcblx0fVxuXG5cdGdldE5hbWUoKTogc3RyaW5nIHtcblx0XHRjb25zdCB7IG5hbWUsIGNvbHVtbnMsIGZvcmVpZ25Db2x1bW5zIH0gPSB0aGlzLnJlZmVyZW5jZSgpO1xuXHRcdGNvbnN0IGNvbHVtbk5hbWVzID0gY29sdW1ucy5tYXAoKGNvbHVtbikgPT4gY29sdW1uLm5hbWUpO1xuXHRcdGNvbnN0IGZvcmVpZ25Db2x1bW5OYW1lcyA9IGZvcmVpZ25Db2x1bW5zLm1hcCgoY29sdW1uKSA9PiBjb2x1bW4ubmFtZSk7XG5cdFx0Y29uc3QgY2h1bmtzID0gW1xuXHRcdFx0dGhpcy50YWJsZVtTUUxpdGVUYWJsZS5TeW1ib2wuTmFtZV0sXG5cdFx0XHQuLi5jb2x1bW5OYW1lcyxcblx0XHRcdGZvcmVpZ25Db2x1bW5zWzBdIS50YWJsZVtTUUxpdGVUYWJsZS5TeW1ib2wuTmFtZV0sXG5cdFx0XHQuLi5mb3JlaWduQ29sdW1uTmFtZXMsXG5cdFx0XTtcblx0XHRyZXR1cm4gbmFtZSA/PyBgJHtjaHVua3Muam9pbignXycpfV9ma2A7XG5cdH1cbn1cblxudHlwZSBDb2x1bW5zV2l0aFRhYmxlPFxuXHRUVGFibGVOYW1lIGV4dGVuZHMgc3RyaW5nLFxuXHRUQ29sdW1ucyBleHRlbmRzIFNRTGl0ZUNvbHVtbltdLFxuPiA9IHsgW0tleSBpbiBrZXlvZiBUQ29sdW1uc106IEFueVNRTGl0ZUNvbHVtbjx7IHRhYmxlTmFtZTogVFRhYmxlTmFtZSB9PiB9O1xuXG4vKipcbiAqIEBkZXByZWNhdGVkIHBsZWFzZSB1c2UgYGZvcmVpZ25LZXkoeyBjb2x1bW5zOiBbXSwgZm9yZWlnbkNvbHVtbnM6IFtdIH0pYCBzeW50YXggd2l0aG91dCBjYWxsYmFja1xuICogQHBhcmFtIGNvbmZpZ1xuICogQHJldHVybnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZvcmVpZ25LZXk8XG5cdFRUYWJsZU5hbWUgZXh0ZW5kcyBzdHJpbmcsXG5cdFRGb3JlaWduVGFibGVOYW1lIGV4dGVuZHMgc3RyaW5nLFxuXHRUQ29sdW1ucyBleHRlbmRzIFtBbnlTUUxpdGVDb2x1bW48eyB0YWJsZU5hbWU6IFRUYWJsZU5hbWUgfT4sIC4uLkFueVNRTGl0ZUNvbHVtbjx7IHRhYmxlTmFtZTogVFRhYmxlTmFtZSB9PltdXSxcbj4oXG5cdGNvbmZpZzogKCkgPT4ge1xuXHRcdG5hbWU/OiBzdHJpbmc7XG5cdFx0Y29sdW1uczogVENvbHVtbnM7XG5cdFx0Zm9yZWlnbkNvbHVtbnM6IENvbHVtbnNXaXRoVGFibGU8VEZvcmVpZ25UYWJsZU5hbWUsIFRDb2x1bW5zPjtcblx0fSxcbik6IEZvcmVpZ25LZXlCdWlsZGVyO1xuZXhwb3J0IGZ1bmN0aW9uIGZvcmVpZ25LZXk8XG5cdFRUYWJsZU5hbWUgZXh0ZW5kcyBzdHJpbmcsXG5cdFRGb3JlaWduVGFibGVOYW1lIGV4dGVuZHMgc3RyaW5nLFxuXHRUQ29sdW1ucyBleHRlbmRzIFtBbnlTUUxpdGVDb2x1bW48eyB0YWJsZU5hbWU6IFRUYWJsZU5hbWUgfT4sIC4uLkFueVNRTGl0ZUNvbHVtbjx7IHRhYmxlTmFtZTogVFRhYmxlTmFtZSB9PltdXSxcbj4oXG5cdGNvbmZpZzoge1xuXHRcdG5hbWU/OiBzdHJpbmc7XG5cdFx0Y29sdW1uczogVENvbHVtbnM7XG5cdFx0Zm9yZWlnbkNvbHVtbnM6IENvbHVtbnNXaXRoVGFibGU8VEZvcmVpZ25UYWJsZU5hbWUsIFRDb2x1bW5zPjtcblx0fSxcbik6IEZvcmVpZ25LZXlCdWlsZGVyO1xuZXhwb3J0IGZ1bmN0aW9uIGZvcmVpZ25LZXkoXG5cdGNvbmZpZzogYW55LFxuKTogRm9yZWlnbktleUJ1aWxkZXIge1xuXHRmdW5jdGlvbiBtYXBwZWRDb25maWcoKSB7XG5cdFx0aWYgKHR5cGVvZiBjb25maWcgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdGNvbnN0IHsgbmFtZSwgY29sdW1ucywgZm9yZWlnbkNvbHVtbnMgfSA9IGNvbmZpZygpO1xuXHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0bmFtZSxcblx0XHRcdFx0Y29sdW1ucyxcblx0XHRcdFx0Zm9yZWlnbkNvbHVtbnMsXG5cdFx0XHR9O1xuXHRcdH1cblx0XHRyZXR1cm4gY29uZmlnO1xuXHR9XG5cblx0cmV0dXJuIG5ldyBGb3JlaWduS2V5QnVpbGRlcihtYXBwZWRDb25maWcpO1xufVxuIiwgImltcG9ydCB7IGVudGl0eUtpbmQgfSBmcm9tICd+L2VudGl0eS50cyc7XG5pbXBvcnQgdHlwZSB7IFNRTGl0ZUNvbHVtbiB9IGZyb20gJy4vY29sdW1ucy9jb21tb24udHMnO1xuaW1wb3J0IHsgU1FMaXRlVGFibGUgfSBmcm9tICcuL3RhYmxlLnRzJztcblxuZXhwb3J0IGZ1bmN0aW9uIHVuaXF1ZUtleU5hbWUodGFibGU6IFNRTGl0ZVRhYmxlLCBjb2x1bW5zOiBzdHJpbmdbXSkge1xuXHRyZXR1cm4gYCR7dGFibGVbU1FMaXRlVGFibGUuU3ltYm9sLk5hbWVdfV8ke2NvbHVtbnMuam9pbignXycpfV91bmlxdWVgO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdW5pcXVlKG5hbWU/OiBzdHJpbmcpOiBVbmlxdWVPbkNvbnN0cmFpbnRCdWlsZGVyIHtcblx0cmV0dXJuIG5ldyBVbmlxdWVPbkNvbnN0cmFpbnRCdWlsZGVyKG5hbWUpO1xufVxuXG5leHBvcnQgY2xhc3MgVW5pcXVlQ29uc3RyYWludEJ1aWxkZXIge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnU1FMaXRlVW5pcXVlQ29uc3RyYWludEJ1aWxkZXInO1xuXG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0Y29sdW1uczogU1FMaXRlQ29sdW1uW107XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0Y29sdW1uczogU1FMaXRlQ29sdW1uW10sXG5cdFx0cHJpdmF0ZSBuYW1lPzogc3RyaW5nLFxuXHQpIHtcblx0XHR0aGlzLmNvbHVtbnMgPSBjb2x1bW5zO1xuXHR9XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRidWlsZCh0YWJsZTogU1FMaXRlVGFibGUpOiBVbmlxdWVDb25zdHJhaW50IHtcblx0XHRyZXR1cm4gbmV3IFVuaXF1ZUNvbnN0cmFpbnQodGFibGUsIHRoaXMuY29sdW1ucywgdGhpcy5uYW1lKTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgVW5pcXVlT25Db25zdHJhaW50QnVpbGRlciB7XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdTUUxpdGVVbmlxdWVPbkNvbnN0cmFpbnRCdWlsZGVyJztcblxuXHQvKiogQGludGVybmFsICovXG5cdG5hbWU/OiBzdHJpbmc7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0bmFtZT86IHN0cmluZyxcblx0KSB7XG5cdFx0dGhpcy5uYW1lID0gbmFtZTtcblx0fVxuXG5cdG9uKC4uLmNvbHVtbnM6IFtTUUxpdGVDb2x1bW4sIC4uLlNRTGl0ZUNvbHVtbltdXSkge1xuXHRcdHJldHVybiBuZXcgVW5pcXVlQ29uc3RyYWludEJ1aWxkZXIoY29sdW1ucywgdGhpcy5uYW1lKTtcblx0fVxufVxuXG5leHBvcnQgY2xhc3MgVW5pcXVlQ29uc3RyYWludCB7XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdTUUxpdGVVbmlxdWVDb25zdHJhaW50JztcblxuXHRyZWFkb25seSBjb2x1bW5zOiBTUUxpdGVDb2x1bW5bXTtcblx0cmVhZG9ubHkgbmFtZT86IHN0cmluZztcblxuXHRjb25zdHJ1Y3RvcihyZWFkb25seSB0YWJsZTogU1FMaXRlVGFibGUsIGNvbHVtbnM6IFNRTGl0ZUNvbHVtbltdLCBuYW1lPzogc3RyaW5nKSB7XG5cdFx0dGhpcy5jb2x1bW5zID0gY29sdW1ucztcblx0XHR0aGlzLm5hbWUgPSBuYW1lID8/IHVuaXF1ZUtleU5hbWUodGhpcy50YWJsZSwgdGhpcy5jb2x1bW5zLm1hcCgoY29sdW1uKSA9PiBjb2x1bW4ubmFtZSkpO1xuXHR9XG5cblx0Z2V0TmFtZSgpIHtcblx0XHRyZXR1cm4gdGhpcy5uYW1lO1xuXHR9XG59XG4iLCAiaW1wb3J0IHR5cGUge1xuXHRDb2x1bW5CdWlsZGVyQmFzZSxcblx0Q29sdW1uQnVpbGRlckJhc2VDb25maWcsXG5cdENvbHVtbkJ1aWxkZXJFeHRyYUNvbmZpZyxcblx0Q29sdW1uQnVpbGRlclJ1bnRpbWVDb25maWcsXG5cdENvbHVtbkRhdGFUeXBlLFxuXHRIYXNHZW5lcmF0ZWQsXG5cdE1ha2VDb2x1bW5Db25maWcsXG59IGZyb20gJ34vY29sdW1uLWJ1aWxkZXIudHMnO1xuaW1wb3J0IHsgQ29sdW1uQnVpbGRlciB9IGZyb20gJ34vY29sdW1uLWJ1aWxkZXIudHMnO1xuaW1wb3J0IHsgQ29sdW1uIH0gZnJvbSAnfi9jb2x1bW4udHMnO1xuaW1wb3J0IHR5cGUgeyBDb2x1bW5CYXNlQ29uZmlnIH0gZnJvbSAnfi9jb2x1bW4udHMnO1xuaW1wb3J0IHsgZW50aXR5S2luZCB9IGZyb20gJ34vZW50aXR5LnRzJztcbmltcG9ydCB0eXBlIHsgU1FMIH0gZnJvbSAnfi9zcWwvc3FsLnRzJztcbmltcG9ydCB0eXBlIHsgRm9yZWlnbktleSwgVXBkYXRlRGVsZXRlQWN0aW9uIH0gZnJvbSAnfi9zcWxpdGUtY29yZS9mb3JlaWduLWtleXMudHMnO1xuaW1wb3J0IHsgRm9yZWlnbktleUJ1aWxkZXIgfSBmcm9tICd+L3NxbGl0ZS1jb3JlL2ZvcmVpZ24ta2V5cy50cyc7XG5pbXBvcnQgdHlwZSB7IEFueVNRTGl0ZVRhYmxlLCBTUUxpdGVUYWJsZSB9IGZyb20gJ34vc3FsaXRlLWNvcmUvdGFibGUudHMnO1xuaW1wb3J0IHR5cGUgeyBVcGRhdGUgfSBmcm9tICd+L3V0aWxzLnRzJztcbmltcG9ydCB7IHVuaXF1ZUtleU5hbWUgfSBmcm9tICcuLi91bmlxdWUtY29uc3RyYWludC50cyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVmZXJlbmNlQ29uZmlnIHtcblx0cmVmOiAoKSA9PiBTUUxpdGVDb2x1bW47XG5cdGFjdGlvbnM6IHtcblx0XHRvblVwZGF0ZT86IFVwZGF0ZURlbGV0ZUFjdGlvbjtcblx0XHRvbkRlbGV0ZT86IFVwZGF0ZURlbGV0ZUFjdGlvbjtcblx0fTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTUUxpdGVDb2x1bW5CdWlsZGVyQmFzZTxcblx0VCBleHRlbmRzIENvbHVtbkJ1aWxkZXJCYXNlQ29uZmlnPENvbHVtbkRhdGFUeXBlLCBzdHJpbmc+ID0gQ29sdW1uQnVpbGRlckJhc2VDb25maWc8Q29sdW1uRGF0YVR5cGUsIHN0cmluZz4sXG5cdFRUeXBlQ29uZmlnIGV4dGVuZHMgb2JqZWN0ID0gb2JqZWN0LFxuPiBleHRlbmRzIENvbHVtbkJ1aWxkZXJCYXNlPFQsIFRUeXBlQ29uZmlnICYgeyBkaWFsZWN0OiAnc3FsaXRlJyB9PiB7fVxuXG5leHBvcnQgaW50ZXJmYWNlIFNRTGl0ZUdlbmVyYXRlZENvbHVtbkNvbmZpZyB7XG5cdG1vZGU/OiAndmlydHVhbCcgfCAnc3RvcmVkJztcbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNRTGl0ZUNvbHVtbkJ1aWxkZXI8XG5cdFQgZXh0ZW5kcyBDb2x1bW5CdWlsZGVyQmFzZUNvbmZpZzxDb2x1bW5EYXRhVHlwZSwgc3RyaW5nPiA9IENvbHVtbkJ1aWxkZXJCYXNlQ29uZmlnPENvbHVtbkRhdGFUeXBlLCBzdHJpbmc+LFxuXHRUUnVudGltZUNvbmZpZyBleHRlbmRzIG9iamVjdCA9IG9iamVjdCxcblx0VFR5cGVDb25maWcgZXh0ZW5kcyBvYmplY3QgPSBvYmplY3QsXG5cdFRFeHRyYUNvbmZpZyBleHRlbmRzIENvbHVtbkJ1aWxkZXJFeHRyYUNvbmZpZyA9IG9iamVjdCxcbj4gZXh0ZW5kcyBDb2x1bW5CdWlsZGVyPFQsIFRSdW50aW1lQ29uZmlnLCBUVHlwZUNvbmZpZyAmIHsgZGlhbGVjdDogJ3NxbGl0ZScgfSwgVEV4dHJhQ29uZmlnPlxuXHRpbXBsZW1lbnRzIFNRTGl0ZUNvbHVtbkJ1aWxkZXJCYXNlPFQsIFRUeXBlQ29uZmlnPlxue1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnU1FMaXRlQ29sdW1uQnVpbGRlcic7XG5cblx0cHJpdmF0ZSBmb3JlaWduS2V5Q29uZmlnczogUmVmZXJlbmNlQ29uZmlnW10gPSBbXTtcblxuXHRyZWZlcmVuY2VzKFxuXHRcdHJlZjogUmVmZXJlbmNlQ29uZmlnWydyZWYnXSxcblx0XHRhY3Rpb25zOiBSZWZlcmVuY2VDb25maWdbJ2FjdGlvbnMnXSA9IHt9LFxuXHQpOiB0aGlzIHtcblx0XHR0aGlzLmZvcmVpZ25LZXlDb25maWdzLnB1c2goeyByZWYsIGFjdGlvbnMgfSk7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdH1cblxuXHR1bmlxdWUoXG5cdFx0bmFtZT86IHN0cmluZyxcblx0KTogdGhpcyB7XG5cdFx0dGhpcy5jb25maWcuaXNVbmlxdWUgPSB0cnVlO1xuXHRcdHRoaXMuY29uZmlnLnVuaXF1ZU5hbWUgPSBuYW1lO1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0Z2VuZXJhdGVkQWx3YXlzQXMoYXM6IFNRTCB8IFRbJ2RhdGEnXSB8ICgoKSA9PiBTUUwpLCBjb25maWc/OiBTUUxpdGVHZW5lcmF0ZWRDb2x1bW5Db25maWcpOiBIYXNHZW5lcmF0ZWQ8dGhpcz4ge1xuXHRcdHRoaXMuY29uZmlnLmdlbmVyYXRlZCA9IHtcblx0XHRcdGFzLFxuXHRcdFx0dHlwZTogJ2Fsd2F5cycsXG5cdFx0XHRtb2RlOiBjb25maWc/Lm1vZGUgPz8gJ3ZpcnR1YWwnLFxuXHRcdH07XG5cdFx0cmV0dXJuIHRoaXMgYXMgYW55O1xuXHR9XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRidWlsZEZvcmVpZ25LZXlzKGNvbHVtbjogU1FMaXRlQ29sdW1uLCB0YWJsZTogU1FMaXRlVGFibGUpOiBGb3JlaWduS2V5W10ge1xuXHRcdHJldHVybiB0aGlzLmZvcmVpZ25LZXlDb25maWdzLm1hcCgoeyByZWYsIGFjdGlvbnMgfSkgPT4ge1xuXHRcdFx0cmV0dXJuICgocmVmLCBhY3Rpb25zKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGJ1aWxkZXIgPSBuZXcgRm9yZWlnbktleUJ1aWxkZXIoKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IGZvcmVpZ25Db2x1bW4gPSByZWYoKTtcblx0XHRcdFx0XHRyZXR1cm4geyBjb2x1bW5zOiBbY29sdW1uXSwgZm9yZWlnbkNvbHVtbnM6IFtmb3JlaWduQ29sdW1uXSB9O1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0aWYgKGFjdGlvbnMub25VcGRhdGUpIHtcblx0XHRcdFx0XHRidWlsZGVyLm9uVXBkYXRlKGFjdGlvbnMub25VcGRhdGUpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChhY3Rpb25zLm9uRGVsZXRlKSB7XG5cdFx0XHRcdFx0YnVpbGRlci5vbkRlbGV0ZShhY3Rpb25zLm9uRGVsZXRlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gYnVpbGRlci5idWlsZCh0YWJsZSk7XG5cdFx0XHR9KShyZWYsIGFjdGlvbnMpO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRhYnN0cmFjdCBidWlsZDxUVGFibGVOYW1lIGV4dGVuZHMgc3RyaW5nPihcblx0XHR0YWJsZTogQW55U1FMaXRlVGFibGU8eyBuYW1lOiBUVGFibGVOYW1lIH0+LFxuXHQpOiBTUUxpdGVDb2x1bW48TWFrZUNvbHVtbkNvbmZpZzxULCBUVGFibGVOYW1lPj47XG59XG5cbi8vIFRvIHVuZGVyc3RhbmQgaG93IHRvIHVzZSBgU1FMaXRlQ29sdW1uYCBhbmQgYEFueVNRTGl0ZUNvbHVtbmAsIHNlZSBgQ29sdW1uYCBhbmQgYEFueUNvbHVtbmAgZG9jdW1lbnRhdGlvbi5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTUUxpdGVDb2x1bW48XG5cdFQgZXh0ZW5kcyBDb2x1bW5CYXNlQ29uZmlnPENvbHVtbkRhdGFUeXBlLCBzdHJpbmc+ID0gQ29sdW1uQmFzZUNvbmZpZzxDb2x1bW5EYXRhVHlwZSwgc3RyaW5nPixcblx0VFJ1bnRpbWVDb25maWcgZXh0ZW5kcyBvYmplY3QgPSBvYmplY3QsXG4+IGV4dGVuZHMgQ29sdW1uPFQsIFRSdW50aW1lQ29uZmlnLCB7IGRpYWxlY3Q6ICdzcWxpdGUnIH0+IHtcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ1NRTGl0ZUNvbHVtbic7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0b3ZlcnJpZGUgcmVhZG9ubHkgdGFibGU6IFNRTGl0ZVRhYmxlLFxuXHRcdGNvbmZpZzogQ29sdW1uQnVpbGRlclJ1bnRpbWVDb25maWc8VFsnZGF0YSddLCBUUnVudGltZUNvbmZpZz4sXG5cdCkge1xuXHRcdGlmICghY29uZmlnLnVuaXF1ZU5hbWUpIHtcblx0XHRcdGNvbmZpZy51bmlxdWVOYW1lID0gdW5pcXVlS2V5TmFtZSh0YWJsZSwgW2NvbmZpZy5uYW1lXSk7XG5cdFx0fVxuXHRcdHN1cGVyKHRhYmxlLCBjb25maWcpO1xuXHR9XG59XG5cbmV4cG9ydCB0eXBlIEFueVNRTGl0ZUNvbHVtbjxUUGFydGlhbCBleHRlbmRzIFBhcnRpYWw8Q29sdW1uQmFzZUNvbmZpZzxDb2x1bW5EYXRhVHlwZSwgc3RyaW5nPj4gPSB7fT4gPSBTUUxpdGVDb2x1bW48XG5cdFJlcXVpcmVkPFVwZGF0ZTxDb2x1bW5CYXNlQ29uZmlnPENvbHVtbkRhdGFUeXBlLCBzdHJpbmc+LCBUUGFydGlhbD4+XG4+O1xuIiwgImltcG9ydCB0eXBlIHtcblx0Q29sdW1uQnVpbGRlckJhc2VDb25maWcsXG5cdENvbHVtbkJ1aWxkZXJSdW50aW1lQ29uZmlnLFxuXHRDb2x1bW5EYXRhVHlwZSxcblx0SGFzRGVmYXVsdCxcblx0SXNQcmltYXJ5S2V5LFxuXHRNYWtlQ29sdW1uQ29uZmlnLFxuXHROb3ROdWxsLFxufSBmcm9tICd+L2NvbHVtbi1idWlsZGVyLnRzJztcbmltcG9ydCB0eXBlIHsgQ29sdW1uQmFzZUNvbmZpZyB9IGZyb20gJ34vY29sdW1uLnRzJztcbmltcG9ydCB7IGVudGl0eUtpbmQgfSBmcm9tICd+L2VudGl0eS50cyc7XG5pbXBvcnQgeyBzcWwgfSBmcm9tICd+L3NxbC9zcWwudHMnO1xuaW1wb3J0IHR5cGUgeyBPbkNvbmZsaWN0IH0gZnJvbSAnfi9zcWxpdGUtY29yZS91dGlscy50cyc7XG5pbXBvcnQgdHlwZSB7IEVxdWFsLCBPciB9IGZyb20gJ34vdXRpbHMudHMnO1xuaW1wb3J0IHR5cGUgeyBBbnlTUUxpdGVUYWJsZSB9IGZyb20gJy4uL3RhYmxlLnRzJztcbmltcG9ydCB7IFNRTGl0ZUNvbHVtbiwgU1FMaXRlQ29sdW1uQnVpbGRlciB9IGZyb20gJy4vY29tbW9uLnRzJztcblxuZXhwb3J0IGludGVyZmFjZSBQcmltYXJ5S2V5Q29uZmlnIHtcblx0YXV0b0luY3JlbWVudD86IGJvb2xlYW47XG5cdG9uQ29uZmxpY3Q/OiBPbkNvbmZsaWN0O1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgU1FMaXRlQmFzZUludGVnZXJCdWlsZGVyPFxuXHRUIGV4dGVuZHMgQ29sdW1uQnVpbGRlckJhc2VDb25maWc8Q29sdW1uRGF0YVR5cGUsIHN0cmluZz4sXG5cdFRSdW50aW1lQ29uZmlnIGV4dGVuZHMgb2JqZWN0ID0gb2JqZWN0LFxuPiBleHRlbmRzIFNRTGl0ZUNvbHVtbkJ1aWxkZXI8XG5cdFQsXG5cdFRSdW50aW1lQ29uZmlnICYgeyBhdXRvSW5jcmVtZW50OiBib29sZWFuIH0sXG5cdHt9LFxuXHR7IHByaW1hcnlLZXlIYXNEZWZhdWx0OiB0cnVlIH1cbj4ge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnU1FMaXRlQmFzZUludGVnZXJCdWlsZGVyJztcblxuXHRjb25zdHJ1Y3RvcihuYW1lOiBUWyduYW1lJ10sIGRhdGFUeXBlOiBUWydkYXRhVHlwZSddLCBjb2x1bW5UeXBlOiBUWydjb2x1bW5UeXBlJ10pIHtcblx0XHRzdXBlcihuYW1lLCBkYXRhVHlwZSwgY29sdW1uVHlwZSk7XG5cdFx0dGhpcy5jb25maWcuYXV0b0luY3JlbWVudCA9IGZhbHNlO1xuXHR9XG5cblx0b3ZlcnJpZGUgcHJpbWFyeUtleShjb25maWc/OiBQcmltYXJ5S2V5Q29uZmlnKTogSXNQcmltYXJ5S2V5PEhhc0RlZmF1bHQ8Tm90TnVsbDx0aGlzPj4+IHtcblx0XHRpZiAoY29uZmlnPy5hdXRvSW5jcmVtZW50KSB7XG5cdFx0XHR0aGlzLmNvbmZpZy5hdXRvSW5jcmVtZW50ID0gdHJ1ZTtcblx0XHR9XG5cdFx0dGhpcy5jb25maWcuaGFzRGVmYXVsdCA9IHRydWU7XG5cdFx0cmV0dXJuIHN1cGVyLnByaW1hcnlLZXkoKSBhcyBJc1ByaW1hcnlLZXk8SGFzRGVmYXVsdDxOb3ROdWxsPHRoaXM+Pj47XG5cdH1cblxuXHQvKiogQGludGVybmFsICovXG5cdGFic3RyYWN0IG92ZXJyaWRlIGJ1aWxkPFRUYWJsZU5hbWUgZXh0ZW5kcyBzdHJpbmc+KFxuXHRcdHRhYmxlOiBBbnlTUUxpdGVUYWJsZTx7IG5hbWU6IFRUYWJsZU5hbWUgfT4sXG5cdCk6IFNRTGl0ZUJhc2VJbnRlZ2VyPE1ha2VDb2x1bW5Db25maWc8VCwgVFRhYmxlTmFtZT4+O1xufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgU1FMaXRlQmFzZUludGVnZXI8XG5cdFQgZXh0ZW5kcyBDb2x1bW5CYXNlQ29uZmlnPENvbHVtbkRhdGFUeXBlLCBzdHJpbmc+LFxuXHRUUnVudGltZUNvbmZpZyBleHRlbmRzIG9iamVjdCA9IG9iamVjdCxcbj4gZXh0ZW5kcyBTUUxpdGVDb2x1bW48VCwgVFJ1bnRpbWVDb25maWcgJiB7IGF1dG9JbmNyZW1lbnQ6IGJvb2xlYW4gfT4ge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnU1FMaXRlQmFzZUludGVnZXInO1xuXG5cdHJlYWRvbmx5IGF1dG9JbmNyZW1lbnQ6IGJvb2xlYW4gPSB0aGlzLmNvbmZpZy5hdXRvSW5jcmVtZW50O1xuXG5cdGdldFNRTFR5cGUoKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gJ2ludGVnZXInO1xuXHR9XG59XG5cbmV4cG9ydCB0eXBlIFNRTGl0ZUludGVnZXJCdWlsZGVySW5pdGlhbDxUTmFtZSBleHRlbmRzIHN0cmluZz4gPSBTUUxpdGVJbnRlZ2VyQnVpbGRlcjx7XG5cdG5hbWU6IFROYW1lO1xuXHRkYXRhVHlwZTogJ251bWJlcic7XG5cdGNvbHVtblR5cGU6ICdTUUxpdGVJbnRlZ2VyJztcblx0ZGF0YTogbnVtYmVyO1xuXHRkcml2ZXJQYXJhbTogbnVtYmVyO1xuXHRlbnVtVmFsdWVzOiB1bmRlZmluZWQ7XG5cdGdlbmVyYXRlZDogdW5kZWZpbmVkO1xufT47XG5cbmV4cG9ydCBjbGFzcyBTUUxpdGVJbnRlZ2VyQnVpbGRlcjxUIGV4dGVuZHMgQ29sdW1uQnVpbGRlckJhc2VDb25maWc8J251bWJlcicsICdTUUxpdGVJbnRlZ2VyJz4+XG5cdGV4dGVuZHMgU1FMaXRlQmFzZUludGVnZXJCdWlsZGVyPFQ+XG57XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdTUUxpdGVJbnRlZ2VyQnVpbGRlcic7XG5cblx0Y29uc3RydWN0b3IobmFtZTogVFsnbmFtZSddKSB7XG5cdFx0c3VwZXIobmFtZSwgJ251bWJlcicsICdTUUxpdGVJbnRlZ2VyJyk7XG5cdH1cblxuXHRidWlsZDxUVGFibGVOYW1lIGV4dGVuZHMgc3RyaW5nPihcblx0XHR0YWJsZTogQW55U1FMaXRlVGFibGU8eyBuYW1lOiBUVGFibGVOYW1lIH0+LFxuXHQpOiBTUUxpdGVJbnRlZ2VyPE1ha2VDb2x1bW5Db25maWc8VCwgVFRhYmxlTmFtZT4+IHtcblx0XHRyZXR1cm4gbmV3IFNRTGl0ZUludGVnZXI8TWFrZUNvbHVtbkNvbmZpZzxULCBUVGFibGVOYW1lPj4oXG5cdFx0XHR0YWJsZSxcblx0XHRcdHRoaXMuY29uZmlnIGFzIENvbHVtbkJ1aWxkZXJSdW50aW1lQ29uZmlnPGFueSwgYW55Pixcblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBTUUxpdGVJbnRlZ2VyPFQgZXh0ZW5kcyBDb2x1bW5CYXNlQ29uZmlnPCdudW1iZXInLCAnU1FMaXRlSW50ZWdlcic+PiBleHRlbmRzIFNRTGl0ZUJhc2VJbnRlZ2VyPFQ+IHtcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ1NRTGl0ZUludGVnZXInO1xufVxuXG5leHBvcnQgdHlwZSBTUUxpdGVUaW1lc3RhbXBCdWlsZGVySW5pdGlhbDxUTmFtZSBleHRlbmRzIHN0cmluZz4gPSBTUUxpdGVUaW1lc3RhbXBCdWlsZGVyPHtcblx0bmFtZTogVE5hbWU7XG5cdGRhdGFUeXBlOiAnZGF0ZSc7XG5cdGNvbHVtblR5cGU6ICdTUUxpdGVUaW1lc3RhbXAnO1xuXHRkYXRhOiBEYXRlO1xuXHRkcml2ZXJQYXJhbTogbnVtYmVyO1xuXHRlbnVtVmFsdWVzOiB1bmRlZmluZWQ7XG5cdGdlbmVyYXRlZDogdW5kZWZpbmVkO1xufT47XG5cbmV4cG9ydCBjbGFzcyBTUUxpdGVUaW1lc3RhbXBCdWlsZGVyPFQgZXh0ZW5kcyBDb2x1bW5CdWlsZGVyQmFzZUNvbmZpZzwnZGF0ZScsICdTUUxpdGVUaW1lc3RhbXAnPj5cblx0ZXh0ZW5kcyBTUUxpdGVCYXNlSW50ZWdlckJ1aWxkZXI8VCwgeyBtb2RlOiAndGltZXN0YW1wJyB8ICd0aW1lc3RhbXBfbXMnIH0+XG57XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdTUUxpdGVUaW1lc3RhbXBCdWlsZGVyJztcblxuXHRjb25zdHJ1Y3RvcihuYW1lOiBUWyduYW1lJ10sIG1vZGU6ICd0aW1lc3RhbXAnIHwgJ3RpbWVzdGFtcF9tcycpIHtcblx0XHRzdXBlcihuYW1lLCAnZGF0ZScsICdTUUxpdGVUaW1lc3RhbXAnKTtcblx0XHR0aGlzLmNvbmZpZy5tb2RlID0gbW9kZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAZGVwcmVjYXRlZCBVc2UgYGRlZmF1bHQoKWAgd2l0aCB5b3VyIG93biBleHByZXNzaW9uIGluc3RlYWQuXG5cdCAqXG5cdCAqIEFkZHMgYERFRkFVTFQgKGNhc3QoKGp1bGlhbmRheSgnbm93JykgLSAyNDQwNTg3LjUpKjg2NDAwMDAwIGFzIGludGVnZXIpKWAgdG8gdGhlIGNvbHVtbiwgd2hpY2ggaXMgdGhlIGN1cnJlbnQgZXBvY2ggdGltZXN0YW1wIGluIG1pbGxpc2Vjb25kcy5cblx0ICovXG5cdGRlZmF1bHROb3coKTogSGFzRGVmYXVsdDx0aGlzPiB7XG5cdFx0cmV0dXJuIHRoaXMuZGVmYXVsdChzcWxgKGNhc3QoKGp1bGlhbmRheSgnbm93JykgLSAyNDQwNTg3LjUpKjg2NDAwMDAwIGFzIGludGVnZXIpKWApIGFzIGFueTtcblx0fVxuXG5cdGJ1aWxkPFRUYWJsZU5hbWUgZXh0ZW5kcyBzdHJpbmc+KFxuXHRcdHRhYmxlOiBBbnlTUUxpdGVUYWJsZTx7IG5hbWU6IFRUYWJsZU5hbWUgfT4sXG5cdCk6IFNRTGl0ZVRpbWVzdGFtcDxNYWtlQ29sdW1uQ29uZmlnPFQsIFRUYWJsZU5hbWU+PiB7XG5cdFx0cmV0dXJuIG5ldyBTUUxpdGVUaW1lc3RhbXA8TWFrZUNvbHVtbkNvbmZpZzxULCBUVGFibGVOYW1lPj4oXG5cdFx0XHR0YWJsZSxcblx0XHRcdHRoaXMuY29uZmlnIGFzIENvbHVtbkJ1aWxkZXJSdW50aW1lQ29uZmlnPGFueSwgYW55Pixcblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBTUUxpdGVUaW1lc3RhbXA8VCBleHRlbmRzIENvbHVtbkJhc2VDb25maWc8J2RhdGUnLCAnU1FMaXRlVGltZXN0YW1wJz4+XG5cdGV4dGVuZHMgU1FMaXRlQmFzZUludGVnZXI8VCwgeyBtb2RlOiAndGltZXN0YW1wJyB8ICd0aW1lc3RhbXBfbXMnIH0+XG57XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdTUUxpdGVUaW1lc3RhbXAnO1xuXG5cdHJlYWRvbmx5IG1vZGU6ICd0aW1lc3RhbXAnIHwgJ3RpbWVzdGFtcF9tcycgPSB0aGlzLmNvbmZpZy5tb2RlO1xuXG5cdG92ZXJyaWRlIG1hcEZyb21Ecml2ZXJWYWx1ZSh2YWx1ZTogbnVtYmVyKTogRGF0ZSB7XG5cdFx0aWYgKHRoaXMuY29uZmlnLm1vZGUgPT09ICd0aW1lc3RhbXAnKSB7XG5cdFx0XHRyZXR1cm4gbmV3IERhdGUodmFsdWUgKiAxMDAwKTtcblx0XHR9XG5cdFx0cmV0dXJuIG5ldyBEYXRlKHZhbHVlKTtcblx0fVxuXG5cdG92ZXJyaWRlIG1hcFRvRHJpdmVyVmFsdWUodmFsdWU6IERhdGUpOiBudW1iZXIge1xuXHRcdGNvbnN0IHVuaXggPSB2YWx1ZS5nZXRUaW1lKCk7XG5cdFx0aWYgKHRoaXMuY29uZmlnLm1vZGUgPT09ICd0aW1lc3RhbXAnKSB7XG5cdFx0XHRyZXR1cm4gTWF0aC5mbG9vcih1bml4IC8gMTAwMCk7XG5cdFx0fVxuXHRcdHJldHVybiB1bml4O1xuXHR9XG59XG5cbmV4cG9ydCB0eXBlIFNRTGl0ZUJvb2xlYW5CdWlsZGVySW5pdGlhbDxUTmFtZSBleHRlbmRzIHN0cmluZz4gPSBTUUxpdGVCb29sZWFuQnVpbGRlcjx7XG5cdG5hbWU6IFROYW1lO1xuXHRkYXRhVHlwZTogJ2Jvb2xlYW4nO1xuXHRjb2x1bW5UeXBlOiAnU1FMaXRlQm9vbGVhbic7XG5cdGRhdGE6IGJvb2xlYW47XG5cdGRyaXZlclBhcmFtOiBudW1iZXI7XG5cdGVudW1WYWx1ZXM6IHVuZGVmaW5lZDtcblx0Z2VuZXJhdGVkOiB1bmRlZmluZWQ7XG59PjtcblxuZXhwb3J0IGNsYXNzIFNRTGl0ZUJvb2xlYW5CdWlsZGVyPFQgZXh0ZW5kcyBDb2x1bW5CdWlsZGVyQmFzZUNvbmZpZzwnYm9vbGVhbicsICdTUUxpdGVCb29sZWFuJz4+XG5cdGV4dGVuZHMgU1FMaXRlQmFzZUludGVnZXJCdWlsZGVyPFQsIHsgbW9kZTogJ2Jvb2xlYW4nIH0+XG57XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdTUUxpdGVCb29sZWFuQnVpbGRlcic7XG5cblx0Y29uc3RydWN0b3IobmFtZTogVFsnbmFtZSddLCBtb2RlOiAnYm9vbGVhbicpIHtcblx0XHRzdXBlcihuYW1lLCAnYm9vbGVhbicsICdTUUxpdGVCb29sZWFuJyk7XG5cdFx0dGhpcy5jb25maWcubW9kZSA9IG1vZGU7XG5cdH1cblxuXHRidWlsZDxUVGFibGVOYW1lIGV4dGVuZHMgc3RyaW5nPihcblx0XHR0YWJsZTogQW55U1FMaXRlVGFibGU8eyBuYW1lOiBUVGFibGVOYW1lIH0+LFxuXHQpOiBTUUxpdGVCb29sZWFuPE1ha2VDb2x1bW5Db25maWc8VCwgVFRhYmxlTmFtZT4+IHtcblx0XHRyZXR1cm4gbmV3IFNRTGl0ZUJvb2xlYW48TWFrZUNvbHVtbkNvbmZpZzxULCBUVGFibGVOYW1lPj4oXG5cdFx0XHR0YWJsZSxcblx0XHRcdHRoaXMuY29uZmlnIGFzIENvbHVtbkJ1aWxkZXJSdW50aW1lQ29uZmlnPGFueSwgYW55Pixcblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBTUUxpdGVCb29sZWFuPFQgZXh0ZW5kcyBDb2x1bW5CYXNlQ29uZmlnPCdib29sZWFuJywgJ1NRTGl0ZUJvb2xlYW4nPj5cblx0ZXh0ZW5kcyBTUUxpdGVCYXNlSW50ZWdlcjxULCB7IG1vZGU6ICdib29sZWFuJyB9Plxue1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnU1FMaXRlQm9vbGVhbic7XG5cblx0cmVhZG9ubHkgbW9kZTogJ2Jvb2xlYW4nID0gdGhpcy5jb25maWcubW9kZTtcblxuXHRvdmVycmlkZSBtYXBGcm9tRHJpdmVyVmFsdWUodmFsdWU6IG51bWJlcik6IGJvb2xlYW4ge1xuXHRcdHJldHVybiBOdW1iZXIodmFsdWUpID09PSAxO1xuXHR9XG5cblx0b3ZlcnJpZGUgbWFwVG9Ecml2ZXJWYWx1ZSh2YWx1ZTogYm9vbGVhbik6IG51bWJlciB7XG5cdFx0cmV0dXJuIHZhbHVlID8gMSA6IDA7XG5cdH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBJbnRlZ2VyQ29uZmlnPFxuXHRUTW9kZSBleHRlbmRzICdudW1iZXInIHwgJ3RpbWVzdGFtcCcgfCAndGltZXN0YW1wX21zJyB8ICdib29sZWFuJyA9XG5cdFx0fCAnbnVtYmVyJ1xuXHRcdHwgJ3RpbWVzdGFtcCdcblx0XHR8ICd0aW1lc3RhbXBfbXMnXG5cdFx0fCAnYm9vbGVhbicsXG4+IHtcblx0bW9kZTogVE1vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpbnRlZ2VyPFROYW1lIGV4dGVuZHMgc3RyaW5nLCBUTW9kZSBleHRlbmRzIEludGVnZXJDb25maWdbJ21vZGUnXT4oXG5cdG5hbWU6IFROYW1lLFxuXHRjb25maWc/OiBJbnRlZ2VyQ29uZmlnPFRNb2RlPixcbik6IE9yPEVxdWFsPFRNb2RlLCAndGltZXN0YW1wJz4sIEVxdWFsPFRNb2RlLCAndGltZXN0YW1wX21zJz4+IGV4dGVuZHMgdHJ1ZSA/IFNRTGl0ZVRpbWVzdGFtcEJ1aWxkZXJJbml0aWFsPFROYW1lPlxuXHQ6IEVxdWFsPFRNb2RlLCAnYm9vbGVhbic+IGV4dGVuZHMgdHJ1ZSA/IFNRTGl0ZUJvb2xlYW5CdWlsZGVySW5pdGlhbDxUTmFtZT5cblx0OiBTUUxpdGVJbnRlZ2VyQnVpbGRlckluaXRpYWw8VE5hbWU+O1xuZXhwb3J0IGZ1bmN0aW9uIGludGVnZXIobmFtZTogc3RyaW5nLCBjb25maWc/OiBJbnRlZ2VyQ29uZmlnKSB7XG5cdGlmIChjb25maWc/Lm1vZGUgPT09ICd0aW1lc3RhbXAnIHx8IGNvbmZpZz8ubW9kZSA9PT0gJ3RpbWVzdGFtcF9tcycpIHtcblx0XHRyZXR1cm4gbmV3IFNRTGl0ZVRpbWVzdGFtcEJ1aWxkZXIobmFtZSwgY29uZmlnLm1vZGUpO1xuXHR9XG5cdGlmIChjb25maWc/Lm1vZGUgPT09ICdib29sZWFuJykge1xuXHRcdHJldHVybiBuZXcgU1FMaXRlQm9vbGVhbkJ1aWxkZXIobmFtZSwgY29uZmlnLm1vZGUpO1xuXHR9XG5cdHJldHVybiBuZXcgU1FMaXRlSW50ZWdlckJ1aWxkZXIobmFtZSk7XG59XG5cbmV4cG9ydCBjb25zdCBpbnQgPSBpbnRlZ2VyO1xuIiwgImltcG9ydCB0eXBlIHsgQ29sdW1uQnVpbGRlckJhc2VDb25maWcsIENvbHVtbkJ1aWxkZXJSdW50aW1lQ29uZmlnLCBNYWtlQ29sdW1uQ29uZmlnIH0gZnJvbSAnfi9jb2x1bW4tYnVpbGRlci50cyc7XG5pbXBvcnQgdHlwZSB7IENvbHVtbkJhc2VDb25maWcgfSBmcm9tICd+L2NvbHVtbi50cyc7XG5pbXBvcnQgeyBlbnRpdHlLaW5kIH0gZnJvbSAnfi9lbnRpdHkudHMnO1xuaW1wb3J0IHR5cGUgeyBBbnlTUUxpdGVUYWJsZSB9IGZyb20gJ34vc3FsaXRlLWNvcmUvdGFibGUudHMnO1xuaW1wb3J0IHR5cGUgeyBFcXVhbCwgV3JpdGFibGUgfSBmcm9tICd+L3V0aWxzLnRzJztcbmltcG9ydCB7IFNRTGl0ZUNvbHVtbiwgU1FMaXRlQ29sdW1uQnVpbGRlciB9IGZyb20gJy4vY29tbW9uLnRzJztcblxuZXhwb3J0IHR5cGUgU1FMaXRlVGV4dEJ1aWxkZXJJbml0aWFsPFROYW1lIGV4dGVuZHMgc3RyaW5nLCBURW51bSBleHRlbmRzIFtzdHJpbmcsIC4uLnN0cmluZ1tdXT4gPSBTUUxpdGVUZXh0QnVpbGRlcjx7XG5cdG5hbWU6IFROYW1lO1xuXHRkYXRhVHlwZTogJ3N0cmluZyc7XG5cdGNvbHVtblR5cGU6ICdTUUxpdGVUZXh0Jztcblx0ZGF0YTogVEVudW1bbnVtYmVyXTtcblx0ZHJpdmVyUGFyYW06IHN0cmluZztcblx0ZW51bVZhbHVlczogVEVudW07XG5cdGdlbmVyYXRlZDogdW5kZWZpbmVkO1xufT47XG5cbmV4cG9ydCBjbGFzcyBTUUxpdGVUZXh0QnVpbGRlcjxUIGV4dGVuZHMgQ29sdW1uQnVpbGRlckJhc2VDb25maWc8J3N0cmluZycsICdTUUxpdGVUZXh0Jz4+IGV4dGVuZHMgU1FMaXRlQ29sdW1uQnVpbGRlcjxcblx0VCxcblx0eyBsZW5ndGg6IG51bWJlciB8IHVuZGVmaW5lZDsgZW51bVZhbHVlczogVFsnZW51bVZhbHVlcyddIH1cbj4ge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnU1FMaXRlVGV4dEJ1aWxkZXInO1xuXG5cdGNvbnN0cnVjdG9yKG5hbWU6IFRbJ25hbWUnXSwgY29uZmlnOiBTUUxpdGVUZXh0Q29uZmlnPCd0ZXh0JywgVFsnZW51bVZhbHVlcyddPikge1xuXHRcdHN1cGVyKG5hbWUsICdzdHJpbmcnLCAnU1FMaXRlVGV4dCcpO1xuXHRcdHRoaXMuY29uZmlnLmVudW1WYWx1ZXMgPSBjb25maWcuZW51bTtcblx0XHR0aGlzLmNvbmZpZy5sZW5ndGggPSBjb25maWcubGVuZ3RoO1xuXHR9XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRvdmVycmlkZSBidWlsZDxUVGFibGVOYW1lIGV4dGVuZHMgc3RyaW5nPihcblx0XHR0YWJsZTogQW55U1FMaXRlVGFibGU8eyBuYW1lOiBUVGFibGVOYW1lIH0+LFxuXHQpOiBTUUxpdGVUZXh0PE1ha2VDb2x1bW5Db25maWc8VCwgVFRhYmxlTmFtZT4+IHtcblx0XHRyZXR1cm4gbmV3IFNRTGl0ZVRleHQ8TWFrZUNvbHVtbkNvbmZpZzxULCBUVGFibGVOYW1lPj4odGFibGUsIHRoaXMuY29uZmlnIGFzIENvbHVtbkJ1aWxkZXJSdW50aW1lQ29uZmlnPGFueSwgYW55Pik7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFNRTGl0ZVRleHQ8VCBleHRlbmRzIENvbHVtbkJhc2VDb25maWc8J3N0cmluZycsICdTUUxpdGVUZXh0Jz4+XG5cdGV4dGVuZHMgU1FMaXRlQ29sdW1uPFQsIHsgbGVuZ3RoOiBudW1iZXIgfCB1bmRlZmluZWQ7IGVudW1WYWx1ZXM6IFRbJ2VudW1WYWx1ZXMnXSB9Plxue1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnU1FMaXRlVGV4dCc7XG5cblx0b3ZlcnJpZGUgcmVhZG9ubHkgZW51bVZhbHVlcyA9IHRoaXMuY29uZmlnLmVudW1WYWx1ZXM7XG5cblx0cmVhZG9ubHkgbGVuZ3RoOiBudW1iZXIgfCB1bmRlZmluZWQgPSB0aGlzLmNvbmZpZy5sZW5ndGg7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0dGFibGU6IEFueVNRTGl0ZVRhYmxlPHsgbmFtZTogVFsndGFibGVOYW1lJ10gfT4sXG5cdFx0Y29uZmlnOiBTUUxpdGVUZXh0QnVpbGRlcjxUPlsnY29uZmlnJ10sXG5cdCkge1xuXHRcdHN1cGVyKHRhYmxlLCBjb25maWcpO1xuXHR9XG5cblx0Z2V0U1FMVHlwZSgpOiBzdHJpbmcge1xuXHRcdHJldHVybiBgdGV4dCR7dGhpcy5jb25maWcubGVuZ3RoID8gYCgke3RoaXMuY29uZmlnLmxlbmd0aH0pYCA6ICcnfWA7XG5cdH1cbn1cblxuZXhwb3J0IHR5cGUgU1FMaXRlVGV4dEpzb25CdWlsZGVySW5pdGlhbDxUTmFtZSBleHRlbmRzIHN0cmluZz4gPSBTUUxpdGVUZXh0SnNvbkJ1aWxkZXI8e1xuXHRuYW1lOiBUTmFtZTtcblx0ZGF0YVR5cGU6ICdqc29uJztcblx0Y29sdW1uVHlwZTogJ1NRTGl0ZVRleHRKc29uJztcblx0ZGF0YTogdW5rbm93bjtcblx0ZHJpdmVyUGFyYW06IHN0cmluZztcblx0ZW51bVZhbHVlczogdW5kZWZpbmVkO1xuXHRnZW5lcmF0ZWQ6IHVuZGVmaW5lZDtcbn0+O1xuXG5leHBvcnQgY2xhc3MgU1FMaXRlVGV4dEpzb25CdWlsZGVyPFQgZXh0ZW5kcyBDb2x1bW5CdWlsZGVyQmFzZUNvbmZpZzwnanNvbicsICdTUUxpdGVUZXh0SnNvbic+PlxuXHRleHRlbmRzIFNRTGl0ZUNvbHVtbkJ1aWxkZXI8VD5cbntcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ1NRTGl0ZVRleHRKc29uQnVpbGRlcic7XG5cblx0Y29uc3RydWN0b3IobmFtZTogVFsnbmFtZSddKSB7XG5cdFx0c3VwZXIobmFtZSwgJ2pzb24nLCAnU1FMaXRlVGV4dEpzb24nKTtcblx0fVxuXG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0b3ZlcnJpZGUgYnVpbGQ8VFRhYmxlTmFtZSBleHRlbmRzIHN0cmluZz4oXG5cdFx0dGFibGU6IEFueVNRTGl0ZVRhYmxlPHsgbmFtZTogVFRhYmxlTmFtZSB9Pixcblx0KTogU1FMaXRlVGV4dEpzb248TWFrZUNvbHVtbkNvbmZpZzxULCBUVGFibGVOYW1lPj4ge1xuXHRcdHJldHVybiBuZXcgU1FMaXRlVGV4dEpzb248TWFrZUNvbHVtbkNvbmZpZzxULCBUVGFibGVOYW1lPj4oXG5cdFx0XHR0YWJsZSxcblx0XHRcdHRoaXMuY29uZmlnIGFzIENvbHVtbkJ1aWxkZXJSdW50aW1lQ29uZmlnPGFueSwgYW55Pixcblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBTUUxpdGVUZXh0SnNvbjxUIGV4dGVuZHMgQ29sdW1uQmFzZUNvbmZpZzwnanNvbicsICdTUUxpdGVUZXh0SnNvbic+PlxuXHRleHRlbmRzIFNRTGl0ZUNvbHVtbjxULCB7IGxlbmd0aDogbnVtYmVyIHwgdW5kZWZpbmVkOyBlbnVtVmFsdWVzOiBUWydlbnVtVmFsdWVzJ10gfT5cbntcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ1NRTGl0ZVRleHRKc29uJztcblxuXHRnZXRTUUxUeXBlKCk6IHN0cmluZyB7XG5cdFx0cmV0dXJuICd0ZXh0Jztcblx0fVxuXG5cdG92ZXJyaWRlIG1hcEZyb21Ecml2ZXJWYWx1ZSh2YWx1ZTogc3RyaW5nKTogVFsnZGF0YSddIHtcblx0XHRyZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7XG5cdH1cblxuXHRvdmVycmlkZSBtYXBUb0RyaXZlclZhbHVlKHZhbHVlOiBUWydkYXRhJ10pOiBzdHJpbmcge1xuXHRcdHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG5cdH1cbn1cblxuZXhwb3J0IHR5cGUgU1FMaXRlVGV4dENvbmZpZzxcblx0VE1vZGUgZXh0ZW5kcyAndGV4dCcgfCAnanNvbicsXG5cdFRFbnVtIGV4dGVuZHMgcmVhZG9ubHkgc3RyaW5nW10gfCBzdHJpbmdbXSB8IHVuZGVmaW5lZCxcbj4gPSBUTW9kZSBleHRlbmRzICd0ZXh0JyA/IHtcblx0XHRtb2RlPzogVE1vZGU7XG5cdFx0bGVuZ3RoPzogbnVtYmVyO1xuXHRcdGVudW0/OiBURW51bTtcblx0fVxuXHQ6IHtcblx0XHRtb2RlPzogVE1vZGU7XG5cdH07XG5cbmV4cG9ydCBmdW5jdGlvbiB0ZXh0PFxuXHRUTmFtZSBleHRlbmRzIHN0cmluZyxcblx0VSBleHRlbmRzIHN0cmluZyxcblx0VCBleHRlbmRzIFJlYWRvbmx5PFtVLCAuLi5VW11dPixcblx0VE1vZGUgZXh0ZW5kcyAndGV4dCcgfCAnanNvbicgPSAndGV4dCcgfCAnanNvbicsXG4+KFxuXHRuYW1lOiBUTmFtZSxcblx0Y29uZmlnOiBTUUxpdGVUZXh0Q29uZmlnPFRNb2RlLCBUIHwgV3JpdGFibGU8VD4+ID0ge30gYXMgU1FMaXRlVGV4dENvbmZpZzxUTW9kZSwgVCB8IFdyaXRhYmxlPFQ+Pixcbik6IEVxdWFsPFRNb2RlLCAnanNvbic+IGV4dGVuZHMgdHJ1ZSA/IFNRTGl0ZVRleHRKc29uQnVpbGRlckluaXRpYWw8VE5hbWU+XG5cdDogU1FMaXRlVGV4dEJ1aWxkZXJJbml0aWFsPFROYW1lLCBXcml0YWJsZTxUPj5cbntcblx0cmV0dXJuIChjb25maWcubW9kZSA9PT0gJ2pzb24nXG5cdFx0PyBuZXcgU1FMaXRlVGV4dEpzb25CdWlsZGVyKG5hbWUpXG5cdFx0OiBuZXcgU1FMaXRlVGV4dEJ1aWxkZXIobmFtZSwgY29uZmlnIGFzIFNRTGl0ZVRleHRDb25maWc8J3RleHQnLCBXcml0YWJsZTxUPj4pKSBhcyBFcXVhbDxUTW9kZSwgJ2pzb24nPiBleHRlbmRzIHRydWVcblx0XHRcdD8gU1FMaXRlVGV4dEpzb25CdWlsZGVySW5pdGlhbDxUTmFtZT5cblx0XHRcdDogU1FMaXRlVGV4dEJ1aWxkZXJJbml0aWFsPFROYW1lLCBXcml0YWJsZTxUPj47XG59XG4iLCAiaW1wb3J0IHsgZW50aXR5S2luZCB9IGZyb20gJ34vZW50aXR5LnRzJztcbmltcG9ydCB0eXBlIHsgQ29sdW1uc1NlbGVjdGlvbiB9IGZyb20gJ34vc3FsL3NxbC50cyc7XG5pbXBvcnQgeyBWaWV3IH0gZnJvbSAnfi9zcWwvc3FsLnRzJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNRTGl0ZVZpZXdCYXNlPFxuXHRUTmFtZSBleHRlbmRzIHN0cmluZyA9IHN0cmluZyxcblx0VEV4aXN0aW5nIGV4dGVuZHMgYm9vbGVhbiA9IGJvb2xlYW4sXG5cdFRTZWxlY3Rpb24gZXh0ZW5kcyBDb2x1bW5zU2VsZWN0aW9uID0gQ29sdW1uc1NlbGVjdGlvbixcbj4gZXh0ZW5kcyBWaWV3PFROYW1lLCBURXhpc3RpbmcsIFRTZWxlY3Rpb24+IHtcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ1NRTGl0ZVZpZXdCYXNlJztcblxuXHRkZWNsYXJlIF86IFZpZXc8VE5hbWUsIFRFeGlzdGluZywgVFNlbGVjdGlvbj5bJ18nXSAmIHtcblx0XHR2aWV3QnJhbmQ6ICdTUUxpdGVWaWV3Jztcblx0fTtcbn1cbiIsICJpbXBvcnQgeyBhbGlhc2VkVGFibGUsIGFsaWFzZWRUYWJsZUNvbHVtbiwgbWFwQ29sdW1uc0luQWxpYXNlZFNRTFRvQWxpYXMsIG1hcENvbHVtbnNJblNRTFRvQWxpYXMgfSBmcm9tICd+L2FsaWFzLnRzJztcbmltcG9ydCB0eXBlIHsgQW55Q29sdW1uIH0gZnJvbSAnfi9jb2x1bW4udHMnO1xuaW1wb3J0IHsgQ29sdW1uIH0gZnJvbSAnfi9jb2x1bW4udHMnO1xuaW1wb3J0IHsgZW50aXR5S2luZCwgaXMgfSBmcm9tICd+L2VudGl0eS50cyc7XG5pbXBvcnQgeyBEcml6emxlRXJyb3IgfSBmcm9tICd+L2Vycm9ycy50cyc7XG5pbXBvcnQgdHlwZSB7IE1pZ3JhdGlvbkNvbmZpZywgTWlncmF0aW9uTWV0YSB9IGZyb20gJ34vbWlncmF0b3IudHMnO1xuaW1wb3J0IHtcblx0dHlwZSBCdWlsZFJlbGF0aW9uYWxRdWVyeVJlc3VsdCxcblx0dHlwZSBEQlF1ZXJ5Q29uZmlnLFxuXHRnZXRPcGVyYXRvcnMsXG5cdGdldE9yZGVyQnlPcGVyYXRvcnMsXG5cdE1hbnksXG5cdG5vcm1hbGl6ZVJlbGF0aW9uLFxuXHRPbmUsXG5cdHR5cGUgUmVsYXRpb24sXG5cdHR5cGUgVGFibGVSZWxhdGlvbmFsQ29uZmlnLFxuXHR0eXBlIFRhYmxlc1JlbGF0aW9uYWxDb25maWcsXG59IGZyb20gJ34vcmVsYXRpb25zLnRzJztcbmltcG9ydCB0eXBlIHsgTmFtZSB9IGZyb20gJ34vc3FsL2luZGV4LnRzJztcbmltcG9ydCB7IGFuZCwgZXEgfSBmcm9tICd+L3NxbC9pbmRleC50cyc7XG5pbXBvcnQgeyBQYXJhbSwgdHlwZSBRdWVyeVdpdGhUeXBpbmdzLCBTUUwsIHNxbCwgdHlwZSBTUUxDaHVuayB9IGZyb20gJ34vc3FsL3NxbC50cyc7XG5pbXBvcnQgeyBTUUxpdGVDb2x1bW4gfSBmcm9tICd+L3NxbGl0ZS1jb3JlL2NvbHVtbnMvaW5kZXgudHMnO1xuaW1wb3J0IHR5cGUgeyBTUUxpdGVEZWxldGVDb25maWcsIFNRTGl0ZUluc2VydENvbmZpZywgU1FMaXRlVXBkYXRlQ29uZmlnIH0gZnJvbSAnfi9zcWxpdGUtY29yZS9xdWVyeS1idWlsZGVycy9pbmRleC50cyc7XG5pbXBvcnQgeyBTUUxpdGVUYWJsZSB9IGZyb20gJ34vc3FsaXRlLWNvcmUvdGFibGUudHMnO1xuaW1wb3J0IHsgU3VicXVlcnkgfSBmcm9tICd+L3N1YnF1ZXJ5LnRzJztcbmltcG9ydCB7IGdldFRhYmxlTmFtZSwgZ2V0VGFibGVVbmlxdWVOYW1lLCBUYWJsZSB9IGZyb20gJ34vdGFibGUudHMnO1xuaW1wb3J0IHsgb3JkZXJTZWxlY3RlZEZpZWxkcywgdHlwZSBVcGRhdGVTZXQgfSBmcm9tICd+L3V0aWxzLnRzJztcbmltcG9ydCB7IFZpZXdCYXNlQ29uZmlnIH0gZnJvbSAnfi92aWV3LWNvbW1vbi50cyc7XG5pbXBvcnQgdHlwZSB7XG5cdFNlbGVjdGVkRmllbGRzT3JkZXJlZCxcblx0U1FMaXRlU2VsZWN0Q29uZmlnLFxuXHRTUUxpdGVTZWxlY3RKb2luQ29uZmlnLFxufSBmcm9tICcuL3F1ZXJ5LWJ1aWxkZXJzL3NlbGVjdC50eXBlcy50cyc7XG5pbXBvcnQgdHlwZSB7IFNRTGl0ZVNlc3Npb24gfSBmcm9tICcuL3Nlc3Npb24udHMnO1xuaW1wb3J0IHsgU1FMaXRlVmlld0Jhc2UgfSBmcm9tICcuL3ZpZXctYmFzZS50cyc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBTUUxpdGVEaWFsZWN0IHtcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ1NRTGl0ZURpYWxlY3QnO1xuXG5cdGVzY2FwZU5hbWUobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcblx0XHRyZXR1cm4gYFwiJHtuYW1lfVwiYDtcblx0fVxuXG5cdGVzY2FwZVBhcmFtKF9udW06IG51bWJlcik6IHN0cmluZyB7XG5cdFx0cmV0dXJuICc/Jztcblx0fVxuXG5cdGVzY2FwZVN0cmluZyhzdHI6IHN0cmluZyk6IHN0cmluZyB7XG5cdFx0cmV0dXJuIGAnJHtzdHIucmVwbGFjZSgvJy9nLCBcIicnXCIpfSdgO1xuXHR9XG5cblx0cHJpdmF0ZSBidWlsZFdpdGhDVEUocXVlcmllczogU3VicXVlcnlbXSB8IHVuZGVmaW5lZCk6IFNRTCB8IHVuZGVmaW5lZCB7XG5cdFx0aWYgKCFxdWVyaWVzPy5sZW5ndGgpIHJldHVybiB1bmRlZmluZWQ7XG5cblx0XHRjb25zdCB3aXRoU3FsQ2h1bmtzID0gW3NxbGB3aXRoIGBdO1xuXHRcdGZvciAoY29uc3QgW2ksIHddIG9mIHF1ZXJpZXMuZW50cmllcygpKSB7XG5cdFx0XHR3aXRoU3FsQ2h1bmtzLnB1c2goc3FsYCR7c3FsLmlkZW50aWZpZXIody5fLmFsaWFzKX0gYXMgKCR7dy5fLnNxbH0pYCk7XG5cdFx0XHRpZiAoaSA8IHF1ZXJpZXMubGVuZ3RoIC0gMSkge1xuXHRcdFx0XHR3aXRoU3FsQ2h1bmtzLnB1c2goc3FsYCwgYCk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHdpdGhTcWxDaHVua3MucHVzaChzcWxgIGApO1xuXHRcdHJldHVybiBzcWwuam9pbih3aXRoU3FsQ2h1bmtzKTtcblx0fVxuXG5cdGJ1aWxkRGVsZXRlUXVlcnkoeyB0YWJsZSwgd2hlcmUsIHJldHVybmluZywgd2l0aExpc3QgfTogU1FMaXRlRGVsZXRlQ29uZmlnKTogU1FMIHtcblx0XHRjb25zdCB3aXRoU3FsID0gdGhpcy5idWlsZFdpdGhDVEUod2l0aExpc3QpO1xuXG5cdFx0Y29uc3QgcmV0dXJuaW5nU3FsID0gcmV0dXJuaW5nXG5cdFx0XHQ/IHNxbGAgcmV0dXJuaW5nICR7dGhpcy5idWlsZFNlbGVjdGlvbihyZXR1cm5pbmcsIHsgaXNTaW5nbGVUYWJsZTogdHJ1ZSB9KX1gXG5cdFx0XHQ6IHVuZGVmaW5lZDtcblxuXHRcdGNvbnN0IHdoZXJlU3FsID0gd2hlcmUgPyBzcWxgIHdoZXJlICR7d2hlcmV9YCA6IHVuZGVmaW5lZDtcblxuXHRcdHJldHVybiBzcWxgJHt3aXRoU3FsfWRlbGV0ZSBmcm9tICR7dGFibGV9JHt3aGVyZVNxbH0ke3JldHVybmluZ1NxbH1gO1xuXHR9XG5cblx0YnVpbGRVcGRhdGVTZXQodGFibGU6IFNRTGl0ZVRhYmxlLCBzZXQ6IFVwZGF0ZVNldCk6IFNRTCB7XG5cdFx0Y29uc3QgdGFibGVDb2x1bW5zID0gdGFibGVbVGFibGUuU3ltYm9sLkNvbHVtbnNdO1xuXG5cdFx0Y29uc3QgY29sdW1uTmFtZXMgPSBPYmplY3Qua2V5cyh0YWJsZUNvbHVtbnMpLmZpbHRlcigoY29sTmFtZSkgPT5cblx0XHRcdHNldFtjb2xOYW1lXSAhPT0gdW5kZWZpbmVkIHx8IHRhYmxlQ29sdW1uc1tjb2xOYW1lXT8ub25VcGRhdGVGbiAhPT0gdW5kZWZpbmVkXG5cdFx0KTtcblxuXHRcdGNvbnN0IHNldFNpemUgPSBjb2x1bW5OYW1lcy5sZW5ndGg7XG5cdFx0cmV0dXJuIHNxbC5qb2luKGNvbHVtbk5hbWVzLmZsYXRNYXAoKGNvbE5hbWUsIGkpID0+IHtcblx0XHRcdGNvbnN0IGNvbCA9IHRhYmxlQ29sdW1uc1tjb2xOYW1lXSE7XG5cblx0XHRcdGNvbnN0IHZhbHVlID0gc2V0W2NvbE5hbWVdID8/IHNxbC5wYXJhbShjb2wub25VcGRhdGVGbiEoKSwgY29sKTtcblx0XHRcdGNvbnN0IHJlcyA9IHNxbGAke3NxbC5pZGVudGlmaWVyKGNvbC5uYW1lKX0gPSAke3ZhbHVlfWA7XG5cblx0XHRcdGlmIChpIDwgc2V0U2l6ZSAtIDEpIHtcblx0XHRcdFx0cmV0dXJuIFtyZXMsIHNxbC5yYXcoJywgJyldO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIFtyZXNdO1xuXHRcdH0pKTtcblx0fVxuXG5cdGJ1aWxkVXBkYXRlUXVlcnkoeyB0YWJsZSwgc2V0LCB3aGVyZSwgcmV0dXJuaW5nLCB3aXRoTGlzdCB9OiBTUUxpdGVVcGRhdGVDb25maWcpOiBTUUwge1xuXHRcdGNvbnN0IHdpdGhTcWwgPSB0aGlzLmJ1aWxkV2l0aENURSh3aXRoTGlzdCk7XG5cblx0XHRjb25zdCBzZXRTcWwgPSB0aGlzLmJ1aWxkVXBkYXRlU2V0KHRhYmxlLCBzZXQpO1xuXG5cdFx0Y29uc3QgcmV0dXJuaW5nU3FsID0gcmV0dXJuaW5nXG5cdFx0XHQ/IHNxbGAgcmV0dXJuaW5nICR7dGhpcy5idWlsZFNlbGVjdGlvbihyZXR1cm5pbmcsIHsgaXNTaW5nbGVUYWJsZTogdHJ1ZSB9KX1gXG5cdFx0XHQ6IHVuZGVmaW5lZDtcblxuXHRcdGNvbnN0IHdoZXJlU3FsID0gd2hlcmUgPyBzcWxgIHdoZXJlICR7d2hlcmV9YCA6IHVuZGVmaW5lZDtcblxuXHRcdHJldHVybiBzcWxgJHt3aXRoU3FsfXVwZGF0ZSAke3RhYmxlfSBzZXQgJHtzZXRTcWx9JHt3aGVyZVNxbH0ke3JldHVybmluZ1NxbH1gO1xuXHR9XG5cblx0LyoqXG5cdCAqIEJ1aWxkcyBzZWxlY3Rpb24gU1FMIHdpdGggcHJvdmlkZWQgZmllbGRzL2V4cHJlc3Npb25zXG5cdCAqXG5cdCAqIEV4YW1wbGVzOlxuXHQgKlxuXHQgKiBgc2VsZWN0IDxzZWxlY3Rpb24+IGZyb21gXG5cdCAqXG5cdCAqIGBpbnNlcnQgLi4uIHJldHVybmluZyA8c2VsZWN0aW9uPmBcblx0ICpcblx0ICogSWYgYGlzU2luZ2xlVGFibGVgIGlzIHRydWUsIHRoZW4gY29sdW1ucyB3b24ndCBiZSBwcmVmaXhlZCB3aXRoIHRhYmxlIG5hbWVcblx0ICovXG5cdHByaXZhdGUgYnVpbGRTZWxlY3Rpb24oXG5cdFx0ZmllbGRzOiBTZWxlY3RlZEZpZWxkc09yZGVyZWQsXG5cdFx0eyBpc1NpbmdsZVRhYmxlID0gZmFsc2UgfTogeyBpc1NpbmdsZVRhYmxlPzogYm9vbGVhbiB9ID0ge30sXG5cdCk6IFNRTCB7XG5cdFx0Y29uc3QgY29sdW1uc0xlbiA9IGZpZWxkcy5sZW5ndGg7XG5cblx0XHRjb25zdCBjaHVua3MgPSBmaWVsZHNcblx0XHRcdC5mbGF0TWFwKCh7IGZpZWxkIH0sIGkpID0+IHtcblx0XHRcdFx0Y29uc3QgY2h1bms6IFNRTENodW5rW10gPSBbXTtcblxuXHRcdFx0XHRpZiAoaXMoZmllbGQsIFNRTC5BbGlhc2VkKSAmJiBmaWVsZC5pc1NlbGVjdGlvbkZpZWxkKSB7XG5cdFx0XHRcdFx0Y2h1bmsucHVzaChzcWwuaWRlbnRpZmllcihmaWVsZC5maWVsZEFsaWFzKSk7XG5cdFx0XHRcdH0gZWxzZSBpZiAoaXMoZmllbGQsIFNRTC5BbGlhc2VkKSB8fCBpcyhmaWVsZCwgU1FMKSkge1xuXHRcdFx0XHRcdGNvbnN0IHF1ZXJ5ID0gaXMoZmllbGQsIFNRTC5BbGlhc2VkKSA/IGZpZWxkLnNxbCA6IGZpZWxkO1xuXG5cdFx0XHRcdFx0aWYgKGlzU2luZ2xlVGFibGUpIHtcblx0XHRcdFx0XHRcdGNodW5rLnB1c2goXG5cdFx0XHRcdFx0XHRcdG5ldyBTUUwoXG5cdFx0XHRcdFx0XHRcdFx0cXVlcnkucXVlcnlDaHVua3MubWFwKChjKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoaXMoYywgQ29sdW1uKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc3FsLmlkZW50aWZpZXIoYy5uYW1lKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiBjO1xuXHRcdFx0XHRcdFx0XHRcdH0pLFxuXHRcdFx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y2h1bmsucHVzaChxdWVyeSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGlzKGZpZWxkLCBTUUwuQWxpYXNlZCkpIHtcblx0XHRcdFx0XHRcdGNodW5rLnB1c2goc3FsYCBhcyAke3NxbC5pZGVudGlmaWVyKGZpZWxkLmZpZWxkQWxpYXMpfWApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIGlmIChpcyhmaWVsZCwgQ29sdW1uKSkge1xuXHRcdFx0XHRcdGNvbnN0IHRhYmxlTmFtZSA9IGZpZWxkLnRhYmxlW1RhYmxlLlN5bWJvbC5OYW1lXTtcblx0XHRcdFx0XHRjb25zdCBjb2x1bW5OYW1lID0gZmllbGQubmFtZTtcblx0XHRcdFx0XHRpZiAoaXNTaW5nbGVUYWJsZSkge1xuXHRcdFx0XHRcdFx0Y2h1bmsucHVzaChzcWwuaWRlbnRpZmllcihjb2x1bW5OYW1lKSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNodW5rLnB1c2goc3FsYCR7c3FsLmlkZW50aWZpZXIodGFibGVOYW1lKX0uJHtzcWwuaWRlbnRpZmllcihjb2x1bW5OYW1lKX1gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoaSA8IGNvbHVtbnNMZW4gLSAxKSB7XG5cdFx0XHRcdFx0Y2h1bmsucHVzaChzcWxgLCBgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBjaHVuaztcblx0XHRcdH0pO1xuXG5cdFx0cmV0dXJuIHNxbC5qb2luKGNodW5rcyk7XG5cdH1cblxuXHRidWlsZFNlbGVjdFF1ZXJ5KFxuXHRcdHtcblx0XHRcdHdpdGhMaXN0LFxuXHRcdFx0ZmllbGRzLFxuXHRcdFx0ZmllbGRzRmxhdCxcblx0XHRcdHdoZXJlLFxuXHRcdFx0aGF2aW5nLFxuXHRcdFx0dGFibGUsXG5cdFx0XHRqb2lucyxcblx0XHRcdG9yZGVyQnksXG5cdFx0XHRncm91cEJ5LFxuXHRcdFx0bGltaXQsXG5cdFx0XHRvZmZzZXQsXG5cdFx0XHRkaXN0aW5jdCxcblx0XHRcdHNldE9wZXJhdG9ycyxcblx0XHR9OiBTUUxpdGVTZWxlY3RDb25maWcsXG5cdCk6IFNRTCB7XG5cdFx0Y29uc3QgZmllbGRzTGlzdCA9IGZpZWxkc0ZsYXQgPz8gb3JkZXJTZWxlY3RlZEZpZWxkczxTUUxpdGVDb2x1bW4+KGZpZWxkcyk7XG5cdFx0Zm9yIChjb25zdCBmIG9mIGZpZWxkc0xpc3QpIHtcblx0XHRcdGlmIChcblx0XHRcdFx0aXMoZi5maWVsZCwgQ29sdW1uKVxuXHRcdFx0XHQmJiBnZXRUYWJsZU5hbWUoZi5maWVsZC50YWJsZSlcblx0XHRcdFx0XHQhPT0gKGlzKHRhYmxlLCBTdWJxdWVyeSlcblx0XHRcdFx0XHRcdD8gdGFibGUuXy5hbGlhc1xuXHRcdFx0XHRcdFx0OiBpcyh0YWJsZSwgU1FMaXRlVmlld0Jhc2UpXG5cdFx0XHRcdFx0XHQ/IHRhYmxlW1ZpZXdCYXNlQ29uZmlnXS5uYW1lXG5cdFx0XHRcdFx0XHQ6IGlzKHRhYmxlLCBTUUwpXG5cdFx0XHRcdFx0XHQ/IHVuZGVmaW5lZFxuXHRcdFx0XHRcdFx0OiBnZXRUYWJsZU5hbWUodGFibGUpKVxuXHRcdFx0XHQmJiAhKCh0YWJsZSkgPT5cblx0XHRcdFx0XHRqb2lucz8uc29tZSgoeyBhbGlhcyB9KSA9PlxuXHRcdFx0XHRcdFx0YWxpYXMgPT09ICh0YWJsZVtUYWJsZS5TeW1ib2wuSXNBbGlhc10gPyBnZXRUYWJsZU5hbWUodGFibGUpIDogdGFibGVbVGFibGUuU3ltYm9sLkJhc2VOYW1lXSlcblx0XHRcdFx0XHQpKShmLmZpZWxkLnRhYmxlKVxuXHRcdFx0KSB7XG5cdFx0XHRcdGNvbnN0IHRhYmxlTmFtZSA9IGdldFRhYmxlTmFtZShmLmZpZWxkLnRhYmxlKTtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRcdGBZb3VyIFwiJHtcblx0XHRcdFx0XHRcdGYucGF0aC5qb2luKCctPicpXG5cdFx0XHRcdFx0fVwiIGZpZWxkIHJlZmVyZW5jZXMgYSBjb2x1bW4gXCIke3RhYmxlTmFtZX1cIi5cIiR7Zi5maWVsZC5uYW1lfVwiLCBidXQgdGhlIHRhYmxlIFwiJHt0YWJsZU5hbWV9XCIgaXMgbm90IHBhcnQgb2YgdGhlIHF1ZXJ5ISBEaWQgeW91IGZvcmdldCB0byBqb2luIGl0P2AsXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Y29uc3QgaXNTaW5nbGVUYWJsZSA9ICFqb2lucyB8fCBqb2lucy5sZW5ndGggPT09IDA7XG5cblx0XHRjb25zdCB3aXRoU3FsID0gdGhpcy5idWlsZFdpdGhDVEUod2l0aExpc3QpO1xuXG5cdFx0Y29uc3QgZGlzdGluY3RTcWwgPSBkaXN0aW5jdCA/IHNxbGAgZGlzdGluY3RgIDogdW5kZWZpbmVkO1xuXG5cdFx0Y29uc3Qgc2VsZWN0aW9uID0gdGhpcy5idWlsZFNlbGVjdGlvbihmaWVsZHNMaXN0LCB7IGlzU2luZ2xlVGFibGUgfSk7XG5cblx0XHRjb25zdCB0YWJsZVNxbCA9ICgoKSA9PiB7XG5cdFx0XHRpZiAoaXModGFibGUsIFRhYmxlKSAmJiB0YWJsZVtUYWJsZS5TeW1ib2wuT3JpZ2luYWxOYW1lXSAhPT0gdGFibGVbVGFibGUuU3ltYm9sLk5hbWVdKSB7XG5cdFx0XHRcdHJldHVybiBzcWxgJHtzcWwuaWRlbnRpZmllcih0YWJsZVtUYWJsZS5TeW1ib2wuT3JpZ2luYWxOYW1lXSl9ICR7c3FsLmlkZW50aWZpZXIodGFibGVbVGFibGUuU3ltYm9sLk5hbWVdKX1gO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGFibGU7XG5cdFx0fSkoKTtcblxuXHRcdGNvbnN0IGpvaW5zQXJyYXk6IFNRTFtdID0gW107XG5cblx0XHRpZiAoam9pbnMpIHtcblx0XHRcdGZvciAoY29uc3QgW2luZGV4LCBqb2luTWV0YV0gb2Ygam9pbnMuZW50cmllcygpKSB7XG5cdFx0XHRcdGlmIChpbmRleCA9PT0gMCkge1xuXHRcdFx0XHRcdGpvaW5zQXJyYXkucHVzaChzcWxgIGApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvbnN0IHRhYmxlID0gam9pbk1ldGEudGFibGU7XG5cblx0XHRcdFx0aWYgKGlzKHRhYmxlLCBTUUxpdGVUYWJsZSkpIHtcblx0XHRcdFx0XHRjb25zdCB0YWJsZU5hbWUgPSB0YWJsZVtTUUxpdGVUYWJsZS5TeW1ib2wuTmFtZV07XG5cdFx0XHRcdFx0Y29uc3QgdGFibGVTY2hlbWEgPSB0YWJsZVtTUUxpdGVUYWJsZS5TeW1ib2wuU2NoZW1hXTtcblx0XHRcdFx0XHRjb25zdCBvcmlnVGFibGVOYW1lID0gdGFibGVbU1FMaXRlVGFibGUuU3ltYm9sLk9yaWdpbmFsTmFtZV07XG5cdFx0XHRcdFx0Y29uc3QgYWxpYXMgPSB0YWJsZU5hbWUgPT09IG9yaWdUYWJsZU5hbWUgPyB1bmRlZmluZWQgOiBqb2luTWV0YS5hbGlhcztcblx0XHRcdFx0XHRqb2luc0FycmF5LnB1c2goXG5cdFx0XHRcdFx0XHRzcWxgJHtzcWwucmF3KGpvaW5NZXRhLmpvaW5UeXBlKX0gam9pbiAke3RhYmxlU2NoZW1hID8gc3FsYCR7c3FsLmlkZW50aWZpZXIodGFibGVTY2hlbWEpfS5gIDogdW5kZWZpbmVkfSR7XG5cdFx0XHRcdFx0XHRcdHNxbC5pZGVudGlmaWVyKG9yaWdUYWJsZU5hbWUpXG5cdFx0XHRcdFx0XHR9JHthbGlhcyAmJiBzcWxgICR7c3FsLmlkZW50aWZpZXIoYWxpYXMpfWB9IG9uICR7am9pbk1ldGEub259YCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGpvaW5zQXJyYXkucHVzaChcblx0XHRcdFx0XHRcdHNxbGAke3NxbC5yYXcoam9pbk1ldGEuam9pblR5cGUpfSBqb2luICR7dGFibGV9IG9uICR7am9pbk1ldGEub259YCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChpbmRleCA8IGpvaW5zLmxlbmd0aCAtIDEpIHtcblx0XHRcdFx0XHRqb2luc0FycmF5LnB1c2goc3FsYCBgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGpvaW5zU3FsID0gc3FsLmpvaW4oam9pbnNBcnJheSk7XG5cblx0XHRjb25zdCB3aGVyZVNxbCA9IHdoZXJlID8gc3FsYCB3aGVyZSAke3doZXJlfWAgOiB1bmRlZmluZWQ7XG5cblx0XHRjb25zdCBoYXZpbmdTcWwgPSBoYXZpbmcgPyBzcWxgIGhhdmluZyAke2hhdmluZ31gIDogdW5kZWZpbmVkO1xuXG5cdFx0Y29uc3Qgb3JkZXJCeUxpc3Q6IChTUUxpdGVDb2x1bW4gfCBTUUwgfCBTUUwuQWxpYXNlZClbXSA9IFtdO1xuXHRcdGlmIChvcmRlckJ5KSB7XG5cdFx0XHRmb3IgKGNvbnN0IFtpbmRleCwgb3JkZXJCeVZhbHVlXSBvZiBvcmRlckJ5LmVudHJpZXMoKSkge1xuXHRcdFx0XHRvcmRlckJ5TGlzdC5wdXNoKG9yZGVyQnlWYWx1ZSk7XG5cblx0XHRcdFx0aWYgKGluZGV4IDwgb3JkZXJCeS5sZW5ndGggLSAxKSB7XG5cdFx0XHRcdFx0b3JkZXJCeUxpc3QucHVzaChzcWxgLCBgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGNvbnN0IGdyb3VwQnlMaXN0OiAoU1FMIHwgQW55Q29sdW1uIHwgU1FMLkFsaWFzZWQpW10gPSBbXTtcblx0XHRpZiAoZ3JvdXBCeSkge1xuXHRcdFx0Zm9yIChjb25zdCBbaW5kZXgsIGdyb3VwQnlWYWx1ZV0gb2YgZ3JvdXBCeS5lbnRyaWVzKCkpIHtcblx0XHRcdFx0Z3JvdXBCeUxpc3QucHVzaChncm91cEJ5VmFsdWUpO1xuXG5cdFx0XHRcdGlmIChpbmRleCA8IGdyb3VwQnkubGVuZ3RoIC0gMSkge1xuXHRcdFx0XHRcdGdyb3VwQnlMaXN0LnB1c2goc3FsYCwgYCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCBncm91cEJ5U3FsID0gZ3JvdXBCeUxpc3QubGVuZ3RoID4gMCA/IHNxbGAgZ3JvdXAgYnkgJHtzcWwuam9pbihncm91cEJ5TGlzdCl9YCA6IHVuZGVmaW5lZDtcblxuXHRcdGNvbnN0IG9yZGVyQnlTcWwgPSBvcmRlckJ5TGlzdC5sZW5ndGggPiAwID8gc3FsYCBvcmRlciBieSAke3NxbC5qb2luKG9yZGVyQnlMaXN0KX1gIDogdW5kZWZpbmVkO1xuXG5cdFx0Y29uc3QgbGltaXRTcWwgPSB0eXBlb2YgbGltaXQgPT09ICdvYmplY3QnIHx8ICh0eXBlb2YgbGltaXQgPT09ICdudW1iZXInICYmIGxpbWl0ID49IDApXG5cdFx0XHQ/IHNxbGAgbGltaXQgJHtsaW1pdH1gXG5cdFx0XHQ6IHVuZGVmaW5lZDtcblxuXHRcdGNvbnN0IG9mZnNldFNxbCA9IG9mZnNldCA/IHNxbGAgb2Zmc2V0ICR7b2Zmc2V0fWAgOiB1bmRlZmluZWQ7XG5cblx0XHRjb25zdCBmaW5hbFF1ZXJ5ID1cblx0XHRcdHNxbGAke3dpdGhTcWx9c2VsZWN0JHtkaXN0aW5jdFNxbH0gJHtzZWxlY3Rpb259IGZyb20gJHt0YWJsZVNxbH0ke2pvaW5zU3FsfSR7d2hlcmVTcWx9JHtncm91cEJ5U3FsfSR7aGF2aW5nU3FsfSR7b3JkZXJCeVNxbH0ke2xpbWl0U3FsfSR7b2Zmc2V0U3FsfWA7XG5cblx0XHRpZiAoc2V0T3BlcmF0b3JzLmxlbmd0aCA+IDApIHtcblx0XHRcdHJldHVybiB0aGlzLmJ1aWxkU2V0T3BlcmF0aW9ucyhmaW5hbFF1ZXJ5LCBzZXRPcGVyYXRvcnMpO1xuXHRcdH1cblxuXHRcdHJldHVybiBmaW5hbFF1ZXJ5O1xuXHR9XG5cblx0YnVpbGRTZXRPcGVyYXRpb25zKGxlZnRTZWxlY3Q6IFNRTCwgc2V0T3BlcmF0b3JzOiBTUUxpdGVTZWxlY3RDb25maWdbJ3NldE9wZXJhdG9ycyddKTogU1FMIHtcblx0XHRjb25zdCBbc2V0T3BlcmF0b3IsIC4uLnJlc3RdID0gc2V0T3BlcmF0b3JzO1xuXG5cdFx0aWYgKCFzZXRPcGVyYXRvcikge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgcGFzcyB1bmRlZmluZWQgdmFsdWVzIHRvIGFueSBzZXQgb3BlcmF0b3InKTtcblx0XHR9XG5cblx0XHRpZiAocmVzdC5sZW5ndGggPT09IDApIHtcblx0XHRcdHJldHVybiB0aGlzLmJ1aWxkU2V0T3BlcmF0aW9uUXVlcnkoeyBsZWZ0U2VsZWN0LCBzZXRPcGVyYXRvciB9KTtcblx0XHR9XG5cblx0XHQvLyBTb21lIHJlY3Vyc2l2ZSBtYWdpYyBoZXJlXG5cdFx0cmV0dXJuIHRoaXMuYnVpbGRTZXRPcGVyYXRpb25zKFxuXHRcdFx0dGhpcy5idWlsZFNldE9wZXJhdGlvblF1ZXJ5KHsgbGVmdFNlbGVjdCwgc2V0T3BlcmF0b3IgfSksXG5cdFx0XHRyZXN0LFxuXHRcdCk7XG5cdH1cblxuXHRidWlsZFNldE9wZXJhdGlvblF1ZXJ5KHtcblx0XHRsZWZ0U2VsZWN0LFxuXHRcdHNldE9wZXJhdG9yOiB7IHR5cGUsIGlzQWxsLCByaWdodFNlbGVjdCwgbGltaXQsIG9yZGVyQnksIG9mZnNldCB9LFxuXHR9OiB7IGxlZnRTZWxlY3Q6IFNRTDsgc2V0T3BlcmF0b3I6IFNRTGl0ZVNlbGVjdENvbmZpZ1snc2V0T3BlcmF0b3JzJ11bbnVtYmVyXSB9KTogU1FMIHtcblx0XHQvLyBTUUxpdGUgZG9lc24ndCBzdXBwb3J0IHBhcmVudGhlc2lzIGluIHNldCBvcGVyYXRpb25zXG5cdFx0Y29uc3QgbGVmdENodW5rID0gc3FsYCR7bGVmdFNlbGVjdC5nZXRTUUwoKX0gYDtcblx0XHRjb25zdCByaWdodENodW5rID0gc3FsYCR7cmlnaHRTZWxlY3QuZ2V0U1FMKCl9YDtcblxuXHRcdGxldCBvcmRlckJ5U3FsO1xuXHRcdGlmIChvcmRlckJ5ICYmIG9yZGVyQnkubGVuZ3RoID4gMCkge1xuXHRcdFx0Y29uc3Qgb3JkZXJCeVZhbHVlczogKFNRTDx1bmtub3duPiB8IE5hbWUpW10gPSBbXTtcblxuXHRcdFx0Ly8gVGhlIG5leHQgYml0IGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHRoZSBzcWwgb3BlcmF0b3IgcmVwbGFjZXMgJHt0YWJsZS5jb2x1bW59IHdpdGggYHRhYmxlYC5gY29sdW1uYFxuXHRcdFx0Ly8gd2hpY2ggaXMgaW52YWxpZCBTcWwgc3ludGF4LCBUYWJsZSBmcm9tIG9uZSBvZiB0aGUgU0VMRUNUcyBjYW5ub3QgYmUgdXNlZCBpbiBnbG9iYWwgT1JERVIgY2xhdXNlXG5cdFx0XHRmb3IgKGNvbnN0IHNpbmdsZU9yZGVyQnkgb2Ygb3JkZXJCeSkge1xuXHRcdFx0XHRpZiAoaXMoc2luZ2xlT3JkZXJCeSwgU1FMaXRlQ29sdW1uKSkge1xuXHRcdFx0XHRcdG9yZGVyQnlWYWx1ZXMucHVzaChzcWwuaWRlbnRpZmllcihzaW5nbGVPcmRlckJ5Lm5hbWUpKTtcblx0XHRcdFx0fSBlbHNlIGlmIChpcyhzaW5nbGVPcmRlckJ5LCBTUUwpKSB7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBzaW5nbGVPcmRlckJ5LnF1ZXJ5Q2h1bmtzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRjb25zdCBjaHVuayA9IHNpbmdsZU9yZGVyQnkucXVlcnlDaHVua3NbaV07XG5cblx0XHRcdFx0XHRcdGlmIChpcyhjaHVuaywgU1FMaXRlQ29sdW1uKSkge1xuXHRcdFx0XHRcdFx0XHRzaW5nbGVPcmRlckJ5LnF1ZXJ5Q2h1bmtzW2ldID0gc3FsLmlkZW50aWZpZXIoY2h1bmsubmFtZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0b3JkZXJCeVZhbHVlcy5wdXNoKHNxbGAke3NpbmdsZU9yZGVyQnl9YCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0b3JkZXJCeVZhbHVlcy5wdXNoKHNxbGAke3NpbmdsZU9yZGVyQnl9YCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0b3JkZXJCeVNxbCA9IHNxbGAgb3JkZXIgYnkgJHtzcWwuam9pbihvcmRlckJ5VmFsdWVzLCBzcWxgLCBgKX1gO1xuXHRcdH1cblxuXHRcdGNvbnN0IGxpbWl0U3FsID0gdHlwZW9mIGxpbWl0ID09PSAnb2JqZWN0JyB8fCAodHlwZW9mIGxpbWl0ID09PSAnbnVtYmVyJyAmJiBsaW1pdCA+PSAwKVxuXHRcdFx0PyBzcWxgIGxpbWl0ICR7bGltaXR9YFxuXHRcdFx0OiB1bmRlZmluZWQ7XG5cblx0XHRjb25zdCBvcGVyYXRvckNodW5rID0gc3FsLnJhdyhgJHt0eXBlfSAke2lzQWxsID8gJ2FsbCAnIDogJyd9YCk7XG5cblx0XHRjb25zdCBvZmZzZXRTcWwgPSBvZmZzZXQgPyBzcWxgIG9mZnNldCAke29mZnNldH1gIDogdW5kZWZpbmVkO1xuXG5cdFx0cmV0dXJuIHNxbGAke2xlZnRDaHVua30ke29wZXJhdG9yQ2h1bmt9JHtyaWdodENodW5rfSR7b3JkZXJCeVNxbH0ke2xpbWl0U3FsfSR7b2Zmc2V0U3FsfWA7XG5cdH1cblxuXHRidWlsZEluc2VydFF1ZXJ5KHsgdGFibGUsIHZhbHVlcywgb25Db25mbGljdCwgcmV0dXJuaW5nLCB3aXRoTGlzdCB9OiBTUUxpdGVJbnNlcnRDb25maWcpOiBTUUwge1xuXHRcdC8vIGNvbnN0IGlzU2luZ2xlVmFsdWUgPSB2YWx1ZXMubGVuZ3RoID09PSAxO1xuXHRcdGNvbnN0IHZhbHVlc1NxbExpc3Q6ICgoU1FMQ2h1bmsgfCBTUUwpW10gfCBTUUwpW10gPSBbXTtcblx0XHRjb25zdCBjb2x1bW5zOiBSZWNvcmQ8c3RyaW5nLCBTUUxpdGVDb2x1bW4+ID0gdGFibGVbVGFibGUuU3ltYm9sLkNvbHVtbnNdO1xuXG5cdFx0Y29uc3QgY29sRW50cmllczogW3N0cmluZywgU1FMaXRlQ29sdW1uXVtdID0gT2JqZWN0LmVudHJpZXMoY29sdW1ucykuZmlsdGVyKChbXywgY29sXSkgPT5cblx0XHRcdCFjb2wuc2hvdWxkRGlzYWJsZUluc2VydCgpXG5cdFx0KTtcblx0XHRjb25zdCBpbnNlcnRPcmRlciA9IGNvbEVudHJpZXMubWFwKChbLCBjb2x1bW5dKSA9PiBzcWwuaWRlbnRpZmllcihjb2x1bW4ubmFtZSkpO1xuXG5cdFx0Zm9yIChjb25zdCBbdmFsdWVJbmRleCwgdmFsdWVdIG9mIHZhbHVlcy5lbnRyaWVzKCkpIHtcblx0XHRcdGNvbnN0IHZhbHVlTGlzdDogKFNRTENodW5rIHwgU1FMKVtdID0gW107XG5cdFx0XHRmb3IgKGNvbnN0IFtmaWVsZE5hbWUsIGNvbF0gb2YgY29sRW50cmllcykge1xuXHRcdFx0XHRjb25zdCBjb2xWYWx1ZSA9IHZhbHVlW2ZpZWxkTmFtZV07XG5cdFx0XHRcdGlmIChjb2xWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8IChpcyhjb2xWYWx1ZSwgUGFyYW0pICYmIGNvbFZhbHVlLnZhbHVlID09PSB1bmRlZmluZWQpKSB7XG5cdFx0XHRcdFx0bGV0IGRlZmF1bHRWYWx1ZTtcblx0XHRcdFx0XHRpZiAoY29sLmRlZmF1bHQgIT09IG51bGwgJiYgY29sLmRlZmF1bHQgIT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdFx0ZGVmYXVsdFZhbHVlID0gaXMoY29sLmRlZmF1bHQsIFNRTCkgPyBjb2wuZGVmYXVsdCA6IHNxbC5wYXJhbShjb2wuZGVmYXVsdCwgY29sKTtcblx0XHRcdFx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB1bmljb3JuL25vLW5lZ2F0ZWQtY29uZGl0aW9uXG5cdFx0XHRcdFx0fSBlbHNlIGlmIChjb2wuZGVmYXVsdEZuICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdGNvbnN0IGRlZmF1bHRGblJlc3VsdCA9IGNvbC5kZWZhdWx0Rm4oKTtcblx0XHRcdFx0XHRcdGRlZmF1bHRWYWx1ZSA9IGlzKGRlZmF1bHRGblJlc3VsdCwgU1FMKSA/IGRlZmF1bHRGblJlc3VsdCA6IHNxbC5wYXJhbShkZWZhdWx0Rm5SZXN1bHQsIGNvbCk7XG5cdFx0XHRcdFx0XHQvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9uby1uZWdhdGVkLWNvbmRpdGlvblxuXHRcdFx0XHRcdH0gZWxzZSBpZiAoIWNvbC5kZWZhdWx0ICYmIGNvbC5vblVwZGF0ZUZuICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdGNvbnN0IG9uVXBkYXRlRm5SZXN1bHQgPSBjb2wub25VcGRhdGVGbigpO1xuXHRcdFx0XHRcdFx0ZGVmYXVsdFZhbHVlID0gaXMob25VcGRhdGVGblJlc3VsdCwgU1FMKSA/IG9uVXBkYXRlRm5SZXN1bHQgOiBzcWwucGFyYW0ob25VcGRhdGVGblJlc3VsdCwgY29sKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZGVmYXVsdFZhbHVlID0gc3FsYG51bGxgO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR2YWx1ZUxpc3QucHVzaChkZWZhdWx0VmFsdWUpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHZhbHVlTGlzdC5wdXNoKGNvbFZhbHVlKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0dmFsdWVzU3FsTGlzdC5wdXNoKHZhbHVlTGlzdCk7XG5cdFx0XHRpZiAodmFsdWVJbmRleCA8IHZhbHVlcy5sZW5ndGggLSAxKSB7XG5cdFx0XHRcdHZhbHVlc1NxbExpc3QucHVzaChzcWxgLCBgKTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRjb25zdCB3aXRoU3FsID0gdGhpcy5idWlsZFdpdGhDVEUod2l0aExpc3QpO1xuXG5cdFx0Y29uc3QgdmFsdWVzU3FsID0gc3FsLmpvaW4odmFsdWVzU3FsTGlzdCk7XG5cblx0XHRjb25zdCByZXR1cm5pbmdTcWwgPSByZXR1cm5pbmdcblx0XHRcdD8gc3FsYCByZXR1cm5pbmcgJHt0aGlzLmJ1aWxkU2VsZWN0aW9uKHJldHVybmluZywgeyBpc1NpbmdsZVRhYmxlOiB0cnVlIH0pfWBcblx0XHRcdDogdW5kZWZpbmVkO1xuXG5cdFx0Y29uc3Qgb25Db25mbGljdFNxbCA9IG9uQ29uZmxpY3QgPyBzcWxgIG9uIGNvbmZsaWN0ICR7b25Db25mbGljdH1gIDogdW5kZWZpbmVkO1xuXG5cdFx0Ly8gaWYgKGlzU2luZ2xlVmFsdWUgJiYgdmFsdWVzU3FsTGlzdC5sZW5ndGggPT09IDApe1xuXHRcdC8vIFx0cmV0dXJuIHNxbGBpbnNlcnQgaW50byAke3RhYmxlfSBkZWZhdWx0IHZhbHVlcyAke29uQ29uZmxpY3RTcWx9JHtyZXR1cm5pbmdTcWx9YDtcblx0XHQvLyB9XG5cblx0XHRyZXR1cm4gc3FsYCR7d2l0aFNxbH1pbnNlcnQgaW50byAke3RhYmxlfSAke2luc2VydE9yZGVyfSB2YWx1ZXMgJHt2YWx1ZXNTcWx9JHtvbkNvbmZsaWN0U3FsfSR7cmV0dXJuaW5nU3FsfWA7XG5cdH1cblxuXHRzcWxUb1F1ZXJ5KHNxbDogU1FMLCBpbnZva2VTb3VyY2U/OiAnaW5kZXhlcycgfCB1bmRlZmluZWQpOiBRdWVyeVdpdGhUeXBpbmdzIHtcblx0XHRyZXR1cm4gc3FsLnRvUXVlcnkoe1xuXHRcdFx0ZXNjYXBlTmFtZTogdGhpcy5lc2NhcGVOYW1lLFxuXHRcdFx0ZXNjYXBlUGFyYW06IHRoaXMuZXNjYXBlUGFyYW0sXG5cdFx0XHRlc2NhcGVTdHJpbmc6IHRoaXMuZXNjYXBlU3RyaW5nLFxuXHRcdFx0aW52b2tlU291cmNlLFxuXHRcdH0pO1xuXHR9XG5cblx0YnVpbGRSZWxhdGlvbmFsUXVlcnkoe1xuXHRcdGZ1bGxTY2hlbWEsXG5cdFx0c2NoZW1hLFxuXHRcdHRhYmxlTmFtZXNNYXAsXG5cdFx0dGFibGUsXG5cdFx0dGFibGVDb25maWcsXG5cdFx0cXVlcnlDb25maWc6IGNvbmZpZyxcblx0XHR0YWJsZUFsaWFzLFxuXHRcdG5lc3RlZFF1ZXJ5UmVsYXRpb24sXG5cdFx0am9pbk9uLFxuXHR9OiB7XG5cdFx0ZnVsbFNjaGVtYTogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG5cdFx0c2NoZW1hOiBUYWJsZXNSZWxhdGlvbmFsQ29uZmlnO1xuXHRcdHRhYmxlTmFtZXNNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XG5cdFx0dGFibGU6IFNRTGl0ZVRhYmxlO1xuXHRcdHRhYmxlQ29uZmlnOiBUYWJsZVJlbGF0aW9uYWxDb25maWc7XG5cdFx0cXVlcnlDb25maWc6IHRydWUgfCBEQlF1ZXJ5Q29uZmlnPCdtYW55JywgdHJ1ZT47XG5cdFx0dGFibGVBbGlhczogc3RyaW5nO1xuXHRcdG5lc3RlZFF1ZXJ5UmVsYXRpb24/OiBSZWxhdGlvbjtcblx0XHRqb2luT24/OiBTUUw7XG5cdH0pOiBCdWlsZFJlbGF0aW9uYWxRdWVyeVJlc3VsdDxTUUxpdGVUYWJsZSwgU1FMaXRlQ29sdW1uPiB7XG5cdFx0bGV0IHNlbGVjdGlvbjogQnVpbGRSZWxhdGlvbmFsUXVlcnlSZXN1bHQ8U1FMaXRlVGFibGUsIFNRTGl0ZUNvbHVtbj5bJ3NlbGVjdGlvbiddID0gW107XG5cdFx0bGV0IGxpbWl0LCBvZmZzZXQsIG9yZGVyQnk6IFNRTGl0ZVNlbGVjdENvbmZpZ1snb3JkZXJCeSddID0gW10sIHdoZXJlO1xuXHRcdGNvbnN0IGpvaW5zOiBTUUxpdGVTZWxlY3RKb2luQ29uZmlnW10gPSBbXTtcblxuXHRcdGlmIChjb25maWcgPT09IHRydWUpIHtcblx0XHRcdGNvbnN0IHNlbGVjdGlvbkVudHJpZXMgPSBPYmplY3QuZW50cmllcyh0YWJsZUNvbmZpZy5jb2x1bW5zKTtcblx0XHRcdHNlbGVjdGlvbiA9IHNlbGVjdGlvbkVudHJpZXMubWFwKChcblx0XHRcdFx0W2tleSwgdmFsdWVdLFxuXHRcdFx0KSA9PiAoe1xuXHRcdFx0XHRkYktleTogdmFsdWUubmFtZSxcblx0XHRcdFx0dHNLZXk6IGtleSxcblx0XHRcdFx0ZmllbGQ6IGFsaWFzZWRUYWJsZUNvbHVtbih2YWx1ZSBhcyBTUUxpdGVDb2x1bW4sIHRhYmxlQWxpYXMpLFxuXHRcdFx0XHRyZWxhdGlvblRhYmxlVHNLZXk6IHVuZGVmaW5lZCxcblx0XHRcdFx0aXNKc29uOiBmYWxzZSxcblx0XHRcdFx0c2VsZWN0aW9uOiBbXSxcblx0XHRcdH0pKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc3QgYWxpYXNlZENvbHVtbnMgPSBPYmplY3QuZnJvbUVudHJpZXMoXG5cdFx0XHRcdE9iamVjdC5lbnRyaWVzKHRhYmxlQ29uZmlnLmNvbHVtbnMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBba2V5LCBhbGlhc2VkVGFibGVDb2x1bW4odmFsdWUsIHRhYmxlQWxpYXMpXSksXG5cdFx0XHQpO1xuXG5cdFx0XHRpZiAoY29uZmlnLndoZXJlKSB7XG5cdFx0XHRcdGNvbnN0IHdoZXJlU3FsID0gdHlwZW9mIGNvbmZpZy53aGVyZSA9PT0gJ2Z1bmN0aW9uJ1xuXHRcdFx0XHRcdD8gY29uZmlnLndoZXJlKGFsaWFzZWRDb2x1bW5zLCBnZXRPcGVyYXRvcnMoKSlcblx0XHRcdFx0XHQ6IGNvbmZpZy53aGVyZTtcblx0XHRcdFx0d2hlcmUgPSB3aGVyZVNxbCAmJiBtYXBDb2x1bW5zSW5TUUxUb0FsaWFzKHdoZXJlU3FsLCB0YWJsZUFsaWFzKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3QgZmllbGRzU2VsZWN0aW9uOiB7IHRzS2V5OiBzdHJpbmc7IHZhbHVlOiBTUUxpdGVDb2x1bW4gfCBTUUwuQWxpYXNlZCB9W10gPSBbXTtcblx0XHRcdGxldCBzZWxlY3RlZENvbHVtbnM6IHN0cmluZ1tdID0gW107XG5cblx0XHRcdC8vIEZpZ3VyZSBvdXQgd2hpY2ggY29sdW1ucyB0byBzZWxlY3Rcblx0XHRcdGlmIChjb25maWcuY29sdW1ucykge1xuXHRcdFx0XHRsZXQgaXNJbmNsdWRlTW9kZSA9IGZhbHNlO1xuXG5cdFx0XHRcdGZvciAoY29uc3QgW2ZpZWxkLCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoY29uZmlnLmNvbHVtbnMpKSB7XG5cdFx0XHRcdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChmaWVsZCBpbiB0YWJsZUNvbmZpZy5jb2x1bW5zKSB7XG5cdFx0XHRcdFx0XHRpZiAoIWlzSW5jbHVkZU1vZGUgJiYgdmFsdWUgPT09IHRydWUpIHtcblx0XHRcdFx0XHRcdFx0aXNJbmNsdWRlTW9kZSA9IHRydWU7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRzZWxlY3RlZENvbHVtbnMucHVzaChmaWVsZCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHNlbGVjdGVkQ29sdW1ucy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0c2VsZWN0ZWRDb2x1bW5zID0gaXNJbmNsdWRlTW9kZVxuXHRcdFx0XHRcdFx0PyBzZWxlY3RlZENvbHVtbnMuZmlsdGVyKChjKSA9PiBjb25maWcuY29sdW1ucz8uW2NdID09PSB0cnVlKVxuXHRcdFx0XHRcdFx0OiBPYmplY3Qua2V5cyh0YWJsZUNvbmZpZy5jb2x1bW5zKS5maWx0ZXIoKGtleSkgPT4gIXNlbGVjdGVkQ29sdW1ucy5pbmNsdWRlcyhrZXkpKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gU2VsZWN0IGFsbCBjb2x1bW5zIGlmIHNlbGVjdGlvbiBpcyBub3Qgc3BlY2lmaWVkXG5cdFx0XHRcdHNlbGVjdGVkQ29sdW1ucyA9IE9iamVjdC5rZXlzKHRhYmxlQ29uZmlnLmNvbHVtbnMpO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKGNvbnN0IGZpZWxkIG9mIHNlbGVjdGVkQ29sdW1ucykge1xuXHRcdFx0XHRjb25zdCBjb2x1bW4gPSB0YWJsZUNvbmZpZy5jb2x1bW5zW2ZpZWxkXSEgYXMgU1FMaXRlQ29sdW1uO1xuXHRcdFx0XHRmaWVsZHNTZWxlY3Rpb24ucHVzaCh7IHRzS2V5OiBmaWVsZCwgdmFsdWU6IGNvbHVtbiB9KTtcblx0XHRcdH1cblxuXHRcdFx0bGV0IHNlbGVjdGVkUmVsYXRpb25zOiB7XG5cdFx0XHRcdHRzS2V5OiBzdHJpbmc7XG5cdFx0XHRcdHF1ZXJ5Q29uZmlnOiB0cnVlIHwgREJRdWVyeUNvbmZpZzwnbWFueScsIGZhbHNlPjtcblx0XHRcdFx0cmVsYXRpb246IFJlbGF0aW9uO1xuXHRcdFx0fVtdID0gW107XG5cblx0XHRcdC8vIEZpZ3VyZSBvdXQgd2hpY2ggcmVsYXRpb25zIHRvIHNlbGVjdFxuXHRcdFx0aWYgKGNvbmZpZy53aXRoKSB7XG5cdFx0XHRcdHNlbGVjdGVkUmVsYXRpb25zID0gT2JqZWN0LmVudHJpZXMoY29uZmlnLndpdGgpXG5cdFx0XHRcdFx0LmZpbHRlcigoZW50cnkpOiBlbnRyeSBpcyBbdHlwZW9mIGVudHJ5WzBdLCBOb25OdWxsYWJsZTx0eXBlb2YgZW50cnlbMV0+XSA9PiAhIWVudHJ5WzFdKVxuXHRcdFx0XHRcdC5tYXAoKFt0c0tleSwgcXVlcnlDb25maWddKSA9PiAoeyB0c0tleSwgcXVlcnlDb25maWcsIHJlbGF0aW9uOiB0YWJsZUNvbmZpZy5yZWxhdGlvbnNbdHNLZXldISB9KSk7XG5cdFx0XHR9XG5cblx0XHRcdGxldCBleHRyYXM7XG5cblx0XHRcdC8vIEZpZ3VyZSBvdXQgd2hpY2ggZXh0cmFzIHRvIHNlbGVjdFxuXHRcdFx0aWYgKGNvbmZpZy5leHRyYXMpIHtcblx0XHRcdFx0ZXh0cmFzID0gdHlwZW9mIGNvbmZpZy5leHRyYXMgPT09ICdmdW5jdGlvbidcblx0XHRcdFx0XHQ/IGNvbmZpZy5leHRyYXMoYWxpYXNlZENvbHVtbnMsIHsgc3FsIH0pXG5cdFx0XHRcdFx0OiBjb25maWcuZXh0cmFzO1xuXHRcdFx0XHRmb3IgKGNvbnN0IFt0c0tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGV4dHJhcykpIHtcblx0XHRcdFx0XHRmaWVsZHNTZWxlY3Rpb24ucHVzaCh7XG5cdFx0XHRcdFx0XHR0c0tleSxcblx0XHRcdFx0XHRcdHZhbHVlOiBtYXBDb2x1bW5zSW5BbGlhc2VkU1FMVG9BbGlhcyh2YWx1ZSwgdGFibGVBbGlhcyksXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0Ly8gVHJhbnNmb3JtIGBmaWVsZHNTZWxlY3Rpb25gIGludG8gYHNlbGVjdGlvbmBcblx0XHRcdC8vIGBmaWVsZHNTZWxlY3Rpb25gIHNob3VsZG4ndCBiZSB1c2VkIGFmdGVyIHRoaXMgcG9pbnRcblx0XHRcdGZvciAoY29uc3QgeyB0c0tleSwgdmFsdWUgfSBvZiBmaWVsZHNTZWxlY3Rpb24pIHtcblx0XHRcdFx0c2VsZWN0aW9uLnB1c2goe1xuXHRcdFx0XHRcdGRiS2V5OiBpcyh2YWx1ZSwgU1FMLkFsaWFzZWQpID8gdmFsdWUuZmllbGRBbGlhcyA6IHRhYmxlQ29uZmlnLmNvbHVtbnNbdHNLZXldIS5uYW1lLFxuXHRcdFx0XHRcdHRzS2V5LFxuXHRcdFx0XHRcdGZpZWxkOiBpcyh2YWx1ZSwgQ29sdW1uKSA/IGFsaWFzZWRUYWJsZUNvbHVtbih2YWx1ZSwgdGFibGVBbGlhcykgOiB2YWx1ZSxcblx0XHRcdFx0XHRyZWxhdGlvblRhYmxlVHNLZXk6IHVuZGVmaW5lZCxcblx0XHRcdFx0XHRpc0pzb246IGZhbHNlLFxuXHRcdFx0XHRcdHNlbGVjdGlvbjogW10sXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXG5cdFx0XHRsZXQgb3JkZXJCeU9yaWcgPSB0eXBlb2YgY29uZmlnLm9yZGVyQnkgPT09ICdmdW5jdGlvbidcblx0XHRcdFx0PyBjb25maWcub3JkZXJCeShhbGlhc2VkQ29sdW1ucywgZ2V0T3JkZXJCeU9wZXJhdG9ycygpKVxuXHRcdFx0XHQ6IGNvbmZpZy5vcmRlckJ5ID8/IFtdO1xuXHRcdFx0aWYgKCFBcnJheS5pc0FycmF5KG9yZGVyQnlPcmlnKSkge1xuXHRcdFx0XHRvcmRlckJ5T3JpZyA9IFtvcmRlckJ5T3JpZ107XG5cdFx0XHR9XG5cdFx0XHRvcmRlckJ5ID0gb3JkZXJCeU9yaWcubWFwKChvcmRlckJ5VmFsdWUpID0+IHtcblx0XHRcdFx0aWYgKGlzKG9yZGVyQnlWYWx1ZSwgQ29sdW1uKSkge1xuXHRcdFx0XHRcdHJldHVybiBhbGlhc2VkVGFibGVDb2x1bW4ob3JkZXJCeVZhbHVlLCB0YWJsZUFsaWFzKSBhcyBTUUxpdGVDb2x1bW47XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG1hcENvbHVtbnNJblNRTFRvQWxpYXMob3JkZXJCeVZhbHVlLCB0YWJsZUFsaWFzKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRsaW1pdCA9IGNvbmZpZy5saW1pdDtcblx0XHRcdG9mZnNldCA9IGNvbmZpZy5vZmZzZXQ7XG5cblx0XHRcdC8vIFByb2Nlc3MgYWxsIHJlbGF0aW9uc1xuXHRcdFx0Zm9yIChcblx0XHRcdFx0Y29uc3Qge1xuXHRcdFx0XHRcdHRzS2V5OiBzZWxlY3RlZFJlbGF0aW9uVHNLZXksXG5cdFx0XHRcdFx0cXVlcnlDb25maWc6IHNlbGVjdGVkUmVsYXRpb25Db25maWdWYWx1ZSxcblx0XHRcdFx0XHRyZWxhdGlvbixcblx0XHRcdFx0fSBvZiBzZWxlY3RlZFJlbGF0aW9uc1xuXHRcdFx0KSB7XG5cdFx0XHRcdGNvbnN0IG5vcm1hbGl6ZWRSZWxhdGlvbiA9IG5vcm1hbGl6ZVJlbGF0aW9uKHNjaGVtYSwgdGFibGVOYW1lc01hcCwgcmVsYXRpb24pO1xuXHRcdFx0XHRjb25zdCByZWxhdGlvblRhYmxlTmFtZSA9IGdldFRhYmxlVW5pcXVlTmFtZShyZWxhdGlvbi5yZWZlcmVuY2VkVGFibGUpO1xuXHRcdFx0XHRjb25zdCByZWxhdGlvblRhYmxlVHNOYW1lID0gdGFibGVOYW1lc01hcFtyZWxhdGlvblRhYmxlTmFtZV0hO1xuXHRcdFx0XHRjb25zdCByZWxhdGlvblRhYmxlQWxpYXMgPSBgJHt0YWJsZUFsaWFzfV8ke3NlbGVjdGVkUmVsYXRpb25Uc0tleX1gO1xuXHRcdFx0XHQvLyBjb25zdCByZWxhdGlvblRhYmxlID0gc2NoZW1hW3JlbGF0aW9uVGFibGVUc05hbWVdITtcblx0XHRcdFx0Y29uc3Qgam9pbk9uID0gYW5kKFxuXHRcdFx0XHRcdC4uLm5vcm1hbGl6ZWRSZWxhdGlvbi5maWVsZHMubWFwKChmaWVsZCwgaSkgPT5cblx0XHRcdFx0XHRcdGVxKFxuXHRcdFx0XHRcdFx0XHRhbGlhc2VkVGFibGVDb2x1bW4obm9ybWFsaXplZFJlbGF0aW9uLnJlZmVyZW5jZXNbaV0hLCByZWxhdGlvblRhYmxlQWxpYXMpLFxuXHRcdFx0XHRcdFx0XHRhbGlhc2VkVGFibGVDb2x1bW4oZmllbGQsIHRhYmxlQWxpYXMpLFxuXHRcdFx0XHRcdFx0KVxuXHRcdFx0XHRcdCksXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGNvbnN0IGJ1aWx0UmVsYXRpb24gPSB0aGlzLmJ1aWxkUmVsYXRpb25hbFF1ZXJ5KHtcblx0XHRcdFx0XHRmdWxsU2NoZW1hLFxuXHRcdFx0XHRcdHNjaGVtYSxcblx0XHRcdFx0XHR0YWJsZU5hbWVzTWFwLFxuXHRcdFx0XHRcdHRhYmxlOiBmdWxsU2NoZW1hW3JlbGF0aW9uVGFibGVUc05hbWVdIGFzIFNRTGl0ZVRhYmxlLFxuXHRcdFx0XHRcdHRhYmxlQ29uZmlnOiBzY2hlbWFbcmVsYXRpb25UYWJsZVRzTmFtZV0hLFxuXHRcdFx0XHRcdHF1ZXJ5Q29uZmlnOiBpcyhyZWxhdGlvbiwgT25lKVxuXHRcdFx0XHRcdFx0PyAoc2VsZWN0ZWRSZWxhdGlvbkNvbmZpZ1ZhbHVlID09PSB0cnVlXG5cdFx0XHRcdFx0XHRcdD8geyBsaW1pdDogMSB9XG5cdFx0XHRcdFx0XHRcdDogeyAuLi5zZWxlY3RlZFJlbGF0aW9uQ29uZmlnVmFsdWUsIGxpbWl0OiAxIH0pXG5cdFx0XHRcdFx0XHQ6IHNlbGVjdGVkUmVsYXRpb25Db25maWdWYWx1ZSxcblx0XHRcdFx0XHR0YWJsZUFsaWFzOiByZWxhdGlvblRhYmxlQWxpYXMsXG5cdFx0XHRcdFx0am9pbk9uLFxuXHRcdFx0XHRcdG5lc3RlZFF1ZXJ5UmVsYXRpb246IHJlbGF0aW9uLFxuXHRcdFx0XHR9KTtcblx0XHRcdFx0Y29uc3QgZmllbGQgPSAoc3FsYCgke2J1aWx0UmVsYXRpb24uc3FsfSlgKS5hcyhzZWxlY3RlZFJlbGF0aW9uVHNLZXkpO1xuXHRcdFx0XHRzZWxlY3Rpb24ucHVzaCh7XG5cdFx0XHRcdFx0ZGJLZXk6IHNlbGVjdGVkUmVsYXRpb25Uc0tleSxcblx0XHRcdFx0XHR0c0tleTogc2VsZWN0ZWRSZWxhdGlvblRzS2V5LFxuXHRcdFx0XHRcdGZpZWxkLFxuXHRcdFx0XHRcdHJlbGF0aW9uVGFibGVUc0tleTogcmVsYXRpb25UYWJsZVRzTmFtZSxcblx0XHRcdFx0XHRpc0pzb246IHRydWUsXG5cdFx0XHRcdFx0c2VsZWN0aW9uOiBidWlsdFJlbGF0aW9uLnNlbGVjdGlvbixcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0aWYgKHNlbGVjdGlvbi5sZW5ndGggPT09IDApIHtcblx0XHRcdHRocm93IG5ldyBEcml6emxlRXJyb3Ioe1xuXHRcdFx0XHRtZXNzYWdlOlxuXHRcdFx0XHRcdGBObyBmaWVsZHMgc2VsZWN0ZWQgZm9yIHRhYmxlIFwiJHt0YWJsZUNvbmZpZy50c05hbWV9XCIgKFwiJHt0YWJsZUFsaWFzfVwiKS4gWW91IG5lZWQgdG8gaGF2ZSBhdCBsZWFzdCBvbmUgaXRlbSBpbiBcImNvbHVtbnNcIiwgXCJ3aXRoXCIgb3IgXCJleHRyYXNcIi4gSWYgeW91IG5lZWQgdG8gc2VsZWN0IGFsbCBjb2x1bW5zLCBvbWl0IHRoZSBcImNvbHVtbnNcIiBrZXkgb3Igc2V0IGl0IHRvIHVuZGVmaW5lZC5gLFxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0bGV0IHJlc3VsdDtcblxuXHRcdHdoZXJlID0gYW5kKGpvaW5Pbiwgd2hlcmUpO1xuXG5cdFx0aWYgKG5lc3RlZFF1ZXJ5UmVsYXRpb24pIHtcblx0XHRcdGxldCBmaWVsZCA9IHNxbGBqc29uX2FycmF5KCR7XG5cdFx0XHRcdHNxbC5qb2luKFxuXHRcdFx0XHRcdHNlbGVjdGlvbi5tYXAoKHsgZmllbGQgfSkgPT5cblx0XHRcdFx0XHRcdGlzKGZpZWxkLCBTUUxpdGVDb2x1bW4pID8gc3FsLmlkZW50aWZpZXIoZmllbGQubmFtZSkgOiBpcyhmaWVsZCwgU1FMLkFsaWFzZWQpID8gZmllbGQuc3FsIDogZmllbGRcblx0XHRcdFx0XHQpLFxuXHRcdFx0XHRcdHNxbGAsIGAsXG5cdFx0XHRcdClcblx0XHRcdH0pYDtcblx0XHRcdGlmIChpcyhuZXN0ZWRRdWVyeVJlbGF0aW9uLCBNYW55KSkge1xuXHRcdFx0XHRmaWVsZCA9IHNxbGBjb2FsZXNjZShqc29uX2dyb3VwX2FycmF5KCR7ZmllbGR9KSwganNvbl9hcnJheSgpKWA7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBuZXN0ZWRTZWxlY3Rpb24gPSBbe1xuXHRcdFx0XHRkYktleTogJ2RhdGEnLFxuXHRcdFx0XHR0c0tleTogJ2RhdGEnLFxuXHRcdFx0XHRmaWVsZDogZmllbGQuYXMoJ2RhdGEnKSxcblx0XHRcdFx0aXNKc29uOiB0cnVlLFxuXHRcdFx0XHRyZWxhdGlvblRhYmxlVHNLZXk6IHRhYmxlQ29uZmlnLnRzTmFtZSxcblx0XHRcdFx0c2VsZWN0aW9uLFxuXHRcdFx0fV07XG5cblx0XHRcdGNvbnN0IG5lZWRzU3VicXVlcnkgPSBsaW1pdCAhPT0gdW5kZWZpbmVkIHx8IG9mZnNldCAhPT0gdW5kZWZpbmVkIHx8IG9yZGVyQnkubGVuZ3RoID4gMDtcblxuXHRcdFx0aWYgKG5lZWRzU3VicXVlcnkpIHtcblx0XHRcdFx0cmVzdWx0ID0gdGhpcy5idWlsZFNlbGVjdFF1ZXJ5KHtcblx0XHRcdFx0XHR0YWJsZTogYWxpYXNlZFRhYmxlKHRhYmxlLCB0YWJsZUFsaWFzKSxcblx0XHRcdFx0XHRmaWVsZHM6IHt9LFxuXHRcdFx0XHRcdGZpZWxkc0ZsYXQ6IFtcblx0XHRcdFx0XHRcdHtcblx0XHRcdFx0XHRcdFx0cGF0aDogW10sXG5cdFx0XHRcdFx0XHRcdGZpZWxkOiBzcWwucmF3KCcqJyksXG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdF0sXG5cdFx0XHRcdFx0d2hlcmUsXG5cdFx0XHRcdFx0bGltaXQsXG5cdFx0XHRcdFx0b2Zmc2V0LFxuXHRcdFx0XHRcdG9yZGVyQnksXG5cdFx0XHRcdFx0c2V0T3BlcmF0b3JzOiBbXSxcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0d2hlcmUgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdGxpbWl0ID0gdW5kZWZpbmVkO1xuXHRcdFx0XHRvZmZzZXQgPSB1bmRlZmluZWQ7XG5cdFx0XHRcdG9yZGVyQnkgPSB1bmRlZmluZWQ7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXN1bHQgPSBhbGlhc2VkVGFibGUodGFibGUsIHRhYmxlQWxpYXMpO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXN1bHQgPSB0aGlzLmJ1aWxkU2VsZWN0UXVlcnkoe1xuXHRcdFx0XHR0YWJsZTogaXMocmVzdWx0LCBTUUxpdGVUYWJsZSkgPyByZXN1bHQgOiBuZXcgU3VicXVlcnkocmVzdWx0LCB7fSwgdGFibGVBbGlhcyksXG5cdFx0XHRcdGZpZWxkczoge30sXG5cdFx0XHRcdGZpZWxkc0ZsYXQ6IG5lc3RlZFNlbGVjdGlvbi5tYXAoKHsgZmllbGQgfSkgPT4gKHtcblx0XHRcdFx0XHRwYXRoOiBbXSxcblx0XHRcdFx0XHRmaWVsZDogaXMoZmllbGQsIENvbHVtbikgPyBhbGlhc2VkVGFibGVDb2x1bW4oZmllbGQsIHRhYmxlQWxpYXMpIDogZmllbGQsXG5cdFx0XHRcdH0pKSxcblx0XHRcdFx0am9pbnMsXG5cdFx0XHRcdHdoZXJlLFxuXHRcdFx0XHRsaW1pdCxcblx0XHRcdFx0b2Zmc2V0LFxuXHRcdFx0XHRvcmRlckJ5LFxuXHRcdFx0XHRzZXRPcGVyYXRvcnM6IFtdLFxuXHRcdFx0fSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJlc3VsdCA9IHRoaXMuYnVpbGRTZWxlY3RRdWVyeSh7XG5cdFx0XHRcdHRhYmxlOiBhbGlhc2VkVGFibGUodGFibGUsIHRhYmxlQWxpYXMpLFxuXHRcdFx0XHRmaWVsZHM6IHt9LFxuXHRcdFx0XHRmaWVsZHNGbGF0OiBzZWxlY3Rpb24ubWFwKCh7IGZpZWxkIH0pID0+ICh7XG5cdFx0XHRcdFx0cGF0aDogW10sXG5cdFx0XHRcdFx0ZmllbGQ6IGlzKGZpZWxkLCBDb2x1bW4pID8gYWxpYXNlZFRhYmxlQ29sdW1uKGZpZWxkLCB0YWJsZUFsaWFzKSA6IGZpZWxkLFxuXHRcdFx0XHR9KSksXG5cdFx0XHRcdGpvaW5zLFxuXHRcdFx0XHR3aGVyZSxcblx0XHRcdFx0bGltaXQsXG5cdFx0XHRcdG9mZnNldCxcblx0XHRcdFx0b3JkZXJCeSxcblx0XHRcdFx0c2V0T3BlcmF0b3JzOiBbXSxcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiB7XG5cdFx0XHR0YWJsZVRzS2V5OiB0YWJsZUNvbmZpZy50c05hbWUsXG5cdFx0XHRzcWw6IHJlc3VsdCxcblx0XHRcdHNlbGVjdGlvbixcblx0XHR9O1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBTUUxpdGVTeW5jRGlhbGVjdCBleHRlbmRzIFNRTGl0ZURpYWxlY3Qge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnU1FMaXRlU3luY0RpYWxlY3QnO1xuXG5cdG1pZ3JhdGUoXG5cdFx0bWlncmF0aW9uczogTWlncmF0aW9uTWV0YVtdLFxuXHRcdHNlc3Npb246IFNRTGl0ZVNlc3Npb248J3N5bmMnLCB1bmtub3duLCBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiwgVGFibGVzUmVsYXRpb25hbENvbmZpZz4sXG5cdFx0Y29uZmlnPzogc3RyaW5nIHwgTWlncmF0aW9uQ29uZmlnLFxuXHQpOiB2b2lkIHtcblx0XHRjb25zdCBtaWdyYXRpb25zVGFibGUgPSBjb25maWcgPT09IHVuZGVmaW5lZFxuXHRcdFx0PyAnX19kcml6emxlX21pZ3JhdGlvbnMnXG5cdFx0XHQ6IHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnXG5cdFx0XHQ/ICdfX2RyaXp6bGVfbWlncmF0aW9ucydcblx0XHRcdDogY29uZmlnLm1pZ3JhdGlvbnNUYWJsZSA/PyAnX19kcml6emxlX21pZ3JhdGlvbnMnO1xuXG5cdFx0Y29uc3QgbWlncmF0aW9uVGFibGVDcmVhdGUgPSBzcWxgXG5cdFx0XHRDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyAke3NxbC5pZGVudGlmaWVyKG1pZ3JhdGlvbnNUYWJsZSl9IChcblx0XHRcdFx0aWQgU0VSSUFMIFBSSU1BUlkgS0VZLFxuXHRcdFx0XHRoYXNoIHRleHQgTk9UIE5VTEwsXG5cdFx0XHRcdGNyZWF0ZWRfYXQgbnVtZXJpY1xuXHRcdFx0KVxuXHRcdGA7XG5cdFx0c2Vzc2lvbi5ydW4obWlncmF0aW9uVGFibGVDcmVhdGUpO1xuXG5cdFx0Y29uc3QgZGJNaWdyYXRpb25zID0gc2Vzc2lvbi52YWx1ZXM8W251bWJlciwgc3RyaW5nLCBzdHJpbmddPihcblx0XHRcdHNxbGBTRUxFQ1QgaWQsIGhhc2gsIGNyZWF0ZWRfYXQgRlJPTSAke3NxbC5pZGVudGlmaWVyKG1pZ3JhdGlvbnNUYWJsZSl9IE9SREVSIEJZIGNyZWF0ZWRfYXQgREVTQyBMSU1JVCAxYCxcblx0XHQpO1xuXG5cdFx0Y29uc3QgbGFzdERiTWlncmF0aW9uID0gZGJNaWdyYXRpb25zWzBdID8/IHVuZGVmaW5lZDtcblx0XHRzZXNzaW9uLnJ1bihzcWxgQkVHSU5gKTtcblxuXHRcdHRyeSB7XG5cdFx0XHRmb3IgKGNvbnN0IG1pZ3JhdGlvbiBvZiBtaWdyYXRpb25zKSB7XG5cdFx0XHRcdGlmICghbGFzdERiTWlncmF0aW9uIHx8IE51bWJlcihsYXN0RGJNaWdyYXRpb25bMl0pISA8IG1pZ3JhdGlvbi5mb2xkZXJNaWxsaXMpIHtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IHN0bXQgb2YgbWlncmF0aW9uLnNxbCkge1xuXHRcdFx0XHRcdFx0c2Vzc2lvbi5ydW4oc3FsLnJhdyhzdG10KSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHNlc3Npb24ucnVuKFxuXHRcdFx0XHRcdFx0c3FsYElOU0VSVCBJTlRPICR7XG5cdFx0XHRcdFx0XHRcdHNxbC5pZGVudGlmaWVyKG1pZ3JhdGlvbnNUYWJsZSlcblx0XHRcdFx0XHRcdH0gKFwiaGFzaFwiLCBcImNyZWF0ZWRfYXRcIikgVkFMVUVTKCR7bWlncmF0aW9uLmhhc2h9LCAke21pZ3JhdGlvbi5mb2xkZXJNaWxsaXN9KWAsXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRzZXNzaW9uLnJ1bihzcWxgQ09NTUlUYCk7XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0c2Vzc2lvbi5ydW4oc3FsYFJPTExCQUNLYCk7XG5cdFx0XHR0aHJvdyBlO1xuXHRcdH1cblx0fVxufVxuXG5leHBvcnQgY2xhc3MgU1FMaXRlQXN5bmNEaWFsZWN0IGV4dGVuZHMgU1FMaXRlRGlhbGVjdCB7XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdTUUxpdGVBc3luY0RpYWxlY3QnO1xuXG5cdGFzeW5jIG1pZ3JhdGUoXG5cdFx0bWlncmF0aW9uczogTWlncmF0aW9uTWV0YVtdLFxuXHRcdHNlc3Npb246IFNRTGl0ZVNlc3Npb248J2FzeW5jJywgYW55LCBhbnksIGFueT4sXG5cdFx0Y29uZmlnPzogc3RyaW5nIHwgTWlncmF0aW9uQ29uZmlnLFxuXHQpOiBQcm9taXNlPHZvaWQ+IHtcblx0XHRjb25zdCBtaWdyYXRpb25zVGFibGUgPSBjb25maWcgPT09IHVuZGVmaW5lZFxuXHRcdFx0PyAnX19kcml6emxlX21pZ3JhdGlvbnMnXG5cdFx0XHQ6IHR5cGVvZiBjb25maWcgPT09ICdzdHJpbmcnXG5cdFx0XHQ/ICdfX2RyaXp6bGVfbWlncmF0aW9ucydcblx0XHRcdDogY29uZmlnLm1pZ3JhdGlvbnNUYWJsZSA/PyAnX19kcml6emxlX21pZ3JhdGlvbnMnO1xuXG5cdFx0Y29uc3QgbWlncmF0aW9uVGFibGVDcmVhdGUgPSBzcWxgXG5cdFx0XHRDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyAke3NxbC5pZGVudGlmaWVyKG1pZ3JhdGlvbnNUYWJsZSl9IChcblx0XHRcdFx0aWQgU0VSSUFMIFBSSU1BUlkgS0VZLFxuXHRcdFx0XHRoYXNoIHRleHQgTk9UIE5VTEwsXG5cdFx0XHRcdGNyZWF0ZWRfYXQgbnVtZXJpY1xuXHRcdFx0KVxuXHRcdGA7XG5cdFx0YXdhaXQgc2Vzc2lvbi5ydW4obWlncmF0aW9uVGFibGVDcmVhdGUpO1xuXG5cdFx0Y29uc3QgZGJNaWdyYXRpb25zID0gYXdhaXQgc2Vzc2lvbi52YWx1ZXM8W251bWJlciwgc3RyaW5nLCBzdHJpbmddPihcblx0XHRcdHNxbGBTRUxFQ1QgaWQsIGhhc2gsIGNyZWF0ZWRfYXQgRlJPTSAke3NxbC5pZGVudGlmaWVyKG1pZ3JhdGlvbnNUYWJsZSl9IE9SREVSIEJZIGNyZWF0ZWRfYXQgREVTQyBMSU1JVCAxYCxcblx0XHQpO1xuXG5cdFx0Y29uc3QgbGFzdERiTWlncmF0aW9uID0gZGJNaWdyYXRpb25zWzBdID8/IHVuZGVmaW5lZDtcblxuXHRcdGF3YWl0IHNlc3Npb24udHJhbnNhY3Rpb24oYXN5bmMgKHR4KSA9PiB7XG5cdFx0XHRmb3IgKGNvbnN0IG1pZ3JhdGlvbiBvZiBtaWdyYXRpb25zKSB7XG5cdFx0XHRcdGlmICghbGFzdERiTWlncmF0aW9uIHx8IE51bWJlcihsYXN0RGJNaWdyYXRpb25bMl0pISA8IG1pZ3JhdGlvbi5mb2xkZXJNaWxsaXMpIHtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IHN0bXQgb2YgbWlncmF0aW9uLnNxbCkge1xuXHRcdFx0XHRcdFx0YXdhaXQgdHgucnVuKHNxbC5yYXcoc3RtdCkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRhd2FpdCB0eC5ydW4oXG5cdFx0XHRcdFx0XHRzcWxgSU5TRVJUIElOVE8gJHtcblx0XHRcdFx0XHRcdFx0c3FsLmlkZW50aWZpZXIobWlncmF0aW9uc1RhYmxlKVxuXHRcdFx0XHRcdFx0fSAoXCJoYXNoXCIsIFwiY3JlYXRlZF9hdFwiKSBWQUxVRVMoJHttaWdyYXRpb24uaGFzaH0sICR7bWlncmF0aW9uLmZvbGRlck1pbGxpc30pYCxcblx0XHRcdFx0XHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cbn1cbiIsICJpbXBvcnQgeyBlbnRpdHlLaW5kIH0gZnJvbSAnfi9lbnRpdHkudHMnO1xuaW1wb3J0IHR5cGUgeyBTUUwsIFNRTFdyYXBwZXIgfSBmcm9tICd+L3NxbC9pbmRleC50cyc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBUeXBlZFF1ZXJ5QnVpbGRlcjxUU2VsZWN0aW9uLCBUUmVzdWx0ID0gdW5rbm93bj4gaW1wbGVtZW50cyBTUUxXcmFwcGVyIHtcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ1R5cGVkUXVlcnlCdWlsZGVyJztcblxuXHRkZWNsYXJlIF86IHtcblx0XHRzZWxlY3RlZEZpZWxkczogVFNlbGVjdGlvbjtcblx0XHRyZXN1bHQ6IFRSZXN1bHQ7XG5cdH07XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRnZXRTZWxlY3RlZEZpZWxkcygpOiBUU2VsZWN0aW9uIHtcblx0XHRyZXR1cm4gdGhpcy5fLnNlbGVjdGVkRmllbGRzO1xuXHR9XG5cblx0YWJzdHJhY3QgZ2V0U1FMKCk6IFNRTDtcbn1cbiIsICJpbXBvcnQgeyBlbnRpdHlLaW5kLCBpcyB9IGZyb20gJ34vZW50aXR5LnRzJztcbmltcG9ydCB7IFR5cGVkUXVlcnlCdWlsZGVyIH0gZnJvbSAnfi9xdWVyeS1idWlsZGVycy9xdWVyeS1idWlsZGVyLnRzJztcbmltcG9ydCB0eXBlIHtcblx0QnVpbGRTdWJxdWVyeVNlbGVjdGlvbixcblx0R2V0U2VsZWN0VGFibGVOYW1lLFxuXHRHZXRTZWxlY3RUYWJsZVNlbGVjdGlvbixcblx0Sm9pbk51bGxhYmlsaXR5LFxuXHRKb2luVHlwZSxcblx0U2VsZWN0TW9kZSxcblx0U2VsZWN0UmVzdWx0LFxuXHRTZXRPcGVyYXRvcixcbn0gZnJvbSAnfi9xdWVyeS1idWlsZGVycy9zZWxlY3QudHlwZXMudHMnO1xuaW1wb3J0IHsgUXVlcnlQcm9taXNlIH0gZnJvbSAnfi9xdWVyeS1wcm9taXNlLnRzJztcbmltcG9ydCB0eXBlIHsgUnVubmFibGVRdWVyeSB9IGZyb20gJ34vcnVubmFibGUtcXVlcnkudHMnO1xuaW1wb3J0IHsgU2VsZWN0aW9uUHJveHlIYW5kbGVyIH0gZnJvbSAnfi9zZWxlY3Rpb24tcHJveHkudHMnO1xuaW1wb3J0IHsgU1FMLCBWaWV3IH0gZnJvbSAnfi9zcWwvc3FsLnRzJztcbmltcG9ydCB0eXBlIHsgQ29sdW1uc1NlbGVjdGlvbiwgUGxhY2Vob2xkZXIsIFF1ZXJ5LCBTUUxXcmFwcGVyIH0gZnJvbSAnfi9zcWwvc3FsLnRzJztcbmltcG9ydCB0eXBlIHsgU1FMaXRlQ29sdW1uIH0gZnJvbSAnfi9zcWxpdGUtY29yZS9jb2x1bW5zL2luZGV4LnRzJztcbmltcG9ydCB0eXBlIHsgU1FMaXRlRGlhbGVjdCB9IGZyb20gJ34vc3FsaXRlLWNvcmUvZGlhbGVjdC50cyc7XG5pbXBvcnQgdHlwZSB7IFNRTGl0ZVNlc3Npb24gfSBmcm9tICd+L3NxbGl0ZS1jb3JlL3Nlc3Npb24udHMnO1xuaW1wb3J0IHR5cGUgeyBTdWJxdWVyeVdpdGhTZWxlY3Rpb24gfSBmcm9tICd+L3NxbGl0ZS1jb3JlL3N1YnF1ZXJ5LnRzJztcbmltcG9ydCB0eXBlIHsgU1FMaXRlVGFibGUgfSBmcm9tICd+L3NxbGl0ZS1jb3JlL3RhYmxlLnRzJztcbmltcG9ydCB7IFN1YnF1ZXJ5IH0gZnJvbSAnfi9zdWJxdWVyeS50cyc7XG5pbXBvcnQgeyBUYWJsZSB9IGZyb20gJ34vdGFibGUudHMnO1xuaW1wb3J0IHtcblx0YXBwbHlNaXhpbnMsXG5cdGdldFRhYmxlQ29sdW1ucyxcblx0Z2V0VGFibGVMaWtlTmFtZSxcblx0aGF2ZVNhbWVLZXlzLFxuXHRvcmRlclNlbGVjdGVkRmllbGRzLFxuXHR0eXBlIFZhbHVlT3JBcnJheSxcbn0gZnJvbSAnfi91dGlscy50cyc7XG5pbXBvcnQgeyBWaWV3QmFzZUNvbmZpZyB9IGZyb20gJ34vdmlldy1jb21tb24udHMnO1xuaW1wb3J0IHsgU1FMaXRlVmlld0Jhc2UgfSBmcm9tICcuLi92aWV3LWJhc2UudHMnO1xuaW1wb3J0IHR5cGUge1xuXHRBbnlTUUxpdGVTZWxlY3QsXG5cdENyZWF0ZVNRTGl0ZVNlbGVjdEZyb21CdWlsZGVyTW9kZSxcblx0R2V0U1FMaXRlU2V0T3BlcmF0b3JzLFxuXHRTZWxlY3RlZEZpZWxkcyxcblx0U2V0T3BlcmF0b3JSaWdodFNlbGVjdCxcblx0U1FMaXRlQ3JlYXRlU2V0T3BlcmF0b3JGbixcblx0U1FMaXRlSm9pbkZuLFxuXHRTUUxpdGVTZWxlY3RDb25maWcsXG5cdFNRTGl0ZVNlbGVjdER5bmFtaWMsXG5cdFNRTGl0ZVNlbGVjdEV4ZWN1dGUsXG5cdFNRTGl0ZVNlbGVjdEhLVCxcblx0U1FMaXRlU2VsZWN0SEtUQmFzZSxcblx0U1FMaXRlU2VsZWN0UHJlcGFyZSxcblx0U1FMaXRlU2VsZWN0V2l0aG91dCxcblx0U1FMaXRlU2V0T3BlcmF0b3JFeGNsdWRlZE1ldGhvZHMsXG5cdFNRTGl0ZVNldE9wZXJhdG9yV2l0aFJlc3VsdCxcbn0gZnJvbSAnLi9zZWxlY3QudHlwZXMudHMnO1xuXG5leHBvcnQgY2xhc3MgU1FMaXRlU2VsZWN0QnVpbGRlcjxcblx0VFNlbGVjdGlvbiBleHRlbmRzIFNlbGVjdGVkRmllbGRzIHwgdW5kZWZpbmVkLFxuXHRUUmVzdWx0VHlwZSBleHRlbmRzICdzeW5jJyB8ICdhc3luYycsXG5cdFRSdW5SZXN1bHQsXG5cdFRCdWlsZGVyTW9kZSBleHRlbmRzICdkYicgfCAncWInID0gJ2RiJyxcbj4ge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnU1FMaXRlU2VsZWN0QnVpbGRlcic7XG5cblx0cHJpdmF0ZSBmaWVsZHM6IFRTZWxlY3Rpb247XG5cdHByaXZhdGUgc2Vzc2lvbjogU1FMaXRlU2Vzc2lvbjxhbnksIGFueSwgYW55LCBhbnk+IHwgdW5kZWZpbmVkO1xuXHRwcml2YXRlIGRpYWxlY3Q6IFNRTGl0ZURpYWxlY3Q7XG5cdHByaXZhdGUgd2l0aExpc3Q6IFN1YnF1ZXJ5W10gfCB1bmRlZmluZWQ7XG5cdHByaXZhdGUgZGlzdGluY3Q6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0Y29uZmlnOiB7XG5cdFx0XHRmaWVsZHM6IFRTZWxlY3Rpb247XG5cdFx0XHRzZXNzaW9uOiBTUUxpdGVTZXNzaW9uPGFueSwgYW55LCBhbnksIGFueT4gfCB1bmRlZmluZWQ7XG5cdFx0XHRkaWFsZWN0OiBTUUxpdGVEaWFsZWN0O1xuXHRcdFx0d2l0aExpc3Q/OiBTdWJxdWVyeVtdO1xuXHRcdFx0ZGlzdGluY3Q/OiBib29sZWFuO1xuXHRcdH0sXG5cdCkge1xuXHRcdHRoaXMuZmllbGRzID0gY29uZmlnLmZpZWxkcztcblx0XHR0aGlzLnNlc3Npb24gPSBjb25maWcuc2Vzc2lvbjtcblx0XHR0aGlzLmRpYWxlY3QgPSBjb25maWcuZGlhbGVjdDtcblx0XHR0aGlzLndpdGhMaXN0ID0gY29uZmlnLndpdGhMaXN0O1xuXHRcdHRoaXMuZGlzdGluY3QgPSBjb25maWcuZGlzdGluY3Q7XG5cdH1cblxuXHRmcm9tPFRGcm9tIGV4dGVuZHMgU1FMaXRlVGFibGUgfCBTdWJxdWVyeSB8IFNRTGl0ZVZpZXdCYXNlIHwgU1FMPihcblx0XHRzb3VyY2U6IFRGcm9tLFxuXHQpOiBDcmVhdGVTUUxpdGVTZWxlY3RGcm9tQnVpbGRlck1vZGU8XG5cdFx0VEJ1aWxkZXJNb2RlLFxuXHRcdEdldFNlbGVjdFRhYmxlTmFtZTxURnJvbT4sXG5cdFx0VFJlc3VsdFR5cGUsXG5cdFx0VFJ1blJlc3VsdCxcblx0XHRUU2VsZWN0aW9uIGV4dGVuZHMgdW5kZWZpbmVkID8gR2V0U2VsZWN0VGFibGVTZWxlY3Rpb248VEZyb20+IDogVFNlbGVjdGlvbixcblx0XHRUU2VsZWN0aW9uIGV4dGVuZHMgdW5kZWZpbmVkID8gJ3NpbmdsZScgOiAncGFydGlhbCdcblx0PiB7XG5cdFx0Y29uc3QgaXNQYXJ0aWFsU2VsZWN0ID0gISF0aGlzLmZpZWxkcztcblxuXHRcdGxldCBmaWVsZHM6IFNlbGVjdGVkRmllbGRzO1xuXHRcdGlmICh0aGlzLmZpZWxkcykge1xuXHRcdFx0ZmllbGRzID0gdGhpcy5maWVsZHM7XG5cdFx0fSBlbHNlIGlmIChpcyhzb3VyY2UsIFN1YnF1ZXJ5KSkge1xuXHRcdFx0Ly8gVGhpcyBpcyByZXF1aXJlZCB0byB1c2UgdGhlIHByb3h5IGhhbmRsZXIgdG8gZ2V0IHRoZSBjb3JyZWN0IGZpZWxkIHZhbHVlcyBmcm9tIHRoZSBzdWJxdWVyeVxuXHRcdFx0ZmllbGRzID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuXHRcdFx0XHRPYmplY3Qua2V5cyhzb3VyY2UuXy5zZWxlY3RlZEZpZWxkcykubWFwKChcblx0XHRcdFx0XHRrZXksXG5cdFx0XHRcdCkgPT4gW2tleSwgc291cmNlW2tleSBhcyB1bmtub3duIGFzIGtleW9mIHR5cGVvZiBzb3VyY2VdIGFzIHVua25vd24gYXMgU2VsZWN0ZWRGaWVsZHNbc3RyaW5nXV0pLFxuXHRcdFx0KTtcblx0XHR9IGVsc2UgaWYgKGlzKHNvdXJjZSwgU1FMaXRlVmlld0Jhc2UpKSB7XG5cdFx0XHRmaWVsZHMgPSBzb3VyY2VbVmlld0Jhc2VDb25maWddLnNlbGVjdGVkRmllbGRzIGFzIFNlbGVjdGVkRmllbGRzO1xuXHRcdH0gZWxzZSBpZiAoaXMoc291cmNlLCBTUUwpKSB7XG5cdFx0XHRmaWVsZHMgPSB7fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZmllbGRzID0gZ2V0VGFibGVDb2x1bW5zPFNRTGl0ZVRhYmxlPihzb3VyY2UpO1xuXHRcdH1cblxuXHRcdHJldHVybiBuZXcgU1FMaXRlU2VsZWN0QmFzZSh7XG5cdFx0XHR0YWJsZTogc291cmNlLFxuXHRcdFx0ZmllbGRzLFxuXHRcdFx0aXNQYXJ0aWFsU2VsZWN0LFxuXHRcdFx0c2Vzc2lvbjogdGhpcy5zZXNzaW9uLFxuXHRcdFx0ZGlhbGVjdDogdGhpcy5kaWFsZWN0LFxuXHRcdFx0d2l0aExpc3Q6IHRoaXMud2l0aExpc3QsXG5cdFx0XHRkaXN0aW5jdDogdGhpcy5kaXN0aW5jdCxcblx0XHR9KSBhcyBhbnk7XG5cdH1cbn1cblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNRTGl0ZVNlbGVjdFF1ZXJ5QnVpbGRlckJhc2U8XG5cdFRIS1QgZXh0ZW5kcyBTUUxpdGVTZWxlY3RIS1RCYXNlLFxuXHRUVGFibGVOYW1lIGV4dGVuZHMgc3RyaW5nIHwgdW5kZWZpbmVkLFxuXHRUUmVzdWx0VHlwZSBleHRlbmRzICdzeW5jJyB8ICdhc3luYycsXG5cdFRSdW5SZXN1bHQsXG5cdFRTZWxlY3Rpb24gZXh0ZW5kcyBDb2x1bW5zU2VsZWN0aW9uLFxuXHRUU2VsZWN0TW9kZSBleHRlbmRzIFNlbGVjdE1vZGUsXG5cdFROdWxsYWJpbGl0eU1hcCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIEpvaW5OdWxsYWJpbGl0eT4gPSBUVGFibGVOYW1lIGV4dGVuZHMgc3RyaW5nID8gUmVjb3JkPFRUYWJsZU5hbWUsICdub3QtbnVsbCc+XG5cdFx0OiB7fSxcblx0VER5bmFtaWMgZXh0ZW5kcyBib29sZWFuID0gZmFsc2UsXG5cdFRFeGNsdWRlZE1ldGhvZHMgZXh0ZW5kcyBzdHJpbmcgPSBuZXZlcixcblx0VFJlc3VsdCBleHRlbmRzIGFueVtdID0gU2VsZWN0UmVzdWx0PFRTZWxlY3Rpb24sIFRTZWxlY3RNb2RlLCBUTnVsbGFiaWxpdHlNYXA+W10sXG5cdFRTZWxlY3RlZEZpZWxkcyBleHRlbmRzIENvbHVtbnNTZWxlY3Rpb24gPSBCdWlsZFN1YnF1ZXJ5U2VsZWN0aW9uPFRTZWxlY3Rpb24sIFROdWxsYWJpbGl0eU1hcD4sXG4+IGV4dGVuZHMgVHlwZWRRdWVyeUJ1aWxkZXI8VFNlbGVjdGVkRmllbGRzLCBUUmVzdWx0PiB7XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdTUUxpdGVTZWxlY3RRdWVyeUJ1aWxkZXInO1xuXG5cdG92ZXJyaWRlIHJlYWRvbmx5IF86IHtcblx0XHRyZWFkb25seSBkaWFsZWN0OiAnc3FsaXRlJztcblx0XHRyZWFkb25seSBoa3Q6IFRIS1Q7XG5cdFx0cmVhZG9ubHkgdGFibGVOYW1lOiBUVGFibGVOYW1lO1xuXHRcdHJlYWRvbmx5IHJlc3VsdFR5cGU6IFRSZXN1bHRUeXBlO1xuXHRcdHJlYWRvbmx5IHJ1blJlc3VsdDogVFJ1blJlc3VsdDtcblx0XHRyZWFkb25seSBzZWxlY3Rpb246IFRTZWxlY3Rpb247XG5cdFx0cmVhZG9ubHkgc2VsZWN0TW9kZTogVFNlbGVjdE1vZGU7XG5cdFx0cmVhZG9ubHkgbnVsbGFiaWxpdHlNYXA6IFROdWxsYWJpbGl0eU1hcDtcblx0XHRyZWFkb25seSBkeW5hbWljOiBURHluYW1pYztcblx0XHRyZWFkb25seSBleGNsdWRlZE1ldGhvZHM6IFRFeGNsdWRlZE1ldGhvZHM7XG5cdFx0cmVhZG9ubHkgcmVzdWx0OiBUUmVzdWx0O1xuXHRcdHJlYWRvbmx5IHNlbGVjdGVkRmllbGRzOiBUU2VsZWN0ZWRGaWVsZHM7XG5cdH07XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRjb25maWc6IFNRTGl0ZVNlbGVjdENvbmZpZztcblx0cHJvdGVjdGVkIGpvaW5zTm90TnVsbGFibGVNYXA6IFJlY29yZDxzdHJpbmcsIGJvb2xlYW4+O1xuXHRwcml2YXRlIHRhYmxlTmFtZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xuXHRwcml2YXRlIGlzUGFydGlhbFNlbGVjdDogYm9vbGVhbjtcblx0cHJvdGVjdGVkIHNlc3Npb246IFNRTGl0ZVNlc3Npb248YW55LCBhbnksIGFueSwgYW55PiB8IHVuZGVmaW5lZDtcblx0cHJvdGVjdGVkIGRpYWxlY3Q6IFNRTGl0ZURpYWxlY3Q7XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0eyB0YWJsZSwgZmllbGRzLCBpc1BhcnRpYWxTZWxlY3QsIHNlc3Npb24sIGRpYWxlY3QsIHdpdGhMaXN0LCBkaXN0aW5jdCB9OiB7XG5cdFx0XHR0YWJsZTogU1FMaXRlU2VsZWN0Q29uZmlnWyd0YWJsZSddO1xuXHRcdFx0ZmllbGRzOiBTUUxpdGVTZWxlY3RDb25maWdbJ2ZpZWxkcyddO1xuXHRcdFx0aXNQYXJ0aWFsU2VsZWN0OiBib29sZWFuO1xuXHRcdFx0c2Vzc2lvbjogU1FMaXRlU2Vzc2lvbjxhbnksIGFueSwgYW55LCBhbnk+IHwgdW5kZWZpbmVkO1xuXHRcdFx0ZGlhbGVjdDogU1FMaXRlRGlhbGVjdDtcblx0XHRcdHdpdGhMaXN0OiBTdWJxdWVyeVtdIHwgdW5kZWZpbmVkO1xuXHRcdFx0ZGlzdGluY3Q6IGJvb2xlYW4gfCB1bmRlZmluZWQ7XG5cdFx0fSxcblx0KSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmNvbmZpZyA9IHtcblx0XHRcdHdpdGhMaXN0LFxuXHRcdFx0dGFibGUsXG5cdFx0XHRmaWVsZHM6IHsgLi4uZmllbGRzIH0sXG5cdFx0XHRkaXN0aW5jdCxcblx0XHRcdHNldE9wZXJhdG9yczogW10sXG5cdFx0fTtcblx0XHR0aGlzLmlzUGFydGlhbFNlbGVjdCA9IGlzUGFydGlhbFNlbGVjdDtcblx0XHR0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuXHRcdHRoaXMuZGlhbGVjdCA9IGRpYWxlY3Q7XG5cdFx0dGhpcy5fID0ge1xuXHRcdFx0c2VsZWN0ZWRGaWVsZHM6IGZpZWxkcyBhcyBUU2VsZWN0ZWRGaWVsZHMsXG5cdFx0fSBhcyB0aGlzWydfJ107XG5cdFx0dGhpcy50YWJsZU5hbWUgPSBnZXRUYWJsZUxpa2VOYW1lKHRhYmxlKTtcblx0XHR0aGlzLmpvaW5zTm90TnVsbGFibGVNYXAgPSB0eXBlb2YgdGhpcy50YWJsZU5hbWUgPT09ICdzdHJpbmcnID8geyBbdGhpcy50YWJsZU5hbWVdOiB0cnVlIH0gOiB7fTtcblx0fVxuXG5cdHByaXZhdGUgY3JlYXRlSm9pbjxUSm9pblR5cGUgZXh0ZW5kcyBKb2luVHlwZT4oXG5cdFx0am9pblR5cGU6IFRKb2luVHlwZSxcblx0KTogU1FMaXRlSm9pbkZuPHRoaXMsIFREeW5hbWljLCBUSm9pblR5cGU+IHtcblx0XHRyZXR1cm4gKFxuXHRcdFx0dGFibGU6IFNRTGl0ZVRhYmxlIHwgU3VicXVlcnkgfCBTUUxpdGVWaWV3QmFzZSB8IFNRTCxcblx0XHRcdG9uOiAoKGFsaWFzZXM6IFRTZWxlY3Rpb24pID0+IFNRTCB8IHVuZGVmaW5lZCkgfCBTUUwgfCB1bmRlZmluZWQsXG5cdFx0KSA9PiB7XG5cdFx0XHRjb25zdCBiYXNlVGFibGVOYW1lID0gdGhpcy50YWJsZU5hbWU7XG5cdFx0XHRjb25zdCB0YWJsZU5hbWUgPSBnZXRUYWJsZUxpa2VOYW1lKHRhYmxlKTtcblxuXHRcdFx0aWYgKHR5cGVvZiB0YWJsZU5hbWUgPT09ICdzdHJpbmcnICYmIHRoaXMuY29uZmlnLmpvaW5zPy5zb21lKChqb2luKSA9PiBqb2luLmFsaWFzID09PSB0YWJsZU5hbWUpKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihgQWxpYXMgXCIke3RhYmxlTmFtZX1cIiBpcyBhbHJlYWR5IHVzZWQgaW4gdGhpcyBxdWVyeWApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIXRoaXMuaXNQYXJ0aWFsU2VsZWN0KSB7XG5cdFx0XHRcdC8vIElmIHRoaXMgaXMgdGhlIGZpcnN0IGpvaW4gYW5kIHRoaXMgaXMgbm90IGEgcGFydGlhbCBzZWxlY3QgYW5kIHdlJ3JlIG5vdCBzZWxlY3RpbmcgZnJvbSByYXcgU1FMLCBcIm1vdmVcIiB0aGUgZmllbGRzIGZyb20gdGhlIG1haW4gdGFibGUgdG8gdGhlIG5lc3RlZCBvYmplY3Rcblx0XHRcdFx0aWYgKE9iamVjdC5rZXlzKHRoaXMuam9pbnNOb3ROdWxsYWJsZU1hcCkubGVuZ3RoID09PSAxICYmIHR5cGVvZiBiYXNlVGFibGVOYW1lID09PSAnc3RyaW5nJykge1xuXHRcdFx0XHRcdHRoaXMuY29uZmlnLmZpZWxkcyA9IHtcblx0XHRcdFx0XHRcdFtiYXNlVGFibGVOYW1lXTogdGhpcy5jb25maWcuZmllbGRzLFxuXHRcdFx0XHRcdH07XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHR5cGVvZiB0YWJsZU5hbWUgPT09ICdzdHJpbmcnICYmICFpcyh0YWJsZSwgU1FMKSkge1xuXHRcdFx0XHRcdGNvbnN0IHNlbGVjdGlvbiA9IGlzKHRhYmxlLCBTdWJxdWVyeSlcblx0XHRcdFx0XHRcdD8gdGFibGUuXy5zZWxlY3RlZEZpZWxkc1xuXHRcdFx0XHRcdFx0OiBpcyh0YWJsZSwgVmlldylcblx0XHRcdFx0XHRcdD8gdGFibGVbVmlld0Jhc2VDb25maWddLnNlbGVjdGVkRmllbGRzXG5cdFx0XHRcdFx0XHQ6IHRhYmxlW1RhYmxlLlN5bWJvbC5Db2x1bW5zXTtcblx0XHRcdFx0XHR0aGlzLmNvbmZpZy5maWVsZHNbdGFibGVOYW1lXSA9IHNlbGVjdGlvbjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAodHlwZW9mIG9uID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdG9uID0gb24oXG5cdFx0XHRcdFx0bmV3IFByb3h5KFxuXHRcdFx0XHRcdFx0dGhpcy5jb25maWcuZmllbGRzLFxuXHRcdFx0XHRcdFx0bmV3IFNlbGVjdGlvblByb3h5SGFuZGxlcih7IHNxbEFsaWFzZWRCZWhhdmlvcjogJ3NxbCcsIHNxbEJlaGF2aW9yOiAnc3FsJyB9KSxcblx0XHRcdFx0XHQpIGFzIFRTZWxlY3Rpb24sXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghdGhpcy5jb25maWcuam9pbnMpIHtcblx0XHRcdFx0dGhpcy5jb25maWcuam9pbnMgPSBbXTtcblx0XHRcdH1cblx0XHRcdHRoaXMuY29uZmlnLmpvaW5zLnB1c2goeyBvbiwgdGFibGUsIGpvaW5UeXBlLCBhbGlhczogdGFibGVOYW1lIH0pO1xuXG5cdFx0XHRpZiAodHlwZW9mIHRhYmxlTmFtZSA9PT0gJ3N0cmluZycpIHtcblx0XHRcdFx0c3dpdGNoIChqb2luVHlwZSkge1xuXHRcdFx0XHRcdGNhc2UgJ2xlZnQnOiB7XG5cdFx0XHRcdFx0XHR0aGlzLmpvaW5zTm90TnVsbGFibGVNYXBbdGFibGVOYW1lXSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNhc2UgJ3JpZ2h0Jzoge1xuXHRcdFx0XHRcdFx0dGhpcy5qb2luc05vdE51bGxhYmxlTWFwID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuXHRcdFx0XHRcdFx0XHRPYmplY3QuZW50cmllcyh0aGlzLmpvaW5zTm90TnVsbGFibGVNYXApLm1hcCgoW2tleV0pID0+IFtrZXksIGZhbHNlXSksXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0dGhpcy5qb2luc05vdE51bGxhYmxlTWFwW3RhYmxlTmFtZV0gPSB0cnVlO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNhc2UgJ2lubmVyJzoge1xuXHRcdFx0XHRcdFx0dGhpcy5qb2luc05vdE51bGxhYmxlTWFwW3RhYmxlTmFtZV0gPSB0cnVlO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGNhc2UgJ2Z1bGwnOiB7XG5cdFx0XHRcdFx0XHR0aGlzLmpvaW5zTm90TnVsbGFibGVNYXAgPSBPYmplY3QuZnJvbUVudHJpZXMoXG5cdFx0XHRcdFx0XHRcdE9iamVjdC5lbnRyaWVzKHRoaXMuam9pbnNOb3ROdWxsYWJsZU1hcCkubWFwKChba2V5XSkgPT4gW2tleSwgZmFsc2VdKSxcblx0XHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0XHR0aGlzLmpvaW5zTm90TnVsbGFibGVNYXBbdGFibGVOYW1lXSA9IGZhbHNlO1xuXHRcdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiB0aGlzIGFzIGFueTtcblx0XHR9O1xuXHR9XG5cblx0LyoqXG5cdCAqIEV4ZWN1dGVzIGEgYGxlZnQgam9pbmAgb3BlcmF0aW9uIGJ5IGFkZGluZyBhbm90aGVyIHRhYmxlIHRvIHRoZSBjdXJyZW50IHF1ZXJ5LlxuXHQgKlxuXHQgKiBDYWxsaW5nIHRoaXMgbWV0aG9kIGFzc29jaWF0ZXMgZWFjaCByb3cgb2YgdGhlIHRhYmxlIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgcm93IGZyb20gdGhlIGpvaW5lZCB0YWJsZSwgaWYgYSBtYXRjaCBpcyBmb3VuZC4gSWYgbm8gbWF0Y2hpbmcgcm93IGV4aXN0cywgaXQgc2V0cyBhbGwgY29sdW1ucyBvZiB0aGUgam9pbmVkIHRhYmxlIHRvIG51bGwuXG5cdCAqXG5cdCAqIFNlZSBkb2NzOiB7QGxpbmsgaHR0cHM6Ly9vcm0uZHJpenpsZS50ZWFtL2RvY3Mvam9pbnMjbGVmdC1qb2lufVxuXHQgKlxuXHQgKiBAcGFyYW0gdGFibGUgdGhlIHRhYmxlIHRvIGpvaW4uXG5cdCAqIEBwYXJhbSBvbiB0aGUgYG9uYCBjbGF1c2UuXG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqXG5cdCAqIGBgYHRzXG5cdCAqIC8vIFNlbGVjdCBhbGwgdXNlcnMgYW5kIHRoZWlyIHBldHNcblx0ICogY29uc3QgdXNlcnNXaXRoUGV0czogeyB1c2VyOiBVc2VyOyBwZXRzOiBQZXQgfCBudWxsIH1bXSA9IGF3YWl0IGRiLnNlbGVjdCgpXG5cdCAqICAgLmZyb20odXNlcnMpXG5cdCAqICAgLmxlZnRKb2luKHBldHMsIGVxKHVzZXJzLmlkLCBwZXRzLm93bmVySWQpKVxuXHQgKlxuXHQgKiAvLyBTZWxlY3QgdXNlcklkIGFuZCBwZXRJZFxuXHQgKiBjb25zdCB1c2Vyc0lkc0FuZFBldElkczogeyB1c2VySWQ6IG51bWJlcjsgcGV0SWQ6IG51bWJlciB8IG51bGwgfVtdID0gYXdhaXQgZGIuc2VsZWN0KHtcblx0ICogICB1c2VySWQ6IHVzZXJzLmlkLFxuXHQgKiAgIHBldElkOiBwZXRzLmlkLFxuXHQgKiB9KVxuXHQgKiAgIC5mcm9tKHVzZXJzKVxuXHQgKiAgIC5sZWZ0Sm9pbihwZXRzLCBlcSh1c2Vycy5pZCwgcGV0cy5vd25lcklkKSlcblx0ICogYGBgXG5cdCAqL1xuXHRsZWZ0Sm9pbiA9IHRoaXMuY3JlYXRlSm9pbignbGVmdCcpO1xuXG5cdC8qKlxuXHQgKiBFeGVjdXRlcyBhIGByaWdodCBqb2luYCBvcGVyYXRpb24gYnkgYWRkaW5nIGFub3RoZXIgdGFibGUgdG8gdGhlIGN1cnJlbnQgcXVlcnkuXG5cdCAqXG5cdCAqIENhbGxpbmcgdGhpcyBtZXRob2QgYXNzb2NpYXRlcyBlYWNoIHJvdyBvZiB0aGUgam9pbmVkIHRhYmxlIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgcm93IGZyb20gdGhlIG1haW4gdGFibGUsIGlmIGEgbWF0Y2ggaXMgZm91bmQuIElmIG5vIG1hdGNoaW5nIHJvdyBleGlzdHMsIGl0IHNldHMgYWxsIGNvbHVtbnMgb2YgdGhlIG1haW4gdGFibGUgdG8gbnVsbC5cblx0ICpcblx0ICogU2VlIGRvY3M6IHtAbGluayBodHRwczovL29ybS5kcml6emxlLnRlYW0vZG9jcy9qb2lucyNyaWdodC1qb2lufVxuXHQgKlxuXHQgKiBAcGFyYW0gdGFibGUgdGhlIHRhYmxlIHRvIGpvaW4uXG5cdCAqIEBwYXJhbSBvbiB0aGUgYG9uYCBjbGF1c2UuXG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqXG5cdCAqIGBgYHRzXG5cdCAqIC8vIFNlbGVjdCBhbGwgdXNlcnMgYW5kIHRoZWlyIHBldHNcblx0ICogY29uc3QgdXNlcnNXaXRoUGV0czogeyB1c2VyOiBVc2VyIHwgbnVsbDsgcGV0czogUGV0IH1bXSA9IGF3YWl0IGRiLnNlbGVjdCgpXG5cdCAqICAgLmZyb20odXNlcnMpXG5cdCAqICAgLnJpZ2h0Sm9pbihwZXRzLCBlcSh1c2Vycy5pZCwgcGV0cy5vd25lcklkKSlcblx0ICpcblx0ICogLy8gU2VsZWN0IHVzZXJJZCBhbmQgcGV0SWRcblx0ICogY29uc3QgdXNlcnNJZHNBbmRQZXRJZHM6IHsgdXNlcklkOiBudW1iZXIgfCBudWxsOyBwZXRJZDogbnVtYmVyIH1bXSA9IGF3YWl0IGRiLnNlbGVjdCh7XG5cdCAqICAgdXNlcklkOiB1c2Vycy5pZCxcblx0ICogICBwZXRJZDogcGV0cy5pZCxcblx0ICogfSlcblx0ICogICAuZnJvbSh1c2Vycylcblx0ICogICAucmlnaHRKb2luKHBldHMsIGVxKHVzZXJzLmlkLCBwZXRzLm93bmVySWQpKVxuXHQgKiBgYGBcblx0ICovXG5cdHJpZ2h0Sm9pbiA9IHRoaXMuY3JlYXRlSm9pbigncmlnaHQnKTtcblxuXHQvKipcblx0ICogRXhlY3V0ZXMgYW4gYGlubmVyIGpvaW5gIG9wZXJhdGlvbiwgY3JlYXRpbmcgYSBuZXcgdGFibGUgYnkgY29tYmluaW5nIHJvd3MgZnJvbSB0d28gdGFibGVzIHRoYXQgaGF2ZSBtYXRjaGluZyB2YWx1ZXMuXG5cdCAqXG5cdCAqIENhbGxpbmcgdGhpcyBtZXRob2QgcmV0cmlldmVzIHJvd3MgdGhhdCBoYXZlIGNvcnJlc3BvbmRpbmcgZW50cmllcyBpbiBib3RoIGpvaW5lZCB0YWJsZXMuIFJvd3Mgd2l0aG91dCBtYXRjaGluZyBlbnRyaWVzIGluIGVpdGhlciB0YWJsZSBhcmUgZXhjbHVkZWQsIHJlc3VsdGluZyBpbiBhIHRhYmxlIHRoYXQgaW5jbHVkZXMgb25seSBtYXRjaGluZyBwYWlycy5cblx0ICpcblx0ICogU2VlIGRvY3M6IHtAbGluayBodHRwczovL29ybS5kcml6emxlLnRlYW0vZG9jcy9qb2lucyNpbm5lci1qb2lufVxuXHQgKlxuXHQgKiBAcGFyYW0gdGFibGUgdGhlIHRhYmxlIHRvIGpvaW4uXG5cdCAqIEBwYXJhbSBvbiB0aGUgYG9uYCBjbGF1c2UuXG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqXG5cdCAqIGBgYHRzXG5cdCAqIC8vIFNlbGVjdCBhbGwgdXNlcnMgYW5kIHRoZWlyIHBldHNcblx0ICogY29uc3QgdXNlcnNXaXRoUGV0czogeyB1c2VyOiBVc2VyOyBwZXRzOiBQZXQgfVtdID0gYXdhaXQgZGIuc2VsZWN0KClcblx0ICogICAuZnJvbSh1c2Vycylcblx0ICogICAuaW5uZXJKb2luKHBldHMsIGVxKHVzZXJzLmlkLCBwZXRzLm93bmVySWQpKVxuXHQgKlxuXHQgKiAvLyBTZWxlY3QgdXNlcklkIGFuZCBwZXRJZFxuXHQgKiBjb25zdCB1c2Vyc0lkc0FuZFBldElkczogeyB1c2VySWQ6IG51bWJlcjsgcGV0SWQ6IG51bWJlciB9W10gPSBhd2FpdCBkYi5zZWxlY3Qoe1xuXHQgKiAgIHVzZXJJZDogdXNlcnMuaWQsXG5cdCAqICAgcGV0SWQ6IHBldHMuaWQsXG5cdCAqIH0pXG5cdCAqICAgLmZyb20odXNlcnMpXG5cdCAqICAgLmlubmVySm9pbihwZXRzLCBlcSh1c2Vycy5pZCwgcGV0cy5vd25lcklkKSlcblx0ICogYGBgXG5cdCAqL1xuXHRpbm5lckpvaW4gPSB0aGlzLmNyZWF0ZUpvaW4oJ2lubmVyJyk7XG5cblx0LyoqXG5cdCAqIEV4ZWN1dGVzIGEgYGZ1bGwgam9pbmAgb3BlcmF0aW9uIGJ5IGNvbWJpbmluZyByb3dzIGZyb20gdHdvIHRhYmxlcyBpbnRvIGEgbmV3IHRhYmxlLlxuXHQgKlxuXHQgKiBDYWxsaW5nIHRoaXMgbWV0aG9kIHJldHJpZXZlcyBhbGwgcm93cyBmcm9tIGJvdGggbWFpbiBhbmQgam9pbmVkIHRhYmxlcywgbWVyZ2luZyByb3dzIHdpdGggbWF0Y2hpbmcgdmFsdWVzIGFuZCBmaWxsaW5nIGluIGBudWxsYCBmb3Igbm9uLW1hdGNoaW5nIGNvbHVtbnMuXG5cdCAqXG5cdCAqIFNlZSBkb2NzOiB7QGxpbmsgaHR0cHM6Ly9vcm0uZHJpenpsZS50ZWFtL2RvY3Mvam9pbnMjZnVsbC1qb2lufVxuXHQgKlxuXHQgKiBAcGFyYW0gdGFibGUgdGhlIHRhYmxlIHRvIGpvaW4uXG5cdCAqIEBwYXJhbSBvbiB0aGUgYG9uYCBjbGF1c2UuXG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqXG5cdCAqIGBgYHRzXG5cdCAqIC8vIFNlbGVjdCBhbGwgdXNlcnMgYW5kIHRoZWlyIHBldHNcblx0ICogY29uc3QgdXNlcnNXaXRoUGV0czogeyB1c2VyOiBVc2VyIHwgbnVsbDsgcGV0czogUGV0IHwgbnVsbCB9W10gPSBhd2FpdCBkYi5zZWxlY3QoKVxuXHQgKiAgIC5mcm9tKHVzZXJzKVxuXHQgKiAgIC5mdWxsSm9pbihwZXRzLCBlcSh1c2Vycy5pZCwgcGV0cy5vd25lcklkKSlcblx0ICpcblx0ICogLy8gU2VsZWN0IHVzZXJJZCBhbmQgcGV0SWRcblx0ICogY29uc3QgdXNlcnNJZHNBbmRQZXRJZHM6IHsgdXNlcklkOiBudW1iZXIgfCBudWxsOyBwZXRJZDogbnVtYmVyIHwgbnVsbCB9W10gPSBhd2FpdCBkYi5zZWxlY3Qoe1xuXHQgKiAgIHVzZXJJZDogdXNlcnMuaWQsXG5cdCAqICAgcGV0SWQ6IHBldHMuaWQsXG5cdCAqIH0pXG5cdCAqICAgLmZyb20odXNlcnMpXG5cdCAqICAgLmZ1bGxKb2luKHBldHMsIGVxKHVzZXJzLmlkLCBwZXRzLm93bmVySWQpKVxuXHQgKiBgYGBcblx0ICovXG5cdGZ1bGxKb2luID0gdGhpcy5jcmVhdGVKb2luKCdmdWxsJyk7XG5cblx0cHJpdmF0ZSBjcmVhdGVTZXRPcGVyYXRvcihcblx0XHR0eXBlOiBTZXRPcGVyYXRvcixcblx0XHRpc0FsbDogYm9vbGVhbixcblx0KTogPFRWYWx1ZSBleHRlbmRzIFNRTGl0ZVNldE9wZXJhdG9yV2l0aFJlc3VsdDxUUmVzdWx0Pj4oXG5cdFx0cmlnaHRTZWxlY3Rpb246XG5cdFx0XHR8ICgoc2V0T3BlcmF0b3JzOiBHZXRTUUxpdGVTZXRPcGVyYXRvcnMpID0+IFNldE9wZXJhdG9yUmlnaHRTZWxlY3Q8VFZhbHVlLCBUUmVzdWx0Pilcblx0XHRcdHwgU2V0T3BlcmF0b3JSaWdodFNlbGVjdDxUVmFsdWUsIFRSZXN1bHQ+LFxuXHQpID0+IFNRTGl0ZVNlbGVjdFdpdGhvdXQ8XG5cdFx0dGhpcyxcblx0XHRURHluYW1pYyxcblx0XHRTUUxpdGVTZXRPcGVyYXRvckV4Y2x1ZGVkTWV0aG9kcyxcblx0XHR0cnVlXG5cdD4ge1xuXHRcdHJldHVybiAocmlnaHRTZWxlY3Rpb24pID0+IHtcblx0XHRcdGNvbnN0IHJpZ2h0U2VsZWN0ID0gKHR5cGVvZiByaWdodFNlbGVjdGlvbiA9PT0gJ2Z1bmN0aW9uJ1xuXHRcdFx0XHQ/IHJpZ2h0U2VsZWN0aW9uKGdldFNRTGl0ZVNldE9wZXJhdG9ycygpKVxuXHRcdFx0XHQ6IHJpZ2h0U2VsZWN0aW9uKSBhcyBUeXBlZFF1ZXJ5QnVpbGRlcjxcblx0XHRcdFx0XHRhbnksXG5cdFx0XHRcdFx0VFJlc3VsdFxuXHRcdFx0XHQ+O1xuXG5cdFx0XHRpZiAoIWhhdmVTYW1lS2V5cyh0aGlzLmdldFNlbGVjdGVkRmllbGRzKCksIHJpZ2h0U2VsZWN0LmdldFNlbGVjdGVkRmllbGRzKCkpKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHQnU2V0IG9wZXJhdG9yIGVycm9yICh1bmlvbiAvIGludGVyc2VjdCAvIGV4Y2VwdCk6IHNlbGVjdGVkIGZpZWxkcyBhcmUgbm90IHRoZSBzYW1lIG9yIGFyZSBpbiBhIGRpZmZlcmVudCBvcmRlcicsXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuY29uZmlnLnNldE9wZXJhdG9ycy5wdXNoKHsgdHlwZSwgaXNBbGwsIHJpZ2h0U2VsZWN0IH0pO1xuXHRcdFx0cmV0dXJuIHRoaXMgYXMgYW55O1xuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBgdW5pb25gIHNldCBvcGVyYXRvciB0byB0aGUgcXVlcnkuXG5cdCAqXG5cdCAqIENhbGxpbmcgdGhpcyBtZXRob2Qgd2lsbCBjb21iaW5lIHRoZSByZXN1bHQgc2V0cyBvZiB0aGUgYHNlbGVjdGAgc3RhdGVtZW50cyBhbmQgcmVtb3ZlIGFueSBkdXBsaWNhdGUgcm93cyB0aGF0IGFwcGVhciBhY3Jvc3MgdGhlbS5cblx0ICpcblx0ICogU2VlIGRvY3M6IHtAbGluayBodHRwczovL29ybS5kcml6emxlLnRlYW0vZG9jcy9zZXQtb3BlcmF0aW9ucyN1bmlvbn1cblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICpcblx0ICogYGBgdHNcblx0ICogLy8gU2VsZWN0IGFsbCB1bmlxdWUgbmFtZXMgZnJvbSBjdXN0b21lcnMgYW5kIHVzZXJzIHRhYmxlc1xuXHQgKiBhd2FpdCBkYi5zZWxlY3QoeyBuYW1lOiB1c2Vycy5uYW1lIH0pXG5cdCAqICAgLmZyb20odXNlcnMpXG5cdCAqICAgLnVuaW9uKFxuXHQgKiAgICAgZGIuc2VsZWN0KHsgbmFtZTogY3VzdG9tZXJzLm5hbWUgfSkuZnJvbShjdXN0b21lcnMpXG5cdCAqICAgKTtcblx0ICogLy8gb3Jcblx0ICogaW1wb3J0IHsgdW5pb24gfSBmcm9tICdkcml6emxlLW9ybS9zcWxpdGUtY29yZSdcblx0ICpcblx0ICogYXdhaXQgdW5pb24oXG5cdCAqICAgZGIuc2VsZWN0KHsgbmFtZTogdXNlcnMubmFtZSB9KS5mcm9tKHVzZXJzKSxcblx0ICogICBkYi5zZWxlY3QoeyBuYW1lOiBjdXN0b21lcnMubmFtZSB9KS5mcm9tKGN1c3RvbWVycylcblx0ICogKTtcblx0ICogYGBgXG5cdCAqL1xuXHR1bmlvbiA9IHRoaXMuY3JlYXRlU2V0T3BlcmF0b3IoJ3VuaW9uJywgZmFsc2UpO1xuXG5cdC8qKlxuXHQgKiBBZGRzIGB1bmlvbiBhbGxgIHNldCBvcGVyYXRvciB0byB0aGUgcXVlcnkuXG5cdCAqXG5cdCAqIENhbGxpbmcgdGhpcyBtZXRob2Qgd2lsbCBjb21iaW5lIHRoZSByZXN1bHQtc2V0IG9mIHRoZSBgc2VsZWN0YCBzdGF0ZW1lbnRzIGFuZCBrZWVwIGFsbCBkdXBsaWNhdGUgcm93cyB0aGF0IGFwcGVhciBhY3Jvc3MgdGhlbS5cblx0ICpcblx0ICogU2VlIGRvY3M6IHtAbGluayBodHRwczovL29ybS5kcml6emxlLnRlYW0vZG9jcy9zZXQtb3BlcmF0aW9ucyN1bmlvbi1hbGx9XG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqXG5cdCAqIGBgYHRzXG5cdCAqIC8vIFNlbGVjdCBhbGwgdHJhbnNhY3Rpb24gaWRzIGZyb20gYm90aCBvbmxpbmUgYW5kIGluLXN0b3JlIHNhbGVzXG5cdCAqIGF3YWl0IGRiLnNlbGVjdCh7IHRyYW5zYWN0aW9uOiBvbmxpbmVTYWxlcy50cmFuc2FjdGlvbklkIH0pXG5cdCAqICAgLmZyb20ob25saW5lU2FsZXMpXG5cdCAqICAgLnVuaW9uQWxsKFxuXHQgKiAgICAgZGIuc2VsZWN0KHsgdHJhbnNhY3Rpb246IGluU3RvcmVTYWxlcy50cmFuc2FjdGlvbklkIH0pLmZyb20oaW5TdG9yZVNhbGVzKVxuXHQgKiAgICk7XG5cdCAqIC8vIG9yXG5cdCAqIGltcG9ydCB7IHVuaW9uQWxsIH0gZnJvbSAnZHJpenpsZS1vcm0vc3FsaXRlLWNvcmUnXG5cdCAqXG5cdCAqIGF3YWl0IHVuaW9uQWxsKFxuXHQgKiAgIGRiLnNlbGVjdCh7IHRyYW5zYWN0aW9uOiBvbmxpbmVTYWxlcy50cmFuc2FjdGlvbklkIH0pLmZyb20ob25saW5lU2FsZXMpLFxuXHQgKiAgIGRiLnNlbGVjdCh7IHRyYW5zYWN0aW9uOiBpblN0b3JlU2FsZXMudHJhbnNhY3Rpb25JZCB9KS5mcm9tKGluU3RvcmVTYWxlcylcblx0ICogKTtcblx0ICogYGBgXG5cdCAqL1xuXHR1bmlvbkFsbCA9IHRoaXMuY3JlYXRlU2V0T3BlcmF0b3IoJ3VuaW9uJywgdHJ1ZSk7XG5cblx0LyoqXG5cdCAqIEFkZHMgYGludGVyc2VjdGAgc2V0IG9wZXJhdG9yIHRvIHRoZSBxdWVyeS5cblx0ICpcblx0ICogQ2FsbGluZyB0aGlzIG1ldGhvZCB3aWxsIHJldGFpbiBvbmx5IHRoZSByb3dzIHRoYXQgYXJlIHByZXNlbnQgaW4gYm90aCByZXN1bHQgc2V0cyBhbmQgZWxpbWluYXRlIGR1cGxpY2F0ZXMuXG5cdCAqXG5cdCAqIFNlZSBkb2NzOiB7QGxpbmsgaHR0cHM6Ly9vcm0uZHJpenpsZS50ZWFtL2RvY3Mvc2V0LW9wZXJhdGlvbnMjaW50ZXJzZWN0fVxuXHQgKlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiBgYGB0c1xuXHQgKiAvLyBTZWxlY3QgY291cnNlIG5hbWVzIHRoYXQgYXJlIG9mZmVyZWQgaW4gYm90aCBkZXBhcnRtZW50cyBBIGFuZCBCXG5cdCAqIGF3YWl0IGRiLnNlbGVjdCh7IGNvdXJzZU5hbWU6IGRlcEEuY291cnNlTmFtZSB9KVxuXHQgKiAgIC5mcm9tKGRlcEEpXG5cdCAqICAgLmludGVyc2VjdChcblx0ICogICAgIGRiLnNlbGVjdCh7IGNvdXJzZU5hbWU6IGRlcEIuY291cnNlTmFtZSB9KS5mcm9tKGRlcEIpXG5cdCAqICAgKTtcblx0ICogLy8gb3Jcblx0ICogaW1wb3J0IHsgaW50ZXJzZWN0IH0gZnJvbSAnZHJpenpsZS1vcm0vc3FsaXRlLWNvcmUnXG5cdCAqXG5cdCAqIGF3YWl0IGludGVyc2VjdChcblx0ICogICBkYi5zZWxlY3QoeyBjb3Vyc2VOYW1lOiBkZXBBLmNvdXJzZU5hbWUgfSkuZnJvbShkZXBBKSxcblx0ICogICBkYi5zZWxlY3QoeyBjb3Vyc2VOYW1lOiBkZXBCLmNvdXJzZU5hbWUgfSkuZnJvbShkZXBCKVxuXHQgKiApO1xuXHQgKiBgYGBcblx0ICovXG5cdGludGVyc2VjdCA9IHRoaXMuY3JlYXRlU2V0T3BlcmF0b3IoJ2ludGVyc2VjdCcsIGZhbHNlKTtcblxuXHQvKipcblx0ICogQWRkcyBgZXhjZXB0YCBzZXQgb3BlcmF0b3IgdG8gdGhlIHF1ZXJ5LlxuXHQgKlxuXHQgKiBDYWxsaW5nIHRoaXMgbWV0aG9kIHdpbGwgcmV0cmlldmUgYWxsIHVuaXF1ZSByb3dzIGZyb20gdGhlIGxlZnQgcXVlcnksIGV4Y2VwdCBmb3IgdGhlIHJvd3MgdGhhdCBhcmUgcHJlc2VudCBpbiB0aGUgcmVzdWx0IHNldCBvZiB0aGUgcmlnaHQgcXVlcnkuXG5cdCAqXG5cdCAqIFNlZSBkb2NzOiB7QGxpbmsgaHR0cHM6Ly9vcm0uZHJpenpsZS50ZWFtL2RvY3Mvc2V0LW9wZXJhdGlvbnMjZXhjZXB0fVxuXHQgKlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiBgYGB0c1xuXHQgKiAvLyBTZWxlY3QgYWxsIGNvdXJzZXMgb2ZmZXJlZCBpbiBkZXBhcnRtZW50IEEgYnV0IG5vdCBpbiBkZXBhcnRtZW50IEJcblx0ICogYXdhaXQgZGIuc2VsZWN0KHsgY291cnNlTmFtZTogZGVwQS5jb3Vyc2VOYW1lIH0pXG5cdCAqICAgLmZyb20oZGVwQSlcblx0ICogICAuZXhjZXB0KFxuXHQgKiAgICAgZGIuc2VsZWN0KHsgY291cnNlTmFtZTogZGVwQi5jb3Vyc2VOYW1lIH0pLmZyb20oZGVwQilcblx0ICogICApO1xuXHQgKiAvLyBvclxuXHQgKiBpbXBvcnQgeyBleGNlcHQgfSBmcm9tICdkcml6emxlLW9ybS9zcWxpdGUtY29yZSdcblx0ICpcblx0ICogYXdhaXQgZXhjZXB0KFxuXHQgKiAgIGRiLnNlbGVjdCh7IGNvdXJzZU5hbWU6IGRlcEEuY291cnNlTmFtZSB9KS5mcm9tKGRlcEEpLFxuXHQgKiAgIGRiLnNlbGVjdCh7IGNvdXJzZU5hbWU6IGRlcEIuY291cnNlTmFtZSB9KS5mcm9tKGRlcEIpXG5cdCAqICk7XG5cdCAqIGBgYFxuXHQgKi9cblx0ZXhjZXB0ID0gdGhpcy5jcmVhdGVTZXRPcGVyYXRvcignZXhjZXB0JywgZmFsc2UpO1xuXG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0YWRkU2V0T3BlcmF0b3JzKHNldE9wZXJhdG9yczogU1FMaXRlU2VsZWN0Q29uZmlnWydzZXRPcGVyYXRvcnMnXSk6IFNRTGl0ZVNlbGVjdFdpdGhvdXQ8XG5cdFx0dGhpcyxcblx0XHRURHluYW1pYyxcblx0XHRTUUxpdGVTZXRPcGVyYXRvckV4Y2x1ZGVkTWV0aG9kcyxcblx0XHR0cnVlXG5cdD4ge1xuXHRcdHRoaXMuY29uZmlnLnNldE9wZXJhdG9ycy5wdXNoKC4uLnNldE9wZXJhdG9ycyk7XG5cdFx0cmV0dXJuIHRoaXMgYXMgYW55O1xuXHR9XG5cblx0LyoqXG5cdCAqIEFkZHMgYSBgd2hlcmVgIGNsYXVzZSB0byB0aGUgcXVlcnkuXG5cdCAqXG5cdCAqIENhbGxpbmcgdGhpcyBtZXRob2Qgd2lsbCBzZWxlY3Qgb25seSB0aG9zZSByb3dzIHRoYXQgZnVsZmlsbCBhIHNwZWNpZmllZCBjb25kaXRpb24uXG5cdCAqXG5cdCAqIFNlZSBkb2NzOiB7QGxpbmsgaHR0cHM6Ly9vcm0uZHJpenpsZS50ZWFtL2RvY3Mvc2VsZWN0I2ZpbHRlcmluZ31cblx0ICpcblx0ICogQHBhcmFtIHdoZXJlIHRoZSBgd2hlcmVgIGNsYXVzZS5cblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICogWW91IGNhbiB1c2UgY29uZGl0aW9uYWwgb3BlcmF0b3JzIGFuZCBgc3FsIGZ1bmN0aW9uYCB0byBmaWx0ZXIgdGhlIHJvd3MgdG8gYmUgc2VsZWN0ZWQuXG5cdCAqXG5cdCAqIGBgYHRzXG5cdCAqIC8vIFNlbGVjdCBhbGwgY2FycyB3aXRoIGdyZWVuIGNvbG9yXG5cdCAqIGF3YWl0IGRiLnNlbGVjdCgpLmZyb20oY2Fycykud2hlcmUoZXEoY2Fycy5jb2xvciwgJ2dyZWVuJykpO1xuXHQgKiAvLyBvclxuXHQgKiBhd2FpdCBkYi5zZWxlY3QoKS5mcm9tKGNhcnMpLndoZXJlKHNxbGAke2NhcnMuY29sb3J9ID0gJ2dyZWVuJ2ApXG5cdCAqIGBgYFxuXHQgKlxuXHQgKiBZb3UgY2FuIGxvZ2ljYWxseSBjb21iaW5lIGNvbmRpdGlvbmFsIG9wZXJhdG9ycyB3aXRoIGBhbmQoKWAgYW5kIGBvcigpYCBvcGVyYXRvcnM6XG5cdCAqXG5cdCAqIGBgYHRzXG5cdCAqIC8vIFNlbGVjdCBhbGwgQk1XIGNhcnMgd2l0aCBhIGdyZWVuIGNvbG9yXG5cdCAqIGF3YWl0IGRiLnNlbGVjdCgpLmZyb20oY2Fycykud2hlcmUoYW5kKGVxKGNhcnMuY29sb3IsICdncmVlbicpLCBlcShjYXJzLmJyYW5kLCAnQk1XJykpKTtcblx0ICpcblx0ICogLy8gU2VsZWN0IGFsbCBjYXJzIHdpdGggdGhlIGdyZWVuIG9yIGJsdWUgY29sb3Jcblx0ICogYXdhaXQgZGIuc2VsZWN0KCkuZnJvbShjYXJzKS53aGVyZShvcihlcShjYXJzLmNvbG9yLCAnZ3JlZW4nKSwgZXEoY2Fycy5jb2xvciwgJ2JsdWUnKSkpO1xuXHQgKiBgYGBcblx0ICovXG5cdHdoZXJlKFxuXHRcdHdoZXJlOiAoKGFsaWFzZXM6IFRTZWxlY3Rpb24pID0+IFNRTCB8IHVuZGVmaW5lZCkgfCBTUUwgfCB1bmRlZmluZWQsXG5cdCk6IFNRTGl0ZVNlbGVjdFdpdGhvdXQ8dGhpcywgVER5bmFtaWMsICd3aGVyZSc+IHtcblx0XHRpZiAodHlwZW9mIHdoZXJlID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHR3aGVyZSA9IHdoZXJlKFxuXHRcdFx0XHRuZXcgUHJveHkoXG5cdFx0XHRcdFx0dGhpcy5jb25maWcuZmllbGRzLFxuXHRcdFx0XHRcdG5ldyBTZWxlY3Rpb25Qcm94eUhhbmRsZXIoeyBzcWxBbGlhc2VkQmVoYXZpb3I6ICdzcWwnLCBzcWxCZWhhdmlvcjogJ3NxbCcgfSksXG5cdFx0XHRcdCkgYXMgVFNlbGVjdGlvbixcblx0XHRcdCk7XG5cdFx0fVxuXHRcdHRoaXMuY29uZmlnLndoZXJlID0gd2hlcmU7XG5cdFx0cmV0dXJuIHRoaXMgYXMgYW55O1xuXHR9XG5cblx0LyoqXG5cdCAqIEFkZHMgYSBgaGF2aW5nYCBjbGF1c2UgdG8gdGhlIHF1ZXJ5LlxuXHQgKlxuXHQgKiBDYWxsaW5nIHRoaXMgbWV0aG9kIHdpbGwgc2VsZWN0IG9ubHkgdGhvc2Ugcm93cyB0aGF0IGZ1bGZpbGwgYSBzcGVjaWZpZWQgY29uZGl0aW9uLiBJdCBpcyB0eXBpY2FsbHkgdXNlZCB3aXRoIGFnZ3JlZ2F0ZSBmdW5jdGlvbnMgdG8gZmlsdGVyIHRoZSBhZ2dyZWdhdGVkIGRhdGEgYmFzZWQgb24gYSBzcGVjaWZpZWQgY29uZGl0aW9uLlxuXHQgKlxuXHQgKiBTZWUgZG9jczoge0BsaW5rIGh0dHBzOi8vb3JtLmRyaXp6bGUudGVhbS9kb2NzL3NlbGVjdCNhZ2dyZWdhdGlvbnN9XG5cdCAqXG5cdCAqIEBwYXJhbSBoYXZpbmcgdGhlIGBoYXZpbmdgIGNsYXVzZS5cblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICpcblx0ICogYGBgdHNcblx0ICogLy8gU2VsZWN0IGFsbCBicmFuZHMgd2l0aCBtb3JlIHRoYW4gb25lIGNhclxuXHQgKiBhd2FpdCBkYi5zZWxlY3Qoe1xuXHQgKiBcdGJyYW5kOiBjYXJzLmJyYW5kLFxuXHQgKiBcdGNvdW50OiBzcWw8bnVtYmVyPmBjYXN0KGNvdW50KCR7Y2Fycy5pZH0pIGFzIGludClgLFxuXHQgKiB9KVxuXHQgKiAgIC5mcm9tKGNhcnMpXG5cdCAqICAgLmdyb3VwQnkoY2Fycy5icmFuZClcblx0ICogICAuaGF2aW5nKCh7IGNvdW50IH0pID0+IGd0KGNvdW50LCAxKSk7XG5cdCAqIGBgYFxuXHQgKi9cblx0aGF2aW5nKFxuXHRcdGhhdmluZzogKChhbGlhc2VzOiB0aGlzWydfJ11bJ3NlbGVjdGlvbiddKSA9PiBTUUwgfCB1bmRlZmluZWQpIHwgU1FMIHwgdW5kZWZpbmVkLFxuXHQpOiBTUUxpdGVTZWxlY3RXaXRob3V0PHRoaXMsIFREeW5hbWljLCAnaGF2aW5nJz4ge1xuXHRcdGlmICh0eXBlb2YgaGF2aW5nID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRoYXZpbmcgPSBoYXZpbmcoXG5cdFx0XHRcdG5ldyBQcm94eShcblx0XHRcdFx0XHR0aGlzLmNvbmZpZy5maWVsZHMsXG5cdFx0XHRcdFx0bmV3IFNlbGVjdGlvblByb3h5SGFuZGxlcih7IHNxbEFsaWFzZWRCZWhhdmlvcjogJ3NxbCcsIHNxbEJlaGF2aW9yOiAnc3FsJyB9KSxcblx0XHRcdFx0KSBhcyBUU2VsZWN0aW9uLFxuXHRcdFx0KTtcblx0XHR9XG5cdFx0dGhpcy5jb25maWcuaGF2aW5nID0gaGF2aW5nO1xuXHRcdHJldHVybiB0aGlzIGFzIGFueTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIGEgYGdyb3VwIGJ5YCBjbGF1c2UgdG8gdGhlIHF1ZXJ5LlxuXHQgKlxuXHQgKiBDYWxsaW5nIHRoaXMgbWV0aG9kIHdpbGwgZ3JvdXAgcm93cyB0aGF0IGhhdmUgdGhlIHNhbWUgdmFsdWVzIGludG8gc3VtbWFyeSByb3dzLCBvZnRlbiB1c2VkIGZvciBhZ2dyZWdhdGlvbiBwdXJwb3Nlcy5cblx0ICpcblx0ICogU2VlIGRvY3M6IHtAbGluayBodHRwczovL29ybS5kcml6emxlLnRlYW0vZG9jcy9zZWxlY3QjYWdncmVnYXRpb25zfVxuXHQgKlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiBgYGB0c1xuXHQgKiAvLyBHcm91cCBhbmQgY291bnQgcGVvcGxlIGJ5IHRoZWlyIGxhc3QgbmFtZXNcblx0ICogYXdhaXQgZGIuc2VsZWN0KHtcblx0ICogICAgbGFzdE5hbWU6IHBlb3BsZS5sYXN0TmFtZSxcblx0ICogICAgY291bnQ6IHNxbDxudW1iZXI+YGNhc3QoY291bnQoKikgYXMgaW50KWBcblx0ICogfSlcblx0ICogICAuZnJvbShwZW9wbGUpXG5cdCAqICAgLmdyb3VwQnkocGVvcGxlLmxhc3ROYW1lKTtcblx0ICogYGBgXG5cdCAqL1xuXHRncm91cEJ5KFxuXHRcdGJ1aWxkZXI6IChhbGlhc2VzOiB0aGlzWydfJ11bJ3NlbGVjdGlvbiddKSA9PiBWYWx1ZU9yQXJyYXk8U1FMaXRlQ29sdW1uIHwgU1FMIHwgU1FMLkFsaWFzZWQ+LFxuXHQpOiBTUUxpdGVTZWxlY3RXaXRob3V0PHRoaXMsIFREeW5hbWljLCAnZ3JvdXBCeSc+O1xuXHRncm91cEJ5KC4uLmNvbHVtbnM6IChTUUxpdGVDb2x1bW4gfCBTUUwpW10pOiBTUUxpdGVTZWxlY3RXaXRob3V0PHRoaXMsIFREeW5hbWljLCAnZ3JvdXBCeSc+O1xuXHRncm91cEJ5KFxuXHRcdC4uLmNvbHVtbnM6XG5cdFx0XHR8IFsoYWxpYXNlczogdGhpc1snXyddWydzZWxlY3Rpb24nXSkgPT4gVmFsdWVPckFycmF5PFNRTGl0ZUNvbHVtbiB8IFNRTCB8IFNRTC5BbGlhc2VkPl1cblx0XHRcdHwgKFNRTGl0ZUNvbHVtbiB8IFNRTCB8IFNRTC5BbGlhc2VkKVtdXG5cdCk6IFNRTGl0ZVNlbGVjdFdpdGhvdXQ8dGhpcywgVER5bmFtaWMsICdncm91cEJ5Jz4ge1xuXHRcdGlmICh0eXBlb2YgY29sdW1uc1swXSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Y29uc3QgZ3JvdXBCeSA9IGNvbHVtbnNbMF0oXG5cdFx0XHRcdG5ldyBQcm94eShcblx0XHRcdFx0XHR0aGlzLmNvbmZpZy5maWVsZHMsXG5cdFx0XHRcdFx0bmV3IFNlbGVjdGlvblByb3h5SGFuZGxlcih7IHNxbEFsaWFzZWRCZWhhdmlvcjogJ2FsaWFzJywgc3FsQmVoYXZpb3I6ICdzcWwnIH0pLFxuXHRcdFx0XHQpIGFzIFRTZWxlY3Rpb24sXG5cdFx0XHQpO1xuXHRcdFx0dGhpcy5jb25maWcuZ3JvdXBCeSA9IEFycmF5LmlzQXJyYXkoZ3JvdXBCeSkgPyBncm91cEJ5IDogW2dyb3VwQnldO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmNvbmZpZy5ncm91cEJ5ID0gY29sdW1ucyBhcyAoU1FMaXRlQ29sdW1uIHwgU1FMIHwgU1FMLkFsaWFzZWQpW107XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzIGFzIGFueTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBZGRzIGFuIGBvcmRlciBieWAgY2xhdXNlIHRvIHRoZSBxdWVyeS5cblx0ICpcblx0ICogQ2FsbGluZyB0aGlzIG1ldGhvZCB3aWxsIHNvcnQgdGhlIHJlc3VsdC1zZXQgaW4gYXNjZW5kaW5nIG9yIGRlc2NlbmRpbmcgb3JkZXIuIEJ5IGRlZmF1bHQsIHRoZSBzb3J0IG9yZGVyIGlzIGFzY2VuZGluZy5cblx0ICpcblx0ICogU2VlIGRvY3M6IHtAbGluayBodHRwczovL29ybS5kcml6emxlLnRlYW0vZG9jcy9zZWxlY3Qjb3JkZXItYnl9XG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqXG5cdCAqIGBgYFxuXHQgKiAvLyBTZWxlY3QgY2FycyBvcmRlcmVkIGJ5IHllYXJcblx0ICogYXdhaXQgZGIuc2VsZWN0KCkuZnJvbShjYXJzKS5vcmRlckJ5KGNhcnMueWVhcik7XG5cdCAqIGBgYFxuXHQgKlxuXHQgKiBZb3UgY2FuIHNwZWNpZnkgd2hldGhlciByZXN1bHRzIGFyZSBpbiBhc2NlbmRpbmcgb3IgZGVzY2VuZGluZyBvcmRlciB3aXRoIHRoZSBgYXNjKClgIGFuZCBgZGVzYygpYCBvcGVyYXRvcnMuXG5cdCAqXG5cdCAqIGBgYHRzXG5cdCAqIC8vIFNlbGVjdCBjYXJzIG9yZGVyZWQgYnkgeWVhciBpbiBkZXNjZW5kaW5nIG9yZGVyXG5cdCAqIGF3YWl0IGRiLnNlbGVjdCgpLmZyb20oY2Fycykub3JkZXJCeShkZXNjKGNhcnMueWVhcikpO1xuXHQgKlxuXHQgKiAvLyBTZWxlY3QgY2FycyBvcmRlcmVkIGJ5IHllYXIgYW5kIHByaWNlXG5cdCAqIGF3YWl0IGRiLnNlbGVjdCgpLmZyb20oY2Fycykub3JkZXJCeShhc2MoY2Fycy55ZWFyKSwgZGVzYyhjYXJzLnByaWNlKSk7XG5cdCAqIGBgYFxuXHQgKi9cblx0b3JkZXJCeShcblx0XHRidWlsZGVyOiAoYWxpYXNlczogdGhpc1snXyddWydzZWxlY3Rpb24nXSkgPT4gVmFsdWVPckFycmF5PFNRTGl0ZUNvbHVtbiB8IFNRTCB8IFNRTC5BbGlhc2VkPixcblx0KTogU1FMaXRlU2VsZWN0V2l0aG91dDx0aGlzLCBURHluYW1pYywgJ29yZGVyQnknPjtcblx0b3JkZXJCeSguLi5jb2x1bW5zOiAoU1FMaXRlQ29sdW1uIHwgU1FMKVtdKTogU1FMaXRlU2VsZWN0V2l0aG91dDx0aGlzLCBURHluYW1pYywgJ29yZGVyQnknPjtcblx0b3JkZXJCeShcblx0XHQuLi5jb2x1bW5zOlxuXHRcdFx0fCBbKGFsaWFzZXM6IHRoaXNbJ18nXVsnc2VsZWN0aW9uJ10pID0+IFZhbHVlT3JBcnJheTxTUUxpdGVDb2x1bW4gfCBTUUwgfCBTUUwuQWxpYXNlZD5dXG5cdFx0XHR8IChTUUxpdGVDb2x1bW4gfCBTUUwgfCBTUUwuQWxpYXNlZClbXVxuXHQpOiBTUUxpdGVTZWxlY3RXaXRob3V0PHRoaXMsIFREeW5hbWljLCAnb3JkZXJCeSc+IHtcblx0XHRpZiAodHlwZW9mIGNvbHVtbnNbMF0gPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdGNvbnN0IG9yZGVyQnkgPSBjb2x1bW5zWzBdKFxuXHRcdFx0XHRuZXcgUHJveHkoXG5cdFx0XHRcdFx0dGhpcy5jb25maWcuZmllbGRzLFxuXHRcdFx0XHRcdG5ldyBTZWxlY3Rpb25Qcm94eUhhbmRsZXIoeyBzcWxBbGlhc2VkQmVoYXZpb3I6ICdhbGlhcycsIHNxbEJlaGF2aW9yOiAnc3FsJyB9KSxcblx0XHRcdFx0KSBhcyBUU2VsZWN0aW9uLFxuXHRcdFx0KTtcblxuXHRcdFx0Y29uc3Qgb3JkZXJCeUFycmF5ID0gQXJyYXkuaXNBcnJheShvcmRlckJ5KSA/IG9yZGVyQnkgOiBbb3JkZXJCeV07XG5cblx0XHRcdGlmICh0aGlzLmNvbmZpZy5zZXRPcGVyYXRvcnMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHR0aGlzLmNvbmZpZy5zZXRPcGVyYXRvcnMuYXQoLTEpIS5vcmRlckJ5ID0gb3JkZXJCeUFycmF5O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5jb25maWcub3JkZXJCeSA9IG9yZGVyQnlBcnJheTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc3Qgb3JkZXJCeUFycmF5ID0gY29sdW1ucyBhcyAoU1FMaXRlQ29sdW1uIHwgU1FMIHwgU1FMLkFsaWFzZWQpW107XG5cblx0XHRcdGlmICh0aGlzLmNvbmZpZy5zZXRPcGVyYXRvcnMubGVuZ3RoID4gMCkge1xuXHRcdFx0XHR0aGlzLmNvbmZpZy5zZXRPcGVyYXRvcnMuYXQoLTEpIS5vcmRlckJ5ID0gb3JkZXJCeUFycmF5O1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5jb25maWcub3JkZXJCeSA9IG9yZGVyQnlBcnJheTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMgYXMgYW55O1xuXHR9XG5cblx0LyoqXG5cdCAqIEFkZHMgYSBgbGltaXRgIGNsYXVzZSB0byB0aGUgcXVlcnkuXG5cdCAqXG5cdCAqIENhbGxpbmcgdGhpcyBtZXRob2Qgd2lsbCBzZXQgdGhlIG1heGltdW0gbnVtYmVyIG9mIHJvd3MgdGhhdCB3aWxsIGJlIHJldHVybmVkIGJ5IHRoaXMgcXVlcnkuXG5cdCAqXG5cdCAqIFNlZSBkb2NzOiB7QGxpbmsgaHR0cHM6Ly9vcm0uZHJpenpsZS50ZWFtL2RvY3Mvc2VsZWN0I2xpbWl0LS1vZmZzZXR9XG5cdCAqXG5cdCAqIEBwYXJhbSBsaW1pdCB0aGUgYGxpbWl0YCBjbGF1c2UuXG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqXG5cdCAqIGBgYHRzXG5cdCAqIC8vIEdldCB0aGUgZmlyc3QgMTAgcGVvcGxlIGZyb20gdGhpcyBxdWVyeS5cblx0ICogYXdhaXQgZGIuc2VsZWN0KCkuZnJvbShwZW9wbGUpLmxpbWl0KDEwKTtcblx0ICogYGBgXG5cdCAqL1xuXHRsaW1pdChsaW1pdDogbnVtYmVyIHwgUGxhY2Vob2xkZXIpOiBTUUxpdGVTZWxlY3RXaXRob3V0PHRoaXMsIFREeW5hbWljLCAnbGltaXQnPiB7XG5cdFx0aWYgKHRoaXMuY29uZmlnLnNldE9wZXJhdG9ycy5sZW5ndGggPiAwKSB7XG5cdFx0XHR0aGlzLmNvbmZpZy5zZXRPcGVyYXRvcnMuYXQoLTEpIS5saW1pdCA9IGxpbWl0O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR0aGlzLmNvbmZpZy5saW1pdCA9IGxpbWl0O1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcyBhcyBhbnk7XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBhbiBgb2Zmc2V0YCBjbGF1c2UgdG8gdGhlIHF1ZXJ5LlxuXHQgKlxuXHQgKiBDYWxsaW5nIHRoaXMgbWV0aG9kIHdpbGwgc2tpcCBhIG51bWJlciBvZiByb3dzIHdoZW4gcmV0dXJuaW5nIHJlc3VsdHMgZnJvbSB0aGlzIHF1ZXJ5LlxuXHQgKlxuXHQgKiBTZWUgZG9jczoge0BsaW5rIGh0dHBzOi8vb3JtLmRyaXp6bGUudGVhbS9kb2NzL3NlbGVjdCNsaW1pdC0tb2Zmc2V0fVxuXHQgKlxuXHQgKiBAcGFyYW0gb2Zmc2V0IHRoZSBgb2Zmc2V0YCBjbGF1c2UuXG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqXG5cdCAqIGBgYHRzXG5cdCAqIC8vIEdldCB0aGUgMTB0aC0yMHRoIHBlb3BsZSBmcm9tIHRoaXMgcXVlcnkuXG5cdCAqIGF3YWl0IGRiLnNlbGVjdCgpLmZyb20ocGVvcGxlKS5vZmZzZXQoMTApLmxpbWl0KDEwKTtcblx0ICogYGBgXG5cdCAqL1xuXHRvZmZzZXQob2Zmc2V0OiBudW1iZXIgfCBQbGFjZWhvbGRlcik6IFNRTGl0ZVNlbGVjdFdpdGhvdXQ8dGhpcywgVER5bmFtaWMsICdvZmZzZXQnPiB7XG5cdFx0aWYgKHRoaXMuY29uZmlnLnNldE9wZXJhdG9ycy5sZW5ndGggPiAwKSB7XG5cdFx0XHR0aGlzLmNvbmZpZy5zZXRPcGVyYXRvcnMuYXQoLTEpIS5vZmZzZXQgPSBvZmZzZXQ7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMuY29uZmlnLm9mZnNldCA9IG9mZnNldDtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMgYXMgYW55O1xuXHR9XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRnZXRTUUwoKTogU1FMIHtcblx0XHRyZXR1cm4gdGhpcy5kaWFsZWN0LmJ1aWxkU2VsZWN0UXVlcnkodGhpcy5jb25maWcpO1xuXHR9XG5cblx0dG9TUUwoKTogUXVlcnkge1xuXHRcdGNvbnN0IHsgdHlwaW5nczogX3R5cGluZ3MsIC4uLnJlc3QgfSA9IHRoaXMuZGlhbGVjdC5zcWxUb1F1ZXJ5KHRoaXMuZ2V0U1FMKCkpO1xuXHRcdHJldHVybiByZXN0O1xuXHR9XG5cblx0YXM8VEFsaWFzIGV4dGVuZHMgc3RyaW5nPihcblx0XHRhbGlhczogVEFsaWFzLFxuXHQpOiBTdWJxdWVyeVdpdGhTZWxlY3Rpb248dGhpc1snXyddWydzZWxlY3RlZEZpZWxkcyddLCBUQWxpYXM+IHtcblx0XHRyZXR1cm4gbmV3IFByb3h5KFxuXHRcdFx0bmV3IFN1YnF1ZXJ5KHRoaXMuZ2V0U1FMKCksIHRoaXMuY29uZmlnLmZpZWxkcywgYWxpYXMpLFxuXHRcdFx0bmV3IFNlbGVjdGlvblByb3h5SGFuZGxlcih7IGFsaWFzLCBzcWxBbGlhc2VkQmVoYXZpb3I6ICdhbGlhcycsIHNxbEJlaGF2aW9yOiAnZXJyb3InIH0pLFxuXHRcdCkgYXMgU3VicXVlcnlXaXRoU2VsZWN0aW9uPHRoaXNbJ18nXVsnc2VsZWN0ZWRGaWVsZHMnXSwgVEFsaWFzPjtcblx0fVxuXG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0b3ZlcnJpZGUgZ2V0U2VsZWN0ZWRGaWVsZHMoKTogdGhpc1snXyddWydzZWxlY3RlZEZpZWxkcyddIHtcblx0XHRyZXR1cm4gbmV3IFByb3h5KFxuXHRcdFx0dGhpcy5jb25maWcuZmllbGRzLFxuXHRcdFx0bmV3IFNlbGVjdGlvblByb3h5SGFuZGxlcih7IGFsaWFzOiB0aGlzLnRhYmxlTmFtZSwgc3FsQWxpYXNlZEJlaGF2aW9yOiAnYWxpYXMnLCBzcWxCZWhhdmlvcjogJ2Vycm9yJyB9KSxcblx0XHQpIGFzIHRoaXNbJ18nXVsnc2VsZWN0ZWRGaWVsZHMnXTtcblx0fVxuXG5cdCRkeW5hbWljKCk6IFNRTGl0ZVNlbGVjdER5bmFtaWM8dGhpcz4ge1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktaW50ZXJmYWNlXG5leHBvcnQgaW50ZXJmYWNlIFNRTGl0ZVNlbGVjdEJhc2U8XG5cdFRUYWJsZU5hbWUgZXh0ZW5kcyBzdHJpbmcgfCB1bmRlZmluZWQsXG5cdFRSZXN1bHRUeXBlIGV4dGVuZHMgJ3N5bmMnIHwgJ2FzeW5jJyxcblx0VFJ1blJlc3VsdCxcblx0VFNlbGVjdGlvbiBleHRlbmRzIENvbHVtbnNTZWxlY3Rpb24sXG5cdFRTZWxlY3RNb2RlIGV4dGVuZHMgU2VsZWN0TW9kZSA9ICdzaW5nbGUnLFxuXHRUTnVsbGFiaWxpdHlNYXAgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBKb2luTnVsbGFiaWxpdHk+ID0gVFRhYmxlTmFtZSBleHRlbmRzIHN0cmluZyA/IFJlY29yZDxUVGFibGVOYW1lLCAnbm90LW51bGwnPlxuXHRcdDoge30sXG5cdFREeW5hbWljIGV4dGVuZHMgYm9vbGVhbiA9IGZhbHNlLFxuXHRURXhjbHVkZWRNZXRob2RzIGV4dGVuZHMgc3RyaW5nID0gbmV2ZXIsXG5cdFRSZXN1bHQgZXh0ZW5kcyBhbnlbXSA9IFNlbGVjdFJlc3VsdDxUU2VsZWN0aW9uLCBUU2VsZWN0TW9kZSwgVE51bGxhYmlsaXR5TWFwPltdLFxuXHRUU2VsZWN0ZWRGaWVsZHMgZXh0ZW5kcyBDb2x1bW5zU2VsZWN0aW9uID0gQnVpbGRTdWJxdWVyeVNlbGVjdGlvbjxUU2VsZWN0aW9uLCBUTnVsbGFiaWxpdHlNYXA+LFxuPiBleHRlbmRzXG5cdFNRTGl0ZVNlbGVjdFF1ZXJ5QnVpbGRlckJhc2U8XG5cdFx0U1FMaXRlU2VsZWN0SEtULFxuXHRcdFRUYWJsZU5hbWUsXG5cdFx0VFJlc3VsdFR5cGUsXG5cdFx0VFJ1blJlc3VsdCxcblx0XHRUU2VsZWN0aW9uLFxuXHRcdFRTZWxlY3RNb2RlLFxuXHRcdFROdWxsYWJpbGl0eU1hcCxcblx0XHRURHluYW1pYyxcblx0XHRURXhjbHVkZWRNZXRob2RzLFxuXHRcdFRSZXN1bHQsXG5cdFx0VFNlbGVjdGVkRmllbGRzXG5cdD4sXG5cdFF1ZXJ5UHJvbWlzZTxUUmVzdWx0Plxue31cblxuZXhwb3J0IGNsYXNzIFNRTGl0ZVNlbGVjdEJhc2U8XG5cdFRUYWJsZU5hbWUgZXh0ZW5kcyBzdHJpbmcgfCB1bmRlZmluZWQsXG5cdFRSZXN1bHRUeXBlIGV4dGVuZHMgJ3N5bmMnIHwgJ2FzeW5jJyxcblx0VFJ1blJlc3VsdCxcblx0VFNlbGVjdGlvbixcblx0VFNlbGVjdE1vZGUgZXh0ZW5kcyBTZWxlY3RNb2RlID0gJ3NpbmdsZScsXG5cdFROdWxsYWJpbGl0eU1hcCBleHRlbmRzIFJlY29yZDxzdHJpbmcsIEpvaW5OdWxsYWJpbGl0eT4gPSBUVGFibGVOYW1lIGV4dGVuZHMgc3RyaW5nID8gUmVjb3JkPFRUYWJsZU5hbWUsICdub3QtbnVsbCc+XG5cdFx0OiB7fSxcblx0VER5bmFtaWMgZXh0ZW5kcyBib29sZWFuID0gZmFsc2UsXG5cdFRFeGNsdWRlZE1ldGhvZHMgZXh0ZW5kcyBzdHJpbmcgPSBuZXZlcixcblx0VFJlc3VsdCA9IFNlbGVjdFJlc3VsdDxUU2VsZWN0aW9uLCBUU2VsZWN0TW9kZSwgVE51bGxhYmlsaXR5TWFwPltdLFxuXHRUU2VsZWN0ZWRGaWVsZHMgZXh0ZW5kcyBDb2x1bW5zU2VsZWN0aW9uID0gQnVpbGRTdWJxdWVyeVNlbGVjdGlvbjxUU2VsZWN0aW9uLCBUTnVsbGFiaWxpdHlNYXA+LFxuPiBleHRlbmRzIFNRTGl0ZVNlbGVjdFF1ZXJ5QnVpbGRlckJhc2U8XG5cdFNRTGl0ZVNlbGVjdEhLVCxcblx0VFRhYmxlTmFtZSxcblx0VFJlc3VsdFR5cGUsXG5cdFRSdW5SZXN1bHQsXG5cdFRTZWxlY3Rpb24sXG5cdFRTZWxlY3RNb2RlLFxuXHRUTnVsbGFiaWxpdHlNYXAsXG5cdFREeW5hbWljLFxuXHRURXhjbHVkZWRNZXRob2RzLFxuXHRUUmVzdWx0LFxuXHRUU2VsZWN0ZWRGaWVsZHNcbj4gaW1wbGVtZW50cyBSdW5uYWJsZVF1ZXJ5PFRSZXN1bHQsICdzcWxpdGUnPiwgU1FMV3JhcHBlciB7XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdTUUxpdGVTZWxlY3QnO1xuXG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0X3ByZXBhcmUoaXNPbmVUaW1lUXVlcnkgPSB0cnVlKTogU1FMaXRlU2VsZWN0UHJlcGFyZTx0aGlzPiB7XG5cdFx0aWYgKCF0aGlzLnNlc3Npb24pIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcignQ2Fubm90IGV4ZWN1dGUgYSBxdWVyeSBvbiBhIHF1ZXJ5IGJ1aWxkZXIuIFBsZWFzZSB1c2UgYSBkYXRhYmFzZSBpbnN0YW5jZSBpbnN0ZWFkLicpO1xuXHRcdH1cblx0XHRjb25zdCBmaWVsZHNMaXN0ID0gb3JkZXJTZWxlY3RlZEZpZWxkczxTUUxpdGVDb2x1bW4+KHRoaXMuY29uZmlnLmZpZWxkcyk7XG5cdFx0Y29uc3QgcXVlcnkgPSB0aGlzLnNlc3Npb25baXNPbmVUaW1lUXVlcnkgPyAncHJlcGFyZU9uZVRpbWVRdWVyeScgOiAncHJlcGFyZVF1ZXJ5J10oXG5cdFx0XHR0aGlzLmRpYWxlY3Quc3FsVG9RdWVyeSh0aGlzLmdldFNRTCgpKSxcblx0XHRcdGZpZWxkc0xpc3QsXG5cdFx0XHQnYWxsJyxcblx0XHRcdHRydWUsXG5cdFx0KTtcblx0XHRxdWVyeS5qb2luc05vdE51bGxhYmxlTWFwID0gdGhpcy5qb2luc05vdE51bGxhYmxlTWFwO1xuXHRcdHJldHVybiBxdWVyeSBhcyBSZXR1cm5UeXBlPHRoaXNbJ3ByZXBhcmUnXT47XG5cdH1cblxuXHRwcmVwYXJlKCk6IFNRTGl0ZVNlbGVjdFByZXBhcmU8dGhpcz4ge1xuXHRcdHJldHVybiB0aGlzLl9wcmVwYXJlKGZhbHNlKTtcblx0fVxuXG5cdHJ1bjogUmV0dXJuVHlwZTx0aGlzWydwcmVwYXJlJ10+WydydW4nXSA9IChwbGFjZWhvbGRlclZhbHVlcykgPT4ge1xuXHRcdHJldHVybiB0aGlzLl9wcmVwYXJlKCkucnVuKHBsYWNlaG9sZGVyVmFsdWVzKTtcblx0fTtcblxuXHRhbGw6IFJldHVyblR5cGU8dGhpc1sncHJlcGFyZSddPlsnYWxsJ10gPSAocGxhY2Vob2xkZXJWYWx1ZXMpID0+IHtcblx0XHRyZXR1cm4gdGhpcy5fcHJlcGFyZSgpLmFsbChwbGFjZWhvbGRlclZhbHVlcyk7XG5cdH07XG5cblx0Z2V0OiBSZXR1cm5UeXBlPHRoaXNbJ3ByZXBhcmUnXT5bJ2dldCddID0gKHBsYWNlaG9sZGVyVmFsdWVzKSA9PiB7XG5cdFx0cmV0dXJuIHRoaXMuX3ByZXBhcmUoKS5nZXQocGxhY2Vob2xkZXJWYWx1ZXMpO1xuXHR9O1xuXG5cdHZhbHVlczogUmV0dXJuVHlwZTx0aGlzWydwcmVwYXJlJ10+Wyd2YWx1ZXMnXSA9IChwbGFjZWhvbGRlclZhbHVlcykgPT4ge1xuXHRcdHJldHVybiB0aGlzLl9wcmVwYXJlKCkudmFsdWVzKHBsYWNlaG9sZGVyVmFsdWVzKTtcblx0fTtcblxuXHRhc3luYyBleGVjdXRlKCk6IFByb21pc2U8U1FMaXRlU2VsZWN0RXhlY3V0ZTx0aGlzPj4ge1xuXHRcdHJldHVybiB0aGlzLmFsbCgpIGFzIFNRTGl0ZVNlbGVjdEV4ZWN1dGU8dGhpcz47XG5cdH1cbn1cblxuYXBwbHlNaXhpbnMoU1FMaXRlU2VsZWN0QmFzZSwgW1F1ZXJ5UHJvbWlzZV0pO1xuXG5mdW5jdGlvbiBjcmVhdGVTZXRPcGVyYXRvcih0eXBlOiBTZXRPcGVyYXRvciwgaXNBbGw6IGJvb2xlYW4pOiBTUUxpdGVDcmVhdGVTZXRPcGVyYXRvckZuIHtcblx0cmV0dXJuIChsZWZ0U2VsZWN0LCByaWdodFNlbGVjdCwgLi4ucmVzdFNlbGVjdHMpID0+IHtcblx0XHRjb25zdCBzZXRPcGVyYXRvcnMgPSBbcmlnaHRTZWxlY3QsIC4uLnJlc3RTZWxlY3RzXS5tYXAoKHNlbGVjdCkgPT4gKHtcblx0XHRcdHR5cGUsXG5cdFx0XHRpc0FsbCxcblx0XHRcdHJpZ2h0U2VsZWN0OiBzZWxlY3QgYXMgQW55U1FMaXRlU2VsZWN0LFxuXHRcdH0pKTtcblxuXHRcdGZvciAoY29uc3Qgc2V0T3BlcmF0b3Igb2Ygc2V0T3BlcmF0b3JzKSB7XG5cdFx0XHRpZiAoIWhhdmVTYW1lS2V5cygobGVmdFNlbGVjdCBhcyBhbnkpLmdldFNlbGVjdGVkRmllbGRzKCksIHNldE9wZXJhdG9yLnJpZ2h0U2VsZWN0LmdldFNlbGVjdGVkRmllbGRzKCkpKSB7XG5cdFx0XHRcdHRocm93IG5ldyBFcnJvcihcblx0XHRcdFx0XHQnU2V0IG9wZXJhdG9yIGVycm9yICh1bmlvbiAvIGludGVyc2VjdCAvIGV4Y2VwdCk6IHNlbGVjdGVkIGZpZWxkcyBhcmUgbm90IHRoZSBzYW1lIG9yIGFyZSBpbiBhIGRpZmZlcmVudCBvcmRlcicsXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIChsZWZ0U2VsZWN0IGFzIEFueVNRTGl0ZVNlbGVjdCkuYWRkU2V0T3BlcmF0b3JzKHNldE9wZXJhdG9ycykgYXMgYW55O1xuXHR9O1xufVxuXG5jb25zdCBnZXRTUUxpdGVTZXRPcGVyYXRvcnMgPSAoKSA9PiAoe1xuXHR1bmlvbixcblx0dW5pb25BbGwsXG5cdGludGVyc2VjdCxcblx0ZXhjZXB0LFxufSk7XG5cbi8qKlxuICogQWRkcyBgdW5pb25gIHNldCBvcGVyYXRvciB0byB0aGUgcXVlcnkuXG4gKlxuICogQ2FsbGluZyB0aGlzIG1ldGhvZCB3aWxsIGNvbWJpbmUgdGhlIHJlc3VsdCBzZXRzIG9mIHRoZSBgc2VsZWN0YCBzdGF0ZW1lbnRzIGFuZCByZW1vdmUgYW55IGR1cGxpY2F0ZSByb3dzIHRoYXQgYXBwZWFyIGFjcm9zcyB0aGVtLlxuICpcbiAqIFNlZSBkb2NzOiB7QGxpbmsgaHR0cHM6Ly9vcm0uZHJpenpsZS50ZWFtL2RvY3Mvc2V0LW9wZXJhdGlvbnMjdW5pb259XG4gKlxuICogQGV4YW1wbGVcbiAqXG4gKiBgYGB0c1xuICogLy8gU2VsZWN0IGFsbCB1bmlxdWUgbmFtZXMgZnJvbSBjdXN0b21lcnMgYW5kIHVzZXJzIHRhYmxlc1xuICogaW1wb3J0IHsgdW5pb24gfSBmcm9tICdkcml6emxlLW9ybS9zcWxpdGUtY29yZSdcbiAqXG4gKiBhd2FpdCB1bmlvbihcbiAqICAgZGIuc2VsZWN0KHsgbmFtZTogdXNlcnMubmFtZSB9KS5mcm9tKHVzZXJzKSxcbiAqICAgZGIuc2VsZWN0KHsgbmFtZTogY3VzdG9tZXJzLm5hbWUgfSkuZnJvbShjdXN0b21lcnMpXG4gKiApO1xuICogLy8gb3JcbiAqIGF3YWl0IGRiLnNlbGVjdCh7IG5hbWU6IHVzZXJzLm5hbWUgfSlcbiAqICAgLmZyb20odXNlcnMpXG4gKiAgIC51bmlvbihcbiAqICAgICBkYi5zZWxlY3QoeyBuYW1lOiBjdXN0b21lcnMubmFtZSB9KS5mcm9tKGN1c3RvbWVycylcbiAqICAgKTtcbiAqIGBgYFxuICovXG5leHBvcnQgY29uc3QgdW5pb24gPSBjcmVhdGVTZXRPcGVyYXRvcigndW5pb24nLCBmYWxzZSk7XG5cbi8qKlxuICogQWRkcyBgdW5pb24gYWxsYCBzZXQgb3BlcmF0b3IgdG8gdGhlIHF1ZXJ5LlxuICpcbiAqIENhbGxpbmcgdGhpcyBtZXRob2Qgd2lsbCBjb21iaW5lIHRoZSByZXN1bHQtc2V0IG9mIHRoZSBgc2VsZWN0YCBzdGF0ZW1lbnRzIGFuZCBrZWVwIGFsbCBkdXBsaWNhdGUgcm93cyB0aGF0IGFwcGVhciBhY3Jvc3MgdGhlbS5cbiAqXG4gKiBTZWUgZG9jczoge0BsaW5rIGh0dHBzOi8vb3JtLmRyaXp6bGUudGVhbS9kb2NzL3NldC1vcGVyYXRpb25zI3VuaW9uLWFsbH1cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYHRzXG4gKiAvLyBTZWxlY3QgYWxsIHRyYW5zYWN0aW9uIGlkcyBmcm9tIGJvdGggb25saW5lIGFuZCBpbi1zdG9yZSBzYWxlc1xuICogaW1wb3J0IHsgdW5pb25BbGwgfSBmcm9tICdkcml6emxlLW9ybS9zcWxpdGUtY29yZSdcbiAqXG4gKiBhd2FpdCB1bmlvbkFsbChcbiAqICAgZGIuc2VsZWN0KHsgdHJhbnNhY3Rpb246IG9ubGluZVNhbGVzLnRyYW5zYWN0aW9uSWQgfSkuZnJvbShvbmxpbmVTYWxlcyksXG4gKiAgIGRiLnNlbGVjdCh7IHRyYW5zYWN0aW9uOiBpblN0b3JlU2FsZXMudHJhbnNhY3Rpb25JZCB9KS5mcm9tKGluU3RvcmVTYWxlcylcbiAqICk7XG4gKiAvLyBvclxuICogYXdhaXQgZGIuc2VsZWN0KHsgdHJhbnNhY3Rpb246IG9ubGluZVNhbGVzLnRyYW5zYWN0aW9uSWQgfSlcbiAqICAgLmZyb20ob25saW5lU2FsZXMpXG4gKiAgIC51bmlvbkFsbChcbiAqICAgICBkYi5zZWxlY3QoeyB0cmFuc2FjdGlvbjogaW5TdG9yZVNhbGVzLnRyYW5zYWN0aW9uSWQgfSkuZnJvbShpblN0b3JlU2FsZXMpXG4gKiAgICk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IHVuaW9uQWxsID0gY3JlYXRlU2V0T3BlcmF0b3IoJ3VuaW9uJywgdHJ1ZSk7XG5cbi8qKlxuICogQWRkcyBgaW50ZXJzZWN0YCBzZXQgb3BlcmF0b3IgdG8gdGhlIHF1ZXJ5LlxuICpcbiAqIENhbGxpbmcgdGhpcyBtZXRob2Qgd2lsbCByZXRhaW4gb25seSB0aGUgcm93cyB0aGF0IGFyZSBwcmVzZW50IGluIGJvdGggcmVzdWx0IHNldHMgYW5kIGVsaW1pbmF0ZSBkdXBsaWNhdGVzLlxuICpcbiAqIFNlZSBkb2NzOiB7QGxpbmsgaHR0cHM6Ly9vcm0uZHJpenpsZS50ZWFtL2RvY3Mvc2V0LW9wZXJhdGlvbnMjaW50ZXJzZWN0fVxuICpcbiAqIEBleGFtcGxlXG4gKlxuICogYGBgdHNcbiAqIC8vIFNlbGVjdCBjb3Vyc2UgbmFtZXMgdGhhdCBhcmUgb2ZmZXJlZCBpbiBib3RoIGRlcGFydG1lbnRzIEEgYW5kIEJcbiAqIGltcG9ydCB7IGludGVyc2VjdCB9IGZyb20gJ2RyaXp6bGUtb3JtL3NxbGl0ZS1jb3JlJ1xuICpcbiAqIGF3YWl0IGludGVyc2VjdChcbiAqICAgZGIuc2VsZWN0KHsgY291cnNlTmFtZTogZGVwQS5jb3Vyc2VOYW1lIH0pLmZyb20oZGVwQSksXG4gKiAgIGRiLnNlbGVjdCh7IGNvdXJzZU5hbWU6IGRlcEIuY291cnNlTmFtZSB9KS5mcm9tKGRlcEIpXG4gKiApO1xuICogLy8gb3JcbiAqIGF3YWl0IGRiLnNlbGVjdCh7IGNvdXJzZU5hbWU6IGRlcEEuY291cnNlTmFtZSB9KVxuICogICAuZnJvbShkZXBBKVxuICogICAuaW50ZXJzZWN0KFxuICogICAgIGRiLnNlbGVjdCh7IGNvdXJzZU5hbWU6IGRlcEIuY291cnNlTmFtZSB9KS5mcm9tKGRlcEIpXG4gKiAgICk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IGludGVyc2VjdCA9IGNyZWF0ZVNldE9wZXJhdG9yKCdpbnRlcnNlY3QnLCBmYWxzZSk7XG5cbi8qKlxuICogQWRkcyBgZXhjZXB0YCBzZXQgb3BlcmF0b3IgdG8gdGhlIHF1ZXJ5LlxuICpcbiAqIENhbGxpbmcgdGhpcyBtZXRob2Qgd2lsbCByZXRyaWV2ZSBhbGwgdW5pcXVlIHJvd3MgZnJvbSB0aGUgbGVmdCBxdWVyeSwgZXhjZXB0IGZvciB0aGUgcm93cyB0aGF0IGFyZSBwcmVzZW50IGluIHRoZSByZXN1bHQgc2V0IG9mIHRoZSByaWdodCBxdWVyeS5cbiAqXG4gKiBTZWUgZG9jczoge0BsaW5rIGh0dHBzOi8vb3JtLmRyaXp6bGUudGVhbS9kb2NzL3NldC1vcGVyYXRpb25zI2V4Y2VwdH1cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYHRzXG4gKiAvLyBTZWxlY3QgYWxsIGNvdXJzZXMgb2ZmZXJlZCBpbiBkZXBhcnRtZW50IEEgYnV0IG5vdCBpbiBkZXBhcnRtZW50IEJcbiAqIGltcG9ydCB7IGV4Y2VwdCB9IGZyb20gJ2RyaXp6bGUtb3JtL3NxbGl0ZS1jb3JlJ1xuICpcbiAqIGF3YWl0IGV4Y2VwdChcbiAqICAgZGIuc2VsZWN0KHsgY291cnNlTmFtZTogZGVwQS5jb3Vyc2VOYW1lIH0pLmZyb20oZGVwQSksXG4gKiAgIGRiLnNlbGVjdCh7IGNvdXJzZU5hbWU6IGRlcEIuY291cnNlTmFtZSB9KS5mcm9tKGRlcEIpXG4gKiApO1xuICogLy8gb3JcbiAqIGF3YWl0IGRiLnNlbGVjdCh7IGNvdXJzZU5hbWU6IGRlcEEuY291cnNlTmFtZSB9KVxuICogICAuZnJvbShkZXBBKVxuICogICAuZXhjZXB0KFxuICogICAgIGRiLnNlbGVjdCh7IGNvdXJzZU5hbWU6IGRlcEIuY291cnNlTmFtZSB9KS5mcm9tKGRlcEIpXG4gKiAgICk7XG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNvbnN0IGV4Y2VwdCA9IGNyZWF0ZVNldE9wZXJhdG9yKCdleGNlcHQnLCBmYWxzZSk7XG4iLCAiaW1wb3J0IHsgZW50aXR5S2luZCB9IGZyb20gJ34vZW50aXR5LnRzJztcbmltcG9ydCB0eXBlIHsgVHlwZWRRdWVyeUJ1aWxkZXIgfSBmcm9tICd+L3F1ZXJ5LWJ1aWxkZXJzL3F1ZXJ5LWJ1aWxkZXIudHMnO1xuaW1wb3J0IHsgU2VsZWN0aW9uUHJveHlIYW5kbGVyIH0gZnJvbSAnfi9zZWxlY3Rpb24tcHJveHkudHMnO1xuaW1wb3J0IHR5cGUgeyBDb2x1bW5zU2VsZWN0aW9uIH0gZnJvbSAnfi9zcWwvc3FsLnRzJztcbmltcG9ydCB7IFNRTGl0ZVN5bmNEaWFsZWN0IH0gZnJvbSAnfi9zcWxpdGUtY29yZS9kaWFsZWN0LnRzJztcbmltcG9ydCB0eXBlIHsgV2l0aFN1YnF1ZXJ5V2l0aFNlbGVjdGlvbiB9IGZyb20gJ34vc3FsaXRlLWNvcmUvc3VicXVlcnkudHMnO1xuaW1wb3J0IHsgV2l0aFN1YnF1ZXJ5IH0gZnJvbSAnfi9zdWJxdWVyeS50cyc7XG5pbXBvcnQgeyBTUUxpdGVTZWxlY3RCdWlsZGVyIH0gZnJvbSAnLi9zZWxlY3QudHMnO1xuaW1wb3J0IHR5cGUgeyBTZWxlY3RlZEZpZWxkcyB9IGZyb20gJy4vc2VsZWN0LnR5cGVzLnRzJztcblxuZXhwb3J0IGNsYXNzIFF1ZXJ5QnVpbGRlciB7XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdTUUxpdGVRdWVyeUJ1aWxkZXInO1xuXG5cdHByaXZhdGUgZGlhbGVjdDogU1FMaXRlU3luY0RpYWxlY3QgfCB1bmRlZmluZWQ7XG5cblx0JHdpdGg8VEFsaWFzIGV4dGVuZHMgc3RyaW5nPihhbGlhczogVEFsaWFzKSB7XG5cdFx0Y29uc3QgcXVlcnlCdWlsZGVyID0gdGhpcztcblxuXHRcdHJldHVybiB7XG5cdFx0XHRhczxUU2VsZWN0aW9uIGV4dGVuZHMgQ29sdW1uc1NlbGVjdGlvbj4oXG5cdFx0XHRcdHFiOiBUeXBlZFF1ZXJ5QnVpbGRlcjxUU2VsZWN0aW9uPiB8ICgocWI6IFF1ZXJ5QnVpbGRlcikgPT4gVHlwZWRRdWVyeUJ1aWxkZXI8VFNlbGVjdGlvbj4pLFxuXHRcdFx0KTogV2l0aFN1YnF1ZXJ5V2l0aFNlbGVjdGlvbjxUU2VsZWN0aW9uLCBUQWxpYXM+IHtcblx0XHRcdFx0aWYgKHR5cGVvZiBxYiA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdHFiID0gcWIocXVlcnlCdWlsZGVyKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBuZXcgUHJveHkoXG5cdFx0XHRcdFx0bmV3IFdpdGhTdWJxdWVyeShxYi5nZXRTUUwoKSwgcWIuZ2V0U2VsZWN0ZWRGaWVsZHMoKSBhcyBTZWxlY3RlZEZpZWxkcywgYWxpYXMsIHRydWUpLFxuXHRcdFx0XHRcdG5ldyBTZWxlY3Rpb25Qcm94eUhhbmRsZXIoeyBhbGlhcywgc3FsQWxpYXNlZEJlaGF2aW9yOiAnYWxpYXMnLCBzcWxCZWhhdmlvcjogJ2Vycm9yJyB9KSxcblx0XHRcdFx0KSBhcyBXaXRoU3VicXVlcnlXaXRoU2VsZWN0aW9uPFRTZWxlY3Rpb24sIFRBbGlhcz47XG5cdFx0XHR9LFxuXHRcdH07XG5cdH1cblxuXHR3aXRoKC4uLnF1ZXJpZXM6IFdpdGhTdWJxdWVyeVtdKSB7XG5cdFx0Y29uc3Qgc2VsZiA9IHRoaXM7XG5cblx0XHRmdW5jdGlvbiBzZWxlY3QoKTogU1FMaXRlU2VsZWN0QnVpbGRlcjx1bmRlZmluZWQsICdzeW5jJywgdm9pZCwgJ3FiJz47XG5cdFx0ZnVuY3Rpb24gc2VsZWN0PFRTZWxlY3Rpb24gZXh0ZW5kcyBTZWxlY3RlZEZpZWxkcz4oXG5cdFx0XHRmaWVsZHM6IFRTZWxlY3Rpb24sXG5cdFx0KTogU1FMaXRlU2VsZWN0QnVpbGRlcjxUU2VsZWN0aW9uLCAnc3luYycsIHZvaWQsICdxYic+O1xuXHRcdGZ1bmN0aW9uIHNlbGVjdDxUU2VsZWN0aW9uIGV4dGVuZHMgU2VsZWN0ZWRGaWVsZHM+KFxuXHRcdFx0ZmllbGRzPzogVFNlbGVjdGlvbixcblx0XHQpOiBTUUxpdGVTZWxlY3RCdWlsZGVyPFRTZWxlY3Rpb24gfCB1bmRlZmluZWQsICdzeW5jJywgdm9pZCwgJ3FiJz4ge1xuXHRcdFx0cmV0dXJuIG5ldyBTUUxpdGVTZWxlY3RCdWlsZGVyKHtcblx0XHRcdFx0ZmllbGRzOiBmaWVsZHMgPz8gdW5kZWZpbmVkLFxuXHRcdFx0XHRzZXNzaW9uOiB1bmRlZmluZWQsXG5cdFx0XHRcdGRpYWxlY3Q6IHNlbGYuZ2V0RGlhbGVjdCgpLFxuXHRcdFx0XHR3aXRoTGlzdDogcXVlcmllcyxcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHNlbGVjdERpc3RpbmN0KCk6IFNRTGl0ZVNlbGVjdEJ1aWxkZXI8dW5kZWZpbmVkLCAnc3luYycsIHZvaWQsICdxYic+O1xuXHRcdGZ1bmN0aW9uIHNlbGVjdERpc3RpbmN0PFRTZWxlY3Rpb24gZXh0ZW5kcyBTZWxlY3RlZEZpZWxkcz4oXG5cdFx0XHRmaWVsZHM6IFRTZWxlY3Rpb24sXG5cdFx0KTogU1FMaXRlU2VsZWN0QnVpbGRlcjxUU2VsZWN0aW9uLCAnc3luYycsIHZvaWQsICdxYic+O1xuXHRcdGZ1bmN0aW9uIHNlbGVjdERpc3RpbmN0PFRTZWxlY3Rpb24gZXh0ZW5kcyBTZWxlY3RlZEZpZWxkcz4oXG5cdFx0XHRmaWVsZHM/OiBUU2VsZWN0aW9uLFxuXHRcdCk6IFNRTGl0ZVNlbGVjdEJ1aWxkZXI8VFNlbGVjdGlvbiB8IHVuZGVmaW5lZCwgJ3N5bmMnLCB2b2lkLCAncWInPiB7XG5cdFx0XHRyZXR1cm4gbmV3IFNRTGl0ZVNlbGVjdEJ1aWxkZXIoe1xuXHRcdFx0XHRmaWVsZHM6IGZpZWxkcyA/PyB1bmRlZmluZWQsXG5cdFx0XHRcdHNlc3Npb246IHVuZGVmaW5lZCxcblx0XHRcdFx0ZGlhbGVjdDogc2VsZi5nZXREaWFsZWN0KCksXG5cdFx0XHRcdHdpdGhMaXN0OiBxdWVyaWVzLFxuXHRcdFx0XHRkaXN0aW5jdDogdHJ1ZSxcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiB7IHNlbGVjdCwgc2VsZWN0RGlzdGluY3QgfTtcblx0fVxuXG5cdHNlbGVjdCgpOiBTUUxpdGVTZWxlY3RCdWlsZGVyPHVuZGVmaW5lZCwgJ3N5bmMnLCB2b2lkLCAncWInPjtcblx0c2VsZWN0PFRTZWxlY3Rpb24gZXh0ZW5kcyBTZWxlY3RlZEZpZWxkcz4oXG5cdFx0ZmllbGRzOiBUU2VsZWN0aW9uLFxuXHQpOiBTUUxpdGVTZWxlY3RCdWlsZGVyPFRTZWxlY3Rpb24sICdzeW5jJywgdm9pZCwgJ3FiJz47XG5cdHNlbGVjdDxUU2VsZWN0aW9uIGV4dGVuZHMgU2VsZWN0ZWRGaWVsZHM+KFxuXHRcdGZpZWxkcz86IFRTZWxlY3Rpb24sXG5cdCk6IFNRTGl0ZVNlbGVjdEJ1aWxkZXI8VFNlbGVjdGlvbiB8IHVuZGVmaW5lZCwgJ3N5bmMnLCB2b2lkLCAncWInPiB7XG5cdFx0cmV0dXJuIG5ldyBTUUxpdGVTZWxlY3RCdWlsZGVyKHsgZmllbGRzOiBmaWVsZHMgPz8gdW5kZWZpbmVkLCBzZXNzaW9uOiB1bmRlZmluZWQsIGRpYWxlY3Q6IHRoaXMuZ2V0RGlhbGVjdCgpIH0pO1xuXHR9XG5cblx0c2VsZWN0RGlzdGluY3QoKTogU1FMaXRlU2VsZWN0QnVpbGRlcjx1bmRlZmluZWQsICdzeW5jJywgdm9pZCwgJ3FiJz47XG5cdHNlbGVjdERpc3RpbmN0PFRTZWxlY3Rpb24gZXh0ZW5kcyBTZWxlY3RlZEZpZWxkcz4oXG5cdFx0ZmllbGRzOiBUU2VsZWN0aW9uLFxuXHQpOiBTUUxpdGVTZWxlY3RCdWlsZGVyPFRTZWxlY3Rpb24sICdzeW5jJywgdm9pZCwgJ3FiJz47XG5cdHNlbGVjdERpc3RpbmN0PFRTZWxlY3Rpb24gZXh0ZW5kcyBTZWxlY3RlZEZpZWxkcz4oXG5cdFx0ZmllbGRzPzogVFNlbGVjdGlvbixcblx0KTogU1FMaXRlU2VsZWN0QnVpbGRlcjxUU2VsZWN0aW9uIHwgdW5kZWZpbmVkLCAnc3luYycsIHZvaWQsICdxYic+IHtcblx0XHRyZXR1cm4gbmV3IFNRTGl0ZVNlbGVjdEJ1aWxkZXIoe1xuXHRcdFx0ZmllbGRzOiBmaWVsZHMgPz8gdW5kZWZpbmVkLFxuXHRcdFx0c2Vzc2lvbjogdW5kZWZpbmVkLFxuXHRcdFx0ZGlhbGVjdDogdGhpcy5nZXREaWFsZWN0KCksXG5cdFx0XHRkaXN0aW5jdDogdHJ1ZSxcblx0XHR9KTtcblx0fVxuXG5cdC8vIExhenkgbG9hZCBkaWFsZWN0IHRvIGF2b2lkIGNpcmN1bGFyIGRlcGVuZGVuY3lcblx0cHJpdmF0ZSBnZXREaWFsZWN0KCkge1xuXHRcdGlmICghdGhpcy5kaWFsZWN0KSB7XG5cdFx0XHR0aGlzLmRpYWxlY3QgPSBuZXcgU1FMaXRlU3luY0RpYWxlY3QoKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gdGhpcy5kaWFsZWN0O1xuXHR9XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBHZXRDb2x1bW5EYXRhIH0gZnJvbSAnfi9jb2x1bW4udHMnO1xuaW1wb3J0IHsgZW50aXR5S2luZCB9IGZyb20gJ34vZW50aXR5LnRzJztcbmltcG9ydCB0eXBlIHsgU2VsZWN0UmVzdWx0RmllbGRzIH0gZnJvbSAnfi9xdWVyeS1idWlsZGVycy9zZWxlY3QudHlwZXMudHMnO1xuaW1wb3J0IHsgUXVlcnlQcm9taXNlIH0gZnJvbSAnfi9xdWVyeS1wcm9taXNlLnRzJztcbmltcG9ydCB0eXBlIHsgUnVubmFibGVRdWVyeSB9IGZyb20gJ34vcnVubmFibGUtcXVlcnkudHMnO1xuaW1wb3J0IHR5cGUgeyBRdWVyeSwgU1FMLCBTUUxXcmFwcGVyIH0gZnJvbSAnfi9zcWwvc3FsLnRzJztcbmltcG9ydCB0eXBlIHsgU1FMaXRlRGlhbGVjdCB9IGZyb20gJ34vc3FsaXRlLWNvcmUvZGlhbGVjdC50cyc7XG5pbXBvcnQgdHlwZSB7IFNRTGl0ZVByZXBhcmVkUXVlcnksIFNRTGl0ZVNlc3Npb24gfSBmcm9tICd+L3NxbGl0ZS1jb3JlL3Nlc3Npb24udHMnO1xuaW1wb3J0IHsgU1FMaXRlVGFibGUgfSBmcm9tICd+L3NxbGl0ZS1jb3JlL3RhYmxlLnRzJztcbmltcG9ydCB0eXBlIHsgU3VicXVlcnkgfSBmcm9tICd+L3N1YnF1ZXJ5LnRzJztcbmltcG9ydCB7IHR5cGUgRHJpenpsZVR5cGVFcnJvciwgbWFwVXBkYXRlU2V0LCBvcmRlclNlbGVjdGVkRmllbGRzLCB0eXBlIFVwZGF0ZVNldCB9IGZyb20gJ34vdXRpbHMudHMnO1xuaW1wb3J0IHR5cGUgeyBTUUxpdGVDb2x1bW4gfSBmcm9tICcuLi9jb2x1bW5zL2NvbW1vbi50cyc7XG5pbXBvcnQgdHlwZSB7IFNlbGVjdGVkRmllbGRzLCBTZWxlY3RlZEZpZWxkc09yZGVyZWQgfSBmcm9tICcuL3NlbGVjdC50eXBlcy50cyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgU1FMaXRlVXBkYXRlQ29uZmlnIHtcblx0d2hlcmU/OiBTUUwgfCB1bmRlZmluZWQ7XG5cdHNldDogVXBkYXRlU2V0O1xuXHR0YWJsZTogU1FMaXRlVGFibGU7XG5cdHJldHVybmluZz86IFNlbGVjdGVkRmllbGRzT3JkZXJlZDtcblx0d2l0aExpc3Q/OiBTdWJxdWVyeVtdO1xufVxuXG5leHBvcnQgdHlwZSBTUUxpdGVVcGRhdGVTZXRTb3VyY2U8VFRhYmxlIGV4dGVuZHMgU1FMaXRlVGFibGU+ID1cblx0JiB7XG5cdFx0W0tleSBpbiBrZXlvZiBUVGFibGVbJyRpbmZlckluc2VydCddXT86XG5cdFx0XHR8IEdldENvbHVtbkRhdGE8VFRhYmxlWydfJ11bJ2NvbHVtbnMnXVtLZXldLCAncXVlcnknPlxuXHRcdFx0fCBTUUw7XG5cdH1cblx0JiB7fTtcblxuZXhwb3J0IGNsYXNzIFNRTGl0ZVVwZGF0ZUJ1aWxkZXI8XG5cdFRUYWJsZSBleHRlbmRzIFNRTGl0ZVRhYmxlLFxuXHRUUmVzdWx0VHlwZSBleHRlbmRzICdzeW5jJyB8ICdhc3luYycsXG5cdFRSdW5SZXN1bHQsXG4+IHtcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ1NRTGl0ZVVwZGF0ZUJ1aWxkZXInO1xuXG5cdGRlY2xhcmUgcmVhZG9ubHkgXzoge1xuXHRcdHJlYWRvbmx5IHRhYmxlOiBUVGFibGU7XG5cdH07XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0cHJvdGVjdGVkIHRhYmxlOiBUVGFibGUsXG5cdFx0cHJvdGVjdGVkIHNlc3Npb246IFNRTGl0ZVNlc3Npb248YW55LCBhbnksIGFueSwgYW55Pixcblx0XHRwcm90ZWN0ZWQgZGlhbGVjdDogU1FMaXRlRGlhbGVjdCxcblx0XHRwcml2YXRlIHdpdGhMaXN0PzogU3VicXVlcnlbXSxcblx0KSB7fVxuXG5cdHNldCh2YWx1ZXM6IFNRTGl0ZVVwZGF0ZVNldFNvdXJjZTxUVGFibGU+KTogU1FMaXRlVXBkYXRlQmFzZTxUVGFibGUsIFRSZXN1bHRUeXBlLCBUUnVuUmVzdWx0PiB7XG5cdFx0cmV0dXJuIG5ldyBTUUxpdGVVcGRhdGVCYXNlKFxuXHRcdFx0dGhpcy50YWJsZSxcblx0XHRcdG1hcFVwZGF0ZVNldCh0aGlzLnRhYmxlLCB2YWx1ZXMpLFxuXHRcdFx0dGhpcy5zZXNzaW9uLFxuXHRcdFx0dGhpcy5kaWFsZWN0LFxuXHRcdFx0dGhpcy53aXRoTGlzdCxcblx0XHQpO1xuXHR9XG59XG5cbmV4cG9ydCB0eXBlIFNRTGl0ZVVwZGF0ZVdpdGhvdXQ8XG5cdFQgZXh0ZW5kcyBBbnlTUUxpdGVVcGRhdGUsXG5cdFREeW5hbWljIGV4dGVuZHMgYm9vbGVhbixcblx0SyBleHRlbmRzIGtleW9mIFQgJiBzdHJpbmcsXG4+ID0gVER5bmFtaWMgZXh0ZW5kcyB0cnVlID8gVCA6IE9taXQ8XG5cdFNRTGl0ZVVwZGF0ZUJhc2U8XG5cdFx0VFsnXyddWyd0YWJsZSddLFxuXHRcdFRbJ18nXVsncmVzdWx0VHlwZSddLFxuXHRcdFRbJ18nXVsncnVuUmVzdWx0J10sXG5cdFx0VFsnXyddWydyZXR1cm5pbmcnXSxcblx0XHRURHluYW1pYyxcblx0XHRUWydfJ11bJ2V4Y2x1ZGVkTWV0aG9kcyddIHwgS1xuXHQ+LFxuXHRUWydfJ11bJ2V4Y2x1ZGVkTWV0aG9kcyddIHwgS1xuPjtcblxuZXhwb3J0IHR5cGUgU1FMaXRlVXBkYXRlUmV0dXJuaW5nQWxsPFQgZXh0ZW5kcyBBbnlTUUxpdGVVcGRhdGUsIFREeW5hbWljIGV4dGVuZHMgYm9vbGVhbj4gPSBTUUxpdGVVcGRhdGVXaXRob3V0PFxuXHRTUUxpdGVVcGRhdGVCYXNlPFxuXHRcdFRbJ18nXVsndGFibGUnXSxcblx0XHRUWydfJ11bJ3Jlc3VsdFR5cGUnXSxcblx0XHRUWydfJ11bJ3J1blJlc3VsdCddLFxuXHRcdFRbJ18nXVsndGFibGUnXVsnJGluZmVyU2VsZWN0J10sXG5cdFx0VER5bmFtaWMsXG5cdFx0VFsnXyddWydleGNsdWRlZE1ldGhvZHMnXVxuXHQ+LFxuXHRURHluYW1pYyxcblx0J3JldHVybmluZydcbj47XG5cbmV4cG9ydCB0eXBlIFNRTGl0ZVVwZGF0ZVJldHVybmluZzxcblx0VCBleHRlbmRzIEFueVNRTGl0ZVVwZGF0ZSxcblx0VER5bmFtaWMgZXh0ZW5kcyBib29sZWFuLFxuXHRUU2VsZWN0ZWRGaWVsZHMgZXh0ZW5kcyBTZWxlY3RlZEZpZWxkcyxcbj4gPSBTUUxpdGVVcGRhdGVXaXRob3V0PFxuXHRTUUxpdGVVcGRhdGVCYXNlPFxuXHRcdFRbJ18nXVsndGFibGUnXSxcblx0XHRUWydfJ11bJ3Jlc3VsdFR5cGUnXSxcblx0XHRUWydfJ11bJ3J1blJlc3VsdCddLFxuXHRcdFNlbGVjdFJlc3VsdEZpZWxkczxUU2VsZWN0ZWRGaWVsZHM+LFxuXHRcdFREeW5hbWljLFxuXHRcdFRbJ18nXVsnZXhjbHVkZWRNZXRob2RzJ11cblx0Pixcblx0VER5bmFtaWMsXG5cdCdyZXR1cm5pbmcnXG4+O1xuXG5leHBvcnQgdHlwZSBTUUxpdGVVcGRhdGVFeGVjdXRlPFQgZXh0ZW5kcyBBbnlTUUxpdGVVcGRhdGU+ID0gVFsnXyddWydyZXR1cm5pbmcnXSBleHRlbmRzIHVuZGVmaW5lZCA/IFRbJ18nXVsncnVuUmVzdWx0J11cblx0OiBUWydfJ11bJ3JldHVybmluZyddW107XG5cbmV4cG9ydCB0eXBlIFNRTGl0ZVVwZGF0ZVByZXBhcmU8VCBleHRlbmRzIEFueVNRTGl0ZVVwZGF0ZT4gPSBTUUxpdGVQcmVwYXJlZFF1ZXJ5PFxuXHR7XG5cdFx0dHlwZTogVFsnXyddWydyZXN1bHRUeXBlJ107XG5cdFx0cnVuOiBUWydfJ11bJ3J1blJlc3VsdCddO1xuXHRcdGFsbDogVFsnXyddWydyZXR1cm5pbmcnXSBleHRlbmRzIHVuZGVmaW5lZCA/IERyaXp6bGVUeXBlRXJyb3I8Jy5hbGwoKSBjYW5ub3QgYmUgdXNlZCB3aXRob3V0IC5yZXR1cm5pbmcoKSc+XG5cdFx0XHQ6IFRbJ18nXVsncmV0dXJuaW5nJ11bXTtcblx0XHRnZXQ6IFRbJ18nXVsncmV0dXJuaW5nJ10gZXh0ZW5kcyB1bmRlZmluZWQgPyBEcml6emxlVHlwZUVycm9yPCcuZ2V0KCkgY2Fubm90IGJlIHVzZWQgd2l0aG91dCAucmV0dXJuaW5nKCknPlxuXHRcdFx0OiBUWydfJ11bJ3JldHVybmluZyddO1xuXHRcdHZhbHVlczogVFsnXyddWydyZXR1cm5pbmcnXSBleHRlbmRzIHVuZGVmaW5lZCA/IERyaXp6bGVUeXBlRXJyb3I8Jy52YWx1ZXMoKSBjYW5ub3QgYmUgdXNlZCB3aXRob3V0IC5yZXR1cm5pbmcoKSc+XG5cdFx0XHQ6IGFueVtdW107XG5cdFx0ZXhlY3V0ZTogU1FMaXRlVXBkYXRlRXhlY3V0ZTxUPjtcblx0fVxuPjtcblxuZXhwb3J0IHR5cGUgU1FMaXRlVXBkYXRlRHluYW1pYzxUIGV4dGVuZHMgQW55U1FMaXRlVXBkYXRlPiA9IFNRTGl0ZVVwZGF0ZTxcblx0VFsnXyddWyd0YWJsZSddLFxuXHRUWydfJ11bJ3Jlc3VsdFR5cGUnXSxcblx0VFsnXyddWydydW5SZXN1bHQnXSxcblx0VFsnXyddWydyZXR1cm5pbmcnXVxuPjtcblxuZXhwb3J0IHR5cGUgU1FMaXRlVXBkYXRlPFxuXHRUVGFibGUgZXh0ZW5kcyBTUUxpdGVUYWJsZSA9IFNRTGl0ZVRhYmxlLFxuXHRUUmVzdWx0VHlwZSBleHRlbmRzICdzeW5jJyB8ICdhc3luYycgPSAnc3luYycgfCAnYXN5bmMnLFxuXHRUUnVuUmVzdWx0ID0gYW55LFxuXHRUUmV0dXJuaW5nIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4gfCB1bmRlZmluZWQgPSBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiB8IHVuZGVmaW5lZCxcbj4gPSBTUUxpdGVVcGRhdGVCYXNlPFRUYWJsZSwgVFJlc3VsdFR5cGUsIFRSdW5SZXN1bHQsIFRSZXR1cm5pbmcsIHRydWUsIG5ldmVyPjtcblxuZXhwb3J0IHR5cGUgQW55U1FMaXRlVXBkYXRlID0gU1FMaXRlVXBkYXRlQmFzZTxhbnksIGFueSwgYW55LCBhbnksIGFueSwgYW55PjtcblxuZXhwb3J0IGludGVyZmFjZSBTUUxpdGVVcGRhdGVCYXNlPFxuXHRUVGFibGUgZXh0ZW5kcyBTUUxpdGVUYWJsZSA9IFNRTGl0ZVRhYmxlLFxuXHRUUmVzdWx0VHlwZSBleHRlbmRzICdzeW5jJyB8ICdhc3luYycgPSAnc3luYycgfCAnYXN5bmMnLFxuXHRUUnVuUmVzdWx0ID0gdW5rbm93bixcblx0VFJldHVybmluZyA9IHVuZGVmaW5lZCxcblx0VER5bmFtaWMgZXh0ZW5kcyBib29sZWFuID0gZmFsc2UsXG5cdFRFeGNsdWRlZE1ldGhvZHMgZXh0ZW5kcyBzdHJpbmcgPSBuZXZlcixcbj4gZXh0ZW5kcyBTUUxXcmFwcGVyLCBRdWVyeVByb21pc2U8VFJldHVybmluZyBleHRlbmRzIHVuZGVmaW5lZCA/IFRSdW5SZXN1bHQgOiBUUmV0dXJuaW5nW10+IHtcblx0cmVhZG9ubHkgXzoge1xuXHRcdHJlYWRvbmx5IGRpYWxlY3Q6ICdzcWxpdGUnO1xuXHRcdHJlYWRvbmx5IHRhYmxlOiBUVGFibGU7XG5cdFx0cmVhZG9ubHkgcmVzdWx0VHlwZTogVFJlc3VsdFR5cGU7XG5cdFx0cmVhZG9ubHkgcnVuUmVzdWx0OiBUUnVuUmVzdWx0O1xuXHRcdHJlYWRvbmx5IHJldHVybmluZzogVFJldHVybmluZztcblx0XHRyZWFkb25seSBkeW5hbWljOiBURHluYW1pYztcblx0XHRyZWFkb25seSBleGNsdWRlZE1ldGhvZHM6IFRFeGNsdWRlZE1ldGhvZHM7XG5cdFx0cmVhZG9ubHkgcmVzdWx0OiBUUmV0dXJuaW5nIGV4dGVuZHMgdW5kZWZpbmVkID8gVFJ1blJlc3VsdCA6IFRSZXR1cm5pbmdbXTtcblx0fTtcbn1cblxuZXhwb3J0IGNsYXNzIFNRTGl0ZVVwZGF0ZUJhc2U8XG5cdFRUYWJsZSBleHRlbmRzIFNRTGl0ZVRhYmxlID0gU1FMaXRlVGFibGUsXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcblx0VFJlc3VsdFR5cGUgZXh0ZW5kcyAnc3luYycgfCAnYXN5bmMnID0gJ3N5bmMnIHwgJ2FzeW5jJyxcblx0VFJ1blJlc3VsdCA9IHVua25vd24sXG5cdFRSZXR1cm5pbmcgPSB1bmRlZmluZWQsXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcblx0VER5bmFtaWMgZXh0ZW5kcyBib29sZWFuID0gZmFsc2UsXG5cdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcblx0VEV4Y2x1ZGVkTWV0aG9kcyBleHRlbmRzIHN0cmluZyA9IG5ldmVyLFxuPiBleHRlbmRzIFF1ZXJ5UHJvbWlzZTxUUmV0dXJuaW5nIGV4dGVuZHMgdW5kZWZpbmVkID8gVFJ1blJlc3VsdCA6IFRSZXR1cm5pbmdbXT5cblx0aW1wbGVtZW50cyBSdW5uYWJsZVF1ZXJ5PFRSZXR1cm5pbmcgZXh0ZW5kcyB1bmRlZmluZWQgPyBUUnVuUmVzdWx0IDogVFJldHVybmluZ1tdLCAnc3FsaXRlJz4sIFNRTFdyYXBwZXJcbntcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ1NRTGl0ZVVwZGF0ZSc7XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRjb25maWc6IFNRTGl0ZVVwZGF0ZUNvbmZpZztcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHR0YWJsZTogVFRhYmxlLFxuXHRcdHNldDogVXBkYXRlU2V0LFxuXHRcdHByaXZhdGUgc2Vzc2lvbjogU1FMaXRlU2Vzc2lvbjxhbnksIGFueSwgYW55LCBhbnk+LFxuXHRcdHByaXZhdGUgZGlhbGVjdDogU1FMaXRlRGlhbGVjdCxcblx0XHR3aXRoTGlzdD86IFN1YnF1ZXJ5W10sXG5cdCkge1xuXHRcdHN1cGVyKCk7XG5cdFx0dGhpcy5jb25maWcgPSB7IHNldCwgdGFibGUsIHdpdGhMaXN0IH07XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBhICd3aGVyZScgY2xhdXNlIHRvIHRoZSBxdWVyeS5cblx0ICpcblx0ICogQ2FsbGluZyB0aGlzIG1ldGhvZCB3aWxsIHVwZGF0ZSBvbmx5IHRob3NlIHJvd3MgdGhhdCBmdWxmaWxsIGEgc3BlY2lmaWVkIGNvbmRpdGlvbi5cblx0ICpcblx0ICogU2VlIGRvY3M6IHtAbGluayBodHRwczovL29ybS5kcml6emxlLnRlYW0vZG9jcy91cGRhdGV9XG5cdCAqXG5cdCAqIEBwYXJhbSB3aGVyZSB0aGUgJ3doZXJlJyBjbGF1c2UuXG5cdCAqXG5cdCAqIEBleGFtcGxlXG5cdCAqIFlvdSBjYW4gdXNlIGNvbmRpdGlvbmFsIG9wZXJhdG9ycyBhbmQgYHNxbCBmdW5jdGlvbmAgdG8gZmlsdGVyIHRoZSByb3dzIHRvIGJlIHVwZGF0ZWQuXG5cdCAqXG5cdCAqIGBgYHRzXG5cdCAqIC8vIFVwZGF0ZSBhbGwgY2FycyB3aXRoIGdyZWVuIGNvbG9yXG5cdCAqIGRiLnVwZGF0ZShjYXJzKS5zZXQoeyBjb2xvcjogJ3JlZCcgfSlcblx0ICogICAud2hlcmUoZXEoY2Fycy5jb2xvciwgJ2dyZWVuJykpO1xuXHQgKiAvLyBvclxuXHQgKiBkYi51cGRhdGUoY2Fycykuc2V0KHsgY29sb3I6ICdyZWQnIH0pXG5cdCAqICAgLndoZXJlKHNxbGAke2NhcnMuY29sb3J9ID0gJ2dyZWVuJ2ApXG5cdCAqIGBgYFxuXHQgKlxuXHQgKiBZb3UgY2FuIGxvZ2ljYWxseSBjb21iaW5lIGNvbmRpdGlvbmFsIG9wZXJhdG9ycyB3aXRoIGBhbmQoKWAgYW5kIGBvcigpYCBvcGVyYXRvcnM6XG5cdCAqXG5cdCAqIGBgYHRzXG5cdCAqIC8vIFVwZGF0ZSBhbGwgQk1XIGNhcnMgd2l0aCBhIGdyZWVuIGNvbG9yXG5cdCAqIGRiLnVwZGF0ZShjYXJzKS5zZXQoeyBjb2xvcjogJ3JlZCcgfSlcblx0ICogICAud2hlcmUoYW5kKGVxKGNhcnMuY29sb3IsICdncmVlbicpLCBlcShjYXJzLmJyYW5kLCAnQk1XJykpKTtcblx0ICpcblx0ICogLy8gVXBkYXRlIGFsbCBjYXJzIHdpdGggdGhlIGdyZWVuIG9yIGJsdWUgY29sb3Jcblx0ICogZGIudXBkYXRlKGNhcnMpLnNldCh7IGNvbG9yOiAncmVkJyB9KVxuXHQgKiAgIC53aGVyZShvcihlcShjYXJzLmNvbG9yLCAnZ3JlZW4nKSwgZXEoY2Fycy5jb2xvciwgJ2JsdWUnKSkpO1xuXHQgKiBgYGBcblx0ICovXG5cdHdoZXJlKHdoZXJlOiBTUUwgfCB1bmRlZmluZWQpOiBTUUxpdGVVcGRhdGVXaXRob3V0PHRoaXMsIFREeW5hbWljLCAnd2hlcmUnPiB7XG5cdFx0dGhpcy5jb25maWcud2hlcmUgPSB3aGVyZTtcblx0XHRyZXR1cm4gdGhpcyBhcyBhbnk7XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBhIGByZXR1cm5pbmdgIGNsYXVzZSB0byB0aGUgcXVlcnkuXG5cdCAqXG5cdCAqIENhbGxpbmcgdGhpcyBtZXRob2Qgd2lsbCByZXR1cm4gdGhlIHNwZWNpZmllZCBmaWVsZHMgb2YgdGhlIHVwZGF0ZWQgcm93cy4gSWYgbm8gZmllbGRzIGFyZSBzcGVjaWZpZWQsIGFsbCBmaWVsZHMgd2lsbCBiZSByZXR1cm5lZC5cblx0ICpcblx0ICogU2VlIGRvY3M6IHtAbGluayBodHRwczovL29ybS5kcml6emxlLnRlYW0vZG9jcy91cGRhdGUjdXBkYXRlLXdpdGgtcmV0dXJuaW5nfVxuXHQgKlxuXHQgKiBAZXhhbXBsZVxuXHQgKiBgYGB0c1xuXHQgKiAvLyBVcGRhdGUgYWxsIGNhcnMgd2l0aCB0aGUgZ3JlZW4gY29sb3IgYW5kIHJldHVybiBhbGwgZmllbGRzXG5cdCAqIGNvbnN0IHVwZGF0ZWRDYXJzOiBDYXJbXSA9IGF3YWl0IGRiLnVwZGF0ZShjYXJzKVxuXHQgKiAgIC5zZXQoeyBjb2xvcjogJ3JlZCcgfSlcblx0ICogICAud2hlcmUoZXEoY2Fycy5jb2xvciwgJ2dyZWVuJykpXG5cdCAqICAgLnJldHVybmluZygpO1xuXHQgKlxuXHQgKiAvLyBVcGRhdGUgYWxsIGNhcnMgd2l0aCB0aGUgZ3JlZW4gY29sb3IgYW5kIHJldHVybiBvbmx5IHRoZWlyIGlkIGFuZCBicmFuZCBmaWVsZHNcblx0ICogY29uc3QgdXBkYXRlZENhcnNJZHNBbmRCcmFuZHM6IHsgaWQ6IG51bWJlciwgYnJhbmQ6IHN0cmluZyB9W10gPSBhd2FpdCBkYi51cGRhdGUoY2Fycylcblx0ICogICAuc2V0KHsgY29sb3I6ICdyZWQnIH0pXG5cdCAqICAgLndoZXJlKGVxKGNhcnMuY29sb3IsICdncmVlbicpKVxuXHQgKiAgIC5yZXR1cm5pbmcoeyBpZDogY2Fycy5pZCwgYnJhbmQ6IGNhcnMuYnJhbmQgfSk7XG5cdCAqIGBgYFxuXHQgKi9cblx0cmV0dXJuaW5nKCk6IFNRTGl0ZVVwZGF0ZVJldHVybmluZ0FsbDx0aGlzLCBURHluYW1pYz47XG5cdHJldHVybmluZzxUU2VsZWN0ZWRGaWVsZHMgZXh0ZW5kcyBTZWxlY3RlZEZpZWxkcz4oXG5cdFx0ZmllbGRzOiBUU2VsZWN0ZWRGaWVsZHMsXG5cdCk6IFNRTGl0ZVVwZGF0ZVJldHVybmluZzx0aGlzLCBURHluYW1pYywgVFNlbGVjdGVkRmllbGRzPjtcblx0cmV0dXJuaW5nKFxuXHRcdGZpZWxkczogU2VsZWN0ZWRGaWVsZHMgPSB0aGlzLmNvbmZpZy50YWJsZVtTUUxpdGVUYWJsZS5TeW1ib2wuQ29sdW1uc10sXG5cdCk6IFNRTGl0ZVVwZGF0ZVdpdGhvdXQ8QW55U1FMaXRlVXBkYXRlLCBURHluYW1pYywgJ3JldHVybmluZyc+IHtcblx0XHR0aGlzLmNvbmZpZy5yZXR1cm5pbmcgPSBvcmRlclNlbGVjdGVkRmllbGRzPFNRTGl0ZUNvbHVtbj4oZmllbGRzKTtcblx0XHRyZXR1cm4gdGhpcyBhcyBhbnk7XG5cdH1cblxuXHQvKiogQGludGVybmFsICovXG5cdGdldFNRTCgpOiBTUUwge1xuXHRcdHJldHVybiB0aGlzLmRpYWxlY3QuYnVpbGRVcGRhdGVRdWVyeSh0aGlzLmNvbmZpZyk7XG5cdH1cblxuXHR0b1NRTCgpOiBRdWVyeSB7XG5cdFx0Y29uc3QgeyB0eXBpbmdzOiBfdHlwaW5ncywgLi4ucmVzdCB9ID0gdGhpcy5kaWFsZWN0LnNxbFRvUXVlcnkodGhpcy5nZXRTUUwoKSk7XG5cdFx0cmV0dXJuIHJlc3Q7XG5cdH1cblxuXHQvKiogQGludGVybmFsICovXG5cdF9wcmVwYXJlKGlzT25lVGltZVF1ZXJ5ID0gdHJ1ZSk6IFNRTGl0ZVVwZGF0ZVByZXBhcmU8dGhpcz4ge1xuXHRcdHJldHVybiB0aGlzLnNlc3Npb25baXNPbmVUaW1lUXVlcnkgPyAncHJlcGFyZU9uZVRpbWVRdWVyeScgOiAncHJlcGFyZVF1ZXJ5J10oXG5cdFx0XHR0aGlzLmRpYWxlY3Quc3FsVG9RdWVyeSh0aGlzLmdldFNRTCgpKSxcblx0XHRcdHRoaXMuY29uZmlnLnJldHVybmluZyxcblx0XHRcdHRoaXMuY29uZmlnLnJldHVybmluZyA/ICdhbGwnIDogJ3J1bicsXG5cdFx0XHR0cnVlLFxuXHRcdCkgYXMgU1FMaXRlVXBkYXRlUHJlcGFyZTx0aGlzPjtcblx0fVxuXG5cdHByZXBhcmUoKTogU1FMaXRlVXBkYXRlUHJlcGFyZTx0aGlzPiB7XG5cdFx0cmV0dXJuIHRoaXMuX3ByZXBhcmUoZmFsc2UpO1xuXHR9XG5cblx0cnVuOiBSZXR1cm5UeXBlPHRoaXNbJ3ByZXBhcmUnXT5bJ3J1biddID0gKHBsYWNlaG9sZGVyVmFsdWVzKSA9PiB7XG5cdFx0cmV0dXJuIHRoaXMuX3ByZXBhcmUoKS5ydW4ocGxhY2Vob2xkZXJWYWx1ZXMpO1xuXHR9O1xuXG5cdGFsbDogUmV0dXJuVHlwZTx0aGlzWydwcmVwYXJlJ10+WydhbGwnXSA9IChwbGFjZWhvbGRlclZhbHVlcykgPT4ge1xuXHRcdHJldHVybiB0aGlzLl9wcmVwYXJlKCkuYWxsKHBsYWNlaG9sZGVyVmFsdWVzKTtcblx0fTtcblxuXHRnZXQ6IFJldHVyblR5cGU8dGhpc1sncHJlcGFyZSddPlsnZ2V0J10gPSAocGxhY2Vob2xkZXJWYWx1ZXMpID0+IHtcblx0XHRyZXR1cm4gdGhpcy5fcHJlcGFyZSgpLmdldChwbGFjZWhvbGRlclZhbHVlcyk7XG5cdH07XG5cblx0dmFsdWVzOiBSZXR1cm5UeXBlPHRoaXNbJ3ByZXBhcmUnXT5bJ3ZhbHVlcyddID0gKHBsYWNlaG9sZGVyVmFsdWVzKSA9PiB7XG5cdFx0cmV0dXJuIHRoaXMuX3ByZXBhcmUoKS52YWx1ZXMocGxhY2Vob2xkZXJWYWx1ZXMpO1xuXHR9O1xuXG5cdG92ZXJyaWRlIGFzeW5jIGV4ZWN1dGUoKTogUHJvbWlzZTxTUUxpdGVVcGRhdGVFeGVjdXRlPHRoaXM+PiB7XG5cdFx0cmV0dXJuICh0aGlzLmNvbmZpZy5yZXR1cm5pbmcgPyB0aGlzLmFsbCgpIDogdGhpcy5ydW4oKSkgYXMgU1FMaXRlVXBkYXRlRXhlY3V0ZTx0aGlzPjtcblx0fVxuXG5cdCRkeW5hbWljKCk6IFNRTGl0ZVVwZGF0ZUR5bmFtaWM8dGhpcz4ge1xuXHRcdHJldHVybiB0aGlzIGFzIGFueTtcblx0fVxufVxuIiwgImltcG9ydCB7IGVudGl0eUtpbmQgfSBmcm9tICd+L2VudGl0eS50cyc7XG5pbXBvcnQgeyBRdWVyeVByb21pc2UgfSBmcm9tICd+L3F1ZXJ5LXByb21pc2UudHMnO1xuaW1wb3J0IHtcblx0dHlwZSBCdWlsZFF1ZXJ5UmVzdWx0LFxuXHR0eXBlIEJ1aWxkUmVsYXRpb25hbFF1ZXJ5UmVzdWx0LFxuXHR0eXBlIERCUXVlcnlDb25maWcsXG5cdG1hcFJlbGF0aW9uYWxSb3csXG5cdHR5cGUgVGFibGVSZWxhdGlvbmFsQ29uZmlnLFxuXHR0eXBlIFRhYmxlc1JlbGF0aW9uYWxDb25maWcsXG59IGZyb20gJ34vcmVsYXRpb25zLnRzJztcbmltcG9ydCB0eXBlIHsgUnVubmFibGVRdWVyeSB9IGZyb20gJ34vcnVubmFibGUtcXVlcnkudHMnO1xuaW1wb3J0IHR5cGUgeyBRdWVyeSwgUXVlcnlXaXRoVHlwaW5ncywgU1FMLCBTUUxXcmFwcGVyIH0gZnJvbSAnfi9zcWwvc3FsLnRzJztcbmltcG9ydCB0eXBlIHsgS25vd25LZXlzT25seSB9IGZyb20gJ34vdXRpbHMudHMnO1xuaW1wb3J0IHR5cGUgeyBTUUxpdGVEaWFsZWN0IH0gZnJvbSAnLi4vZGlhbGVjdC50cyc7XG5pbXBvcnQgdHlwZSB7IFByZXBhcmVkUXVlcnlDb25maWcsIFNRTGl0ZVByZXBhcmVkUXVlcnksIFNRTGl0ZVNlc3Npb24gfSBmcm9tICcuLi9zZXNzaW9uLnRzJztcbmltcG9ydCB0eXBlIHsgU1FMaXRlVGFibGUgfSBmcm9tICcuLi90YWJsZS50cyc7XG5cbmV4cG9ydCB0eXBlIFNRTGl0ZVJlbGF0aW9uYWxRdWVyeUtpbmQ8VE1vZGUgZXh0ZW5kcyAnc3luYycgfCAnYXN5bmMnLCBUUmVzdWx0PiA9IFRNb2RlIGV4dGVuZHMgJ2FzeW5jJ1xuXHQ/IFNRTGl0ZVJlbGF0aW9uYWxRdWVyeTxUTW9kZSwgVFJlc3VsdD5cblx0OiBTUUxpdGVTeW5jUmVsYXRpb25hbFF1ZXJ5PFRSZXN1bHQ+O1xuXG5leHBvcnQgY2xhc3MgUmVsYXRpb25hbFF1ZXJ5QnVpbGRlcjxcblx0VE1vZGUgZXh0ZW5kcyAnc3luYycgfCAnYXN5bmMnLFxuXHRURnVsbFNjaGVtYSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuXHRUU2NoZW1hIGV4dGVuZHMgVGFibGVzUmVsYXRpb25hbENvbmZpZyxcblx0VEZpZWxkcyBleHRlbmRzIFRhYmxlUmVsYXRpb25hbENvbmZpZyxcbj4ge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnU1FMaXRlQXN5bmNSZWxhdGlvbmFsUXVlcnlCdWlsZGVyJztcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcm90ZWN0ZWQgbW9kZTogVE1vZGUsXG5cdFx0cHJvdGVjdGVkIGZ1bGxTY2hlbWE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuXHRcdHByb3RlY3RlZCBzY2hlbWE6IFRTY2hlbWEsXG5cdFx0cHJvdGVjdGVkIHRhYmxlTmFtZXNNYXA6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4sXG5cdFx0cHJvdGVjdGVkIHRhYmxlOiBTUUxpdGVUYWJsZSxcblx0XHRwcm90ZWN0ZWQgdGFibGVDb25maWc6IFRhYmxlUmVsYXRpb25hbENvbmZpZyxcblx0XHRwcm90ZWN0ZWQgZGlhbGVjdDogU1FMaXRlRGlhbGVjdCxcblx0XHRwcm90ZWN0ZWQgc2Vzc2lvbjogU1FMaXRlU2Vzc2lvbjwnYXN5bmMnLCB1bmtub3duLCBURnVsbFNjaGVtYSwgVFNjaGVtYT4sXG5cdCkge31cblxuXHRmaW5kTWFueTxUQ29uZmlnIGV4dGVuZHMgREJRdWVyeUNvbmZpZzwnbWFueScsIHRydWUsIFRTY2hlbWEsIFRGaWVsZHM+Pihcblx0XHRjb25maWc/OiBLbm93bktleXNPbmx5PFRDb25maWcsIERCUXVlcnlDb25maWc8J21hbnknLCB0cnVlLCBUU2NoZW1hLCBURmllbGRzPj4sXG5cdCk6IFNRTGl0ZVJlbGF0aW9uYWxRdWVyeUtpbmQ8VE1vZGUsIEJ1aWxkUXVlcnlSZXN1bHQ8VFNjaGVtYSwgVEZpZWxkcywgVENvbmZpZz5bXT4ge1xuXHRcdHJldHVybiAodGhpcy5tb2RlID09PSAnc3luYydcblx0XHRcdD8gbmV3IFNRTGl0ZVN5bmNSZWxhdGlvbmFsUXVlcnkoXG5cdFx0XHRcdHRoaXMuZnVsbFNjaGVtYSxcblx0XHRcdFx0dGhpcy5zY2hlbWEsXG5cdFx0XHRcdHRoaXMudGFibGVOYW1lc01hcCxcblx0XHRcdFx0dGhpcy50YWJsZSxcblx0XHRcdFx0dGhpcy50YWJsZUNvbmZpZyxcblx0XHRcdFx0dGhpcy5kaWFsZWN0LFxuXHRcdFx0XHR0aGlzLnNlc3Npb24sXG5cdFx0XHRcdGNvbmZpZyA/IChjb25maWcgYXMgREJRdWVyeUNvbmZpZzwnbWFueScsIHRydWU+KSA6IHt9LFxuXHRcdFx0XHQnbWFueScsXG5cdFx0XHQpXG5cdFx0XHQ6IG5ldyBTUUxpdGVSZWxhdGlvbmFsUXVlcnkoXG5cdFx0XHRcdHRoaXMuZnVsbFNjaGVtYSxcblx0XHRcdFx0dGhpcy5zY2hlbWEsXG5cdFx0XHRcdHRoaXMudGFibGVOYW1lc01hcCxcblx0XHRcdFx0dGhpcy50YWJsZSxcblx0XHRcdFx0dGhpcy50YWJsZUNvbmZpZyxcblx0XHRcdFx0dGhpcy5kaWFsZWN0LFxuXHRcdFx0XHR0aGlzLnNlc3Npb24sXG5cdFx0XHRcdGNvbmZpZyA/IChjb25maWcgYXMgREJRdWVyeUNvbmZpZzwnbWFueScsIHRydWU+KSA6IHt9LFxuXHRcdFx0XHQnbWFueScsXG5cdFx0XHQpKSBhcyBTUUxpdGVSZWxhdGlvbmFsUXVlcnlLaW5kPFRNb2RlLCBCdWlsZFF1ZXJ5UmVzdWx0PFRTY2hlbWEsIFRGaWVsZHMsIFRDb25maWc+W10+O1xuXHR9XG5cblx0ZmluZEZpcnN0PFRTZWxlY3Rpb24gZXh0ZW5kcyBPbWl0PERCUXVlcnlDb25maWc8J21hbnknLCB0cnVlLCBUU2NoZW1hLCBURmllbGRzPiwgJ2xpbWl0Jz4+KFxuXHRcdGNvbmZpZz86IEtub3duS2V5c09ubHk8VFNlbGVjdGlvbiwgT21pdDxEQlF1ZXJ5Q29uZmlnPCdtYW55JywgdHJ1ZSwgVFNjaGVtYSwgVEZpZWxkcz4sICdsaW1pdCc+Pixcblx0KTogU1FMaXRlUmVsYXRpb25hbFF1ZXJ5S2luZDxUTW9kZSwgQnVpbGRRdWVyeVJlc3VsdDxUU2NoZW1hLCBURmllbGRzLCBUU2VsZWN0aW9uPiB8IHVuZGVmaW5lZD4ge1xuXHRcdHJldHVybiAodGhpcy5tb2RlID09PSAnc3luYydcblx0XHRcdD8gbmV3IFNRTGl0ZVN5bmNSZWxhdGlvbmFsUXVlcnkoXG5cdFx0XHRcdHRoaXMuZnVsbFNjaGVtYSxcblx0XHRcdFx0dGhpcy5zY2hlbWEsXG5cdFx0XHRcdHRoaXMudGFibGVOYW1lc01hcCxcblx0XHRcdFx0dGhpcy50YWJsZSxcblx0XHRcdFx0dGhpcy50YWJsZUNvbmZpZyxcblx0XHRcdFx0dGhpcy5kaWFsZWN0LFxuXHRcdFx0XHR0aGlzLnNlc3Npb24sXG5cdFx0XHRcdGNvbmZpZyA/IHsgLi4uKGNvbmZpZyBhcyBEQlF1ZXJ5Q29uZmlnPCdtYW55JywgdHJ1ZT4gfCB1bmRlZmluZWQpLCBsaW1pdDogMSB9IDogeyBsaW1pdDogMSB9LFxuXHRcdFx0XHQnZmlyc3QnLFxuXHRcdFx0KVxuXHRcdFx0OiBuZXcgU1FMaXRlUmVsYXRpb25hbFF1ZXJ5KFxuXHRcdFx0XHR0aGlzLmZ1bGxTY2hlbWEsXG5cdFx0XHRcdHRoaXMuc2NoZW1hLFxuXHRcdFx0XHR0aGlzLnRhYmxlTmFtZXNNYXAsXG5cdFx0XHRcdHRoaXMudGFibGUsXG5cdFx0XHRcdHRoaXMudGFibGVDb25maWcsXG5cdFx0XHRcdHRoaXMuZGlhbGVjdCxcblx0XHRcdFx0dGhpcy5zZXNzaW9uLFxuXHRcdFx0XHRjb25maWcgPyB7IC4uLihjb25maWcgYXMgREJRdWVyeUNvbmZpZzwnbWFueScsIHRydWU+IHwgdW5kZWZpbmVkKSwgbGltaXQ6IDEgfSA6IHsgbGltaXQ6IDEgfSxcblx0XHRcdFx0J2ZpcnN0Jyxcblx0XHRcdCkpIGFzIFNRTGl0ZVJlbGF0aW9uYWxRdWVyeUtpbmQ8VE1vZGUsIEJ1aWxkUXVlcnlSZXN1bHQ8VFNjaGVtYSwgVEZpZWxkcywgVFNlbGVjdGlvbj4gfCB1bmRlZmluZWQ+O1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBTUUxpdGVSZWxhdGlvbmFsUXVlcnk8VFR5cGUgZXh0ZW5kcyAnc3luYycgfCAnYXN5bmMnLCBUUmVzdWx0PiBleHRlbmRzIFF1ZXJ5UHJvbWlzZTxUUmVzdWx0PlxuXHRpbXBsZW1lbnRzIFJ1bm5hYmxlUXVlcnk8VFJlc3VsdCwgJ3NxbGl0ZSc+LCBTUUxXcmFwcGVyXG57XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdTUUxpdGVBc3luY1JlbGF0aW9uYWxRdWVyeSc7XG5cblx0ZGVjbGFyZSByZWFkb25seSBfOiB7XG5cdFx0cmVhZG9ubHkgZGlhbGVjdDogJ3NxbGl0ZSc7XG5cdFx0cmVhZG9ubHkgdHlwZTogVFR5cGU7XG5cdFx0cmVhZG9ubHkgcmVzdWx0OiBUUmVzdWx0O1xuXHR9O1xuXG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0bW9kZTogJ21hbnknIHwgJ2ZpcnN0JztcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIGZ1bGxTY2hlbWE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+LFxuXHRcdHByaXZhdGUgc2NoZW1hOiBUYWJsZXNSZWxhdGlvbmFsQ29uZmlnLFxuXHRcdHByaXZhdGUgdGFibGVOYW1lc01hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPixcblx0XHQvKiogQGludGVybmFsICovXG5cdFx0cHVibGljIHRhYmxlOiBTUUxpdGVUYWJsZSxcblx0XHRwcml2YXRlIHRhYmxlQ29uZmlnOiBUYWJsZVJlbGF0aW9uYWxDb25maWcsXG5cdFx0cHJpdmF0ZSBkaWFsZWN0OiBTUUxpdGVEaWFsZWN0LFxuXHRcdHByaXZhdGUgc2Vzc2lvbjogU1FMaXRlU2Vzc2lvbjwnc3luYycgfCAnYXN5bmMnLCB1bmtub3duLCBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiwgVGFibGVzUmVsYXRpb25hbENvbmZpZz4sXG5cdFx0cHJpdmF0ZSBjb25maWc6IERCUXVlcnlDb25maWc8J21hbnknLCB0cnVlPiB8IHRydWUsXG5cdFx0bW9kZTogJ21hbnknIHwgJ2ZpcnN0Jyxcblx0KSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLm1vZGUgPSBtb2RlO1xuXHR9XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRnZXRTUUwoKTogU1FMIHtcblx0XHRyZXR1cm4gdGhpcy5kaWFsZWN0LmJ1aWxkUmVsYXRpb25hbFF1ZXJ5KHtcblx0XHRcdGZ1bGxTY2hlbWE6IHRoaXMuZnVsbFNjaGVtYSxcblx0XHRcdHNjaGVtYTogdGhpcy5zY2hlbWEsXG5cdFx0XHR0YWJsZU5hbWVzTWFwOiB0aGlzLnRhYmxlTmFtZXNNYXAsXG5cdFx0XHR0YWJsZTogdGhpcy50YWJsZSxcblx0XHRcdHRhYmxlQ29uZmlnOiB0aGlzLnRhYmxlQ29uZmlnLFxuXHRcdFx0cXVlcnlDb25maWc6IHRoaXMuY29uZmlnLFxuXHRcdFx0dGFibGVBbGlhczogdGhpcy50YWJsZUNvbmZpZy50c05hbWUsXG5cdFx0fSkuc3FsIGFzIFNRTDtcblx0fVxuXG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0X3ByZXBhcmUoXG5cdFx0aXNPbmVUaW1lUXVlcnkgPSBmYWxzZSxcblx0KTogU1FMaXRlUHJlcGFyZWRRdWVyeTxQcmVwYXJlZFF1ZXJ5Q29uZmlnICYgeyB0eXBlOiBUVHlwZTsgYWxsOiBUUmVzdWx0OyBnZXQ6IFRSZXN1bHQ7IGV4ZWN1dGU6IFRSZXN1bHQgfT4ge1xuXHRcdGNvbnN0IHsgcXVlcnksIGJ1aWx0UXVlcnkgfSA9IHRoaXMuX3RvU1FMKCk7XG5cblx0XHRyZXR1cm4gdGhpcy5zZXNzaW9uW2lzT25lVGltZVF1ZXJ5ID8gJ3ByZXBhcmVPbmVUaW1lUXVlcnknIDogJ3ByZXBhcmVRdWVyeSddKFxuXHRcdFx0YnVpbHRRdWVyeSxcblx0XHRcdHVuZGVmaW5lZCxcblx0XHRcdHRoaXMubW9kZSA9PT0gJ2ZpcnN0JyA/ICdnZXQnIDogJ2FsbCcsXG5cdFx0XHR0cnVlLFxuXHRcdFx0KHJhd1Jvd3MsIG1hcENvbHVtblZhbHVlKSA9PiB7XG5cdFx0XHRcdGNvbnN0IHJvd3MgPSByYXdSb3dzLm1hcCgocm93KSA9PlxuXHRcdFx0XHRcdG1hcFJlbGF0aW9uYWxSb3codGhpcy5zY2hlbWEsIHRoaXMudGFibGVDb25maWcsIHJvdywgcXVlcnkuc2VsZWN0aW9uLCBtYXBDb2x1bW5WYWx1ZSlcblx0XHRcdFx0KTtcblx0XHRcdFx0aWYgKHRoaXMubW9kZSA9PT0gJ2ZpcnN0Jykge1xuXHRcdFx0XHRcdHJldHVybiByb3dzWzBdIGFzIFRSZXN1bHQ7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHJvd3MgYXMgVFJlc3VsdDtcblx0XHRcdH0sXG5cdFx0KSBhcyBTUUxpdGVQcmVwYXJlZFF1ZXJ5PFByZXBhcmVkUXVlcnlDb25maWcgJiB7IHR5cGU6IFRUeXBlOyBhbGw6IFRSZXN1bHQ7IGdldDogVFJlc3VsdDsgZXhlY3V0ZTogVFJlc3VsdCB9Pjtcblx0fVxuXG5cdHByZXBhcmUoKTogU1FMaXRlUHJlcGFyZWRRdWVyeTxQcmVwYXJlZFF1ZXJ5Q29uZmlnICYgeyB0eXBlOiBUVHlwZTsgYWxsOiBUUmVzdWx0OyBnZXQ6IFRSZXN1bHQ7IGV4ZWN1dGU6IFRSZXN1bHQgfT4ge1xuXHRcdHJldHVybiB0aGlzLl9wcmVwYXJlKGZhbHNlKTtcblx0fVxuXG5cdHByaXZhdGUgX3RvU1FMKCk6IHsgcXVlcnk6IEJ1aWxkUmVsYXRpb25hbFF1ZXJ5UmVzdWx0OyBidWlsdFF1ZXJ5OiBRdWVyeVdpdGhUeXBpbmdzIH0ge1xuXHRcdGNvbnN0IHF1ZXJ5ID0gdGhpcy5kaWFsZWN0LmJ1aWxkUmVsYXRpb25hbFF1ZXJ5KHtcblx0XHRcdGZ1bGxTY2hlbWE6IHRoaXMuZnVsbFNjaGVtYSxcblx0XHRcdHNjaGVtYTogdGhpcy5zY2hlbWEsXG5cdFx0XHR0YWJsZU5hbWVzTWFwOiB0aGlzLnRhYmxlTmFtZXNNYXAsXG5cdFx0XHR0YWJsZTogdGhpcy50YWJsZSxcblx0XHRcdHRhYmxlQ29uZmlnOiB0aGlzLnRhYmxlQ29uZmlnLFxuXHRcdFx0cXVlcnlDb25maWc6IHRoaXMuY29uZmlnLFxuXHRcdFx0dGFibGVBbGlhczogdGhpcy50YWJsZUNvbmZpZy50c05hbWUsXG5cdFx0fSk7XG5cblx0XHRjb25zdCBidWlsdFF1ZXJ5ID0gdGhpcy5kaWFsZWN0LnNxbFRvUXVlcnkocXVlcnkuc3FsIGFzIFNRTCk7XG5cblx0XHRyZXR1cm4geyBxdWVyeSwgYnVpbHRRdWVyeSB9O1xuXHR9XG5cblx0dG9TUUwoKTogUXVlcnkge1xuXHRcdHJldHVybiB0aGlzLl90b1NRTCgpLmJ1aWx0UXVlcnk7XG5cdH1cblxuXHQvKiogQGludGVybmFsICovXG5cdGV4ZWN1dGVSYXcoKTogVFJlc3VsdCB7XG5cdFx0aWYgKHRoaXMubW9kZSA9PT0gJ2ZpcnN0Jykge1xuXHRcdFx0cmV0dXJuIHRoaXMuX3ByZXBhcmUoZmFsc2UpLmdldCgpIGFzIFRSZXN1bHQ7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLl9wcmVwYXJlKGZhbHNlKS5hbGwoKSBhcyBUUmVzdWx0O1xuXHR9XG5cblx0b3ZlcnJpZGUgYXN5bmMgZXhlY3V0ZSgpOiBQcm9taXNlPFRSZXN1bHQ+IHtcblx0XHRyZXR1cm4gdGhpcy5leGVjdXRlUmF3KCk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIFNRTGl0ZVN5bmNSZWxhdGlvbmFsUXVlcnk8VFJlc3VsdD4gZXh0ZW5kcyBTUUxpdGVSZWxhdGlvbmFsUXVlcnk8J3N5bmMnLCBUUmVzdWx0PiB7XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdTUUxpdGVTeW5jUmVsYXRpb25hbFF1ZXJ5JztcblxuXHRzeW5jKCk6IFRSZXN1bHQge1xuXHRcdHJldHVybiB0aGlzLmV4ZWN1dGVSYXcoKTtcblx0fVxufVxuIiwgImltcG9ydCB7IGVudGl0eUtpbmQgfSBmcm9tICd+L2VudGl0eS50cyc7XG5pbXBvcnQgdHlwZSB7IFNRTCwgU1FMV3JhcHBlciB9IGZyb20gJ34vaW5kZXgudHMnO1xuaW1wb3J0IHsgUXVlcnlQcm9taXNlIH0gZnJvbSAnfi9xdWVyeS1wcm9taXNlLnRzJztcbmltcG9ydCB0eXBlIHsgUnVubmFibGVRdWVyeSB9IGZyb20gJ34vcnVubmFibGUtcXVlcnkudHMnO1xuaW1wb3J0IHR5cGUgeyBQcmVwYXJlZFF1ZXJ5IH0gZnJvbSAnfi9zZXNzaW9uLnRzJztcbmltcG9ydCB0eXBlIHsgU1FMaXRlQXN5bmNEaWFsZWN0IH0gZnJvbSAnLi4vZGlhbGVjdC50cyc7XG5cbnR5cGUgU1FMaXRlUmF3QWN0aW9uID0gJ2FsbCcgfCAnZ2V0JyB8ICd2YWx1ZXMnIHwgJ3J1bic7XG5leHBvcnQgaW50ZXJmYWNlIFNRTGl0ZVJhd0NvbmZpZyB7XG5cdGFjdGlvbjogU1FMaXRlUmF3QWN0aW9uO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNRTGl0ZVJhdzxUUmVzdWx0PiBleHRlbmRzIFF1ZXJ5UHJvbWlzZTxUUmVzdWx0PiwgUnVubmFibGVRdWVyeTxUUmVzdWx0LCAnc3FsaXRlJz4sIFNRTFdyYXBwZXIge31cblxuZXhwb3J0IGNsYXNzIFNRTGl0ZVJhdzxUUmVzdWx0PiBleHRlbmRzIFF1ZXJ5UHJvbWlzZTxUUmVzdWx0PlxuXHRpbXBsZW1lbnRzIFJ1bm5hYmxlUXVlcnk8VFJlc3VsdCwgJ3NxbGl0ZSc+LCBTUUxXcmFwcGVyLCBQcmVwYXJlZFF1ZXJ5XG57XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdTUUxpdGVSYXcnO1xuXG5cdGRlY2xhcmUgcmVhZG9ubHkgXzoge1xuXHRcdHJlYWRvbmx5IGRpYWxlY3Q6ICdzcWxpdGUnO1xuXHRcdHJlYWRvbmx5IHJlc3VsdDogVFJlc3VsdDtcblx0fTtcblxuXHQvKiogQGludGVybmFsICovXG5cdGNvbmZpZzogU1FMaXRlUmF3Q29uZmlnO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdHB1YmxpYyBleGVjdXRlOiAoKSA9PiBQcm9taXNlPFRSZXN1bHQ+LFxuXHRcdC8qKiBAaW50ZXJuYWwgKi9cblx0XHRwdWJsaWMgZ2V0U1FMOiAoKSA9PiBTUUwsXG5cdFx0YWN0aW9uOiBTUUxpdGVSYXdBY3Rpb24sXG5cdFx0cHJpdmF0ZSBkaWFsZWN0OiBTUUxpdGVBc3luY0RpYWxlY3QsXG5cdFx0cHJpdmF0ZSBtYXBCYXRjaFJlc3VsdDogKHJlc3VsdDogdW5rbm93bikgPT4gdW5rbm93bixcblx0KSB7XG5cdFx0c3VwZXIoKTtcblx0XHR0aGlzLmNvbmZpZyA9IHsgYWN0aW9uIH07XG5cdH1cblxuXHRnZXRRdWVyeSgpIHtcblx0XHRyZXR1cm4geyAuLi50aGlzLmRpYWxlY3Quc3FsVG9RdWVyeSh0aGlzLmdldFNRTCgpKSwgbWV0aG9kOiB0aGlzLmNvbmZpZy5hY3Rpb24gfTtcblx0fVxuXG5cdG1hcFJlc3VsdChyZXN1bHQ6IHVua25vd24sIGlzRnJvbUJhdGNoPzogYm9vbGVhbikge1xuXHRcdHJldHVybiBpc0Zyb21CYXRjaCA/IHRoaXMubWFwQmF0Y2hSZXN1bHQocmVzdWx0KSA6IHJlc3VsdDtcblx0fVxuXG5cdF9wcmVwYXJlKCk6IFByZXBhcmVkUXVlcnkge1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRpc1Jlc3BvbnNlSW5BcnJheU1vZGUoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG59XG4iLCAiaW1wb3J0IHsgZW50aXR5S2luZCB9IGZyb20gJ34vZW50aXR5LnRzJztcbmltcG9ydCB0eXBlIHsgVHlwZWRRdWVyeUJ1aWxkZXIgfSBmcm9tICd+L3F1ZXJ5LWJ1aWxkZXJzL3F1ZXJ5LWJ1aWxkZXIudHMnO1xuaW1wb3J0IHR5cGUgeyBFeHRyYWN0VGFibGVzV2l0aFJlbGF0aW9ucywgUmVsYXRpb25hbFNjaGVtYUNvbmZpZywgVGFibGVzUmVsYXRpb25hbENvbmZpZyB9IGZyb20gJ34vcmVsYXRpb25zLnRzJztcbmltcG9ydCB7IFNlbGVjdGlvblByb3h5SGFuZGxlciB9IGZyb20gJ34vc2VsZWN0aW9uLXByb3h5LnRzJztcbmltcG9ydCB0eXBlIHsgQ29sdW1uc1NlbGVjdGlvbiwgU1FMV3JhcHBlciB9IGZyb20gJ34vc3FsL3NxbC50cyc7XG5pbXBvcnQgdHlwZSB7IFNRTGl0ZUFzeW5jRGlhbGVjdCwgU1FMaXRlU3luY0RpYWxlY3QgfSBmcm9tICd+L3NxbGl0ZS1jb3JlL2RpYWxlY3QudHMnO1xuaW1wb3J0IHtcblx0UXVlcnlCdWlsZGVyLFxuXHRTUUxpdGVEZWxldGVCYXNlLFxuXHRTUUxpdGVJbnNlcnRCdWlsZGVyLFxuXHRTUUxpdGVTZWxlY3RCdWlsZGVyLFxuXHRTUUxpdGVVcGRhdGVCdWlsZGVyLFxufSBmcm9tICd+L3NxbGl0ZS1jb3JlL3F1ZXJ5LWJ1aWxkZXJzL2luZGV4LnRzJztcbmltcG9ydCB0eXBlIHtcblx0REJSZXN1bHQsXG5cdFJlc3VsdCxcblx0U1FMaXRlU2Vzc2lvbixcblx0U1FMaXRlVHJhbnNhY3Rpb24sXG5cdFNRTGl0ZVRyYW5zYWN0aW9uQ29uZmlnLFxufSBmcm9tICd+L3NxbGl0ZS1jb3JlL3Nlc3Npb24udHMnO1xuaW1wb3J0IHR5cGUgeyBTUUxpdGVUYWJsZSB9IGZyb20gJ34vc3FsaXRlLWNvcmUvdGFibGUudHMnO1xuaW1wb3J0IHsgV2l0aFN1YnF1ZXJ5IH0gZnJvbSAnfi9zdWJxdWVyeS50cyc7XG5pbXBvcnQgdHlwZSB7IERyaXp6bGVUeXBlRXJyb3IgfSBmcm9tICd+L3V0aWxzLnRzJztcbmltcG9ydCB7IFJlbGF0aW9uYWxRdWVyeUJ1aWxkZXIgfSBmcm9tICcuL3F1ZXJ5LWJ1aWxkZXJzL3F1ZXJ5LnRzJztcbmltcG9ydCB7IFNRTGl0ZVJhdyB9IGZyb20gJy4vcXVlcnktYnVpbGRlcnMvcmF3LnRzJztcbmltcG9ydCB0eXBlIHsgU2VsZWN0ZWRGaWVsZHMgfSBmcm9tICcuL3F1ZXJ5LWJ1aWxkZXJzL3NlbGVjdC50eXBlcy50cyc7XG5pbXBvcnQgdHlwZSB7IFdpdGhTdWJxdWVyeVdpdGhTZWxlY3Rpb24gfSBmcm9tICcuL3N1YnF1ZXJ5LnRzJztcblxuZXhwb3J0IGNsYXNzIEJhc2VTUUxpdGVEYXRhYmFzZTxcblx0VFJlc3VsdEtpbmQgZXh0ZW5kcyAnc3luYycgfCAnYXN5bmMnLFxuXHRUUnVuUmVzdWx0LFxuXHRURnVsbFNjaGVtYSBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+ID0gUmVjb3JkPHN0cmluZywgbmV2ZXI+LFxuXHRUU2NoZW1hIGV4dGVuZHMgVGFibGVzUmVsYXRpb25hbENvbmZpZyA9IEV4dHJhY3RUYWJsZXNXaXRoUmVsYXRpb25zPFRGdWxsU2NoZW1hPixcbj4ge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnQmFzZVNRTGl0ZURhdGFiYXNlJztcblxuXHRkZWNsYXJlIHJlYWRvbmx5IF86IHtcblx0XHRyZWFkb25seSBzY2hlbWE6IFRTY2hlbWEgfCB1bmRlZmluZWQ7XG5cdFx0cmVhZG9ubHkgZnVsbFNjaGVtYTogVEZ1bGxTY2hlbWE7XG5cdFx0cmVhZG9ubHkgdGFibGVOYW1lc01hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcblx0fTtcblxuXHRxdWVyeTogVEZ1bGxTY2hlbWEgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCBuZXZlcj5cblx0XHQ/IERyaXp6bGVUeXBlRXJyb3I8J1NlZW1zIGxpa2UgdGhlIHNjaGVtYSBnZW5lcmljIGlzIG1pc3NpbmcgLSBkaWQgeW91IGZvcmdldCB0byBhZGQgaXQgdG8geW91ciBEQiB0eXBlPyc+XG5cdFx0OiB7XG5cdFx0XHRbSyBpbiBrZXlvZiBUU2NoZW1hXTogUmVsYXRpb25hbFF1ZXJ5QnVpbGRlcjxUUmVzdWx0S2luZCwgVEZ1bGxTY2hlbWEsIFRTY2hlbWEsIFRTY2hlbWFbS10+O1xuXHRcdH07XG5cblx0Y29uc3RydWN0b3IoXG5cdFx0cHJpdmF0ZSByZXN1bHRLaW5kOiBUUmVzdWx0S2luZCxcblx0XHQvKiogQGludGVybmFsICovXG5cdFx0cmVhZG9ubHkgZGlhbGVjdDogeyBzeW5jOiBTUUxpdGVTeW5jRGlhbGVjdDsgYXN5bmM6IFNRTGl0ZUFzeW5jRGlhbGVjdCB9W1RSZXN1bHRLaW5kXSxcblx0XHQvKiogQGludGVybmFsICovXG5cdFx0cmVhZG9ubHkgc2Vzc2lvbjogU1FMaXRlU2Vzc2lvbjxUUmVzdWx0S2luZCwgVFJ1blJlc3VsdCwgVEZ1bGxTY2hlbWEsIFRTY2hlbWE+LFxuXHRcdHNjaGVtYTogUmVsYXRpb25hbFNjaGVtYUNvbmZpZzxUU2NoZW1hPiB8IHVuZGVmaW5lZCxcblx0KSB7XG5cdFx0dGhpcy5fID0gc2NoZW1hXG5cdFx0XHQ/IHtcblx0XHRcdFx0c2NoZW1hOiBzY2hlbWEuc2NoZW1hLFxuXHRcdFx0XHRmdWxsU2NoZW1hOiBzY2hlbWEuZnVsbFNjaGVtYSBhcyBURnVsbFNjaGVtYSxcblx0XHRcdFx0dGFibGVOYW1lc01hcDogc2NoZW1hLnRhYmxlTmFtZXNNYXAsXG5cdFx0XHR9XG5cdFx0XHQ6IHtcblx0XHRcdFx0c2NoZW1hOiB1bmRlZmluZWQsXG5cdFx0XHRcdGZ1bGxTY2hlbWE6IHt9IGFzIFRGdWxsU2NoZW1hLFxuXHRcdFx0XHR0YWJsZU5hbWVzTWFwOiB7fSxcblx0XHRcdH07XG5cdFx0dGhpcy5xdWVyeSA9IHt9IGFzIHR5cGVvZiB0aGlzWydxdWVyeSddO1xuXHRcdGNvbnN0IHF1ZXJ5ID0gdGhpcy5xdWVyeSBhcyB7XG5cdFx0XHRbSyBpbiBrZXlvZiBUU2NoZW1hXTogUmVsYXRpb25hbFF1ZXJ5QnVpbGRlcjxUUmVzdWx0S2luZCwgVEZ1bGxTY2hlbWEsIFRTY2hlbWEsIFRTY2hlbWFbS10+O1xuXHRcdH07XG5cdFx0aWYgKHRoaXMuXy5zY2hlbWEpIHtcblx0XHRcdGZvciAoY29uc3QgW3RhYmxlTmFtZSwgY29sdW1uc10gb2YgT2JqZWN0LmVudHJpZXModGhpcy5fLnNjaGVtYSkpIHtcblx0XHRcdFx0cXVlcnlbdGFibGVOYW1lIGFzIGtleW9mIFRTY2hlbWFdID0gbmV3IFJlbGF0aW9uYWxRdWVyeUJ1aWxkZXIoXG5cdFx0XHRcdFx0cmVzdWx0S2luZCxcblx0XHRcdFx0XHRzY2hlbWEhLmZ1bGxTY2hlbWEsXG5cdFx0XHRcdFx0dGhpcy5fLnNjaGVtYSxcblx0XHRcdFx0XHR0aGlzLl8udGFibGVOYW1lc01hcCxcblx0XHRcdFx0XHRzY2hlbWEhLmZ1bGxTY2hlbWFbdGFibGVOYW1lXSBhcyBTUUxpdGVUYWJsZSxcblx0XHRcdFx0XHRjb2x1bW5zLFxuXHRcdFx0XHRcdGRpYWxlY3QsXG5cdFx0XHRcdFx0c2Vzc2lvbiBhcyBTUUxpdGVTZXNzaW9uPGFueSwgYW55LCBhbnksIGFueT4gYXMgYW55LFxuXHRcdFx0XHQpIGFzIHR5cGVvZiBxdWVyeVtrZXlvZiBUU2NoZW1hXTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHN1YnF1ZXJ5IHRoYXQgZGVmaW5lcyBhIHRlbXBvcmFyeSBuYW1lZCByZXN1bHQgc2V0IGFzIGEgQ1RFLlxuXHQgKlxuXHQgKiBJdCBpcyB1c2VmdWwgZm9yIGJyZWFraW5nIGRvd24gY29tcGxleCBxdWVyaWVzIGludG8gc2ltcGxlciBwYXJ0cyBhbmQgZm9yIHJldXNpbmcgdGhlIHJlc3VsdCBzZXQgaW4gc3Vic2VxdWVudCBwYXJ0cyBvZiB0aGUgcXVlcnkuXG5cdCAqXG5cdCAqIFNlZSBkb2NzOiB7QGxpbmsgaHR0cHM6Ly9vcm0uZHJpenpsZS50ZWFtL2RvY3Mvc2VsZWN0I3dpdGgtY2xhdXNlfVxuXHQgKlxuXHQgKiBAcGFyYW0gYWxpYXMgVGhlIGFsaWFzIGZvciB0aGUgc3VicXVlcnkuXG5cdCAqXG5cdCAqIEZhaWx1cmUgdG8gcHJvdmlkZSBhbiBhbGlhcyB3aWxsIHJlc3VsdCBpbiBhIERyaXp6bGVUeXBlRXJyb3IsIHByZXZlbnRpbmcgdGhlIHN1YnF1ZXJ5IGZyb20gYmVpbmcgcmVmZXJlbmNlZCBpbiBvdGhlciBxdWVyaWVzLlxuXHQgKlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiBgYGB0c1xuXHQgKiAvLyBDcmVhdGUgYSBzdWJxdWVyeSB3aXRoIGFsaWFzICdzcScgYW5kIHVzZSBpdCBpbiB0aGUgc2VsZWN0IHF1ZXJ5XG5cdCAqIGNvbnN0IHNxID0gZGIuJHdpdGgoJ3NxJykuYXMoZGIuc2VsZWN0KCkuZnJvbSh1c2Vycykud2hlcmUoZXEodXNlcnMuaWQsIDQyKSkpO1xuXHQgKlxuXHQgKiBjb25zdCByZXN1bHQgPSBhd2FpdCBkYi53aXRoKHNxKS5zZWxlY3QoKS5mcm9tKHNxKTtcblx0ICogYGBgXG5cdCAqXG5cdCAqIFRvIHNlbGVjdCBhcmJpdHJhcnkgU1FMIHZhbHVlcyBhcyBmaWVsZHMgaW4gYSBDVEUgYW5kIHJlZmVyZW5jZSB0aGVtIGluIG90aGVyIENURXMgb3IgaW4gdGhlIG1haW4gcXVlcnksIHlvdSBuZWVkIHRvIGFkZCBhbGlhc2VzIHRvIHRoZW06XG5cdCAqXG5cdCAqIGBgYHRzXG5cdCAqIC8vIFNlbGVjdCBhbiBhcmJpdHJhcnkgU1FMIHZhbHVlIGFzIGEgZmllbGQgaW4gYSBDVEUgYW5kIHJlZmVyZW5jZSBpdCBpbiB0aGUgbWFpbiBxdWVyeVxuXHQgKiBjb25zdCBzcSA9IGRiLiR3aXRoKCdzcScpLmFzKGRiLnNlbGVjdCh7XG5cdCAqICAgbmFtZTogc3FsPHN0cmluZz5gdXBwZXIoJHt1c2Vycy5uYW1lfSlgLmFzKCduYW1lJyksXG5cdCAqIH0pXG5cdCAqIC5mcm9tKHVzZXJzKSk7XG5cdCAqXG5cdCAqIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGRiLndpdGgoc3EpLnNlbGVjdCh7IG5hbWU6IHNxLm5hbWUgfSkuZnJvbShzcSk7XG5cdCAqIGBgYFxuXHQgKi9cblx0JHdpdGg8VEFsaWFzIGV4dGVuZHMgc3RyaW5nPihhbGlhczogVEFsaWFzKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdGFzPFRTZWxlY3Rpb24gZXh0ZW5kcyBDb2x1bW5zU2VsZWN0aW9uPihcblx0XHRcdFx0cWI6IFR5cGVkUXVlcnlCdWlsZGVyPFRTZWxlY3Rpb24+IHwgKChxYjogUXVlcnlCdWlsZGVyKSA9PiBUeXBlZFF1ZXJ5QnVpbGRlcjxUU2VsZWN0aW9uPiksXG5cdFx0XHQpOiBXaXRoU3VicXVlcnlXaXRoU2VsZWN0aW9uPFRTZWxlY3Rpb24sIFRBbGlhcz4ge1xuXHRcdFx0XHRpZiAodHlwZW9mIHFiID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0cWIgPSBxYihuZXcgUXVlcnlCdWlsZGVyKCkpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIG5ldyBQcm94eShcblx0XHRcdFx0XHRuZXcgV2l0aFN1YnF1ZXJ5KHFiLmdldFNRTCgpLCBxYi5nZXRTZWxlY3RlZEZpZWxkcygpIGFzIFNlbGVjdGVkRmllbGRzLCBhbGlhcywgdHJ1ZSksXG5cdFx0XHRcdFx0bmV3IFNlbGVjdGlvblByb3h5SGFuZGxlcih7IGFsaWFzLCBzcWxBbGlhc2VkQmVoYXZpb3I6ICdhbGlhcycsIHNxbEJlaGF2aW9yOiAnZXJyb3InIH0pLFxuXHRcdFx0XHQpIGFzIFdpdGhTdWJxdWVyeVdpdGhTZWxlY3Rpb248VFNlbGVjdGlvbiwgVEFsaWFzPjtcblx0XHRcdH0sXG5cdFx0fTtcblx0fVxuXG5cdC8qKlxuXHQgKiBJbmNvcnBvcmF0ZXMgYSBwcmV2aW91c2x5IGRlZmluZWQgQ1RFICh1c2luZyBgJHdpdGhgKSBpbnRvIHRoZSBtYWluIHF1ZXJ5LlxuXHQgKlxuXHQgKiBUaGlzIG1ldGhvZCBhbGxvd3MgdGhlIG1haW4gcXVlcnkgdG8gcmVmZXJlbmNlIGEgdGVtcG9yYXJ5IG5hbWVkIHJlc3VsdCBzZXQuXG5cdCAqXG5cdCAqIFNlZSBkb2NzOiB7QGxpbmsgaHR0cHM6Ly9vcm0uZHJpenpsZS50ZWFtL2RvY3Mvc2VsZWN0I3dpdGgtY2xhdXNlfVxuXHQgKlxuXHQgKiBAcGFyYW0gcXVlcmllcyBUaGUgQ1RFcyB0byBpbmNvcnBvcmF0ZSBpbnRvIHRoZSBtYWluIHF1ZXJ5LlxuXHQgKlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiBgYGB0c1xuXHQgKiAvLyBEZWZpbmUgYSBzdWJxdWVyeSAnc3EnIGFzIGEgQ1RFIHVzaW5nICR3aXRoXG5cdCAqIGNvbnN0IHNxID0gZGIuJHdpdGgoJ3NxJykuYXMoZGIuc2VsZWN0KCkuZnJvbSh1c2Vycykud2hlcmUoZXEodXNlcnMuaWQsIDQyKSkpO1xuXHQgKlxuXHQgKiAvLyBJbmNvcnBvcmF0ZSB0aGUgQ1RFICdzcScgaW50byB0aGUgbWFpbiBxdWVyeSBhbmQgc2VsZWN0IGZyb20gaXRcblx0ICogY29uc3QgcmVzdWx0ID0gYXdhaXQgZGIud2l0aChzcSkuc2VsZWN0KCkuZnJvbShzcSk7XG5cdCAqIGBgYFxuXHQgKi9cblx0d2l0aCguLi5xdWVyaWVzOiBXaXRoU3VicXVlcnlbXSkge1xuXHRcdGNvbnN0IHNlbGYgPSB0aGlzO1xuXG5cdFx0LyoqXG5cdFx0ICogQ3JlYXRlcyBhIHNlbGVjdCBxdWVyeS5cblx0XHQgKlxuXHRcdCAqIENhbGxpbmcgdGhpcyBtZXRob2Qgd2l0aCBubyBhcmd1bWVudHMgd2lsbCBzZWxlY3QgYWxsIGNvbHVtbnMgZnJvbSB0aGUgdGFibGUuIFBhc3MgYSBzZWxlY3Rpb24gb2JqZWN0IHRvIHNwZWNpZnkgdGhlIGNvbHVtbnMgeW91IHdhbnQgdG8gc2VsZWN0LlxuXHRcdCAqXG5cdFx0ICogVXNlIGAuZnJvbSgpYCBtZXRob2QgdG8gc3BlY2lmeSB3aGljaCB0YWJsZSB0byBzZWxlY3QgZnJvbS5cblx0XHQgKlxuXHRcdCAqIFNlZSBkb2NzOiB7QGxpbmsgaHR0cHM6Ly9vcm0uZHJpenpsZS50ZWFtL2RvY3Mvc2VsZWN0fVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIGZpZWxkcyBUaGUgc2VsZWN0aW9uIG9iamVjdC5cblx0XHQgKlxuXHRcdCAqIEBleGFtcGxlXG5cdFx0ICpcblx0XHQgKiBgYGB0c1xuXHRcdCAqIC8vIFNlbGVjdCBhbGwgY29sdW1ucyBhbmQgYWxsIHJvd3MgZnJvbSB0aGUgJ2NhcnMnIHRhYmxlXG5cdFx0ICogY29uc3QgYWxsQ2FyczogQ2FyW10gPSBhd2FpdCBkYi5zZWxlY3QoKS5mcm9tKGNhcnMpO1xuXHRcdCAqXG5cdFx0ICogLy8gU2VsZWN0IHNwZWNpZmljIGNvbHVtbnMgYW5kIGFsbCByb3dzIGZyb20gdGhlICdjYXJzJyB0YWJsZVxuXHRcdCAqIGNvbnN0IGNhcnNJZHNBbmRCcmFuZHM6IHsgaWQ6IG51bWJlcjsgYnJhbmQ6IHN0cmluZyB9W10gPSBhd2FpdCBkYi5zZWxlY3Qoe1xuXHRcdCAqICAgaWQ6IGNhcnMuaWQsXG5cdFx0ICogICBicmFuZDogY2Fycy5icmFuZFxuXHRcdCAqIH0pXG5cdFx0ICogICAuZnJvbShjYXJzKTtcblx0XHQgKiBgYGBcblx0XHQgKlxuXHRcdCAqIExpa2UgaW4gU1FMLCB5b3UgY2FuIHVzZSBhcmJpdHJhcnkgZXhwcmVzc2lvbnMgYXMgc2VsZWN0aW9uIGZpZWxkcywgbm90IGp1c3QgdGFibGUgY29sdW1uczpcblx0XHQgKlxuXHRcdCAqIGBgYHRzXG5cdFx0ICogLy8gU2VsZWN0IHNwZWNpZmljIGNvbHVtbnMgYWxvbmcgd2l0aCBleHByZXNzaW9uIGFuZCBhbGwgcm93cyBmcm9tIHRoZSAnY2FycycgdGFibGVcblx0XHQgKiBjb25zdCBjYXJzSWRzQW5kTG93ZXJOYW1lczogeyBpZDogbnVtYmVyOyBsb3dlckJyYW5kOiBzdHJpbmcgfVtdID0gYXdhaXQgZGIuc2VsZWN0KHtcblx0XHQgKiAgIGlkOiBjYXJzLmlkLFxuXHRcdCAqICAgbG93ZXJCcmFuZDogc3FsPHN0cmluZz5gbG93ZXIoJHtjYXJzLmJyYW5kfSlgLFxuXHRcdCAqIH0pXG5cdFx0ICogICAuZnJvbShjYXJzKTtcblx0XHQgKiBgYGBcblx0XHQgKi9cblx0XHRmdW5jdGlvbiBzZWxlY3QoKTogU1FMaXRlU2VsZWN0QnVpbGRlcjx1bmRlZmluZWQsIFRSZXN1bHRLaW5kLCBUUnVuUmVzdWx0Pjtcblx0XHRmdW5jdGlvbiBzZWxlY3Q8VFNlbGVjdGlvbiBleHRlbmRzIFNlbGVjdGVkRmllbGRzPihcblx0XHRcdGZpZWxkczogVFNlbGVjdGlvbixcblx0XHQpOiBTUUxpdGVTZWxlY3RCdWlsZGVyPFRTZWxlY3Rpb24sIFRSZXN1bHRLaW5kLCBUUnVuUmVzdWx0Pjtcblx0XHRmdW5jdGlvbiBzZWxlY3QoXG5cdFx0XHRmaWVsZHM/OiBTZWxlY3RlZEZpZWxkcyxcblx0XHQpOiBTUUxpdGVTZWxlY3RCdWlsZGVyPFNlbGVjdGVkRmllbGRzIHwgdW5kZWZpbmVkLCBUUmVzdWx0S2luZCwgVFJ1blJlc3VsdD4ge1xuXHRcdFx0cmV0dXJuIG5ldyBTUUxpdGVTZWxlY3RCdWlsZGVyKHtcblx0XHRcdFx0ZmllbGRzOiBmaWVsZHMgPz8gdW5kZWZpbmVkLFxuXHRcdFx0XHRzZXNzaW9uOiBzZWxmLnNlc3Npb24sXG5cdFx0XHRcdGRpYWxlY3Q6IHNlbGYuZGlhbGVjdCxcblx0XHRcdFx0d2l0aExpc3Q6IHF1ZXJpZXMsXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBBZGRzIGBkaXN0aW5jdGAgZXhwcmVzc2lvbiB0byB0aGUgc2VsZWN0IHF1ZXJ5LlxuXHRcdCAqXG5cdFx0ICogQ2FsbGluZyB0aGlzIG1ldGhvZCB3aWxsIHJldHVybiBvbmx5IHVuaXF1ZSB2YWx1ZXMuIFdoZW4gbXVsdGlwbGUgY29sdW1ucyBhcmUgc2VsZWN0ZWQsIGl0IHJldHVybnMgcm93cyB3aXRoIHVuaXF1ZSBjb21iaW5hdGlvbnMgb2YgdmFsdWVzIGluIHRoZXNlIGNvbHVtbnMuXG5cdFx0ICpcblx0XHQgKiBVc2UgYC5mcm9tKClgIG1ldGhvZCB0byBzcGVjaWZ5IHdoaWNoIHRhYmxlIHRvIHNlbGVjdCBmcm9tLlxuXHRcdCAqXG5cdFx0ICogU2VlIGRvY3M6IHtAbGluayBodHRwczovL29ybS5kcml6emxlLnRlYW0vZG9jcy9zZWxlY3QjZGlzdGluY3R9XG5cdFx0ICpcblx0XHQgKiBAcGFyYW0gZmllbGRzIFRoZSBzZWxlY3Rpb24gb2JqZWN0LlxuXHRcdCAqXG5cdFx0ICogQGV4YW1wbGVcblx0XHQgKlxuXHRcdCAqIGBgYHRzXG5cdFx0ICogLy8gU2VsZWN0IGFsbCB1bmlxdWUgcm93cyBmcm9tIHRoZSAnY2FycycgdGFibGVcblx0XHQgKiBhd2FpdCBkYi5zZWxlY3REaXN0aW5jdCgpXG5cdFx0ICogICAuZnJvbShjYXJzKVxuXHRcdCAqICAgLm9yZGVyQnkoY2Fycy5pZCwgY2Fycy5icmFuZCwgY2Fycy5jb2xvcik7XG5cdFx0ICpcblx0XHQgKiAvLyBTZWxlY3QgYWxsIHVuaXF1ZSBicmFuZHMgZnJvbSB0aGUgJ2NhcnMnIHRhYmxlXG5cdFx0ICogYXdhaXQgZGIuc2VsZWN0RGlzdGluY3QoeyBicmFuZDogY2Fycy5icmFuZCB9KVxuXHRcdCAqICAgLmZyb20oY2Fycylcblx0XHQgKiAgIC5vcmRlckJ5KGNhcnMuYnJhbmQpO1xuXHRcdCAqIGBgYFxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIHNlbGVjdERpc3RpbmN0KCk6IFNRTGl0ZVNlbGVjdEJ1aWxkZXI8dW5kZWZpbmVkLCBUUmVzdWx0S2luZCwgVFJ1blJlc3VsdD47XG5cdFx0ZnVuY3Rpb24gc2VsZWN0RGlzdGluY3Q8VFNlbGVjdGlvbiBleHRlbmRzIFNlbGVjdGVkRmllbGRzPihcblx0XHRcdGZpZWxkczogVFNlbGVjdGlvbixcblx0XHQpOiBTUUxpdGVTZWxlY3RCdWlsZGVyPFRTZWxlY3Rpb24sIFRSZXN1bHRLaW5kLCBUUnVuUmVzdWx0Pjtcblx0XHRmdW5jdGlvbiBzZWxlY3REaXN0aW5jdChcblx0XHRcdGZpZWxkcz86IFNlbGVjdGVkRmllbGRzLFxuXHRcdCk6IFNRTGl0ZVNlbGVjdEJ1aWxkZXI8U2VsZWN0ZWRGaWVsZHMgfCB1bmRlZmluZWQsIFRSZXN1bHRLaW5kLCBUUnVuUmVzdWx0PiB7XG5cdFx0XHRyZXR1cm4gbmV3IFNRTGl0ZVNlbGVjdEJ1aWxkZXIoe1xuXHRcdFx0XHRmaWVsZHM6IGZpZWxkcyA/PyB1bmRlZmluZWQsXG5cdFx0XHRcdHNlc3Npb246IHNlbGYuc2Vzc2lvbixcblx0XHRcdFx0ZGlhbGVjdDogc2VsZi5kaWFsZWN0LFxuXHRcdFx0XHR3aXRoTGlzdDogcXVlcmllcyxcblx0XHRcdFx0ZGlzdGluY3Q6IHRydWUsXG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBDcmVhdGVzIGFuIHVwZGF0ZSBxdWVyeS5cblx0XHQgKlxuXHRcdCAqIENhbGxpbmcgdGhpcyBtZXRob2Qgd2l0aG91dCBgLndoZXJlKClgIGNsYXVzZSB3aWxsIHVwZGF0ZSBhbGwgcm93cyBpbiBhIHRhYmxlLiBUaGUgYC53aGVyZSgpYCBjbGF1c2Ugc3BlY2lmaWVzIHdoaWNoIHJvd3Mgc2hvdWxkIGJlIHVwZGF0ZWQuXG5cdFx0ICpcblx0XHQgKiBVc2UgYC5zZXQoKWAgbWV0aG9kIHRvIHNwZWNpZnkgd2hpY2ggdmFsdWVzIHRvIHVwZGF0ZS5cblx0XHQgKlxuXHRcdCAqIFNlZSBkb2NzOiB7QGxpbmsgaHR0cHM6Ly9vcm0uZHJpenpsZS50ZWFtL2RvY3MvdXBkYXRlfVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHRhYmxlIFRoZSB0YWJsZSB0byB1cGRhdGUuXG5cdFx0ICpcblx0XHQgKiBAZXhhbXBsZVxuXHRcdCAqXG5cdFx0ICogYGBgdHNcblx0XHQgKiAvLyBVcGRhdGUgYWxsIHJvd3MgaW4gdGhlICdjYXJzJyB0YWJsZVxuXHRcdCAqIGF3YWl0IGRiLnVwZGF0ZShjYXJzKS5zZXQoeyBjb2xvcjogJ3JlZCcgfSk7XG5cdFx0ICpcblx0XHQgKiAvLyBVcGRhdGUgcm93cyB3aXRoIGZpbHRlcnMgYW5kIGNvbmRpdGlvbnNcblx0XHQgKiBhd2FpdCBkYi51cGRhdGUoY2Fycykuc2V0KHsgY29sb3I6ICdyZWQnIH0pLndoZXJlKGVxKGNhcnMuYnJhbmQsICdCTVcnKSk7XG5cdFx0ICpcblx0XHQgKiAvLyBVcGRhdGUgd2l0aCByZXR1cm5pbmcgY2xhdXNlXG5cdFx0ICogY29uc3QgdXBkYXRlZENhcjogQ2FyW10gPSBhd2FpdCBkYi51cGRhdGUoY2Fycylcblx0XHQgKiAgIC5zZXQoeyBjb2xvcjogJ3JlZCcgfSlcblx0XHQgKiAgIC53aGVyZShlcShjYXJzLmlkLCAxKSlcblx0XHQgKiAgIC5yZXR1cm5pbmcoKTtcblx0XHQgKiBgYGBcblx0XHQgKi9cblx0XHRmdW5jdGlvbiB1cGRhdGU8VFRhYmxlIGV4dGVuZHMgU1FMaXRlVGFibGU+KHRhYmxlOiBUVGFibGUpOiBTUUxpdGVVcGRhdGVCdWlsZGVyPFRUYWJsZSwgVFJlc3VsdEtpbmQsIFRSdW5SZXN1bHQ+IHtcblx0XHRcdHJldHVybiBuZXcgU1FMaXRlVXBkYXRlQnVpbGRlcih0YWJsZSwgc2VsZi5zZXNzaW9uLCBzZWxmLmRpYWxlY3QsIHF1ZXJpZXMpO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIENyZWF0ZXMgYW4gaW5zZXJ0IHF1ZXJ5LlxuXHRcdCAqXG5cdFx0ICogQ2FsbGluZyB0aGlzIG1ldGhvZCB3aWxsIGNyZWF0ZSBuZXcgcm93cyBpbiBhIHRhYmxlLiBVc2UgYC52YWx1ZXMoKWAgbWV0aG9kIHRvIHNwZWNpZnkgd2hpY2ggdmFsdWVzIHRvIGluc2VydC5cblx0XHQgKlxuXHRcdCAqIFNlZSBkb2NzOiB7QGxpbmsgaHR0cHM6Ly9vcm0uZHJpenpsZS50ZWFtL2RvY3MvaW5zZXJ0fVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHRhYmxlIFRoZSB0YWJsZSB0byBpbnNlcnQgaW50by5cblx0XHQgKlxuXHRcdCAqIEBleGFtcGxlXG5cdFx0ICpcblx0XHQgKiBgYGB0c1xuXHRcdCAqIC8vIEluc2VydCBvbmUgcm93XG5cdFx0ICogYXdhaXQgZGIuaW5zZXJ0KGNhcnMpLnZhbHVlcyh7IGJyYW5kOiAnQk1XJyB9KTtcblx0XHQgKlxuXHRcdCAqIC8vIEluc2VydCBtdWx0aXBsZSByb3dzXG5cdFx0ICogYXdhaXQgZGIuaW5zZXJ0KGNhcnMpLnZhbHVlcyhbeyBicmFuZDogJ0JNVycgfSwgeyBicmFuZDogJ1BvcnNjaGUnIH1dKTtcblx0XHQgKlxuXHRcdCAqIC8vIEluc2VydCB3aXRoIHJldHVybmluZyBjbGF1c2Vcblx0XHQgKiBjb25zdCBpbnNlcnRlZENhcjogQ2FyW10gPSBhd2FpdCBkYi5pbnNlcnQoY2Fycylcblx0XHQgKiAgIC52YWx1ZXMoeyBicmFuZDogJ0JNVycgfSlcblx0XHQgKiAgIC5yZXR1cm5pbmcoKTtcblx0XHQgKiBgYGBcblx0XHQgKi9cblx0XHRmdW5jdGlvbiBpbnNlcnQ8VFRhYmxlIGV4dGVuZHMgU1FMaXRlVGFibGU+KGludG86IFRUYWJsZSk6IFNRTGl0ZUluc2VydEJ1aWxkZXI8VFRhYmxlLCBUUmVzdWx0S2luZCwgVFJ1blJlc3VsdD4ge1xuXHRcdFx0cmV0dXJuIG5ldyBTUUxpdGVJbnNlcnRCdWlsZGVyKGludG8sIHNlbGYuc2Vzc2lvbiwgc2VsZi5kaWFsZWN0LCBxdWVyaWVzKTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBDcmVhdGVzIGEgZGVsZXRlIHF1ZXJ5LlxuXHRcdCAqXG5cdFx0ICogQ2FsbGluZyB0aGlzIG1ldGhvZCB3aXRob3V0IGAud2hlcmUoKWAgY2xhdXNlIHdpbGwgZGVsZXRlIGFsbCByb3dzIGluIGEgdGFibGUuIFRoZSBgLndoZXJlKClgIGNsYXVzZSBzcGVjaWZpZXMgd2hpY2ggcm93cyBzaG91bGQgYmUgZGVsZXRlZC5cblx0XHQgKlxuXHRcdCAqIFNlZSBkb2NzOiB7QGxpbmsgaHR0cHM6Ly9vcm0uZHJpenpsZS50ZWFtL2RvY3MvZGVsZXRlfVxuXHRcdCAqXG5cdFx0ICogQHBhcmFtIHRhYmxlIFRoZSB0YWJsZSB0byBkZWxldGUgZnJvbS5cblx0XHQgKlxuXHRcdCAqIEBleGFtcGxlXG5cdFx0ICpcblx0XHQgKiBgYGB0c1xuXHRcdCAqIC8vIERlbGV0ZSBhbGwgcm93cyBpbiB0aGUgJ2NhcnMnIHRhYmxlXG5cdFx0ICogYXdhaXQgZGIuZGVsZXRlKGNhcnMpO1xuXHRcdCAqXG5cdFx0ICogLy8gRGVsZXRlIHJvd3Mgd2l0aCBmaWx0ZXJzIGFuZCBjb25kaXRpb25zXG5cdFx0ICogYXdhaXQgZGIuZGVsZXRlKGNhcnMpLndoZXJlKGVxKGNhcnMuY29sb3IsICdncmVlbicpKTtcblx0XHQgKlxuXHRcdCAqIC8vIERlbGV0ZSB3aXRoIHJldHVybmluZyBjbGF1c2Vcblx0XHQgKiBjb25zdCBkZWxldGVkQ2FyOiBDYXJbXSA9IGF3YWl0IGRiLmRlbGV0ZShjYXJzKVxuXHRcdCAqICAgLndoZXJlKGVxKGNhcnMuaWQsIDEpKVxuXHRcdCAqICAgLnJldHVybmluZygpO1xuXHRcdCAqIGBgYFxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIGRlbGV0ZV88VFRhYmxlIGV4dGVuZHMgU1FMaXRlVGFibGU+KGZyb206IFRUYWJsZSk6IFNRTGl0ZURlbGV0ZUJhc2U8VFRhYmxlLCBUUmVzdWx0S2luZCwgVFJ1blJlc3VsdD4ge1xuXHRcdFx0cmV0dXJuIG5ldyBTUUxpdGVEZWxldGVCYXNlKGZyb20sIHNlbGYuc2Vzc2lvbiwgc2VsZi5kaWFsZWN0LCBxdWVyaWVzKTtcblx0XHR9XG5cblx0XHRyZXR1cm4geyBzZWxlY3QsIHNlbGVjdERpc3RpbmN0LCB1cGRhdGUsIGluc2VydCwgZGVsZXRlOiBkZWxldGVfIH07XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHNlbGVjdCBxdWVyeS5cblx0ICpcblx0ICogQ2FsbGluZyB0aGlzIG1ldGhvZCB3aXRoIG5vIGFyZ3VtZW50cyB3aWxsIHNlbGVjdCBhbGwgY29sdW1ucyBmcm9tIHRoZSB0YWJsZS4gUGFzcyBhIHNlbGVjdGlvbiBvYmplY3QgdG8gc3BlY2lmeSB0aGUgY29sdW1ucyB5b3Ugd2FudCB0byBzZWxlY3QuXG5cdCAqXG5cdCAqIFVzZSBgLmZyb20oKWAgbWV0aG9kIHRvIHNwZWNpZnkgd2hpY2ggdGFibGUgdG8gc2VsZWN0IGZyb20uXG5cdCAqXG5cdCAqIFNlZSBkb2NzOiB7QGxpbmsgaHR0cHM6Ly9vcm0uZHJpenpsZS50ZWFtL2RvY3Mvc2VsZWN0fVxuXHQgKlxuXHQgKiBAcGFyYW0gZmllbGRzIFRoZSBzZWxlY3Rpb24gb2JqZWN0LlxuXHQgKlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiBgYGB0c1xuXHQgKiAvLyBTZWxlY3QgYWxsIGNvbHVtbnMgYW5kIGFsbCByb3dzIGZyb20gdGhlICdjYXJzJyB0YWJsZVxuXHQgKiBjb25zdCBhbGxDYXJzOiBDYXJbXSA9IGF3YWl0IGRiLnNlbGVjdCgpLmZyb20oY2Fycyk7XG5cdCAqXG5cdCAqIC8vIFNlbGVjdCBzcGVjaWZpYyBjb2x1bW5zIGFuZCBhbGwgcm93cyBmcm9tIHRoZSAnY2FycycgdGFibGVcblx0ICogY29uc3QgY2Fyc0lkc0FuZEJyYW5kczogeyBpZDogbnVtYmVyOyBicmFuZDogc3RyaW5nIH1bXSA9IGF3YWl0IGRiLnNlbGVjdCh7XG5cdCAqICAgaWQ6IGNhcnMuaWQsXG5cdCAqICAgYnJhbmQ6IGNhcnMuYnJhbmRcblx0ICogfSlcblx0ICogICAuZnJvbShjYXJzKTtcblx0ICogYGBgXG5cdCAqXG5cdCAqIExpa2UgaW4gU1FMLCB5b3UgY2FuIHVzZSBhcmJpdHJhcnkgZXhwcmVzc2lvbnMgYXMgc2VsZWN0aW9uIGZpZWxkcywgbm90IGp1c3QgdGFibGUgY29sdW1uczpcblx0ICpcblx0ICogYGBgdHNcblx0ICogLy8gU2VsZWN0IHNwZWNpZmljIGNvbHVtbnMgYWxvbmcgd2l0aCBleHByZXNzaW9uIGFuZCBhbGwgcm93cyBmcm9tIHRoZSAnY2FycycgdGFibGVcblx0ICogY29uc3QgY2Fyc0lkc0FuZExvd2VyTmFtZXM6IHsgaWQ6IG51bWJlcjsgbG93ZXJCcmFuZDogc3RyaW5nIH1bXSA9IGF3YWl0IGRiLnNlbGVjdCh7XG5cdCAqICAgaWQ6IGNhcnMuaWQsXG5cdCAqICAgbG93ZXJCcmFuZDogc3FsPHN0cmluZz5gbG93ZXIoJHtjYXJzLmJyYW5kfSlgLFxuXHQgKiB9KVxuXHQgKiAgIC5mcm9tKGNhcnMpO1xuXHQgKiBgYGBcblx0ICovXG5cdHNlbGVjdCgpOiBTUUxpdGVTZWxlY3RCdWlsZGVyPHVuZGVmaW5lZCwgVFJlc3VsdEtpbmQsIFRSdW5SZXN1bHQ+O1xuXHRzZWxlY3Q8VFNlbGVjdGlvbiBleHRlbmRzIFNlbGVjdGVkRmllbGRzPihcblx0XHRmaWVsZHM6IFRTZWxlY3Rpb24sXG5cdCk6IFNRTGl0ZVNlbGVjdEJ1aWxkZXI8VFNlbGVjdGlvbiwgVFJlc3VsdEtpbmQsIFRSdW5SZXN1bHQ+O1xuXHRzZWxlY3QoZmllbGRzPzogU2VsZWN0ZWRGaWVsZHMpOiBTUUxpdGVTZWxlY3RCdWlsZGVyPFNlbGVjdGVkRmllbGRzIHwgdW5kZWZpbmVkLCBUUmVzdWx0S2luZCwgVFJ1blJlc3VsdD4ge1xuXHRcdHJldHVybiBuZXcgU1FMaXRlU2VsZWN0QnVpbGRlcih7IGZpZWxkczogZmllbGRzID8/IHVuZGVmaW5lZCwgc2Vzc2lvbjogdGhpcy5zZXNzaW9uLCBkaWFsZWN0OiB0aGlzLmRpYWxlY3QgfSk7XG5cdH1cblxuXHQvKipcblx0ICogQWRkcyBgZGlzdGluY3RgIGV4cHJlc3Npb24gdG8gdGhlIHNlbGVjdCBxdWVyeS5cblx0ICpcblx0ICogQ2FsbGluZyB0aGlzIG1ldGhvZCB3aWxsIHJldHVybiBvbmx5IHVuaXF1ZSB2YWx1ZXMuIFdoZW4gbXVsdGlwbGUgY29sdW1ucyBhcmUgc2VsZWN0ZWQsIGl0IHJldHVybnMgcm93cyB3aXRoIHVuaXF1ZSBjb21iaW5hdGlvbnMgb2YgdmFsdWVzIGluIHRoZXNlIGNvbHVtbnMuXG5cdCAqXG5cdCAqIFVzZSBgLmZyb20oKWAgbWV0aG9kIHRvIHNwZWNpZnkgd2hpY2ggdGFibGUgdG8gc2VsZWN0IGZyb20uXG5cdCAqXG5cdCAqIFNlZSBkb2NzOiB7QGxpbmsgaHR0cHM6Ly9vcm0uZHJpenpsZS50ZWFtL2RvY3Mvc2VsZWN0I2Rpc3RpbmN0fVxuXHQgKlxuXHQgKiBAcGFyYW0gZmllbGRzIFRoZSBzZWxlY3Rpb24gb2JqZWN0LlxuXHQgKlxuXHQgKiBAZXhhbXBsZVxuXHQgKlxuXHQgKiBgYGB0c1xuXHQgKiAvLyBTZWxlY3QgYWxsIHVuaXF1ZSByb3dzIGZyb20gdGhlICdjYXJzJyB0YWJsZVxuXHQgKiBhd2FpdCBkYi5zZWxlY3REaXN0aW5jdCgpXG5cdCAqICAgLmZyb20oY2Fycylcblx0ICogICAub3JkZXJCeShjYXJzLmlkLCBjYXJzLmJyYW5kLCBjYXJzLmNvbG9yKTtcblx0ICpcblx0ICogLy8gU2VsZWN0IGFsbCB1bmlxdWUgYnJhbmRzIGZyb20gdGhlICdjYXJzJyB0YWJsZVxuXHQgKiBhd2FpdCBkYi5zZWxlY3REaXN0aW5jdCh7IGJyYW5kOiBjYXJzLmJyYW5kIH0pXG5cdCAqICAgLmZyb20oY2Fycylcblx0ICogICAub3JkZXJCeShjYXJzLmJyYW5kKTtcblx0ICogYGBgXG5cdCAqL1xuXHRzZWxlY3REaXN0aW5jdCgpOiBTUUxpdGVTZWxlY3RCdWlsZGVyPHVuZGVmaW5lZCwgVFJlc3VsdEtpbmQsIFRSdW5SZXN1bHQ+O1xuXHRzZWxlY3REaXN0aW5jdDxUU2VsZWN0aW9uIGV4dGVuZHMgU2VsZWN0ZWRGaWVsZHM+KFxuXHRcdGZpZWxkczogVFNlbGVjdGlvbixcblx0KTogU1FMaXRlU2VsZWN0QnVpbGRlcjxUU2VsZWN0aW9uLCBUUmVzdWx0S2luZCwgVFJ1blJlc3VsdD47XG5cdHNlbGVjdERpc3RpbmN0KFxuXHRcdGZpZWxkcz86IFNlbGVjdGVkRmllbGRzLFxuXHQpOiBTUUxpdGVTZWxlY3RCdWlsZGVyPFNlbGVjdGVkRmllbGRzIHwgdW5kZWZpbmVkLCBUUmVzdWx0S2luZCwgVFJ1blJlc3VsdD4ge1xuXHRcdHJldHVybiBuZXcgU1FMaXRlU2VsZWN0QnVpbGRlcih7XG5cdFx0XHRmaWVsZHM6IGZpZWxkcyA/PyB1bmRlZmluZWQsXG5cdFx0XHRzZXNzaW9uOiB0aGlzLnNlc3Npb24sXG5cdFx0XHRkaWFsZWN0OiB0aGlzLmRpYWxlY3QsXG5cdFx0XHRkaXN0aW5jdDogdHJ1ZSxcblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGFuIHVwZGF0ZSBxdWVyeS5cblx0ICpcblx0ICogQ2FsbGluZyB0aGlzIG1ldGhvZCB3aXRob3V0IGAud2hlcmUoKWAgY2xhdXNlIHdpbGwgdXBkYXRlIGFsbCByb3dzIGluIGEgdGFibGUuIFRoZSBgLndoZXJlKClgIGNsYXVzZSBzcGVjaWZpZXMgd2hpY2ggcm93cyBzaG91bGQgYmUgdXBkYXRlZC5cblx0ICpcblx0ICogVXNlIGAuc2V0KClgIG1ldGhvZCB0byBzcGVjaWZ5IHdoaWNoIHZhbHVlcyB0byB1cGRhdGUuXG5cdCAqXG5cdCAqIFNlZSBkb2NzOiB7QGxpbmsgaHR0cHM6Ly9vcm0uZHJpenpsZS50ZWFtL2RvY3MvdXBkYXRlfVxuXHQgKlxuXHQgKiBAcGFyYW0gdGFibGUgVGhlIHRhYmxlIHRvIHVwZGF0ZS5cblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICpcblx0ICogYGBgdHNcblx0ICogLy8gVXBkYXRlIGFsbCByb3dzIGluIHRoZSAnY2FycycgdGFibGVcblx0ICogYXdhaXQgZGIudXBkYXRlKGNhcnMpLnNldCh7IGNvbG9yOiAncmVkJyB9KTtcblx0ICpcblx0ICogLy8gVXBkYXRlIHJvd3Mgd2l0aCBmaWx0ZXJzIGFuZCBjb25kaXRpb25zXG5cdCAqIGF3YWl0IGRiLnVwZGF0ZShjYXJzKS5zZXQoeyBjb2xvcjogJ3JlZCcgfSkud2hlcmUoZXEoY2Fycy5icmFuZCwgJ0JNVycpKTtcblx0ICpcblx0ICogLy8gVXBkYXRlIHdpdGggcmV0dXJuaW5nIGNsYXVzZVxuXHQgKiBjb25zdCB1cGRhdGVkQ2FyOiBDYXJbXSA9IGF3YWl0IGRiLnVwZGF0ZShjYXJzKVxuXHQgKiAgIC5zZXQoeyBjb2xvcjogJ3JlZCcgfSlcblx0ICogICAud2hlcmUoZXEoY2Fycy5pZCwgMSkpXG5cdCAqICAgLnJldHVybmluZygpO1xuXHQgKiBgYGBcblx0ICovXG5cdHVwZGF0ZTxUVGFibGUgZXh0ZW5kcyBTUUxpdGVUYWJsZT4odGFibGU6IFRUYWJsZSk6IFNRTGl0ZVVwZGF0ZUJ1aWxkZXI8VFRhYmxlLCBUUmVzdWx0S2luZCwgVFJ1blJlc3VsdD4ge1xuXHRcdHJldHVybiBuZXcgU1FMaXRlVXBkYXRlQnVpbGRlcih0YWJsZSwgdGhpcy5zZXNzaW9uLCB0aGlzLmRpYWxlY3QpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4gaW5zZXJ0IHF1ZXJ5LlxuXHQgKlxuXHQgKiBDYWxsaW5nIHRoaXMgbWV0aG9kIHdpbGwgY3JlYXRlIG5ldyByb3dzIGluIGEgdGFibGUuIFVzZSBgLnZhbHVlcygpYCBtZXRob2QgdG8gc3BlY2lmeSB3aGljaCB2YWx1ZXMgdG8gaW5zZXJ0LlxuXHQgKlxuXHQgKiBTZWUgZG9jczoge0BsaW5rIGh0dHBzOi8vb3JtLmRyaXp6bGUudGVhbS9kb2NzL2luc2VydH1cblx0ICpcblx0ICogQHBhcmFtIHRhYmxlIFRoZSB0YWJsZSB0byBpbnNlcnQgaW50by5cblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICpcblx0ICogYGBgdHNcblx0ICogLy8gSW5zZXJ0IG9uZSByb3dcblx0ICogYXdhaXQgZGIuaW5zZXJ0KGNhcnMpLnZhbHVlcyh7IGJyYW5kOiAnQk1XJyB9KTtcblx0ICpcblx0ICogLy8gSW5zZXJ0IG11bHRpcGxlIHJvd3Ncblx0ICogYXdhaXQgZGIuaW5zZXJ0KGNhcnMpLnZhbHVlcyhbeyBicmFuZDogJ0JNVycgfSwgeyBicmFuZDogJ1BvcnNjaGUnIH1dKTtcblx0ICpcblx0ICogLy8gSW5zZXJ0IHdpdGggcmV0dXJuaW5nIGNsYXVzZVxuXHQgKiBjb25zdCBpbnNlcnRlZENhcjogQ2FyW10gPSBhd2FpdCBkYi5pbnNlcnQoY2Fycylcblx0ICogICAudmFsdWVzKHsgYnJhbmQ6ICdCTVcnIH0pXG5cdCAqICAgLnJldHVybmluZygpO1xuXHQgKiBgYGBcblx0ICovXG5cdGluc2VydDxUVGFibGUgZXh0ZW5kcyBTUUxpdGVUYWJsZT4oaW50bzogVFRhYmxlKTogU1FMaXRlSW5zZXJ0QnVpbGRlcjxUVGFibGUsIFRSZXN1bHRLaW5kLCBUUnVuUmVzdWx0PiB7XG5cdFx0cmV0dXJuIG5ldyBTUUxpdGVJbnNlcnRCdWlsZGVyKGludG8sIHRoaXMuc2Vzc2lvbiwgdGhpcy5kaWFsZWN0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgZGVsZXRlIHF1ZXJ5LlxuXHQgKlxuXHQgKiBDYWxsaW5nIHRoaXMgbWV0aG9kIHdpdGhvdXQgYC53aGVyZSgpYCBjbGF1c2Ugd2lsbCBkZWxldGUgYWxsIHJvd3MgaW4gYSB0YWJsZS4gVGhlIGAud2hlcmUoKWAgY2xhdXNlIHNwZWNpZmllcyB3aGljaCByb3dzIHNob3VsZCBiZSBkZWxldGVkLlxuXHQgKlxuXHQgKiBTZWUgZG9jczoge0BsaW5rIGh0dHBzOi8vb3JtLmRyaXp6bGUudGVhbS9kb2NzL2RlbGV0ZX1cblx0ICpcblx0ICogQHBhcmFtIHRhYmxlIFRoZSB0YWJsZSB0byBkZWxldGUgZnJvbS5cblx0ICpcblx0ICogQGV4YW1wbGVcblx0ICpcblx0ICogYGBgdHNcblx0ICogLy8gRGVsZXRlIGFsbCByb3dzIGluIHRoZSAnY2FycycgdGFibGVcblx0ICogYXdhaXQgZGIuZGVsZXRlKGNhcnMpO1xuXHQgKlxuXHQgKiAvLyBEZWxldGUgcm93cyB3aXRoIGZpbHRlcnMgYW5kIGNvbmRpdGlvbnNcblx0ICogYXdhaXQgZGIuZGVsZXRlKGNhcnMpLndoZXJlKGVxKGNhcnMuY29sb3IsICdncmVlbicpKTtcblx0ICpcblx0ICogLy8gRGVsZXRlIHdpdGggcmV0dXJuaW5nIGNsYXVzZVxuXHQgKiBjb25zdCBkZWxldGVkQ2FyOiBDYXJbXSA9IGF3YWl0IGRiLmRlbGV0ZShjYXJzKVxuXHQgKiAgIC53aGVyZShlcShjYXJzLmlkLCAxKSlcblx0ICogICAucmV0dXJuaW5nKCk7XG5cdCAqIGBgYFxuXHQgKi9cblx0ZGVsZXRlPFRUYWJsZSBleHRlbmRzIFNRTGl0ZVRhYmxlPihmcm9tOiBUVGFibGUpOiBTUUxpdGVEZWxldGVCYXNlPFRUYWJsZSwgVFJlc3VsdEtpbmQsIFRSdW5SZXN1bHQ+IHtcblx0XHRyZXR1cm4gbmV3IFNRTGl0ZURlbGV0ZUJhc2UoZnJvbSwgdGhpcy5zZXNzaW9uLCB0aGlzLmRpYWxlY3QpO1xuXHR9XG5cblx0cnVuKHF1ZXJ5OiBTUUxXcmFwcGVyKTogREJSZXN1bHQ8VFJlc3VsdEtpbmQsIFRSdW5SZXN1bHQ+IHtcblx0XHRjb25zdCBzcWwgPSBxdWVyeS5nZXRTUUwoKTtcblx0XHRpZiAodGhpcy5yZXN1bHRLaW5kID09PSAnYXN5bmMnKSB7XG5cdFx0XHRyZXR1cm4gbmV3IFNRTGl0ZVJhdyhcblx0XHRcdFx0YXN5bmMgKCkgPT4gdGhpcy5zZXNzaW9uLnJ1bihzcWwpLFxuXHRcdFx0XHQoKSA9PiBzcWwsXG5cdFx0XHRcdCdydW4nLFxuXHRcdFx0XHR0aGlzLmRpYWxlY3QgYXMgU1FMaXRlQXN5bmNEaWFsZWN0LFxuXHRcdFx0XHR0aGlzLnNlc3Npb24uZXh0cmFjdFJhd1J1blZhbHVlRnJvbUJhdGNoUmVzdWx0LmJpbmQodGhpcy5zZXNzaW9uKSxcblx0XHRcdCkgYXMgREJSZXN1bHQ8VFJlc3VsdEtpbmQsIFRSdW5SZXN1bHQ+O1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5zZXNzaW9uLnJ1bihzcWwpIGFzIERCUmVzdWx0PFRSZXN1bHRLaW5kLCBUUnVuUmVzdWx0Pjtcblx0fVxuXG5cdGFsbDxUID0gdW5rbm93bj4ocXVlcnk6IFNRTFdyYXBwZXIpOiBEQlJlc3VsdDxUUmVzdWx0S2luZCwgVFtdPiB7XG5cdFx0Y29uc3Qgc3FsID0gcXVlcnkuZ2V0U1FMKCk7XG5cdFx0aWYgKHRoaXMucmVzdWx0S2luZCA9PT0gJ2FzeW5jJykge1xuXHRcdFx0cmV0dXJuIG5ldyBTUUxpdGVSYXcoXG5cdFx0XHRcdGFzeW5jICgpID0+IHRoaXMuc2Vzc2lvbi5hbGwoc3FsKSxcblx0XHRcdFx0KCkgPT4gc3FsLFxuXHRcdFx0XHQnYWxsJyxcblx0XHRcdFx0dGhpcy5kaWFsZWN0IGFzIFNRTGl0ZUFzeW5jRGlhbGVjdCxcblx0XHRcdFx0dGhpcy5zZXNzaW9uLmV4dHJhY3RSYXdBbGxWYWx1ZUZyb21CYXRjaFJlc3VsdC5iaW5kKHRoaXMuc2Vzc2lvbiksXG5cdFx0XHQpIGFzIGFueTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuc2Vzc2lvbi5hbGwoc3FsKSBhcyBEQlJlc3VsdDxUUmVzdWx0S2luZCwgVFtdPjtcblx0fVxuXG5cdGdldDxUID0gdW5rbm93bj4ocXVlcnk6IFNRTFdyYXBwZXIpOiBEQlJlc3VsdDxUUmVzdWx0S2luZCwgVD4ge1xuXHRcdGNvbnN0IHNxbCA9IHF1ZXJ5LmdldFNRTCgpO1xuXHRcdGlmICh0aGlzLnJlc3VsdEtpbmQgPT09ICdhc3luYycpIHtcblx0XHRcdHJldHVybiBuZXcgU1FMaXRlUmF3KFxuXHRcdFx0XHRhc3luYyAoKSA9PiB0aGlzLnNlc3Npb24uZ2V0KHNxbCksXG5cdFx0XHRcdCgpID0+IHNxbCxcblx0XHRcdFx0J2dldCcsXG5cdFx0XHRcdHRoaXMuZGlhbGVjdCBhcyBTUUxpdGVBc3luY0RpYWxlY3QsXG5cdFx0XHRcdHRoaXMuc2Vzc2lvbi5leHRyYWN0UmF3R2V0VmFsdWVGcm9tQmF0Y2hSZXN1bHQuYmluZCh0aGlzLnNlc3Npb24pLFxuXHRcdFx0KSBhcyBEQlJlc3VsdDxUUmVzdWx0S2luZCwgVD47XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLnNlc3Npb24uZ2V0KHNxbCkgYXMgREJSZXN1bHQ8VFJlc3VsdEtpbmQsIFQ+O1xuXHR9XG5cblx0dmFsdWVzPFQgZXh0ZW5kcyB1bmtub3duW10gPSB1bmtub3duW10+KHF1ZXJ5OiBTUUxXcmFwcGVyKTogREJSZXN1bHQ8VFJlc3VsdEtpbmQsIFRbXT4ge1xuXHRcdGNvbnN0IHNxbCA9IHF1ZXJ5LmdldFNRTCgpO1xuXHRcdGlmICh0aGlzLnJlc3VsdEtpbmQgPT09ICdhc3luYycpIHtcblx0XHRcdHJldHVybiBuZXcgU1FMaXRlUmF3KFxuXHRcdFx0XHRhc3luYyAoKSA9PiB0aGlzLnNlc3Npb24udmFsdWVzKHNxbCksXG5cdFx0XHRcdCgpID0+IHNxbCxcblx0XHRcdFx0J3ZhbHVlcycsXG5cdFx0XHRcdHRoaXMuZGlhbGVjdCBhcyBTUUxpdGVBc3luY0RpYWxlY3QsXG5cdFx0XHRcdHRoaXMuc2Vzc2lvbi5leHRyYWN0UmF3VmFsdWVzVmFsdWVGcm9tQmF0Y2hSZXN1bHQuYmluZCh0aGlzLnNlc3Npb24pLFxuXHRcdFx0KSBhcyBhbnk7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLnNlc3Npb24udmFsdWVzKHNxbCkgYXMgREJSZXN1bHQ8VFJlc3VsdEtpbmQsIFRbXT47XG5cdH1cblxuXHR0cmFuc2FjdGlvbjxUPihcblx0XHR0cmFuc2FjdGlvbjogKHR4OiBTUUxpdGVUcmFuc2FjdGlvbjxUUmVzdWx0S2luZCwgVFJ1blJlc3VsdCwgVEZ1bGxTY2hlbWEsIFRTY2hlbWE+KSA9PiBSZXN1bHQ8VFJlc3VsdEtpbmQsIFQ+LFxuXHRcdGNvbmZpZz86IFNRTGl0ZVRyYW5zYWN0aW9uQ29uZmlnLFxuXHQpOiBSZXN1bHQ8VFJlc3VsdEtpbmQsIFQ+IHtcblx0XHRyZXR1cm4gdGhpcy5zZXNzaW9uLnRyYW5zYWN0aW9uKHRyYW5zYWN0aW9uLCBjb25maWcpO1xuXHR9XG59XG5cbmV4cG9ydCB0eXBlIFNRTGl0ZVdpdGhSZXBsaWNhczxRPiA9IFEgJiB7ICRwcmltYXJ5OiBRIH07XG5cbmV4cG9ydCBjb25zdCB3aXRoUmVwbGljYXMgPSA8XG5cdFRSZXN1bHRLaW5kIGV4dGVuZHMgJ3N5bmMnIHwgJ2FzeW5jJyxcblx0VFJ1blJlc3VsdCxcblx0VEZ1bGxTY2hlbWEgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcblx0VFNjaGVtYSBleHRlbmRzIFRhYmxlc1JlbGF0aW9uYWxDb25maWcsXG5cdFEgZXh0ZW5kcyBCYXNlU1FMaXRlRGF0YWJhc2U8XG5cdFx0VFJlc3VsdEtpbmQsXG5cdFx0VFJ1blJlc3VsdCxcblx0XHRURnVsbFNjaGVtYSxcblx0XHRUU2NoZW1hIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPyBFeHRyYWN0VGFibGVzV2l0aFJlbGF0aW9uczxURnVsbFNjaGVtYT4gOiBUU2NoZW1hXG5cdD4sXG4+KFxuXHRwcmltYXJ5OiBRLFxuXHRyZXBsaWNhczogW1EsIC4uLlFbXV0sXG5cdGdldFJlcGxpY2E6IChyZXBsaWNhczogUVtdKSA9PiBRID0gKCkgPT4gcmVwbGljYXNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogcmVwbGljYXMubGVuZ3RoKV0hLFxuKTogU1FMaXRlV2l0aFJlcGxpY2FzPFE+ID0+IHtcblx0Y29uc3Qgc2VsZWN0OiBRWydzZWxlY3QnXSA9ICguLi5hcmdzOiBbXSkgPT4gZ2V0UmVwbGljYShyZXBsaWNhcykuc2VsZWN0KC4uLmFyZ3MpO1xuXHRjb25zdCBzZWxlY3REaXN0aW5jdDogUVsnc2VsZWN0RGlzdGluY3QnXSA9ICguLi5hcmdzOiBbXSkgPT4gZ2V0UmVwbGljYShyZXBsaWNhcykuc2VsZWN0RGlzdGluY3QoLi4uYXJncyk7XG5cdGNvbnN0ICR3aXRoOiBRWyd3aXRoJ10gPSAoLi4uYXJnczogW10pID0+IGdldFJlcGxpY2EocmVwbGljYXMpLndpdGgoLi4uYXJncyk7XG5cblx0Y29uc3QgdXBkYXRlOiBRWyd1cGRhdGUnXSA9ICguLi5hcmdzOiBbYW55XSkgPT4gcHJpbWFyeS51cGRhdGUoLi4uYXJncyk7XG5cdGNvbnN0IGluc2VydDogUVsnaW5zZXJ0J10gPSAoLi4uYXJnczogW2FueV0pID0+IHByaW1hcnkuaW5zZXJ0KC4uLmFyZ3MpO1xuXHRjb25zdCAkZGVsZXRlOiBRWydkZWxldGUnXSA9ICguLi5hcmdzOiBbYW55XSkgPT4gcHJpbWFyeS5kZWxldGUoLi4uYXJncyk7XG5cdGNvbnN0IHJ1bjogUVsncnVuJ10gPSAoLi4uYXJnczogW2FueV0pID0+IHByaW1hcnkucnVuKC4uLmFyZ3MpO1xuXHRjb25zdCBhbGw6IFFbJ2FsbCddID0gKC4uLmFyZ3M6IFthbnldKSA9PiBwcmltYXJ5LmFsbCguLi5hcmdzKTtcblx0Y29uc3QgZ2V0OiBRWydnZXQnXSA9ICguLi5hcmdzOiBbYW55XSkgPT4gcHJpbWFyeS5nZXQoLi4uYXJncyk7XG5cdGNvbnN0IHZhbHVlczogUVsndmFsdWVzJ10gPSAoLi4uYXJnczogW2FueV0pID0+IHByaW1hcnkudmFsdWVzKC4uLmFyZ3MpO1xuXHRjb25zdCB0cmFuc2FjdGlvbjogUVsndHJhbnNhY3Rpb24nXSA9ICguLi5hcmdzOiBbYW55XSkgPT4gcHJpbWFyeS50cmFuc2FjdGlvbiguLi5hcmdzKTtcblxuXHRyZXR1cm4ge1xuXHRcdC4uLnByaW1hcnksXG5cdFx0dXBkYXRlLFxuXHRcdGluc2VydCxcblx0XHRkZWxldGU6ICRkZWxldGUsXG5cdFx0cnVuLFxuXHRcdGFsbCxcblx0XHRnZXQsXG5cdFx0dmFsdWVzLFxuXHRcdHRyYW5zYWN0aW9uLFxuXHRcdCRwcmltYXJ5OiBwcmltYXJ5LFxuXHRcdHNlbGVjdCxcblx0XHRzZWxlY3REaXN0aW5jdCxcblx0XHR3aXRoOiAkd2l0aCxcblx0XHRnZXQgcXVlcnkoKSB7XG5cdFx0XHRyZXR1cm4gZ2V0UmVwbGljYShyZXBsaWNhcykucXVlcnk7XG5cdFx0fSxcblx0fTtcbn07XG4iLCAiaW1wb3J0IHsgZW50aXR5S2luZCB9IGZyb20gJ34vZW50aXR5LnRzJztcbmltcG9ydCB7IERyaXp6bGVFcnJvciwgVHJhbnNhY3Rpb25Sb2xsYmFja0Vycm9yIH0gZnJvbSAnfi9lcnJvcnMudHMnO1xuaW1wb3J0IHR5cGUgeyBUYWJsZXNSZWxhdGlvbmFsQ29uZmlnIH0gZnJvbSAnfi9yZWxhdGlvbnMudHMnO1xuaW1wb3J0IHR5cGUgeyBQcmVwYXJlZFF1ZXJ5IH0gZnJvbSAnfi9zZXNzaW9uLnRzJztcbmltcG9ydCB0eXBlIHsgUXVlcnksIFNRTCB9IGZyb20gJ34vc3FsL3NxbC50cyc7XG5pbXBvcnQgdHlwZSB7IFNRTGl0ZUFzeW5jRGlhbGVjdCwgU1FMaXRlU3luY0RpYWxlY3QgfSBmcm9tICd+L3NxbGl0ZS1jb3JlL2RpYWxlY3QudHMnO1xuLy8gaW1wb3J0IHsgUXVlcnlQcm9taXNlIH0gZnJvbSAnLi4vaW5kZXgudHMnO1xuaW1wb3J0IHsgUXVlcnlQcm9taXNlIH0gZnJvbSAnfi9xdWVyeS1wcm9taXNlLnRzJztcbmltcG9ydCB7IEJhc2VTUUxpdGVEYXRhYmFzZSB9IGZyb20gJy4vZGIudHMnO1xuaW1wb3J0IHR5cGUgeyBTUUxpdGVSYXcgfSBmcm9tICcuL3F1ZXJ5LWJ1aWxkZXJzL3Jhdy50cyc7XG5pbXBvcnQgdHlwZSB7IFNlbGVjdGVkRmllbGRzT3JkZXJlZCB9IGZyb20gJy4vcXVlcnktYnVpbGRlcnMvc2VsZWN0LnR5cGVzLnRzJztcblxuZXhwb3J0IGludGVyZmFjZSBQcmVwYXJlZFF1ZXJ5Q29uZmlnIHtcblx0dHlwZTogJ3N5bmMnIHwgJ2FzeW5jJztcblx0cnVuOiB1bmtub3duO1xuXHRhbGw6IHVua25vd247XG5cdGdldDogdW5rbm93bjtcblx0dmFsdWVzOiB1bmtub3duO1xuXHRleGVjdXRlOiB1bmtub3duO1xufVxuXG5leHBvcnQgY2xhc3MgRXhlY3V0ZVJlc3VsdFN5bmM8VD4gZXh0ZW5kcyBRdWVyeVByb21pc2U8VD4ge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnRXhlY3V0ZVJlc3VsdFN5bmMnO1xuXG5cdGNvbnN0cnVjdG9yKHByaXZhdGUgcmVzdWx0Q2I6ICgpID0+IFQpIHtcblx0XHRzdXBlcigpO1xuXHR9XG5cblx0b3ZlcnJpZGUgYXN5bmMgZXhlY3V0ZSgpOiBQcm9taXNlPFQ+IHtcblx0XHRyZXR1cm4gdGhpcy5yZXN1bHRDYigpO1xuXHR9XG5cblx0c3luYygpOiBUIHtcblx0XHRyZXR1cm4gdGhpcy5yZXN1bHRDYigpO1xuXHR9XG59XG5cbmV4cG9ydCB0eXBlIEV4ZWN1dGVSZXN1bHQ8VFR5cGUgZXh0ZW5kcyAnc3luYycgfCAnYXN5bmMnLCBUUmVzdWx0PiA9IFRUeXBlIGV4dGVuZHMgJ2FzeW5jJyA/IFByb21pc2U8VFJlc3VsdD5cblx0OiBFeGVjdXRlUmVzdWx0U3luYzxUUmVzdWx0PjtcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNRTGl0ZVByZXBhcmVkUXVlcnk8VCBleHRlbmRzIFByZXBhcmVkUXVlcnlDb25maWc+IGltcGxlbWVudHMgUHJlcGFyZWRRdWVyeSB7XG5cdHN0YXRpYyByZWFkb25seSBbZW50aXR5S2luZF06IHN0cmluZyA9ICdQcmVwYXJlZFF1ZXJ5JztcblxuXHQvKiogQGludGVybmFsICovXG5cdGpvaW5zTm90TnVsbGFibGVNYXA/OiBSZWNvcmQ8c3RyaW5nLCBib29sZWFuPjtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIG1vZGU6ICdzeW5jJyB8ICdhc3luYycsXG5cdFx0cHJpdmF0ZSBleGVjdXRlTWV0aG9kOiBTUUxpdGVFeGVjdXRlTWV0aG9kLFxuXHRcdHByb3RlY3RlZCBxdWVyeTogUXVlcnksXG5cdCkge31cblxuXHRnZXRRdWVyeSgpOiBRdWVyeSB7XG5cdFx0cmV0dXJuIHRoaXMucXVlcnk7XG5cdH1cblxuXHRhYnN0cmFjdCBydW4ocGxhY2Vob2xkZXJWYWx1ZXM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPik6IFJlc3VsdDxUWyd0eXBlJ10sIFRbJ3J1biddPjtcblxuXHRtYXBSdW5SZXN1bHQocmVzdWx0OiB1bmtub3duLCBfaXNGcm9tQmF0Y2g/OiBib29sZWFuKTogdW5rbm93biB7XG5cdFx0cmV0dXJuIHJlc3VsdDtcblx0fVxuXG5cdGFic3RyYWN0IGFsbChwbGFjZWhvbGRlclZhbHVlcz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+KTogUmVzdWx0PFRbJ3R5cGUnXSwgVFsnYWxsJ10+O1xuXG5cdG1hcEFsbFJlc3VsdChfcmVzdWx0OiB1bmtub3duLCBfaXNGcm9tQmF0Y2g/OiBib29sZWFuKTogdW5rbm93biB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcblx0fVxuXG5cdGFic3RyYWN0IGdldChwbGFjZWhvbGRlclZhbHVlcz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+KTogUmVzdWx0PFRbJ3R5cGUnXSwgVFsnZ2V0J10+O1xuXG5cdG1hcEdldFJlc3VsdChfcmVzdWx0OiB1bmtub3duLCBfaXNGcm9tQmF0Y2g/OiBib29sZWFuKTogdW5rbm93biB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcblx0fVxuXG5cdGFic3RyYWN0IHZhbHVlcyhwbGFjZWhvbGRlclZhbHVlcz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+KTogUmVzdWx0PFRbJ3R5cGUnXSwgVFsndmFsdWVzJ10+O1xuXG5cdGV4ZWN1dGUocGxhY2Vob2xkZXJWYWx1ZXM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPik6IEV4ZWN1dGVSZXN1bHQ8VFsndHlwZSddLCBUWydleGVjdXRlJ10+IHtcblx0XHRpZiAodGhpcy5tb2RlID09PSAnYXN5bmMnKSB7XG5cdFx0XHRyZXR1cm4gdGhpc1t0aGlzLmV4ZWN1dGVNZXRob2RdKHBsYWNlaG9sZGVyVmFsdWVzKSBhcyBFeGVjdXRlUmVzdWx0PFRbJ3R5cGUnXSwgVFsnZXhlY3V0ZSddPjtcblx0XHR9XG5cdFx0cmV0dXJuIG5ldyBFeGVjdXRlUmVzdWx0U3luYygoKSA9PiB0aGlzW3RoaXMuZXhlY3V0ZU1ldGhvZF0ocGxhY2Vob2xkZXJWYWx1ZXMpKTtcblx0fVxuXG5cdG1hcFJlc3VsdChyZXNwb25zZTogdW5rbm93biwgaXNGcm9tQmF0Y2g/OiBib29sZWFuKSB7XG5cdFx0c3dpdGNoICh0aGlzLmV4ZWN1dGVNZXRob2QpIHtcblx0XHRcdGNhc2UgJ3J1bic6IHtcblx0XHRcdFx0cmV0dXJuIHRoaXMubWFwUnVuUmVzdWx0KHJlc3BvbnNlLCBpc0Zyb21CYXRjaCk7XG5cdFx0XHR9XG5cdFx0XHRjYXNlICdhbGwnOiB7XG5cdFx0XHRcdHJldHVybiB0aGlzLm1hcEFsbFJlc3VsdChyZXNwb25zZSwgaXNGcm9tQmF0Y2gpO1xuXHRcdFx0fVxuXHRcdFx0Y2FzZSAnZ2V0Jzoge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5tYXBHZXRSZXN1bHQocmVzcG9uc2UsIGlzRnJvbUJhdGNoKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKiogQGludGVybmFsICovXG5cdGFic3RyYWN0IGlzUmVzcG9uc2VJbkFycmF5TW9kZSgpOiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNRTGl0ZVRyYW5zYWN0aW9uQ29uZmlnIHtcblx0YmVoYXZpb3I/OiAnZGVmZXJyZWQnIHwgJ2ltbWVkaWF0ZScgfCAnZXhjbHVzaXZlJztcbn1cblxuZXhwb3J0IHR5cGUgU1FMaXRlRXhlY3V0ZU1ldGhvZCA9ICdydW4nIHwgJ2FsbCcgfCAnZ2V0JztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIFNRTGl0ZVNlc3Npb248XG5cdFRSZXN1bHRLaW5kIGV4dGVuZHMgJ3N5bmMnIHwgJ2FzeW5jJyxcblx0VFJ1blJlc3VsdCxcblx0VEZ1bGxTY2hlbWEgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcblx0VFNjaGVtYSBleHRlbmRzIFRhYmxlc1JlbGF0aW9uYWxDb25maWcsXG4+IHtcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ1NRTGl0ZVNlc3Npb24nO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdC8qKiBAaW50ZXJuYWwgKi9cblx0XHRyZWFkb25seSBkaWFsZWN0OiB7IHN5bmM6IFNRTGl0ZVN5bmNEaWFsZWN0OyBhc3luYzogU1FMaXRlQXN5bmNEaWFsZWN0IH1bVFJlc3VsdEtpbmRdLFxuXHQpIHt9XG5cblx0YWJzdHJhY3QgcHJlcGFyZVF1ZXJ5KFxuXHRcdHF1ZXJ5OiBRdWVyeSxcblx0XHRmaWVsZHM6IFNlbGVjdGVkRmllbGRzT3JkZXJlZCB8IHVuZGVmaW5lZCxcblx0XHRleGVjdXRlTWV0aG9kOiBTUUxpdGVFeGVjdXRlTWV0aG9kLFxuXHRcdGlzUmVzcG9uc2VJbkFycmF5TW9kZTogYm9vbGVhbixcblx0XHRjdXN0b21SZXN1bHRNYXBwZXI/OiAocm93czogdW5rbm93bltdW10sIG1hcENvbHVtblZhbHVlPzogKHZhbHVlOiB1bmtub3duKSA9PiB1bmtub3duKSA9PiB1bmtub3duLFxuXHQpOiBTUUxpdGVQcmVwYXJlZFF1ZXJ5PFByZXBhcmVkUXVlcnlDb25maWcgJiB7IHR5cGU6IFRSZXN1bHRLaW5kIH0+O1xuXG5cdHByZXBhcmVPbmVUaW1lUXVlcnkoXG5cdFx0cXVlcnk6IFF1ZXJ5LFxuXHRcdGZpZWxkczogU2VsZWN0ZWRGaWVsZHNPcmRlcmVkIHwgdW5kZWZpbmVkLFxuXHRcdGV4ZWN1dGVNZXRob2Q6IFNRTGl0ZUV4ZWN1dGVNZXRob2QsXG5cdFx0aXNSZXNwb25zZUluQXJyYXlNb2RlOiBib29sZWFuLFxuXHQpOiBTUUxpdGVQcmVwYXJlZFF1ZXJ5PFByZXBhcmVkUXVlcnlDb25maWcgJiB7IHR5cGU6IFRSZXN1bHRLaW5kIH0+IHtcblx0XHRyZXR1cm4gdGhpcy5wcmVwYXJlUXVlcnkocXVlcnksIGZpZWxkcywgZXhlY3V0ZU1ldGhvZCwgaXNSZXNwb25zZUluQXJyYXlNb2RlKTtcblx0fVxuXG5cdGFic3RyYWN0IHRyYW5zYWN0aW9uPFQ+KFxuXHRcdHRyYW5zYWN0aW9uOiAodHg6IFNRTGl0ZVRyYW5zYWN0aW9uPFRSZXN1bHRLaW5kLCBUUnVuUmVzdWx0LCBURnVsbFNjaGVtYSwgVFNjaGVtYT4pID0+IFJlc3VsdDxUUmVzdWx0S2luZCwgVD4sXG5cdFx0Y29uZmlnPzogU1FMaXRlVHJhbnNhY3Rpb25Db25maWcsXG5cdCk6IFJlc3VsdDxUUmVzdWx0S2luZCwgVD47XG5cblx0cnVuKHF1ZXJ5OiBTUUwpOiBSZXN1bHQ8VFJlc3VsdEtpbmQsIFRSdW5SZXN1bHQ+IHtcblx0XHRjb25zdCBzdGF0aWNRdWVyeSA9IHRoaXMuZGlhbGVjdC5zcWxUb1F1ZXJ5KHF1ZXJ5KTtcblx0XHR0cnkge1xuXHRcdFx0cmV0dXJuIHRoaXMucHJlcGFyZU9uZVRpbWVRdWVyeShzdGF0aWNRdWVyeSwgdW5kZWZpbmVkLCAncnVuJywgZmFsc2UpLnJ1bigpIGFzIFJlc3VsdDxUUmVzdWx0S2luZCwgVFJ1blJlc3VsdD47XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHR0aHJvdyBuZXcgRHJpenpsZUVycm9yKHsgY2F1c2U6IGVyciwgbWVzc2FnZTogYEZhaWxlZCB0byBydW4gdGhlIHF1ZXJ5ICcke3N0YXRpY1F1ZXJ5LnNxbH0nYCB9KTtcblx0XHR9XG5cdH1cblxuXHQvKiogQGludGVybmFsICovXG5cdGV4dHJhY3RSYXdSdW5WYWx1ZUZyb21CYXRjaFJlc3VsdChyZXN1bHQ6IHVua25vd24pIHtcblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0YWxsPFQgPSB1bmtub3duPihxdWVyeTogU1FMKTogUmVzdWx0PFRSZXN1bHRLaW5kLCBUW10+IHtcblx0XHRyZXR1cm4gdGhpcy5wcmVwYXJlT25lVGltZVF1ZXJ5KHRoaXMuZGlhbGVjdC5zcWxUb1F1ZXJ5KHF1ZXJ5KSwgdW5kZWZpbmVkLCAncnVuJywgZmFsc2UpLmFsbCgpIGFzIFJlc3VsdDxcblx0XHRcdFRSZXN1bHRLaW5kLFxuXHRcdFx0VFtdXG5cdFx0Pjtcblx0fVxuXG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0ZXh0cmFjdFJhd0FsbFZhbHVlRnJvbUJhdGNoUmVzdWx0KF9yZXN1bHQ6IHVua25vd24pOiB1bmtub3duIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoJ05vdCBpbXBsZW1lbnRlZCcpO1xuXHR9XG5cblx0Z2V0PFQgPSB1bmtub3duPihxdWVyeTogU1FMKTogUmVzdWx0PFRSZXN1bHRLaW5kLCBUPiB7XG5cdFx0cmV0dXJuIHRoaXMucHJlcGFyZU9uZVRpbWVRdWVyeSh0aGlzLmRpYWxlY3Quc3FsVG9RdWVyeShxdWVyeSksIHVuZGVmaW5lZCwgJ3J1bicsIGZhbHNlKS5nZXQoKSBhcyBSZXN1bHQ8XG5cdFx0XHRUUmVzdWx0S2luZCxcblx0XHRcdFRcblx0XHQ+O1xuXHR9XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRleHRyYWN0UmF3R2V0VmFsdWVGcm9tQmF0Y2hSZXN1bHQoX3Jlc3VsdDogdW5rbm93bik6IHVua25vd24ge1xuXHRcdHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG5cdH1cblxuXHR2YWx1ZXM8VCBleHRlbmRzIGFueVtdID0gdW5rbm93bltdPihcblx0XHRxdWVyeTogU1FMLFxuXHQpOiBSZXN1bHQ8VFJlc3VsdEtpbmQsIFRbXT4ge1xuXHRcdHJldHVybiB0aGlzLnByZXBhcmVPbmVUaW1lUXVlcnkodGhpcy5kaWFsZWN0LnNxbFRvUXVlcnkocXVlcnkpLCB1bmRlZmluZWQsICdydW4nLCBmYWxzZSkudmFsdWVzKCkgYXMgUmVzdWx0PFxuXHRcdFx0VFJlc3VsdEtpbmQsXG5cdFx0XHRUW11cblx0XHQ+O1xuXHR9XG5cblx0LyoqIEBpbnRlcm5hbCAqL1xuXHRleHRyYWN0UmF3VmFsdWVzVmFsdWVGcm9tQmF0Y2hSZXN1bHQoX3Jlc3VsdDogdW5rbm93bik6IHVua25vd24ge1xuXHRcdHRocm93IG5ldyBFcnJvcignTm90IGltcGxlbWVudGVkJyk7XG5cdH1cbn1cblxuZXhwb3J0IHR5cGUgUmVzdWx0PFRLaW5kIGV4dGVuZHMgJ3N5bmMnIHwgJ2FzeW5jJywgVFJlc3VsdD4gPSB7IHN5bmM6IFRSZXN1bHQ7IGFzeW5jOiBQcm9taXNlPFRSZXN1bHQ+IH1bVEtpbmRdO1xuXG5leHBvcnQgdHlwZSBEQlJlc3VsdDxUS2luZCBleHRlbmRzICdzeW5jJyB8ICdhc3luYycsIFRSZXN1bHQ+ID0geyBzeW5jOiBUUmVzdWx0OyBhc3luYzogU1FMaXRlUmF3PFRSZXN1bHQ+IH1bVEtpbmRdO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgU1FMaXRlVHJhbnNhY3Rpb248XG5cdFRSZXN1bHRUeXBlIGV4dGVuZHMgJ3N5bmMnIHwgJ2FzeW5jJyxcblx0VFJ1blJlc3VsdCxcblx0VEZ1bGxTY2hlbWEgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcblx0VFNjaGVtYSBleHRlbmRzIFRhYmxlc1JlbGF0aW9uYWxDb25maWcsXG4+IGV4dGVuZHMgQmFzZVNRTGl0ZURhdGFiYXNlPFRSZXN1bHRUeXBlLCBUUnVuUmVzdWx0LCBURnVsbFNjaGVtYSwgVFNjaGVtYT4ge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnU1FMaXRlVHJhbnNhY3Rpb24nO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdHJlc3VsdFR5cGU6IFRSZXN1bHRUeXBlLFxuXHRcdGRpYWxlY3Q6IHsgc3luYzogU1FMaXRlU3luY0RpYWxlY3Q7IGFzeW5jOiBTUUxpdGVBc3luY0RpYWxlY3QgfVtUUmVzdWx0VHlwZV0sXG5cdFx0c2Vzc2lvbjogU1FMaXRlU2Vzc2lvbjxUUmVzdWx0VHlwZSwgVFJ1blJlc3VsdCwgVEZ1bGxTY2hlbWEsIFRTY2hlbWE+LFxuXHRcdHByb3RlY3RlZCBzY2hlbWE6IHtcblx0XHRcdGZ1bGxTY2hlbWE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuXHRcdFx0c2NoZW1hOiBUU2NoZW1hO1xuXHRcdFx0dGFibGVOYW1lc01hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcblx0XHR9IHwgdW5kZWZpbmVkLFxuXHRcdHByb3RlY3RlZCByZWFkb25seSBuZXN0ZWRJbmRleCA9IDAsXG5cdCkge1xuXHRcdHN1cGVyKHJlc3VsdFR5cGUsIGRpYWxlY3QsIHNlc3Npb24sIHNjaGVtYSk7XG5cdH1cblxuXHRyb2xsYmFjaygpOiBuZXZlciB7XG5cdFx0dGhyb3cgbmV3IFRyYW5zYWN0aW9uUm9sbGJhY2tFcnJvcigpO1xuXHR9XG59XG4iLCAiaW1wb3J0IHR5cGUgeyBDbGllbnQsIEluQXJncywgSW5TdGF0ZW1lbnQsIFJlc3VsdFNldCwgVHJhbnNhY3Rpb24gfSBmcm9tICdAbGlic3FsL2NsaWVudCc7XG5pbXBvcnQgdHlwZSB7IEJhdGNoSXRlbSBhcyBCYXRjaEl0ZW0gfSBmcm9tICd+L2JhdGNoLnRzJztcbmltcG9ydCB7IGVudGl0eUtpbmQgfSBmcm9tICd+L2VudGl0eS50cyc7XG5pbXBvcnQgdHlwZSB7IExvZ2dlciB9IGZyb20gJ34vbG9nZ2VyLnRzJztcbmltcG9ydCB7IE5vb3BMb2dnZXIgfSBmcm9tICd+L2xvZ2dlci50cyc7XG5pbXBvcnQgdHlwZSB7IFJlbGF0aW9uYWxTY2hlbWFDb25maWcsIFRhYmxlc1JlbGF0aW9uYWxDb25maWcgfSBmcm9tICd+L3JlbGF0aW9ucy50cyc7XG5pbXBvcnQgdHlwZSB7IFByZXBhcmVkUXVlcnkgfSBmcm9tICd+L3Nlc3Npb24udHMnO1xuaW1wb3J0IHsgZmlsbFBsYWNlaG9sZGVycywgdHlwZSBRdWVyeSwgc3FsIH0gZnJvbSAnfi9zcWwvc3FsLnRzJztcbmltcG9ydCB0eXBlIHsgU1FMaXRlQXN5bmNEaWFsZWN0IH0gZnJvbSAnfi9zcWxpdGUtY29yZS9kaWFsZWN0LnRzJztcbmltcG9ydCB7IFNRTGl0ZVRyYW5zYWN0aW9uIH0gZnJvbSAnfi9zcWxpdGUtY29yZS9pbmRleC50cyc7XG5pbXBvcnQgdHlwZSB7IFNlbGVjdGVkRmllbGRzT3JkZXJlZCB9IGZyb20gJ34vc3FsaXRlLWNvcmUvcXVlcnktYnVpbGRlcnMvc2VsZWN0LnR5cGVzLnRzJztcbmltcG9ydCB0eXBlIHtcblx0UHJlcGFyZWRRdWVyeUNvbmZpZyBhcyBQcmVwYXJlZFF1ZXJ5Q29uZmlnQmFzZSxcblx0U1FMaXRlRXhlY3V0ZU1ldGhvZCxcblx0U1FMaXRlVHJhbnNhY3Rpb25Db25maWcsXG59IGZyb20gJ34vc3FsaXRlLWNvcmUvc2Vzc2lvbi50cyc7XG5pbXBvcnQgeyBTUUxpdGVQcmVwYXJlZFF1ZXJ5LCBTUUxpdGVTZXNzaW9uIH0gZnJvbSAnfi9zcWxpdGUtY29yZS9zZXNzaW9uLnRzJztcbmltcG9ydCB7IG1hcFJlc3VsdFJvdyB9IGZyb20gJ34vdXRpbHMudHMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIExpYlNRTFNlc3Npb25PcHRpb25zIHtcblx0bG9nZ2VyPzogTG9nZ2VyO1xufVxuXG50eXBlIFByZXBhcmVkUXVlcnlDb25maWcgPSBPbWl0PFByZXBhcmVkUXVlcnlDb25maWdCYXNlLCAnc3RhdGVtZW50JyB8ICdydW4nPjtcblxuZXhwb3J0IGNsYXNzIExpYlNRTFNlc3Npb248XG5cdFRGdWxsU2NoZW1hIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4sXG5cdFRTY2hlbWEgZXh0ZW5kcyBUYWJsZXNSZWxhdGlvbmFsQ29uZmlnLFxuPiBleHRlbmRzIFNRTGl0ZVNlc3Npb248J2FzeW5jJywgUmVzdWx0U2V0LCBURnVsbFNjaGVtYSwgVFNjaGVtYT4ge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnTGliU1FMU2Vzc2lvbic7XG5cblx0cHJpdmF0ZSBsb2dnZXI6IExvZ2dlcjtcblxuXHRjb25zdHJ1Y3Rvcihcblx0XHRwcml2YXRlIGNsaWVudDogQ2xpZW50LFxuXHRcdGRpYWxlY3Q6IFNRTGl0ZUFzeW5jRGlhbGVjdCxcblx0XHRwcml2YXRlIHNjaGVtYTogUmVsYXRpb25hbFNjaGVtYUNvbmZpZzxUU2NoZW1hPiB8IHVuZGVmaW5lZCxcblx0XHRwcml2YXRlIG9wdGlvbnM6IExpYlNRTFNlc3Npb25PcHRpb25zLFxuXHRcdHByaXZhdGUgdHg6IFRyYW5zYWN0aW9uIHwgdW5kZWZpbmVkLFxuXHQpIHtcblx0XHRzdXBlcihkaWFsZWN0KTtcblx0XHR0aGlzLmxvZ2dlciA9IG9wdGlvbnMubG9nZ2VyID8/IG5ldyBOb29wTG9nZ2VyKCk7XG5cdH1cblxuXHRwcmVwYXJlUXVlcnk8VCBleHRlbmRzIE9taXQ8UHJlcGFyZWRRdWVyeUNvbmZpZywgJ3J1bic+Pihcblx0XHRxdWVyeTogUXVlcnksXG5cdFx0ZmllbGRzOiBTZWxlY3RlZEZpZWxkc09yZGVyZWQgfCB1bmRlZmluZWQsXG5cdFx0ZXhlY3V0ZU1ldGhvZDogU1FMaXRlRXhlY3V0ZU1ldGhvZCxcblx0XHRpc1Jlc3BvbnNlSW5BcnJheU1vZGU6IGJvb2xlYW4sXG5cdFx0Y3VzdG9tUmVzdWx0TWFwcGVyPzogKHJvd3M6IHVua25vd25bXVtdKSA9PiB1bmtub3duLFxuXHQpOiBMaWJTUUxQcmVwYXJlZFF1ZXJ5PFQ+IHtcblx0XHRyZXR1cm4gbmV3IExpYlNRTFByZXBhcmVkUXVlcnkoXG5cdFx0XHR0aGlzLmNsaWVudCxcblx0XHRcdHF1ZXJ5LFxuXHRcdFx0dGhpcy5sb2dnZXIsXG5cdFx0XHRmaWVsZHMsXG5cdFx0XHR0aGlzLnR4LFxuXHRcdFx0ZXhlY3V0ZU1ldGhvZCxcblx0XHRcdGlzUmVzcG9uc2VJbkFycmF5TW9kZSxcblx0XHRcdGN1c3RvbVJlc3VsdE1hcHBlcixcblx0XHQpO1xuXHR9XG5cblx0YXN5bmMgYmF0Y2g8VCBleHRlbmRzIEJhdGNoSXRlbTwnc3FsaXRlJz5bXSB8IHJlYWRvbmx5IEJhdGNoSXRlbTwnc3FsaXRlJz5bXT4ocXVlcmllczogVCkge1xuXHRcdGNvbnN0IHByZXBhcmVkUXVlcmllczogUHJlcGFyZWRRdWVyeVtdID0gW107XG5cdFx0Y29uc3QgYnVpbHRRdWVyaWVzOiBJblN0YXRlbWVudFtdID0gW107XG5cblx0XHRmb3IgKGNvbnN0IHF1ZXJ5IG9mIHF1ZXJpZXMpIHtcblx0XHRcdGNvbnN0IHByZXBhcmVkUXVlcnkgPSBxdWVyeS5fcHJlcGFyZSgpO1xuXHRcdFx0Y29uc3QgYnVpbHRRdWVyeSA9IHByZXBhcmVkUXVlcnkuZ2V0UXVlcnkoKTtcblx0XHRcdHByZXBhcmVkUXVlcmllcy5wdXNoKHByZXBhcmVkUXVlcnkpO1xuXHRcdFx0YnVpbHRRdWVyaWVzLnB1c2goeyBzcWw6IGJ1aWx0UXVlcnkuc3FsLCBhcmdzOiBidWlsdFF1ZXJ5LnBhcmFtcyBhcyBJbkFyZ3MgfSk7XG5cdFx0fVxuXG5cdFx0Y29uc3QgYmF0Y2hSZXN1bHRzID0gYXdhaXQgdGhpcy5jbGllbnQuYmF0Y2goYnVpbHRRdWVyaWVzKTtcblx0XHRyZXR1cm4gYmF0Y2hSZXN1bHRzLm1hcCgocmVzdWx0LCBpKSA9PiBwcmVwYXJlZFF1ZXJpZXNbaV0hLm1hcFJlc3VsdChyZXN1bHQsIHRydWUpKTtcblx0fVxuXG5cdG92ZXJyaWRlIGFzeW5jIHRyYW5zYWN0aW9uPFQ+KFxuXHRcdHRyYW5zYWN0aW9uOiAoZGI6IExpYlNRTFRyYW5zYWN0aW9uPFRGdWxsU2NoZW1hLCBUU2NoZW1hPikgPT4gVCB8IFByb21pc2U8VD4sXG5cdFx0X2NvbmZpZz86IFNRTGl0ZVRyYW5zYWN0aW9uQ29uZmlnLFxuXHQpOiBQcm9taXNlPFQ+IHtcblx0XHQvLyBUT0RPOiBzdXBwb3J0IHRyYW5zYWN0aW9uIGJlaGF2aW9yXG5cdFx0Y29uc3QgbGlic3FsVHggPSBhd2FpdCB0aGlzLmNsaWVudC50cmFuc2FjdGlvbigpO1xuXHRcdGNvbnN0IHNlc3Npb24gPSBuZXcgTGliU1FMU2Vzc2lvbjxURnVsbFNjaGVtYSwgVFNjaGVtYT4oXG5cdFx0XHR0aGlzLmNsaWVudCxcblx0XHRcdHRoaXMuZGlhbGVjdCxcblx0XHRcdHRoaXMuc2NoZW1hLFxuXHRcdFx0dGhpcy5vcHRpb25zLFxuXHRcdFx0bGlic3FsVHgsXG5cdFx0KTtcblx0XHRjb25zdCB0eCA9IG5ldyBMaWJTUUxUcmFuc2FjdGlvbjxURnVsbFNjaGVtYSwgVFNjaGVtYT4oJ2FzeW5jJywgdGhpcy5kaWFsZWN0LCBzZXNzaW9uLCB0aGlzLnNjaGVtYSk7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRyYW5zYWN0aW9uKHR4KTtcblx0XHRcdGF3YWl0IGxpYnNxbFR4LmNvbW1pdCgpO1xuXHRcdFx0cmV0dXJuIHJlc3VsdDtcblx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdGF3YWl0IGxpYnNxbFR4LnJvbGxiYWNrKCk7XG5cdFx0XHR0aHJvdyBlcnI7XG5cdFx0fVxuXHR9XG5cblx0b3ZlcnJpZGUgZXh0cmFjdFJhd0FsbFZhbHVlRnJvbUJhdGNoUmVzdWx0KHJlc3VsdDogdW5rbm93bik6IHVua25vd24ge1xuXHRcdHJldHVybiAocmVzdWx0IGFzIFJlc3VsdFNldCkucm93cztcblx0fVxuXG5cdG92ZXJyaWRlIGV4dHJhY3RSYXdHZXRWYWx1ZUZyb21CYXRjaFJlc3VsdChyZXN1bHQ6IHVua25vd24pOiB1bmtub3duIHtcblx0XHRyZXR1cm4gKHJlc3VsdCBhcyBSZXN1bHRTZXQpLnJvd3NbMF07XG5cdH1cblxuXHRvdmVycmlkZSBleHRyYWN0UmF3VmFsdWVzVmFsdWVGcm9tQmF0Y2hSZXN1bHQocmVzdWx0OiB1bmtub3duKTogdW5rbm93biB7XG5cdFx0cmV0dXJuIChyZXN1bHQgYXMgUmVzdWx0U2V0KS5yb3dzO1xuXHR9XG59XG5cbmV4cG9ydCBjbGFzcyBMaWJTUUxUcmFuc2FjdGlvbjxcblx0VEZ1bGxTY2hlbWEgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPixcblx0VFNjaGVtYSBleHRlbmRzIFRhYmxlc1JlbGF0aW9uYWxDb25maWcsXG4+IGV4dGVuZHMgU1FMaXRlVHJhbnNhY3Rpb248J2FzeW5jJywgUmVzdWx0U2V0LCBURnVsbFNjaGVtYSwgVFNjaGVtYT4ge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnTGliU1FMVHJhbnNhY3Rpb24nO1xuXG5cdG92ZXJyaWRlIGFzeW5jIHRyYW5zYWN0aW9uPFQ+KHRyYW5zYWN0aW9uOiAodHg6IExpYlNRTFRyYW5zYWN0aW9uPFRGdWxsU2NoZW1hLCBUU2NoZW1hPikgPT4gUHJvbWlzZTxUPik6IFByb21pc2U8VD4ge1xuXHRcdGNvbnN0IHNhdmVwb2ludE5hbWUgPSBgc3Ake3RoaXMubmVzdGVkSW5kZXh9YDtcblx0XHRjb25zdCB0eCA9IG5ldyBMaWJTUUxUcmFuc2FjdGlvbignYXN5bmMnLCB0aGlzLmRpYWxlY3QsIHRoaXMuc2Vzc2lvbiwgdGhpcy5zY2hlbWEsIHRoaXMubmVzdGVkSW5kZXggKyAxKTtcblx0XHRhd2FpdCB0aGlzLnNlc3Npb24ucnVuKHNxbC5yYXcoYHNhdmVwb2ludCAke3NhdmVwb2ludE5hbWV9YCkpO1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCByZXN1bHQgPSBhd2FpdCB0cmFuc2FjdGlvbih0eCk7XG5cdFx0XHRhd2FpdCB0aGlzLnNlc3Npb24ucnVuKHNxbC5yYXcoYHJlbGVhc2Ugc2F2ZXBvaW50ICR7c2F2ZXBvaW50TmFtZX1gKSk7XG5cdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0YXdhaXQgdGhpcy5zZXNzaW9uLnJ1bihzcWwucmF3KGByb2xsYmFjayB0byBzYXZlcG9pbnQgJHtzYXZlcG9pbnROYW1lfWApKTtcblx0XHRcdHRocm93IGVycjtcblx0XHR9XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIExpYlNRTFByZXBhcmVkUXVlcnk8VCBleHRlbmRzIFByZXBhcmVkUXVlcnlDb25maWcgPSBQcmVwYXJlZFF1ZXJ5Q29uZmlnPiBleHRlbmRzIFNRTGl0ZVByZXBhcmVkUXVlcnk8XG5cdHsgdHlwZTogJ2FzeW5jJzsgcnVuOiBSZXN1bHRTZXQ7IGFsbDogVFsnYWxsJ107IGdldDogVFsnZ2V0J107IHZhbHVlczogVFsndmFsdWVzJ107IGV4ZWN1dGU6IFRbJ2V4ZWN1dGUnXSB9XG4+IHtcblx0c3RhdGljIHJlYWRvbmx5IFtlbnRpdHlLaW5kXTogc3RyaW5nID0gJ0xpYlNRTFByZXBhcmVkUXVlcnknO1xuXG5cdGNvbnN0cnVjdG9yKFxuXHRcdHByaXZhdGUgY2xpZW50OiBDbGllbnQsXG5cdFx0cXVlcnk6IFF1ZXJ5LFxuXHRcdHByaXZhdGUgbG9nZ2VyOiBMb2dnZXIsXG5cdFx0LyoqIEBpbnRlcm5hbCAqLyBwdWJsaWMgZmllbGRzOiBTZWxlY3RlZEZpZWxkc09yZGVyZWQgfCB1bmRlZmluZWQsXG5cdFx0cHJpdmF0ZSB0eDogVHJhbnNhY3Rpb24gfCB1bmRlZmluZWQsXG5cdFx0ZXhlY3V0ZU1ldGhvZDogU1FMaXRlRXhlY3V0ZU1ldGhvZCxcblx0XHRwcml2YXRlIF9pc1Jlc3BvbnNlSW5BcnJheU1vZGU6IGJvb2xlYW4sXG5cdFx0LyoqIEBpbnRlcm5hbCAqLyBwdWJsaWMgY3VzdG9tUmVzdWx0TWFwcGVyPzogKFxuXHRcdFx0cm93czogdW5rbm93bltdW10sXG5cdFx0XHRtYXBDb2x1bW5WYWx1ZT86ICh2YWx1ZTogdW5rbm93bikgPT4gdW5rbm93bixcblx0XHQpID0+IHVua25vd24sXG5cdCkge1xuXHRcdHN1cGVyKCdhc3luYycsIGV4ZWN1dGVNZXRob2QsIHF1ZXJ5KTtcblx0XHR0aGlzLmN1c3RvbVJlc3VsdE1hcHBlciA9IGN1c3RvbVJlc3VsdE1hcHBlcjtcblx0XHR0aGlzLmZpZWxkcyA9IGZpZWxkcztcblx0fVxuXG5cdHJ1bihwbGFjZWhvbGRlclZhbHVlcz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+KTogUHJvbWlzZTxSZXN1bHRTZXQ+IHtcblx0XHRjb25zdCBwYXJhbXMgPSBmaWxsUGxhY2Vob2xkZXJzKHRoaXMucXVlcnkucGFyYW1zLCBwbGFjZWhvbGRlclZhbHVlcyA/PyB7fSk7XG5cdFx0dGhpcy5sb2dnZXIubG9nUXVlcnkodGhpcy5xdWVyeS5zcWwsIHBhcmFtcyk7XG5cdFx0Y29uc3Qgc3RtdDogSW5TdGF0ZW1lbnQgPSB7IHNxbDogdGhpcy5xdWVyeS5zcWwsIGFyZ3M6IHBhcmFtcyBhcyBJbkFyZ3MgfTtcblx0XHRyZXR1cm4gdGhpcy50eCA/IHRoaXMudHguZXhlY3V0ZShzdG10KSA6IHRoaXMuY2xpZW50LmV4ZWN1dGUoc3RtdCk7XG5cdH1cblxuXHRhc3luYyBhbGwocGxhY2Vob2xkZXJWYWx1ZXM/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPik6IFByb21pc2U8VFsnYWxsJ10+IHtcblx0XHRjb25zdCB7IGZpZWxkcywgbG9nZ2VyLCBxdWVyeSwgdHgsIGNsaWVudCwgY3VzdG9tUmVzdWx0TWFwcGVyIH0gPSB0aGlzO1xuXHRcdGlmICghZmllbGRzICYmICFjdXN0b21SZXN1bHRNYXBwZXIpIHtcblx0XHRcdGNvbnN0IHBhcmFtcyA9IGZpbGxQbGFjZWhvbGRlcnMocXVlcnkucGFyYW1zLCBwbGFjZWhvbGRlclZhbHVlcyA/PyB7fSk7XG5cdFx0XHRsb2dnZXIubG9nUXVlcnkocXVlcnkuc3FsLCBwYXJhbXMpO1xuXHRcdFx0Y29uc3Qgc3RtdDogSW5TdGF0ZW1lbnQgPSB7IHNxbDogcXVlcnkuc3FsLCBhcmdzOiBwYXJhbXMgYXMgSW5BcmdzIH07XG5cdFx0XHRyZXR1cm4gKHR4ID8gdHguZXhlY3V0ZShzdG10KSA6IGNsaWVudC5leGVjdXRlKHN0bXQpKS50aGVuKCh7IHJvd3MgfSkgPT4gdGhpcy5tYXBBbGxSZXN1bHQocm93cykpO1xuXHRcdH1cblxuXHRcdGNvbnN0IHJvd3MgPSBhd2FpdCB0aGlzLnZhbHVlcyhwbGFjZWhvbGRlclZhbHVlcykgYXMgdW5rbm93bltdW107XG5cblx0XHRyZXR1cm4gdGhpcy5tYXBBbGxSZXN1bHQocm93cyk7XG5cdH1cblxuXHRvdmVycmlkZSBtYXBBbGxSZXN1bHQocm93czogdW5rbm93biwgaXNGcm9tQmF0Y2g/OiBib29sZWFuKTogdW5rbm93biB7XG5cdFx0aWYgKGlzRnJvbUJhdGNoKSB7XG5cdFx0XHRyb3dzID0gKHJvd3MgYXMgUmVzdWx0U2V0KS5yb3dzO1xuXHRcdH1cblxuXHRcdGlmICghdGhpcy5maWVsZHMgJiYgIXRoaXMuY3VzdG9tUmVzdWx0TWFwcGVyKSB7XG5cdFx0XHRyZXR1cm4gKHJvd3MgYXMgdW5rbm93bltdKS5tYXAoKHJvdykgPT4gbm9ybWFsaXplUm93KHJvdykpO1xuXHRcdH1cblxuXHRcdGlmICh0aGlzLmN1c3RvbVJlc3VsdE1hcHBlcikge1xuXHRcdFx0cmV0dXJuIHRoaXMuY3VzdG9tUmVzdWx0TWFwcGVyKHJvd3MgYXMgdW5rbm93bltdW10sIG5vcm1hbGl6ZUZpZWxkVmFsdWUpIGFzIFRbJ2FsbCddO1xuXHRcdH1cblxuXHRcdHJldHVybiAocm93cyBhcyB1bmtub3duW10pLm1hcCgocm93KSA9PiB7XG5cdFx0XHRyZXR1cm4gbWFwUmVzdWx0Um93KFxuXHRcdFx0XHR0aGlzLmZpZWxkcyEsXG5cdFx0XHRcdEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHJvdykubWFwKCh2KSA9PiBub3JtYWxpemVGaWVsZFZhbHVlKHYpKSxcblx0XHRcdFx0dGhpcy5qb2luc05vdE51bGxhYmxlTWFwLFxuXHRcdFx0KTtcblx0XHR9KTtcblx0fVxuXG5cdGFzeW5jIGdldChwbGFjZWhvbGRlclZhbHVlcz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+KTogUHJvbWlzZTxUWydnZXQnXT4ge1xuXHRcdGNvbnN0IHsgZmllbGRzLCBsb2dnZXIsIHF1ZXJ5LCB0eCwgY2xpZW50LCBjdXN0b21SZXN1bHRNYXBwZXIgfSA9IHRoaXM7XG5cdFx0aWYgKCFmaWVsZHMgJiYgIWN1c3RvbVJlc3VsdE1hcHBlcikge1xuXHRcdFx0Y29uc3QgcGFyYW1zID0gZmlsbFBsYWNlaG9sZGVycyhxdWVyeS5wYXJhbXMsIHBsYWNlaG9sZGVyVmFsdWVzID8/IHt9KTtcblx0XHRcdGxvZ2dlci5sb2dRdWVyeShxdWVyeS5zcWwsIHBhcmFtcyk7XG5cdFx0XHRjb25zdCBzdG10OiBJblN0YXRlbWVudCA9IHsgc3FsOiBxdWVyeS5zcWwsIGFyZ3M6IHBhcmFtcyBhcyBJbkFyZ3MgfTtcblx0XHRcdHJldHVybiAodHggPyB0eC5leGVjdXRlKHN0bXQpIDogY2xpZW50LmV4ZWN1dGUoc3RtdCkpLnRoZW4oKHsgcm93cyB9KSA9PiB0aGlzLm1hcEdldFJlc3VsdChyb3dzKSk7XG5cdFx0fVxuXG5cdFx0Y29uc3Qgcm93cyA9IGF3YWl0IHRoaXMudmFsdWVzKHBsYWNlaG9sZGVyVmFsdWVzKSBhcyB1bmtub3duW11bXTtcblxuXHRcdHJldHVybiB0aGlzLm1hcEdldFJlc3VsdChyb3dzKTtcblx0fVxuXG5cdG92ZXJyaWRlIG1hcEdldFJlc3VsdChyb3dzOiB1bmtub3duLCBpc0Zyb21CYXRjaD86IGJvb2xlYW4pOiB1bmtub3duIHtcblx0XHRpZiAoaXNGcm9tQmF0Y2gpIHtcblx0XHRcdHJvd3MgPSAocm93cyBhcyBSZXN1bHRTZXQpLnJvd3M7XG5cdFx0fVxuXG5cdFx0Y29uc3Qgcm93ID0gKHJvd3MgYXMgdW5rbm93bltdKVswXTtcblxuXHRcdGlmICghdGhpcy5maWVsZHMgJiYgIXRoaXMuY3VzdG9tUmVzdWx0TWFwcGVyKSB7XG5cdFx0XHRyZXR1cm4gbm9ybWFsaXplUm93KHJvdyk7XG5cdFx0fVxuXG5cdFx0aWYgKCFyb3cpIHtcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdFx0fVxuXG5cdFx0aWYgKHRoaXMuY3VzdG9tUmVzdWx0TWFwcGVyKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jdXN0b21SZXN1bHRNYXBwZXIocm93cyBhcyB1bmtub3duW11bXSwgbm9ybWFsaXplRmllbGRWYWx1ZSkgYXMgVFsnZ2V0J107XG5cdFx0fVxuXG5cdFx0cmV0dXJuIG1hcFJlc3VsdFJvdyhcblx0XHRcdHRoaXMuZmllbGRzISxcblx0XHRcdEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHJvdykubWFwKCh2KSA9PiBub3JtYWxpemVGaWVsZFZhbHVlKHYpKSxcblx0XHRcdHRoaXMuam9pbnNOb3ROdWxsYWJsZU1hcCxcblx0XHQpO1xuXHR9XG5cblx0dmFsdWVzKHBsYWNlaG9sZGVyVmFsdWVzPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj4pOiBQcm9taXNlPFRbJ3ZhbHVlcyddPiB7XG5cdFx0Y29uc3QgcGFyYW1zID0gZmlsbFBsYWNlaG9sZGVycyh0aGlzLnF1ZXJ5LnBhcmFtcywgcGxhY2Vob2xkZXJWYWx1ZXMgPz8ge30pO1xuXHRcdHRoaXMubG9nZ2VyLmxvZ1F1ZXJ5KHRoaXMucXVlcnkuc3FsLCBwYXJhbXMpO1xuXHRcdGNvbnN0IHN0bXQ6IEluU3RhdGVtZW50ID0geyBzcWw6IHRoaXMucXVlcnkuc3FsLCBhcmdzOiBwYXJhbXMgYXMgSW5BcmdzIH07XG5cdFx0cmV0dXJuICh0aGlzLnR4ID8gdGhpcy50eC5leGVjdXRlKHN0bXQpIDogdGhpcy5jbGllbnQuZXhlY3V0ZShzdG10KSkudGhlbigoeyByb3dzIH0pID0+IHJvd3MpIGFzIFByb21pc2U8XG5cdFx0XHRUWyd2YWx1ZXMnXVxuXHRcdD47XG5cdH1cblxuXHQvKiogQGludGVybmFsICovXG5cdGlzUmVzcG9uc2VJbkFycmF5TW9kZSgpOiBib29sZWFuIHtcblx0XHRyZXR1cm4gdGhpcy5faXNSZXNwb25zZUluQXJyYXlNb2RlO1xuXHR9XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVJvdyhvYmo6IGFueSkge1xuXHQvLyBUaGUgbGliU1FMIG5vZGUtc3FsaXRlMyBjb21wYXRpYmlsaXR5IHdyYXBwZXIgcmV0dXJucyByb3dzXG5cdC8vIHRoYXQgY2FuIGJlIGFjY2Vzc2VkIGJvdGggYXMgb2JqZWN0cyBhbmQgYXJyYXlzLiBMZXQnc1xuXHQvLyB0dXJuIHRoZW0gaW50byBvYmplY3RzIHdoYXQncyB3aGF0IG90aGVyIFNRTGl0ZSBkcml2ZXJzXG5cdC8vIGRvLlxuXHRyZXR1cm4gT2JqZWN0LmtleXMob2JqKS5yZWR1Y2UoKGFjYzogUmVjb3JkPHN0cmluZywgYW55Piwga2V5KSA9PiB7XG5cdFx0aWYgKE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChvYmosIGtleSkpIHtcblx0XHRcdGFjY1trZXldID0gb2JqW2tleV07XG5cdFx0fVxuXHRcdHJldHVybiBhY2M7XG5cdH0sIHt9KTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplRmllbGRWYWx1ZSh2YWx1ZTogdW5rbm93bikge1xuXHRpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8taW5zdGFuY2VvZi9uby1pbnN0YW5jZW9mXG5cdFx0aWYgKHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRpZiAoISh2YWx1ZSBpbnN0YW5jZW9mIEJ1ZmZlcikpIHsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1pbnN0YW5jZW9mL25vLWluc3RhbmNlb2Zcblx0XHRcdFx0cmV0dXJuIEJ1ZmZlci5mcm9tKHZhbHVlKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB2YWx1ZTtcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiBUZXh0RGVjb2RlciAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdHJldHVybiBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUodmFsdWUpO1xuXHRcdH1cblx0XHR0aHJvdyBuZXcgRXJyb3IoJ1RleHREZWNvZGVyIGlzIG5vdCBhdmFpbGFibGUuIFBsZWFzZSBwcm92aWRlIGVpdGhlciBCdWZmZXIgb3IgVGV4dERlY29kZXIgcG9seWZpbGwuJyk7XG5cdH1cblx0cmV0dXJuIHZhbHVlO1xufVxuIiwgImltcG9ydCB0eXBlIHsgQ2xpZW50LCBSZXN1bHRTZXQgfSBmcm9tICdAbGlic3FsL2NsaWVudCc7XG5pbXBvcnQgdHlwZSB7IEJhdGNoSXRlbSwgQmF0Y2hSZXNwb25zZSB9IGZyb20gJ34vYmF0Y2gudHMnO1xuaW1wb3J0IHsgZW50aXR5S2luZCB9IGZyb20gJ34vZW50aXR5LnRzJztcbmltcG9ydCB7IERlZmF1bHRMb2dnZXIgfSBmcm9tICd+L2xvZ2dlci50cyc7XG5pbXBvcnQge1xuXHRjcmVhdGVUYWJsZVJlbGF0aW9uc0hlbHBlcnMsXG5cdGV4dHJhY3RUYWJsZXNSZWxhdGlvbmFsQ29uZmlnLFxuXHR0eXBlIEV4dHJhY3RUYWJsZXNXaXRoUmVsYXRpb25zLFxuXHR0eXBlIFJlbGF0aW9uYWxTY2hlbWFDb25maWcsXG5cdHR5cGUgVGFibGVzUmVsYXRpb25hbENvbmZpZyxcbn0gZnJvbSAnfi9yZWxhdGlvbnMudHMnO1xuaW1wb3J0IHsgQmFzZVNRTGl0ZURhdGFiYXNlIH0gZnJvbSAnfi9zcWxpdGUtY29yZS9kYi50cyc7XG5pbXBvcnQgeyBTUUxpdGVBc3luY0RpYWxlY3QgfSBmcm9tICd+L3NxbGl0ZS1jb3JlL2RpYWxlY3QudHMnO1xuaW1wb3J0IHR5cGUgeyBEcml6emxlQ29uZmlnIH0gZnJvbSAnfi91dGlscy50cyc7XG5pbXBvcnQgeyBMaWJTUUxTZXNzaW9uIH0gZnJvbSAnLi9zZXNzaW9uLnRzJztcblxuZXhwb3J0IGNsYXNzIExpYlNRTERhdGFiYXNlPFxuXHRUU2NoZW1hIGV4dGVuZHMgUmVjb3JkPHN0cmluZywgdW5rbm93bj4gPSBSZWNvcmQ8c3RyaW5nLCBuZXZlcj4sXG4+IGV4dGVuZHMgQmFzZVNRTGl0ZURhdGFiYXNlPCdhc3luYycsIFJlc3VsdFNldCwgVFNjaGVtYT4ge1xuXHRzdGF0aWMgcmVhZG9ubHkgW2VudGl0eUtpbmRdOiBzdHJpbmcgPSAnTGliU1FMRGF0YWJhc2UnO1xuXG5cdC8qKiBAaW50ZXJuYWwgKi9cblx0ZGVjbGFyZSByZWFkb25seSBzZXNzaW9uOiBMaWJTUUxTZXNzaW9uPFRTY2hlbWEsIEV4dHJhY3RUYWJsZXNXaXRoUmVsYXRpb25zPFRTY2hlbWE+PjtcblxuXHRhc3luYyBiYXRjaDxVIGV4dGVuZHMgQmF0Y2hJdGVtPCdzcWxpdGUnPiwgVCBleHRlbmRzIFJlYWRvbmx5PFtVLCAuLi5VW11dPj4oXG5cdFx0YmF0Y2g6IFQsXG5cdCk6IFByb21pc2U8QmF0Y2hSZXNwb25zZTxUPj4ge1xuXHRcdHJldHVybiB0aGlzLnNlc3Npb24uYmF0Y2goYmF0Y2gpIGFzIFByb21pc2U8QmF0Y2hSZXNwb25zZTxUPj47XG5cdH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRyaXp6bGU8XG5cdFRTY2hlbWEgZXh0ZW5kcyBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPiA9IFJlY29yZDxzdHJpbmcsIG5ldmVyPixcbj4oY2xpZW50OiBDbGllbnQsIGNvbmZpZzogRHJpenpsZUNvbmZpZzxUU2NoZW1hPiA9IHt9KTogTGliU1FMRGF0YWJhc2U8VFNjaGVtYT4ge1xuXHRjb25zdCBkaWFsZWN0ID0gbmV3IFNRTGl0ZUFzeW5jRGlhbGVjdCgpO1xuXHRsZXQgbG9nZ2VyO1xuXHRpZiAoY29uZmlnLmxvZ2dlciA9PT0gdHJ1ZSkge1xuXHRcdGxvZ2dlciA9IG5ldyBEZWZhdWx0TG9nZ2VyKCk7XG5cdH0gZWxzZSBpZiAoY29uZmlnLmxvZ2dlciAhPT0gZmFsc2UpIHtcblx0XHRsb2dnZXIgPSBjb25maWcubG9nZ2VyO1xuXHR9XG5cblx0bGV0IHNjaGVtYTogUmVsYXRpb25hbFNjaGVtYUNvbmZpZzxUYWJsZXNSZWxhdGlvbmFsQ29uZmlnPiB8IHVuZGVmaW5lZDtcblx0aWYgKGNvbmZpZy5zY2hlbWEpIHtcblx0XHRjb25zdCB0YWJsZXNDb25maWcgPSBleHRyYWN0VGFibGVzUmVsYXRpb25hbENvbmZpZyhcblx0XHRcdGNvbmZpZy5zY2hlbWEsXG5cdFx0XHRjcmVhdGVUYWJsZVJlbGF0aW9uc0hlbHBlcnMsXG5cdFx0KTtcblx0XHRzY2hlbWEgPSB7XG5cdFx0XHRmdWxsU2NoZW1hOiBjb25maWcuc2NoZW1hLFxuXHRcdFx0c2NoZW1hOiB0YWJsZXNDb25maWcudGFibGVzLFxuXHRcdFx0dGFibGVOYW1lc01hcDogdGFibGVzQ29uZmlnLnRhYmxlTmFtZXNNYXAsXG5cdFx0fTtcblx0fVxuXG5cdGNvbnN0IHNlc3Npb24gPSBuZXcgTGliU1FMU2Vzc2lvbihjbGllbnQsIGRpYWxlY3QsIHNjaGVtYSwgeyBsb2dnZXIgfSwgdW5kZWZpbmVkKTtcblx0cmV0dXJuIG5ldyBMaWJTUUxEYXRhYmFzZSgnYXN5bmMnLCBkaWFsZWN0LCBzZXNzaW9uLCBzY2hlbWEpIGFzIExpYlNRTERhdGFiYXNlPFRTY2hlbWE+O1xufVxuIiwgIi8qKiBFcnJvciB0aHJvd24gYnkgdGhlIGNsaWVudC4gKi9cbmV4cG9ydCBjbGFzcyBMaWJzcWxFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICAvKiogTWFjaGluZS1yZWFkYWJsZSBlcnJvciBjb2RlLiAqL1xuICAgIGNvZGU7XG4gICAgLyoqIFJhdyBudW1lcmljIGVycm9yIGNvZGUgKi9cbiAgICByYXdDb2RlO1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGNvZGUsIHJhd0NvZGUsIGNhdXNlKSB7XG4gICAgICAgIGlmIChjb2RlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG1lc3NhZ2UgPSBgJHtjb2RlfTogJHttZXNzYWdlfWA7XG4gICAgICAgIH1cbiAgICAgICAgc3VwZXIobWVzc2FnZSwgeyBjYXVzZSB9KTtcbiAgICAgICAgdGhpcy5jb2RlID0gY29kZTtcbiAgICAgICAgdGhpcy5yYXdDb2RlID0gcmF3Q29kZTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJMaWJzcWxFcnJvclwiO1xuICAgIH1cbn1cbiIsICIvLyBVUkkgcGFyc2VyIGJhc2VkIG9uIFJGQyAzOTg2XG4vLyBXZSBjYW4ndCB1c2UgdGhlIHN0YW5kYXJkIGBVUkxgIG9iamVjdCwgYmVjYXVzZSB3ZSB3YW50IHRvIHN1cHBvcnQgcmVsYXRpdmUgYGZpbGU6YCBVUkxzIGxpa2Vcbi8vIGBmaWxlOnJlbGF0aXZlL3BhdGgvZGF0YWJhc2UuZGJgLCB3aGljaCBhcmUgbm90IGNvcnJlY3QgYWNjb3JkaW5nIHRvIFJGQyA4MDg5LCB3aGljaCBzdGFuZGFyZGl6ZXMgdGhlXG4vLyBgZmlsZWAgc2NoZW1lLlxuaW1wb3J0IHsgTGlic3FsRXJyb3IgfSBmcm9tIFwiLi9hcGkuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVVyaSh0ZXh0KSB7XG4gICAgY29uc3QgbWF0Y2ggPSBVUklfUkUuZXhlYyh0ZXh0KTtcbiAgICBpZiAobWF0Y2ggPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IExpYnNxbEVycm9yKGBUaGUgVVJMICcke3RleHR9JyBpcyBub3QgaW4gYSB2YWxpZCBmb3JtYXRgLCBcIlVSTF9JTlZBTElEXCIpO1xuICAgIH1cbiAgICBjb25zdCBncm91cHMgPSBtYXRjaC5ncm91cHM7XG4gICAgY29uc3Qgc2NoZW1lID0gZ3JvdXBzW1wic2NoZW1lXCJdO1xuICAgIGNvbnN0IGF1dGhvcml0eSA9IGdyb3Vwc1tcImF1dGhvcml0eVwiXSAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gcGFyc2VBdXRob3JpdHkoZ3JvdXBzW1wiYXV0aG9yaXR5XCJdKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBwYXRoID0gcGVyY2VudERlY29kZShncm91cHNbXCJwYXRoXCJdKTtcbiAgICBjb25zdCBxdWVyeSA9IGdyb3Vwc1tcInF1ZXJ5XCJdICE9PSB1bmRlZmluZWQgPyBwYXJzZVF1ZXJ5KGdyb3Vwc1tcInF1ZXJ5XCJdKSA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCBmcmFnbWVudCA9IGdyb3Vwc1tcImZyYWdtZW50XCJdICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBwZXJjZW50RGVjb2RlKGdyb3Vwc1tcImZyYWdtZW50XCJdKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4geyBzY2hlbWUsIGF1dGhvcml0eSwgcGF0aCwgcXVlcnksIGZyYWdtZW50IH07XG59XG5jb25zdCBVUklfUkUgPSAoKCkgPT4ge1xuICAgIGNvbnN0IFNDSEVNRSA9IFwiKD88c2NoZW1lPltBLVphLXpdW0EtWmEtei4rLV0qKVwiO1xuICAgIGNvbnN0IEFVVEhPUklUWSA9IFwiKD88YXV0aG9yaXR5PlteLz8jXSopXCI7XG4gICAgY29uc3QgUEFUSCA9IFwiKD88cGF0aD5bXj8jXSopXCI7XG4gICAgY29uc3QgUVVFUlkgPSBcIig/PHF1ZXJ5PlteI10qKVwiO1xuICAgIGNvbnN0IEZSQUdNRU5UID0gXCIoPzxmcmFnbWVudD4uKilcIjtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7U0NIRU1FfTooLy8ke0FVVEhPUklUWX0pPyR7UEFUSH0oXFxcXD8ke1FVRVJZfSk/KCMke0ZSQUdNRU5UfSk/JGAsIFwic3VcIik7XG59KSgpO1xuZnVuY3Rpb24gcGFyc2VBdXRob3JpdHkodGV4dCkge1xuICAgIGNvbnN0IG1hdGNoID0gQVVUSE9SSVRZX1JFLmV4ZWModGV4dCk7XG4gICAgaWYgKG1hdGNoID09PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBMaWJzcWxFcnJvcihcIlRoZSBhdXRob3JpdHkgcGFydCBvZiB0aGUgVVJMIGlzIG5vdCBpbiBhIHZhbGlkIGZvcm1hdFwiLCBcIlVSTF9JTlZBTElEXCIpO1xuICAgIH1cbiAgICBjb25zdCBncm91cHMgPSBtYXRjaC5ncm91cHM7XG4gICAgY29uc3QgaG9zdCA9IHBlcmNlbnREZWNvZGUoZ3JvdXBzW1wiaG9zdF9iclwiXSA/PyBncm91cHNbXCJob3N0XCJdKTtcbiAgICBjb25zdCBwb3J0ID0gZ3JvdXBzW1wicG9ydFwiXSA/IHBhcnNlSW50KGdyb3Vwc1tcInBvcnRcIl0sIDEwKSA6IHVuZGVmaW5lZDtcbiAgICBjb25zdCB1c2VyaW5mbyA9IGdyb3Vwc1tcInVzZXJuYW1lXCJdICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyB7XG4gICAgICAgICAgICB1c2VybmFtZTogcGVyY2VudERlY29kZShncm91cHNbXCJ1c2VybmFtZVwiXSksXG4gICAgICAgICAgICBwYXNzd29yZDogZ3JvdXBzW1wicGFzc3dvcmRcIl0gIT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gcGVyY2VudERlY29kZShncm91cHNbXCJwYXNzd29yZFwiXSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgfVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4geyBob3N0LCBwb3J0LCB1c2VyaW5mbyB9O1xufVxuY29uc3QgQVVUSE9SSVRZX1JFID0gKCgpID0+IHtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXigoPzx1c2VybmFtZT5bXjpdKikoOig/PHBhc3N3b3JkPi4qKSk/QCk/KCg/PGhvc3Q+W146XFxcXFtcXFxcXV0qKXwoXFxcXFsoPzxob3N0X2JyPlteXFxcXFtcXFxcXV0qKVxcXFxdKSkoOig/PHBvcnQ+WzAtOV0qKSk/JGAsIFwic3VcIik7XG59KSgpO1xuLy8gUXVlcnkgc3RyaW5nIGlzIHBhcnNlZCBhcyBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQgYWNjb3JkaW5nIHRvIHRoZSBXZWIgVVJMIHN0YW5kYXJkOlxuLy8gaHR0cHM6Ly91cmwuc3BlYy53aGF0d2cub3JnLyN1cmxlbmNvZGVkLXBhcnNpbmdcbmZ1bmN0aW9uIHBhcnNlUXVlcnkodGV4dCkge1xuICAgIGNvbnN0IHNlcXVlbmNlcyA9IHRleHQuc3BsaXQoXCImXCIpO1xuICAgIGNvbnN0IHBhaXJzID0gW107XG4gICAgZm9yIChjb25zdCBzZXF1ZW5jZSBvZiBzZXF1ZW5jZXMpIHtcbiAgICAgICAgaWYgKHNlcXVlbmNlID09PSBcIlwiKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQga2V5O1xuICAgICAgICBsZXQgdmFsdWU7XG4gICAgICAgIGNvbnN0IHNwbGl0SWR4ID0gc2VxdWVuY2UuaW5kZXhPZihcIj1cIik7XG4gICAgICAgIGlmIChzcGxpdElkeCA8IDApIHtcbiAgICAgICAgICAgIGtleSA9IHNlcXVlbmNlO1xuICAgICAgICAgICAgdmFsdWUgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAga2V5ID0gc2VxdWVuY2Uuc3Vic3RyaW5nKDAsIHNwbGl0SWR4KTtcbiAgICAgICAgICAgIHZhbHVlID0gc2VxdWVuY2Uuc3Vic3RyaW5nKHNwbGl0SWR4ICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICBrZXk6IHBlcmNlbnREZWNvZGUoa2V5LnJlcGxhY2VBbGwoXCIrXCIsIFwiIFwiKSksXG4gICAgICAgICAgICB2YWx1ZTogcGVyY2VudERlY29kZSh2YWx1ZS5yZXBsYWNlQWxsKFwiK1wiLCBcIiBcIikpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHsgcGFpcnMgfTtcbn1cbmZ1bmN0aW9uIHBlcmNlbnREZWNvZGUodGV4dCkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQodGV4dCk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgVVJJRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBMaWJzcWxFcnJvcihgVVJMIGNvbXBvbmVudCBoYXMgaW52YWxpZCBwZXJjZW50IGVuY29kaW5nOiAke2V9YCwgXCJVUkxfSU5WQUxJRFwiLCB1bmRlZmluZWQsIGUpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGU7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZUJhc2VVcmwoc2NoZW1lLCBhdXRob3JpdHksIHBhdGgpIHtcbiAgICBpZiAoYXV0aG9yaXR5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IExpYnNxbEVycm9yKGBVUkwgd2l0aCBzY2hlbWUgJHtKU09OLnN0cmluZ2lmeShzY2hlbWUgKyBcIjpcIil9IHJlcXVpcmVzIGF1dGhvcml0eSAodGhlIFwiLy9cIiBwYXJ0KWAsIFwiVVJMX0lOVkFMSURcIik7XG4gICAgfVxuICAgIGNvbnN0IHNjaGVtZVRleHQgPSBgJHtzY2hlbWV9OmA7XG4gICAgY29uc3QgaG9zdFRleHQgPSBlbmNvZGVIb3N0KGF1dGhvcml0eS5ob3N0KTtcbiAgICBjb25zdCBwb3J0VGV4dCA9IGVuY29kZVBvcnQoYXV0aG9yaXR5LnBvcnQpO1xuICAgIGNvbnN0IHVzZXJpbmZvVGV4dCA9IGVuY29kZVVzZXJpbmZvKGF1dGhvcml0eS51c2VyaW5mbyk7XG4gICAgY29uc3QgYXV0aG9yaXR5VGV4dCA9IGAvLyR7dXNlcmluZm9UZXh0fSR7aG9zdFRleHR9JHtwb3J0VGV4dH1gO1xuICAgIGxldCBwYXRoVGV4dCA9IHBhdGguc3BsaXQoXCIvXCIpLm1hcChlbmNvZGVVUklDb21wb25lbnQpLmpvaW4oXCIvXCIpO1xuICAgIGlmIChwYXRoVGV4dCAhPT0gXCJcIiAmJiAhcGF0aFRleHQuc3RhcnRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgcGF0aFRleHQgPSBcIi9cIiArIHBhdGhUZXh0O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFVSTChgJHtzY2hlbWVUZXh0fSR7YXV0aG9yaXR5VGV4dH0ke3BhdGhUZXh0fWApO1xufVxuZnVuY3Rpb24gZW5jb2RlSG9zdChob3N0KSB7XG4gICAgcmV0dXJuIGhvc3QuaW5jbHVkZXMoXCI6XCIpID8gYFske2VuY29kZVVSSShob3N0KX1dYCA6IGVuY29kZVVSSShob3N0KTtcbn1cbmZ1bmN0aW9uIGVuY29kZVBvcnQocG9ydCkge1xuICAgIHJldHVybiBwb3J0ICE9PSB1bmRlZmluZWQgPyBgOiR7cG9ydH1gIDogXCJcIjtcbn1cbmZ1bmN0aW9uIGVuY29kZVVzZXJpbmZvKHVzZXJpbmZvKSB7XG4gICAgaWYgKHVzZXJpbmZvID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGNvbnN0IHVzZXJuYW1lVGV4dCA9IGVuY29kZVVSSUNvbXBvbmVudCh1c2VyaW5mby51c2VybmFtZSk7XG4gICAgY29uc3QgcGFzc3dvcmRUZXh0ID0gdXNlcmluZm8ucGFzc3dvcmQgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IGA6JHtlbmNvZGVVUklDb21wb25lbnQodXNlcmluZm8ucGFzc3dvcmQpfWBcbiAgICAgICAgOiBcIlwiO1xuICAgIHJldHVybiBgJHt1c2VybmFtZVRleHR9JHtwYXNzd29yZFRleHR9QGA7XG59XG4iLCAiLyoqXG4gKiAgYmFzZTY0LnRzXG4gKlxuICogIExpY2Vuc2VkIHVuZGVyIHRoZSBCU0QgMy1DbGF1c2UgTGljZW5zZS5cbiAqICAgIGh0dHA6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9CU0QtMy1DbGF1c2VcbiAqXG4gKiAgUmVmZXJlbmNlczpcbiAqICAgIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQmFzZTY0XG4gKlxuICogQGF1dGhvciBEYW4gS29nYWkgKGh0dHBzOi8vZ2l0aHViLmNvbS9kYW5rb2dhaSlcbiAqL1xuY29uc3QgdmVyc2lvbiA9ICczLjcuNyc7XG4vKipcbiAqIEBkZXByZWNhdGVkIHVzZSBsb3dlcmNhc2UgYHZlcnNpb25gLlxuICovXG5jb25zdCBWRVJTSU9OID0gdmVyc2lvbjtcbmNvbnN0IF9oYXNCdWZmZXIgPSB0eXBlb2YgQnVmZmVyID09PSAnZnVuY3Rpb24nO1xuY29uc3QgX1REID0gdHlwZW9mIFRleHREZWNvZGVyID09PSAnZnVuY3Rpb24nID8gbmV3IFRleHREZWNvZGVyKCkgOiB1bmRlZmluZWQ7XG5jb25zdCBfVEUgPSB0eXBlb2YgVGV4dEVuY29kZXIgPT09ICdmdW5jdGlvbicgPyBuZXcgVGV4dEVuY29kZXIoKSA6IHVuZGVmaW5lZDtcbmNvbnN0IGI2NGNoID0gJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89JztcbmNvbnN0IGI2NGNocyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGI2NGNoKTtcbmNvbnN0IGI2NHRhYiA9ICgoYSkgPT4ge1xuICAgIGxldCB0YWIgPSB7fTtcbiAgICBhLmZvckVhY2goKGMsIGkpID0+IHRhYltjXSA9IGkpO1xuICAgIHJldHVybiB0YWI7XG59KShiNjRjaHMpO1xuY29uc3QgYjY0cmUgPSAvXig/OltBLVphLXpcXGQrXFwvXXs0fSkqPyg/OltBLVphLXpcXGQrXFwvXXsyfSg/Oj09KT98W0EtWmEtelxcZCtcXC9dezN9PT8pPyQvO1xuY29uc3QgX2Zyb21DQyA9IFN0cmluZy5mcm9tQ2hhckNvZGUuYmluZChTdHJpbmcpO1xuY29uc3QgX1U4QWZyb20gPSB0eXBlb2YgVWludDhBcnJheS5mcm9tID09PSAnZnVuY3Rpb24nXG4gICAgPyBVaW50OEFycmF5LmZyb20uYmluZChVaW50OEFycmF5KVxuICAgIDogKGl0KSA9PiBuZXcgVWludDhBcnJheShBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChpdCwgMCkpO1xuY29uc3QgX21rVXJpU2FmZSA9IChzcmMpID0+IHNyY1xuICAgIC5yZXBsYWNlKC89L2csICcnKS5yZXBsYWNlKC9bK1xcL10vZywgKG0wKSA9PiBtMCA9PSAnKycgPyAnLScgOiAnXycpO1xuY29uc3QgX3RpZHlCNjQgPSAocykgPT4gcy5yZXBsYWNlKC9bXkEtWmEtejAtOVxcK1xcL10vZywgJycpO1xuLyoqXG4gKiBwb2x5ZmlsbCB2ZXJzaW9uIG9mIGBidG9hYFxuICovXG5jb25zdCBidG9hUG9seWZpbGwgPSAoYmluKSA9PiB7XG4gICAgLy8gY29uc29sZS5sb2coJ3BvbHlmaWxsZWQnKTtcbiAgICBsZXQgdTMyLCBjMCwgYzEsIGMyLCBhc2MgPSAnJztcbiAgICBjb25zdCBwYWQgPSBiaW4ubGVuZ3RoICUgMztcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJpbi5sZW5ndGg7KSB7XG4gICAgICAgIGlmICgoYzAgPSBiaW4uY2hhckNvZGVBdChpKyspKSA+IDI1NSB8fFxuICAgICAgICAgICAgKGMxID0gYmluLmNoYXJDb2RlQXQoaSsrKSkgPiAyNTUgfHxcbiAgICAgICAgICAgIChjMiA9IGJpbi5jaGFyQ29kZUF0KGkrKykpID4gMjU1KVxuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignaW52YWxpZCBjaGFyYWN0ZXIgZm91bmQnKTtcbiAgICAgICAgdTMyID0gKGMwIDw8IDE2KSB8IChjMSA8PCA4KSB8IGMyO1xuICAgICAgICBhc2MgKz0gYjY0Y2hzW3UzMiA+PiAxOCAmIDYzXVxuICAgICAgICAgICAgKyBiNjRjaHNbdTMyID4+IDEyICYgNjNdXG4gICAgICAgICAgICArIGI2NGNoc1t1MzIgPj4gNiAmIDYzXVxuICAgICAgICAgICAgKyBiNjRjaHNbdTMyICYgNjNdO1xuICAgIH1cbiAgICByZXR1cm4gcGFkID8gYXNjLnNsaWNlKDAsIHBhZCAtIDMpICsgXCI9PT1cIi5zdWJzdHJpbmcocGFkKSA6IGFzYztcbn07XG4vKipcbiAqIGRvZXMgd2hhdCBgd2luZG93LmJ0b2FgIG9mIHdlYiBicm93c2VycyBkby5cbiAqIEBwYXJhbSB7U3RyaW5nfSBiaW4gYmluYXJ5IHN0cmluZ1xuICogQHJldHVybnMge3N0cmluZ30gQmFzZTY0LWVuY29kZWQgc3RyaW5nXG4gKi9cbmNvbnN0IF9idG9hID0gdHlwZW9mIGJ0b2EgPT09ICdmdW5jdGlvbicgPyAoYmluKSA9PiBidG9hKGJpbilcbiAgICA6IF9oYXNCdWZmZXIgPyAoYmluKSA9PiBCdWZmZXIuZnJvbShiaW4sICdiaW5hcnknKS50b1N0cmluZygnYmFzZTY0JylcbiAgICAgICAgOiBidG9hUG9seWZpbGw7XG5jb25zdCBfZnJvbVVpbnQ4QXJyYXkgPSBfaGFzQnVmZmVyXG4gICAgPyAodThhKSA9PiBCdWZmZXIuZnJvbSh1OGEpLnRvU3RyaW5nKCdiYXNlNjQnKVxuICAgIDogKHU4YSkgPT4ge1xuICAgICAgICAvLyBjZi4gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTI3MTAwMDEvaG93LXRvLWNvbnZlcnQtdWludDgtYXJyYXktdG8tYmFzZTY0LWVuY29kZWQtc3RyaW5nLzEyNzEzMzI2IzEyNzEzMzI2XG4gICAgICAgIGNvbnN0IG1heGFyZ3MgPSAweDEwMDA7XG4gICAgICAgIGxldCBzdHJzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsID0gdThhLmxlbmd0aDsgaSA8IGw7IGkgKz0gbWF4YXJncykge1xuICAgICAgICAgICAgc3Rycy5wdXNoKF9mcm9tQ0MuYXBwbHkobnVsbCwgdThhLnN1YmFycmF5KGksIGkgKyBtYXhhcmdzKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfYnRvYShzdHJzLmpvaW4oJycpKTtcbiAgICB9O1xuLyoqXG4gKiBjb252ZXJ0cyBhIFVpbnQ4QXJyYXkgdG8gYSBCYXNlNjQgc3RyaW5nLlxuICogQHBhcmFtIHtib29sZWFufSBbdXJsc2FmZV0gVVJMLWFuZC1maWxlbmFtZS1zYWZlIGEgbGEgUkZDNDY0OCBcdTAwQTc1XG4gKiBAcmV0dXJucyB7c3RyaW5nfSBCYXNlNjQgc3RyaW5nXG4gKi9cbmNvbnN0IGZyb21VaW50OEFycmF5ID0gKHU4YSwgdXJsc2FmZSA9IGZhbHNlKSA9PiB1cmxzYWZlID8gX21rVXJpU2FmZShfZnJvbVVpbnQ4QXJyYXkodThhKSkgOiBfZnJvbVVpbnQ4QXJyYXkodThhKTtcbi8vIFRoaXMgdHJpY2sgaXMgZm91bmQgYnJva2VuIGh0dHBzOi8vZ2l0aHViLmNvbS9kYW5rb2dhaS9qcy1iYXNlNjQvaXNzdWVzLzEzMFxuLy8gY29uc3QgdXRvYiA9IChzcmM6IHN0cmluZykgPT4gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHNyYykpO1xuLy8gcmV2ZXJ0aW5nIGdvb2Qgb2xkIGZhdGlvbmVkIHJlZ2V4cFxuY29uc3QgY2JfdXRvYiA9IChjKSA9PiB7XG4gICAgaWYgKGMubGVuZ3RoIDwgMikge1xuICAgICAgICB2YXIgY2MgPSBjLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgIHJldHVybiBjYyA8IDB4ODAgPyBjXG4gICAgICAgICAgICA6IGNjIDwgMHg4MDAgPyAoX2Zyb21DQygweGMwIHwgKGNjID4+PiA2KSlcbiAgICAgICAgICAgICAgICArIF9mcm9tQ0MoMHg4MCB8IChjYyAmIDB4M2YpKSlcbiAgICAgICAgICAgICAgICA6IChfZnJvbUNDKDB4ZTAgfCAoKGNjID4+PiAxMikgJiAweDBmKSlcbiAgICAgICAgICAgICAgICAgICAgKyBfZnJvbUNDKDB4ODAgfCAoKGNjID4+PiA2KSAmIDB4M2YpKVxuICAgICAgICAgICAgICAgICAgICArIF9mcm9tQ0MoMHg4MCB8IChjYyAmIDB4M2YpKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB2YXIgY2MgPSAweDEwMDAwXG4gICAgICAgICAgICArIChjLmNoYXJDb2RlQXQoMCkgLSAweEQ4MDApICogMHg0MDBcbiAgICAgICAgICAgICsgKGMuY2hhckNvZGVBdCgxKSAtIDB4REMwMCk7XG4gICAgICAgIHJldHVybiAoX2Zyb21DQygweGYwIHwgKChjYyA+Pj4gMTgpICYgMHgwNykpXG4gICAgICAgICAgICArIF9mcm9tQ0MoMHg4MCB8ICgoY2MgPj4+IDEyKSAmIDB4M2YpKVxuICAgICAgICAgICAgKyBfZnJvbUNDKDB4ODAgfCAoKGNjID4+PiA2KSAmIDB4M2YpKVxuICAgICAgICAgICAgKyBfZnJvbUNDKDB4ODAgfCAoY2MgJiAweDNmKSkpO1xuICAgIH1cbn07XG5jb25zdCByZV91dG9iID0gL1tcXHVEODAwLVxcdURCRkZdW1xcdURDMDAtXFx1REZGRkZdfFteXFx4MDAtXFx4N0ZdL2c7XG4vKipcbiAqIEBkZXByZWNhdGVkIHNob3VsZCBoYXZlIGJlZW4gaW50ZXJuYWwgdXNlIG9ubHkuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3JjIFVURi04IHN0cmluZ1xuICogQHJldHVybnMge3N0cmluZ30gVVRGLTE2IHN0cmluZ1xuICovXG5jb25zdCB1dG9iID0gKHUpID0+IHUucmVwbGFjZShyZV91dG9iLCBjYl91dG9iKTtcbi8vXG5jb25zdCBfZW5jb2RlID0gX2hhc0J1ZmZlclxuICAgID8gKHMpID0+IEJ1ZmZlci5mcm9tKHMsICd1dGY4JykudG9TdHJpbmcoJ2Jhc2U2NCcpXG4gICAgOiBfVEVcbiAgICAgICAgPyAocykgPT4gX2Zyb21VaW50OEFycmF5KF9URS5lbmNvZGUocykpXG4gICAgICAgIDogKHMpID0+IF9idG9hKHV0b2IocykpO1xuLyoqXG4gKiBjb252ZXJ0cyBhIFVURi04LWVuY29kZWQgc3RyaW5nIHRvIGEgQmFzZTY0IHN0cmluZy5cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW3VybHNhZmVdIGlmIGB0cnVlYCBtYWtlIHRoZSByZXN1bHQgVVJMLXNhZmVcbiAqIEByZXR1cm5zIHtzdHJpbmd9IEJhc2U2NCBzdHJpbmdcbiAqL1xuY29uc3QgZW5jb2RlID0gKHNyYywgdXJsc2FmZSA9IGZhbHNlKSA9PiB1cmxzYWZlXG4gICAgPyBfbWtVcmlTYWZlKF9lbmNvZGUoc3JjKSlcbiAgICA6IF9lbmNvZGUoc3JjKTtcbi8qKlxuICogY29udmVydHMgYSBVVEYtOC1lbmNvZGVkIHN0cmluZyB0byBVUkwtc2FmZSBCYXNlNjQgUkZDNDY0OCBcdTAwQTc1LlxuICogQHJldHVybnMge3N0cmluZ30gQmFzZTY0IHN0cmluZ1xuICovXG5jb25zdCBlbmNvZGVVUkkgPSAoc3JjKSA9PiBlbmNvZGUoc3JjLCB0cnVlKTtcbi8vIFRoaXMgdHJpY2sgaXMgZm91bmQgYnJva2VuIGh0dHBzOi8vZ2l0aHViLmNvbS9kYW5rb2dhaS9qcy1iYXNlNjQvaXNzdWVzLzEzMFxuLy8gY29uc3QgYnRvdSA9IChzcmM6IHN0cmluZykgPT4gZGVjb2RlVVJJQ29tcG9uZW50KGVzY2FwZShzcmMpKTtcbi8vIHJldmVydGluZyBnb29kIG9sZCBmYXRpb25lZCByZWdleHBcbmNvbnN0IHJlX2J0b3UgPSAvW1xceEMwLVxceERGXVtcXHg4MC1cXHhCRl18W1xceEUwLVxceEVGXVtcXHg4MC1cXHhCRl17Mn18W1xceEYwLVxceEY3XVtcXHg4MC1cXHhCRl17M30vZztcbmNvbnN0IGNiX2J0b3UgPSAoY2NjYykgPT4ge1xuICAgIHN3aXRjaCAoY2NjYy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgdmFyIGNwID0gKCgweDA3ICYgY2NjYy5jaGFyQ29kZUF0KDApKSA8PCAxOClcbiAgICAgICAgICAgICAgICB8ICgoMHgzZiAmIGNjY2MuY2hhckNvZGVBdCgxKSkgPDwgMTIpXG4gICAgICAgICAgICAgICAgfCAoKDB4M2YgJiBjY2NjLmNoYXJDb2RlQXQoMikpIDw8IDYpXG4gICAgICAgICAgICAgICAgfCAoMHgzZiAmIGNjY2MuY2hhckNvZGVBdCgzKSksIG9mZnNldCA9IGNwIC0gMHgxMDAwMDtcbiAgICAgICAgICAgIHJldHVybiAoX2Zyb21DQygob2Zmc2V0ID4+PiAxMCkgKyAweEQ4MDApXG4gICAgICAgICAgICAgICAgKyBfZnJvbUNDKChvZmZzZXQgJiAweDNGRikgKyAweERDMDApKTtcbiAgICAgICAgY2FzZSAzOlxuICAgICAgICAgICAgcmV0dXJuIF9mcm9tQ0MoKCgweDBmICYgY2NjYy5jaGFyQ29kZUF0KDApKSA8PCAxMilcbiAgICAgICAgICAgICAgICB8ICgoMHgzZiAmIGNjY2MuY2hhckNvZGVBdCgxKSkgPDwgNilcbiAgICAgICAgICAgICAgICB8ICgweDNmICYgY2NjYy5jaGFyQ29kZUF0KDIpKSk7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gX2Zyb21DQygoKDB4MWYgJiBjY2NjLmNoYXJDb2RlQXQoMCkpIDw8IDYpXG4gICAgICAgICAgICAgICAgfCAoMHgzZiAmIGNjY2MuY2hhckNvZGVBdCgxKSkpO1xuICAgIH1cbn07XG4vKipcbiAqIEBkZXByZWNhdGVkIHNob3VsZCBoYXZlIGJlZW4gaW50ZXJuYWwgdXNlIG9ubHkuXG4gKiBAcGFyYW0ge3N0cmluZ30gc3JjIFVURi0xNiBzdHJpbmdcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFVURi04IHN0cmluZ1xuICovXG5jb25zdCBidG91ID0gKGIpID0+IGIucmVwbGFjZShyZV9idG91LCBjYl9idG91KTtcbi8qKlxuICogcG9seWZpbGwgdmVyc2lvbiBvZiBgYXRvYmBcbiAqL1xuY29uc3QgYXRvYlBvbHlmaWxsID0gKGFzYykgPT4ge1xuICAgIC8vIGNvbnNvbGUubG9nKCdwb2x5ZmlsbGVkJyk7XG4gICAgYXNjID0gYXNjLnJlcGxhY2UoL1xccysvZywgJycpO1xuICAgIGlmICghYjY0cmUudGVzdChhc2MpKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdtYWxmb3JtZWQgYmFzZTY0LicpO1xuICAgIGFzYyArPSAnPT0nLnNsaWNlKDIgLSAoYXNjLmxlbmd0aCAmIDMpKTtcbiAgICBsZXQgdTI0LCBiaW4gPSAnJywgcjEsIHIyO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXNjLmxlbmd0aDspIHtcbiAgICAgICAgdTI0ID0gYjY0dGFiW2FzYy5jaGFyQXQoaSsrKV0gPDwgMThcbiAgICAgICAgICAgIHwgYjY0dGFiW2FzYy5jaGFyQXQoaSsrKV0gPDwgMTJcbiAgICAgICAgICAgIHwgKHIxID0gYjY0dGFiW2FzYy5jaGFyQXQoaSsrKV0pIDw8IDZcbiAgICAgICAgICAgIHwgKHIyID0gYjY0dGFiW2FzYy5jaGFyQXQoaSsrKV0pO1xuICAgICAgICBiaW4gKz0gcjEgPT09IDY0ID8gX2Zyb21DQyh1MjQgPj4gMTYgJiAyNTUpXG4gICAgICAgICAgICA6IHIyID09PSA2NCA/IF9mcm9tQ0ModTI0ID4+IDE2ICYgMjU1LCB1MjQgPj4gOCAmIDI1NSlcbiAgICAgICAgICAgICAgICA6IF9mcm9tQ0ModTI0ID4+IDE2ICYgMjU1LCB1MjQgPj4gOCAmIDI1NSwgdTI0ICYgMjU1KTtcbiAgICB9XG4gICAgcmV0dXJuIGJpbjtcbn07XG4vKipcbiAqIGRvZXMgd2hhdCBgd2luZG93LmF0b2JgIG9mIHdlYiBicm93c2VycyBkby5cbiAqIEBwYXJhbSB7U3RyaW5nfSBhc2MgQmFzZTY0LWVuY29kZWQgc3RyaW5nXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBiaW5hcnkgc3RyaW5nXG4gKi9cbmNvbnN0IF9hdG9iID0gdHlwZW9mIGF0b2IgPT09ICdmdW5jdGlvbicgPyAoYXNjKSA9PiBhdG9iKF90aWR5QjY0KGFzYykpXG4gICAgOiBfaGFzQnVmZmVyID8gKGFzYykgPT4gQnVmZmVyLmZyb20oYXNjLCAnYmFzZTY0JykudG9TdHJpbmcoJ2JpbmFyeScpXG4gICAgICAgIDogYXRvYlBvbHlmaWxsO1xuLy9cbmNvbnN0IF90b1VpbnQ4QXJyYXkgPSBfaGFzQnVmZmVyXG4gICAgPyAoYSkgPT4gX1U4QWZyb20oQnVmZmVyLmZyb20oYSwgJ2Jhc2U2NCcpKVxuICAgIDogKGEpID0+IF9VOEFmcm9tKF9hdG9iKGEpLnNwbGl0KCcnKS5tYXAoYyA9PiBjLmNoYXJDb2RlQXQoMCkpKTtcbi8qKlxuICogY29udmVydHMgYSBCYXNlNjQgc3RyaW5nIHRvIGEgVWludDhBcnJheS5cbiAqL1xuY29uc3QgdG9VaW50OEFycmF5ID0gKGEpID0+IF90b1VpbnQ4QXJyYXkoX3VuVVJJKGEpKTtcbi8vXG5jb25zdCBfZGVjb2RlID0gX2hhc0J1ZmZlclxuICAgID8gKGEpID0+IEJ1ZmZlci5mcm9tKGEsICdiYXNlNjQnKS50b1N0cmluZygndXRmOCcpXG4gICAgOiBfVERcbiAgICAgICAgPyAoYSkgPT4gX1RELmRlY29kZShfdG9VaW50OEFycmF5KGEpKVxuICAgICAgICA6IChhKSA9PiBidG91KF9hdG9iKGEpKTtcbmNvbnN0IF91blVSSSA9IChhKSA9PiBfdGlkeUI2NChhLnJlcGxhY2UoL1stX10vZywgKG0wKSA9PiBtMCA9PSAnLScgPyAnKycgOiAnLycpKTtcbi8qKlxuICogY29udmVydHMgYSBCYXNlNjQgc3RyaW5nIHRvIGEgVVRGLTggc3RyaW5nLlxuICogQHBhcmFtIHtTdHJpbmd9IHNyYyBCYXNlNjQgc3RyaW5nLiAgQm90aCBub3JtYWwgYW5kIFVSTC1zYWZlIGFyZSBzdXBwb3J0ZWRcbiAqIEByZXR1cm5zIHtzdHJpbmd9IFVURi04IHN0cmluZ1xuICovXG5jb25zdCBkZWNvZGUgPSAoc3JjKSA9PiBfZGVjb2RlKF91blVSSShzcmMpKTtcbi8qKlxuICogY2hlY2sgaWYgYSB2YWx1ZSBpcyBhIHZhbGlkIEJhc2U2NCBzdHJpbmdcbiAqIEBwYXJhbSB7U3RyaW5nfSBzcmMgYSB2YWx1ZSB0byBjaGVja1xuICAqL1xuY29uc3QgaXNWYWxpZCA9IChzcmMpID0+IHtcbiAgICBpZiAodHlwZW9mIHNyYyAhPT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCBzID0gc3JjLnJlcGxhY2UoL1xccysvZywgJycpLnJlcGxhY2UoLz17MCwyfSQvLCAnJyk7XG4gICAgcmV0dXJuICEvW15cXHMwLTlhLXpBLVpcXCsvXS8udGVzdChzKSB8fCAhL1teXFxzMC05YS16QS1aXFwtX10vLnRlc3Qocyk7XG59O1xuLy9cbmNvbnN0IF9ub0VudW0gPSAodikgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB2LCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH07XG59O1xuLyoqXG4gKiBleHRlbmQgU3RyaW5nLnByb3RvdHlwZSB3aXRoIHJlbGV2YW50IG1ldGhvZHNcbiAqL1xuY29uc3QgZXh0ZW5kU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IF9hZGQgPSAobmFtZSwgYm9keSkgPT4gT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZy5wcm90b3R5cGUsIG5hbWUsIF9ub0VudW0oYm9keSkpO1xuICAgIF9hZGQoJ2Zyb21CYXNlNjQnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBkZWNvZGUodGhpcyk7IH0pO1xuICAgIF9hZGQoJ3RvQmFzZTY0JywgZnVuY3Rpb24gKHVybHNhZmUpIHsgcmV0dXJuIGVuY29kZSh0aGlzLCB1cmxzYWZlKTsgfSk7XG4gICAgX2FkZCgndG9CYXNlNjRVUkknLCBmdW5jdGlvbiAoKSB7IHJldHVybiBlbmNvZGUodGhpcywgdHJ1ZSk7IH0pO1xuICAgIF9hZGQoJ3RvQmFzZTY0VVJMJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gZW5jb2RlKHRoaXMsIHRydWUpOyB9KTtcbiAgICBfYWRkKCd0b1VpbnQ4QXJyYXknLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0b1VpbnQ4QXJyYXkodGhpcyk7IH0pO1xufTtcbi8qKlxuICogZXh0ZW5kIFVpbnQ4QXJyYXkucHJvdG90eXBlIHdpdGggcmVsZXZhbnQgbWV0aG9kc1xuICovXG5jb25zdCBleHRlbmRVaW50OEFycmF5ID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IF9hZGQgPSAobmFtZSwgYm9keSkgPT4gT2JqZWN0LmRlZmluZVByb3BlcnR5KFVpbnQ4QXJyYXkucHJvdG90eXBlLCBuYW1lLCBfbm9FbnVtKGJvZHkpKTtcbiAgICBfYWRkKCd0b0Jhc2U2NCcsIGZ1bmN0aW9uICh1cmxzYWZlKSB7IHJldHVybiBmcm9tVWludDhBcnJheSh0aGlzLCB1cmxzYWZlKTsgfSk7XG4gICAgX2FkZCgndG9CYXNlNjRVUkknLCBmdW5jdGlvbiAoKSB7IHJldHVybiBmcm9tVWludDhBcnJheSh0aGlzLCB0cnVlKTsgfSk7XG4gICAgX2FkZCgndG9CYXNlNjRVUkwnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBmcm9tVWludDhBcnJheSh0aGlzLCB0cnVlKTsgfSk7XG59O1xuLyoqXG4gKiBleHRlbmQgQnVpbHRpbiBwcm90b3R5cGVzIHdpdGggcmVsZXZhbnQgbWV0aG9kc1xuICovXG5jb25zdCBleHRlbmRCdWlsdGlucyA9ICgpID0+IHtcbiAgICBleHRlbmRTdHJpbmcoKTtcbiAgICBleHRlbmRVaW50OEFycmF5KCk7XG59O1xuY29uc3QgZ0Jhc2U2NCA9IHtcbiAgICB2ZXJzaW9uOiB2ZXJzaW9uLFxuICAgIFZFUlNJT046IFZFUlNJT04sXG4gICAgYXRvYjogX2F0b2IsXG4gICAgYXRvYlBvbHlmaWxsOiBhdG9iUG9seWZpbGwsXG4gICAgYnRvYTogX2J0b2EsXG4gICAgYnRvYVBvbHlmaWxsOiBidG9hUG9seWZpbGwsXG4gICAgZnJvbUJhc2U2NDogZGVjb2RlLFxuICAgIHRvQmFzZTY0OiBlbmNvZGUsXG4gICAgZW5jb2RlOiBlbmNvZGUsXG4gICAgZW5jb2RlVVJJOiBlbmNvZGVVUkksXG4gICAgZW5jb2RlVVJMOiBlbmNvZGVVUkksXG4gICAgdXRvYjogdXRvYixcbiAgICBidG91OiBidG91LFxuICAgIGRlY29kZTogZGVjb2RlLFxuICAgIGlzVmFsaWQ6IGlzVmFsaWQsXG4gICAgZnJvbVVpbnQ4QXJyYXk6IGZyb21VaW50OEFycmF5LFxuICAgIHRvVWludDhBcnJheTogdG9VaW50OEFycmF5LFxuICAgIGV4dGVuZFN0cmluZzogZXh0ZW5kU3RyaW5nLFxuICAgIGV4dGVuZFVpbnQ4QXJyYXk6IGV4dGVuZFVpbnQ4QXJyYXksXG4gICAgZXh0ZW5kQnVpbHRpbnM6IGV4dGVuZEJ1aWx0aW5zXG59O1xuLy8gbWFrZWNqczpDVVQgLy9cbmV4cG9ydCB7IHZlcnNpb24gfTtcbmV4cG9ydCB7IFZFUlNJT04gfTtcbmV4cG9ydCB7IF9hdG9iIGFzIGF0b2IgfTtcbmV4cG9ydCB7IGF0b2JQb2x5ZmlsbCB9O1xuZXhwb3J0IHsgX2J0b2EgYXMgYnRvYSB9O1xuZXhwb3J0IHsgYnRvYVBvbHlmaWxsIH07XG5leHBvcnQgeyBkZWNvZGUgYXMgZnJvbUJhc2U2NCB9O1xuZXhwb3J0IHsgZW5jb2RlIGFzIHRvQmFzZTY0IH07XG5leHBvcnQgeyB1dG9iIH07XG5leHBvcnQgeyBlbmNvZGUgfTtcbmV4cG9ydCB7IGVuY29kZVVSSSB9O1xuZXhwb3J0IHsgZW5jb2RlVVJJIGFzIGVuY29kZVVSTCB9O1xuZXhwb3J0IHsgYnRvdSB9O1xuZXhwb3J0IHsgZGVjb2RlIH07XG5leHBvcnQgeyBpc1ZhbGlkIH07XG5leHBvcnQgeyBmcm9tVWludDhBcnJheSB9O1xuZXhwb3J0IHsgdG9VaW50OEFycmF5IH07XG5leHBvcnQgeyBleHRlbmRTdHJpbmcgfTtcbmV4cG9ydCB7IGV4dGVuZFVpbnQ4QXJyYXkgfTtcbmV4cG9ydCB7IGV4dGVuZEJ1aWx0aW5zIH07XG4vLyBhbmQgZmluYWxseSxcbmV4cG9ydCB7IGdCYXNlNjQgYXMgQmFzZTY0IH07XG4iLCAiaW1wb3J0IHsgQmFzZTY0IH0gZnJvbSBcImpzLWJhc2U2NFwiO1xuZXhwb3J0IGNvbnN0IHN1cHBvcnRlZFVybExpbmsgPSBcImh0dHBzOi8vZ2l0aHViLmNvbS9saWJzcWwvbGlic3FsLWNsaWVudC10cyNzdXBwb3J0ZWQtdXJsc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zYWN0aW9uTW9kZVRvQmVnaW4obW9kZSkge1xuICAgIGlmIChtb2RlID09PSBcIndyaXRlXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiQkVHSU4gSU1NRURJQVRFXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1vZGUgPT09IFwicmVhZFwiKSB7XG4gICAgICAgIHJldHVybiBcIkJFR0lOIFRSQU5TQUNUSU9OIFJFQURPTkxZXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1vZGUgPT09IFwiZGVmZXJyZWRcIikge1xuICAgICAgICByZXR1cm4gXCJCRUdJTiBERUZFUlJFRFwiO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgUmFuZ2VFcnJvcignVW5rbm93biB0cmFuc2FjdGlvbiBtb2RlLCBzdXBwb3J0ZWQgdmFsdWVzIGFyZSBcIndyaXRlXCIsIFwicmVhZFwiIGFuZCBcImRlZmVycmVkXCInKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUmVzdWx0U2V0SW1wbCB7XG4gICAgY29sdW1ucztcbiAgICBjb2x1bW5UeXBlcztcbiAgICByb3dzO1xuICAgIHJvd3NBZmZlY3RlZDtcbiAgICBsYXN0SW5zZXJ0Um93aWQ7XG4gICAgY29uc3RydWN0b3IoY29sdW1ucywgY29sdW1uVHlwZXMsIHJvd3MsIHJvd3NBZmZlY3RlZCwgbGFzdEluc2VydFJvd2lkKSB7XG4gICAgICAgIHRoaXMuY29sdW1ucyA9IGNvbHVtbnM7XG4gICAgICAgIHRoaXMuY29sdW1uVHlwZXMgPSBjb2x1bW5UeXBlcztcbiAgICAgICAgdGhpcy5yb3dzID0gcm93cztcbiAgICAgICAgdGhpcy5yb3dzQWZmZWN0ZWQgPSByb3dzQWZmZWN0ZWQ7XG4gICAgICAgIHRoaXMubGFzdEluc2VydFJvd2lkID0gbGFzdEluc2VydFJvd2lkO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb2x1bW5zOiB0aGlzLmNvbHVtbnMsXG4gICAgICAgICAgICBjb2x1bW5UeXBlczogdGhpcy5jb2x1bW5UeXBlcyxcbiAgICAgICAgICAgIHJvd3M6IHRoaXMucm93cy5tYXAocm93VG9Kc29uKSxcbiAgICAgICAgICAgIHJvd3NBZmZlY3RlZDogdGhpcy5yb3dzQWZmZWN0ZWQsXG4gICAgICAgICAgICBsYXN0SW5zZXJ0Um93aWQ6IHRoaXMubGFzdEluc2VydFJvd2lkICE9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IFwiXCIgKyB0aGlzLmxhc3RJbnNlcnRSb3dpZFxuICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICAgICAgfTtcbiAgICB9XG59XG5mdW5jdGlvbiByb3dUb0pzb24ocm93KSB7XG4gICAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5tYXAuY2FsbChyb3csIHZhbHVlVG9Kc29uKTtcbn1cbmZ1bmN0aW9uIHZhbHVlVG9Kc29uKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJiaWdpbnRcIikge1xuICAgICAgICByZXR1cm4gXCJcIiArIHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBCYXNlNjQuZnJvbVVpbnQ4QXJyYXkobmV3IFVpbnQ4QXJyYXkodmFsdWUpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgTGlic3FsRXJyb3IgfSBmcm9tIFwiLi9hcGkuanNcIjtcbmltcG9ydCB7IHBhcnNlVXJpIH0gZnJvbSBcIi4vdXJpLmpzXCI7XG5pbXBvcnQgeyBzdXBwb3J0ZWRVcmxMaW5rIH0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuY29uc3QgaW5NZW1vcnlNb2RlID0gXCI6bWVtb3J5OlwiO1xuZXhwb3J0IGZ1bmN0aW9uIGlzSW5NZW1vcnlDb25maWcoY29uZmlnKSB7XG4gICAgcmV0dXJuIChjb25maWcuc2NoZW1lID09PSBcImZpbGVcIiAmJlxuICAgICAgICAoY29uZmlnLnBhdGggPT09IFwiOm1lbW9yeTpcIiB8fCBjb25maWcucGF0aC5zdGFydHNXaXRoKFwiOm1lbW9yeTo/XCIpKSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZXhwYW5kQ29uZmlnKGNvbmZpZywgcHJlZmVySHR0cCkge1xuICAgIGlmICh0eXBlb2YgY29uZmlnICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIC8vIHByb2R1Y2UgYSByZWFzb25hYmxlIGVycm9yIG1lc3NhZ2UgaW4gdGhlIGNvbW1vbiBjYXNlIHdoZXJlIHVzZXJzIHR5cGVcbiAgICAgICAgLy8gYGNyZWF0ZUNsaWVudChcImxpYnNxbDovLy4uLlwiKWAgaW5zdGVhZCBvZiBgY3JlYXRlQ2xpZW50KHt1cmw6IFwibGlic3FsOi8vLi4uXCJ9KWBcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgY2xpZW50IGNvbmZpZ3VyYXRpb24gYXMgb2JqZWN0LCBnb3QgJHt0eXBlb2YgY29uZmlnfWApO1xuICAgIH1cbiAgICBsZXQgeyB1cmwsIGF1dGhUb2tlbiwgdGxzLCBpbnRNb2RlLCBjb25jdXJyZW5jeSB9ID0gY29uZmlnO1xuICAgIC8vIGZpbGwgc2ltcGxlIGRlZmF1bHRzIHJpZ2h0IGhlcmVcbiAgICBjb25jdXJyZW5jeSA9IE1hdGgubWF4KDAsIGNvbmN1cnJlbmN5IHx8IDIwKTtcbiAgICBpbnRNb2RlID8/PSBcIm51bWJlclwiO1xuICAgIGxldCBjb25uZWN0aW9uUXVlcnlQYXJhbXMgPSBbXTsgLy8gcmVjb2duaXplZCBxdWVyeSBwYXJhbWV0ZXJzIHdoaWNoIHdlIHNhbml0aXplIHRocm91Z2ggd2hpdGUgbGlzdCBvZiB2YWxpZCBrZXktdmFsdWUgcGFpcnNcbiAgICAvLyBjb252ZXJ0IHBsYWluIDptZW1vcnk6IHVybCB0byBVUkkgZm9ybWF0IHRvIG1ha2UgbG9naWMgbW9yZSB1bmlmb3JtXG4gICAgaWYgKHVybCA9PT0gaW5NZW1vcnlNb2RlKSB7XG4gICAgICAgIHVybCA9IFwiZmlsZTo6bWVtb3J5OlwiO1xuICAgIH1cbiAgICAvLyBwYXJzZSB1cmwgcGFyYW1ldGVycyBmaXJzdCBhbmQgb3ZlcnJpZGUgY29uZmlnIHdpdGggdXBkYXRlIHZhbHVlc1xuICAgIGNvbnN0IHVyaSA9IHBhcnNlVXJpKHVybCk7XG4gICAgY29uc3Qgb3JpZ2luYWxVcmlTY2hlbWUgPSB1cmkuc2NoZW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgY29uc3QgaXNJbk1lbW9yeU1vZGUgPSBvcmlnaW5hbFVyaVNjaGVtZSA9PT0gXCJmaWxlXCIgJiZcbiAgICAgICAgdXJpLnBhdGggPT09IGluTWVtb3J5TW9kZSAmJlxuICAgICAgICB1cmkuYXV0aG9yaXR5ID09PSB1bmRlZmluZWQ7XG4gICAgbGV0IHF1ZXJ5UGFyYW1zRGVmO1xuICAgIGlmIChpc0luTWVtb3J5TW9kZSkge1xuICAgICAgICBxdWVyeVBhcmFtc0RlZiA9IHtcbiAgICAgICAgICAgIGNhY2hlOiB7XG4gICAgICAgICAgICAgICAgdmFsdWVzOiBbXCJzaGFyZWRcIiwgXCJwcml2YXRlXCJdLFxuICAgICAgICAgICAgICAgIHVwZGF0ZTogKGtleSwgdmFsdWUpID0+IGNvbm5lY3Rpb25RdWVyeVBhcmFtcy5wdXNoKGAke2tleX09JHt2YWx1ZX1gKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBxdWVyeVBhcmFtc0RlZiA9IHtcbiAgICAgICAgICAgIHRsczoge1xuICAgICAgICAgICAgICAgIHZhbHVlczogW1wiMFwiLCBcIjFcIl0sXG4gICAgICAgICAgICAgICAgdXBkYXRlOiAoXywgdmFsdWUpID0+ICh0bHMgPSB2YWx1ZSA9PT0gXCIxXCIpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGF1dGhUb2tlbjoge1xuICAgICAgICAgICAgICAgIHVwZGF0ZTogKF8sIHZhbHVlKSA9PiAoYXV0aFRva2VuID0gdmFsdWUpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZm9yIChjb25zdCB7IGtleSwgdmFsdWUgfSBvZiB1cmkucXVlcnk/LnBhaXJzID8/IFtdKSB7XG4gICAgICAgIGlmICghT2JqZWN0Lmhhc093bihxdWVyeVBhcmFtc0RlZiwga2V5KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IExpYnNxbEVycm9yKGBVbnN1cHBvcnRlZCBVUkwgcXVlcnkgcGFyYW1ldGVyICR7SlNPTi5zdHJpbmdpZnkoa2V5KX1gLCBcIlVSTF9QQVJBTV9OT1RfU1VQUE9SVEVEXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1EZWYgPSBxdWVyeVBhcmFtc0RlZltrZXldO1xuICAgICAgICBpZiAocXVlcnlQYXJhbURlZi52YWx1ZXMgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgIXF1ZXJ5UGFyYW1EZWYudmFsdWVzLmluY2x1ZGVzKHZhbHVlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IExpYnNxbEVycm9yKGBVbmtub3duIHZhbHVlIGZvciB0aGUgXCIke2tleX1cIiBxdWVyeSBhcmd1bWVudDogJHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9LiBTdXBwb3J0ZWQgdmFsdWVzIGFyZTogWyR7cXVlcnlQYXJhbURlZi52YWx1ZXMubWFwKCh4KSA9PiAnXCInICsgeCArICdcIicpLmpvaW4oXCIsIFwiKX1dYCwgXCJVUkxfSU5WQUxJRFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocXVlcnlQYXJhbURlZi51cGRhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcXVlcnlQYXJhbURlZj8udXBkYXRlKGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGZpbGwgY29tcGxleCBkZWZhdWx0cyAmIHZhbGlkYXRlIGNvbmZpZ1xuICAgIGNvbnN0IGNvbm5lY3Rpb25RdWVyeVBhcmFtc1N0cmluZyA9IGNvbm5lY3Rpb25RdWVyeVBhcmFtcy5sZW5ndGggPT09IDBcbiAgICAgICAgPyBcIlwiXG4gICAgICAgIDogYD8ke2Nvbm5lY3Rpb25RdWVyeVBhcmFtcy5qb2luKFwiJlwiKX1gO1xuICAgIGNvbnN0IHBhdGggPSB1cmkucGF0aCArIGNvbm5lY3Rpb25RdWVyeVBhcmFtc1N0cmluZztcbiAgICBsZXQgc2NoZW1lO1xuICAgIGlmIChvcmlnaW5hbFVyaVNjaGVtZSA9PT0gXCJsaWJzcWxcIikge1xuICAgICAgICBpZiAodGxzID09PSBmYWxzZSkge1xuICAgICAgICAgICAgaWYgKHVyaS5hdXRob3JpdHk/LnBvcnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBMaWJzcWxFcnJvcignQSBcImxpYnNxbDpcIiBVUkwgd2l0aCA/dGxzPTAgbXVzdCBzcGVjaWZ5IGFuIGV4cGxpY2l0IHBvcnQnLCBcIlVSTF9JTlZBTElEXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2NoZW1lID0gcHJlZmVySHR0cCA/IFwiaHR0cFwiIDogXCJ3c1wiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2NoZW1lID0gcHJlZmVySHR0cCA/IFwiaHR0cHNcIiA6IFwid3NzXCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNjaGVtZSA9IG9yaWdpbmFsVXJpU2NoZW1lO1xuICAgIH1cbiAgICBpZiAoc2NoZW1lID09PSBcImh0dHBcIiB8fCBzY2hlbWUgPT09IFwid3NcIikge1xuICAgICAgICB0bHMgPz89IGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGxzID8/PSB0cnVlO1xuICAgIH1cbiAgICBpZiAoc2NoZW1lICE9PSBcImh0dHBcIiAmJlxuICAgICAgICBzY2hlbWUgIT09IFwid3NcIiAmJlxuICAgICAgICBzY2hlbWUgIT09IFwiaHR0cHNcIiAmJlxuICAgICAgICBzY2hlbWUgIT09IFwid3NzXCIgJiZcbiAgICAgICAgc2NoZW1lICE9PSBcImZpbGVcIikge1xuICAgICAgICB0aHJvdyBuZXcgTGlic3FsRXJyb3IoJ1RoZSBjbGllbnQgc3VwcG9ydHMgb25seSBcImxpYnNxbDpcIiwgXCJ3c3M6XCIsIFwid3M6XCIsIFwiaHR0cHM6XCIsIFwiaHR0cDpcIiBhbmQgXCJmaWxlOlwiIFVSTHMsICcgK1xuICAgICAgICAgICAgYGdvdCAke0pTT04uc3RyaW5naWZ5KHVyaS5zY2hlbWUgKyBcIjpcIil9LiBgICtcbiAgICAgICAgICAgIGBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgcGxlYXNlIHJlYWQgJHtzdXBwb3J0ZWRVcmxMaW5rfWAsIFwiVVJMX1NDSEVNRV9OT1RfU1VQUE9SVEVEXCIpO1xuICAgIH1cbiAgICBpZiAoaW50TW9kZSAhPT0gXCJudW1iZXJcIiAmJiBpbnRNb2RlICE9PSBcImJpZ2ludFwiICYmIGludE1vZGUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCB2YWx1ZSBmb3IgaW50TW9kZSwgZXhwZWN0ZWQgXCJudW1iZXJcIiwgXCJiaWdpbnRcIiBvciBcInN0cmluZ1wiLCBnb3QgJHtKU09OLnN0cmluZ2lmeShpbnRNb2RlKX1gKTtcbiAgICB9XG4gICAgaWYgKHVyaS5mcmFnbWVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBMaWJzcWxFcnJvcihgVVJMIGZyYWdtZW50cyBhcmUgbm90IHN1cHBvcnRlZDogJHtKU09OLnN0cmluZ2lmeShcIiNcIiArIHVyaS5mcmFnbWVudCl9YCwgXCJVUkxfSU5WQUxJRFwiKTtcbiAgICB9XG4gICAgaWYgKGlzSW5NZW1vcnlNb2RlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzY2hlbWU6IFwiZmlsZVwiLFxuICAgICAgICAgICAgdGxzOiBmYWxzZSxcbiAgICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgICBpbnRNb2RlLFxuICAgICAgICAgICAgY29uY3VycmVuY3ksXG4gICAgICAgICAgICBzeW5jVXJsOiBjb25maWcuc3luY1VybCxcbiAgICAgICAgICAgIHN5bmNJbnRlcnZhbDogY29uZmlnLnN5bmNJbnRlcnZhbCxcbiAgICAgICAgICAgIGZldGNoOiBjb25maWcuZmV0Y2gsXG4gICAgICAgICAgICBhdXRoVG9rZW46IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGVuY3J5cHRpb25LZXk6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGF1dGhvcml0eTogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzY2hlbWUsXG4gICAgICAgIHRscyxcbiAgICAgICAgYXV0aG9yaXR5OiB1cmkuYXV0aG9yaXR5LFxuICAgICAgICBwYXRoLFxuICAgICAgICBhdXRoVG9rZW4sXG4gICAgICAgIGludE1vZGUsXG4gICAgICAgIGNvbmN1cnJlbmN5LFxuICAgICAgICBlbmNyeXB0aW9uS2V5OiBjb25maWcuZW5jcnlwdGlvbktleSxcbiAgICAgICAgc3luY1VybDogY29uZmlnLnN5bmNVcmwsXG4gICAgICAgIHN5bmNJbnRlcnZhbDogY29uZmlnLnN5bmNJbnRlcnZhbCxcbiAgICAgICAgZmV0Y2g6IGNvbmZpZy5mZXRjaCxcbiAgICB9O1xufVxuIiwgImxldCBfV2ViU29ja2V0O1xuaWYgKHR5cGVvZiBXZWJTb2NrZXQgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBfV2ViU29ja2V0ID0gV2ViU29ja2V0O1xufSBlbHNlIGlmICh0eXBlb2YgZ2xvYmFsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgX1dlYlNvY2tldCA9IGdsb2JhbC5XZWJTb2NrZXQ7XG59IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBfV2ViU29ja2V0ID0gd2luZG93LldlYlNvY2tldDtcbn0gZWxzZSBpZiAodHlwZW9mIHNlbGYgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBfV2ViU29ja2V0ID0gc2VsZi5XZWJTb2NrZXQ7XG59XG5leHBvcnQgeyBfV2ViU29ja2V0IGFzIFdlYlNvY2tldCB9O1xuIiwgIi8qKiBBIGNsaWVudCBmb3IgdGhlIEhyYW5hIHByb3RvY29sIChhIFwiZGF0YWJhc2UgY29ubmVjdGlvbiBwb29sXCIpLiAqL1xuZXhwb3J0IGNsYXNzIENsaWVudCB7XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuaW50TW9kZSA9IFwibnVtYmVyXCI7XG4gICAgfVxuICAgIC8qKiBSZXByZXNlbnRhdGlvbiBvZiBpbnRlZ2VycyByZXR1cm5lZCBmcm9tIHRoZSBkYXRhYmFzZS4gU2VlIHtAbGluayBJbnRNb2RlfS5cbiAgICAgKlxuICAgICAqIFRoaXMgdmFsdWUgaXMgaW5oZXJpdGVkIGJ5IHtAbGluayBTdHJlYW19IG9iamVjdHMgY3JlYXRlZCB3aXRoIHtAbGluayBvcGVuU3RyZWFtfSwgYnV0IHlvdSBjYW5cbiAgICAgKiBvdmVycmlkZSB0aGUgaW50ZWdlciBtb2RlIGZvciBldmVyeSBzdHJlYW0gYnkgc2V0dGluZyB7QGxpbmsgU3RyZWFtLmludE1vZGV9IG9uIHRoZSBzdHJlYW0uXG4gICAgICovXG4gICAgaW50TW9kZTtcbn1cbiIsICIvKiogR2VuZXJpYyBlcnJvciBwcm9kdWNlZCBieSB0aGUgSHJhbmEgY2xpZW50LiAqL1xuZXhwb3J0IGNsYXNzIENsaWVudEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiQ2xpZW50RXJyb3JcIjtcbiAgICB9XG59XG4vKiogRXJyb3IgdGhyb3duIHdoZW4gdGhlIHNlcnZlciB2aW9sYXRlcyB0aGUgcHJvdG9jb2wuICovXG5leHBvcnQgY2xhc3MgUHJvdG9FcnJvciBleHRlbmRzIENsaWVudEVycm9yIHtcbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlByb3RvRXJyb3JcIjtcbiAgICB9XG59XG4vKiogRXJyb3IgdGhyb3duIHdoZW4gdGhlIHNlcnZlciByZXR1cm5zIGFuIGVycm9yIHJlc3BvbnNlLiAqL1xuZXhwb3J0IGNsYXNzIFJlc3BvbnNlRXJyb3IgZXh0ZW5kcyBDbGllbnRFcnJvciB7XG4gICAgY29kZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgcHJvdG87XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgY29uc3RydWN0b3IobWVzc2FnZSwgcHJvdG9FcnJvcikge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJSZXNwb25zZUVycm9yXCI7XG4gICAgICAgIHRoaXMuY29kZSA9IHByb3RvRXJyb3IuY29kZTtcbiAgICAgICAgdGhpcy5wcm90byA9IHByb3RvRXJyb3I7XG4gICAgICAgIHRoaXMuc3RhY2sgPSB1bmRlZmluZWQ7XG4gICAgfVxufVxuLyoqIEVycm9yIHRocm93biB3aGVuIHRoZSBjbGllbnQgb3Igc3RyZWFtIGlzIGNsb3NlZC4gKi9cbmV4cG9ydCBjbGFzcyBDbG9zZWRFcnJvciBleHRlbmRzIENsaWVudEVycm9yIHtcbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBjYXVzZSkge1xuICAgICAgICBpZiAoY2F1c2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgc3VwZXIoYCR7bWVzc2FnZX06ICR7Y2F1c2V9YCk7XG4gICAgICAgICAgICB0aGlzLmNhdXNlID0gY2F1c2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm5hbWUgPSBcIkNsb3NlZEVycm9yXCI7XG4gICAgfVxufVxuLyoqIEVycm9yIHRocm93biB3aGVuIHRoZSBlbnZpcm9ubWVudCBkb2VzIG5vdCBzZWVtIHRvIHN1cHBvcnQgV2ViU29ja2V0cy4gKi9cbmV4cG9ydCBjbGFzcyBXZWJTb2NrZXRVbnN1cHBvcnRlZEVycm9yIGV4dGVuZHMgQ2xpZW50RXJyb3Ige1xuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSk7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiV2ViU29ja2V0VW5zdXBwb3J0ZWRFcnJvclwiO1xuICAgIH1cbn1cbi8qKiBFcnJvciB0aHJvd24gd2hlbiB3ZSBlbmNvdW50ZXIgYSBXZWJTb2NrZXQgZXJyb3IuICovXG5leHBvcnQgY2xhc3MgV2ViU29ja2V0RXJyb3IgZXh0ZW5kcyBDbGllbnRFcnJvciB7XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJXZWJTb2NrZXRFcnJvclwiO1xuICAgIH1cbn1cbi8qKiBFcnJvciB0aHJvd24gd2hlbiB0aGUgSFRUUCBzZXJ2ZXIgcmV0dXJucyBhbiBlcnJvciByZXNwb25zZS4gKi9cbmV4cG9ydCBjbGFzcyBIdHRwU2VydmVyRXJyb3IgZXh0ZW5kcyBDbGllbnRFcnJvciB7XG4gICAgc3RhdHVzO1xuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIHN0YXR1cykge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIHRoaXMubmFtZSA9IFwiSHR0cFNlcnZlckVycm9yXCI7XG4gICAgfVxufVxuLyoqIEVycm9yIHRocm93biB3aGVuIGEgbGlic3FsIFVSTCBpcyBub3QgdmFsaWQuICovXG5leHBvcnQgY2xhc3MgTGlic3FsVXJsUGFyc2VFcnJvciBleHRlbmRzIENsaWVudEVycm9yIHtcbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIkxpYnNxbFVybFBhcnNlRXJyb3JcIjtcbiAgICB9XG59XG4vKiogRXJyb3IgdGhyb3duIHdoZW4gdGhlIHByb3RvY29sIHZlcnNpb24gaXMgdG9vIGxvdyB0byBzdXBwb3J0IGEgZmVhdHVyZS4gKi9cbmV4cG9ydCBjbGFzcyBQcm90b2NvbFZlcnNpb25FcnJvciBleHRlbmRzIENsaWVudEVycm9yIHtcbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlByb3RvY29sVmVyc2lvbkVycm9yXCI7XG4gICAgfVxufVxuLyoqIEVycm9yIHRocm93biB3aGVuIGFuIGludGVybmFsIGNsaWVudCBlcnJvciBoYXBwZW5zLiAqL1xuZXhwb3J0IGNsYXNzIEludGVybmFsRXJyb3IgZXh0ZW5kcyBDbGllbnRFcnJvciB7XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gXCJJbnRlcm5hbEVycm9yXCI7XG4gICAgfVxufVxuLyoqIEVycm9yIHRocm93biB3aGVuIHRoZSBBUEkgaXMgbWlzdXNlZC4gKi9cbmV4cG9ydCBjbGFzcyBNaXN1c2VFcnJvciBleHRlbmRzIENsaWVudEVycm9yIHtcbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIk1pc3VzZUVycm9yXCI7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IFByb3RvRXJyb3IgfSBmcm9tIFwiLi4vLi4vZXJyb3JzLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHRocm93IHR5cGVFcnJvcih2YWx1ZSwgXCJzdHJpbmdcIik7XG59XG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nT3B0KHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgdGhyb3cgdHlwZUVycm9yKHZhbHVlLCBcInN0cmluZyBvciBudWxsXCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG51bWJlcih2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICB0aHJvdyB0eXBlRXJyb3IodmFsdWUsIFwibnVtYmVyXCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJvb2xlYW4odmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImJvb2xlYW5cIikge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHRocm93IHR5cGVFcnJvcih2YWx1ZSwgXCJib29sZWFuXCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFycmF5KHZhbHVlKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgdGhyb3cgdHlwZUVycm9yKHZhbHVlLCBcImFycmF5XCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdCh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgdGhyb3cgdHlwZUVycm9yKHZhbHVlLCBcIm9iamVjdFwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhcnJheU9iamVjdHNNYXAodmFsdWUsIGZ1bikge1xuICAgIHJldHVybiBhcnJheSh2YWx1ZSkubWFwKChlbGVtVmFsdWUpID0+IGZ1bihvYmplY3QoZWxlbVZhbHVlKSkpO1xufVxuZnVuY3Rpb24gdHlwZUVycm9yKHZhbHVlLCBleHBlY3RlZCkge1xuICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvdG9FcnJvcihgRXhwZWN0ZWQgJHtleHBlY3RlZH0sIGJ1dCB0aGUgcHJvcGVydHkgd2FzIG1pc3NpbmdgKTtcbiAgICB9XG4gICAgbGV0IHJlY2VpdmVkID0gdHlwZW9mIHZhbHVlO1xuICAgIGlmICh2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICByZWNlaXZlZCA9IFwibnVsbFwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZWNlaXZlZCA9IFwiYXJyYXlcIjtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm90b0Vycm9yKGBFeHBlY3RlZCAke2V4cGVjdGVkfSwgcmVjZWl2ZWQgJHtyZWNlaXZlZH1gKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZWFkSnNvbk9iamVjdCh2YWx1ZSwgZnVuKSB7XG4gICAgcmV0dXJuIGZ1bihvYmplY3QodmFsdWUpKTtcbn1cbiIsICJleHBvcnQgY2xhc3MgT2JqZWN0V3JpdGVyIHtcbiAgICAjb3V0cHV0O1xuICAgICNpc0ZpcnN0O1xuICAgIGNvbnN0cnVjdG9yKG91dHB1dCkge1xuICAgICAgICB0aGlzLiNvdXRwdXQgPSBvdXRwdXQ7XG4gICAgICAgIHRoaXMuI2lzRmlyc3QgPSBmYWxzZTtcbiAgICB9XG4gICAgYmVnaW4oKSB7XG4gICAgICAgIHRoaXMuI291dHB1dC5wdXNoKCd7Jyk7XG4gICAgICAgIHRoaXMuI2lzRmlyc3QgPSB0cnVlO1xuICAgIH1cbiAgICBlbmQoKSB7XG4gICAgICAgIHRoaXMuI291dHB1dC5wdXNoKCd9Jyk7XG4gICAgICAgIHRoaXMuI2lzRmlyc3QgPSBmYWxzZTtcbiAgICB9XG4gICAgI2tleShuYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLiNpc0ZpcnN0KSB7XG4gICAgICAgICAgICB0aGlzLiNvdXRwdXQucHVzaCgnXCInKTtcbiAgICAgICAgICAgIHRoaXMuI2lzRmlyc3QgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuI291dHB1dC5wdXNoKCcsXCInKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNvdXRwdXQucHVzaChuYW1lKTtcbiAgICAgICAgdGhpcy4jb3V0cHV0LnB1c2goJ1wiOicpO1xuICAgIH1cbiAgICBzdHJpbmcobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy4ja2V5KG5hbWUpO1xuICAgICAgICB0aGlzLiNvdXRwdXQucHVzaChKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xuICAgIH1cbiAgICBzdHJpbmdSYXcobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy4ja2V5KG5hbWUpO1xuICAgICAgICB0aGlzLiNvdXRwdXQucHVzaCgnXCInKTtcbiAgICAgICAgdGhpcy4jb3V0cHV0LnB1c2godmFsdWUpO1xuICAgICAgICB0aGlzLiNvdXRwdXQucHVzaCgnXCInKTtcbiAgICB9XG4gICAgbnVtYmVyKG5hbWUsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuI2tleShuYW1lKTtcbiAgICAgICAgdGhpcy4jb3V0cHV0LnB1c2goXCJcIiArIHZhbHVlKTtcbiAgICB9XG4gICAgYm9vbGVhbihuYW1lLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLiNrZXkobmFtZSk7XG4gICAgICAgIHRoaXMuI291dHB1dC5wdXNoKHZhbHVlID8gXCJ0cnVlXCIgOiBcImZhbHNlXCIpO1xuICAgIH1cbiAgICBvYmplY3QobmFtZSwgdmFsdWUsIHZhbHVlRnVuKSB7XG4gICAgICAgIHRoaXMuI2tleShuYW1lKTtcbiAgICAgICAgdGhpcy5iZWdpbigpO1xuICAgICAgICB2YWx1ZUZ1bih0aGlzLCB2YWx1ZSk7XG4gICAgICAgIHRoaXMuZW5kKCk7XG4gICAgfVxuICAgIGFycmF5T2JqZWN0cyhuYW1lLCB2YWx1ZXMsIHZhbHVlRnVuKSB7XG4gICAgICAgIHRoaXMuI2tleShuYW1lKTtcbiAgICAgICAgdGhpcy4jb3V0cHV0LnB1c2goJ1snKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWx1ZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGlmIChpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jb3V0cHV0LnB1c2goJywnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuYmVnaW4oKTtcbiAgICAgICAgICAgIHZhbHVlRnVuKHRoaXMsIHZhbHVlc1tpXSk7XG4gICAgICAgICAgICB0aGlzLmVuZCgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI291dHB1dC5wdXNoKCddJyk7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHdyaXRlSnNvbk9iamVjdCh2YWx1ZSwgZnVuKSB7XG4gICAgY29uc3Qgb3V0cHV0ID0gW107XG4gICAgY29uc3Qgd3JpdGVyID0gbmV3IE9iamVjdFdyaXRlcihvdXRwdXQpO1xuICAgIHdyaXRlci5iZWdpbigpO1xuICAgIGZ1bih3cml0ZXIsIHZhbHVlKTtcbiAgICB3cml0ZXIuZW5kKCk7XG4gICAgcmV0dXJuIG91dHB1dC5qb2luKFwiXCIpO1xufVxuIiwgImV4cG9ydCBjb25zdCBWQVJJTlQgPSAwO1xuZXhwb3J0IGNvbnN0IEZJWEVEXzY0ID0gMTtcbmV4cG9ydCBjb25zdCBMRU5HVEhfREVMSU1JVEVEID0gMjtcbmV4cG9ydCBjb25zdCBHUk9VUF9TVEFSVCA9IDM7XG5leHBvcnQgY29uc3QgR1JPVVBfRU5EID0gNDtcbmV4cG9ydCBjb25zdCBGSVhFRF8zMiA9IDU7XG4iLCAiaW1wb3J0IHsgUHJvdG9FcnJvciB9IGZyb20gXCIuLi8uLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IFZBUklOVCwgRklYRURfNjQsIExFTkdUSF9ERUxJTUlURUQsIEZJWEVEXzMyIH0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuY2xhc3MgTWVzc2FnZVJlYWRlciB7XG4gICAgI2FycmF5O1xuICAgICN2aWV3O1xuICAgICNwb3M7XG4gICAgY29uc3RydWN0b3IoYXJyYXkpIHtcbiAgICAgICAgdGhpcy4jYXJyYXkgPSBhcnJheTtcbiAgICAgICAgdGhpcy4jdmlldyA9IG5ldyBEYXRhVmlldyhhcnJheS5idWZmZXIsIGFycmF5LmJ5dGVPZmZzZXQsIGFycmF5LmJ5dGVMZW5ndGgpO1xuICAgICAgICB0aGlzLiNwb3MgPSAwO1xuICAgIH1cbiAgICB2YXJpbnQoKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IDA7XG4gICAgICAgIGZvciAobGV0IHNoaWZ0ID0gMDs7IHNoaWZ0ICs9IDcpIHtcbiAgICAgICAgICAgIGNvbnN0IGJ5dGUgPSB0aGlzLiNhcnJheVt0aGlzLiNwb3MrK107XG4gICAgICAgICAgICB2YWx1ZSB8PSAoYnl0ZSAmIDB4N2YpIDw8IHNoaWZ0O1xuICAgICAgICAgICAgaWYgKCEoYnl0ZSAmIDB4ODApKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICB2YXJpbnRCaWcoKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IDBuO1xuICAgICAgICBmb3IgKGxldCBzaGlmdCA9IDBuOzsgc2hpZnQgKz0gN24pIHtcbiAgICAgICAgICAgIGNvbnN0IGJ5dGUgPSB0aGlzLiNhcnJheVt0aGlzLiNwb3MrK107XG4gICAgICAgICAgICB2YWx1ZSB8PSBCaWdJbnQoYnl0ZSAmIDB4N2YpIDw8IHNoaWZ0O1xuICAgICAgICAgICAgaWYgKCEoYnl0ZSAmIDB4ODApKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBieXRlcyhsZW5ndGgpIHtcbiAgICAgICAgY29uc3QgYXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLiNhcnJheS5idWZmZXIsIHRoaXMuI2FycmF5LmJ5dGVPZmZzZXQgKyB0aGlzLiNwb3MsIGxlbmd0aCk7XG4gICAgICAgIHRoaXMuI3BvcyArPSBsZW5ndGg7XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG4gICAgZG91YmxlKCkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuI3ZpZXcuZ2V0RmxvYXQ2NCh0aGlzLiNwb3MsIHRydWUpO1xuICAgICAgICB0aGlzLiNwb3MgKz0gODtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBza2lwVmFyaW50KCkge1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBjb25zdCBieXRlID0gdGhpcy4jYXJyYXlbdGhpcy4jcG9zKytdO1xuICAgICAgICAgICAgaWYgKCEoYnl0ZSAmIDB4ODApKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2tpcChjb3VudCkge1xuICAgICAgICB0aGlzLiNwb3MgKz0gY291bnQ7XG4gICAgfVxuICAgIGVvZigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3BvcyA+PSB0aGlzLiNhcnJheS5ieXRlTGVuZ3RoO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBGaWVsZFJlYWRlciB7XG4gICAgI3JlYWRlcjtcbiAgICAjd2lyZVR5cGU7XG4gICAgY29uc3RydWN0b3IocmVhZGVyKSB7XG4gICAgICAgIHRoaXMuI3JlYWRlciA9IHJlYWRlcjtcbiAgICAgICAgdGhpcy4jd2lyZVR5cGUgPSAtMTtcbiAgICB9XG4gICAgc2V0dXAod2lyZVR5cGUpIHtcbiAgICAgICAgdGhpcy4jd2lyZVR5cGUgPSB3aXJlVHlwZTtcbiAgICB9XG4gICAgI2V4cGVjdChleHBlY3RlZFdpcmVUeXBlKSB7XG4gICAgICAgIGlmICh0aGlzLiN3aXJlVHlwZSAhPT0gZXhwZWN0ZWRXaXJlVHlwZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFByb3RvRXJyb3IoYEV4cGVjdGVkIHdpcmUgdHlwZSAke2V4cGVjdGVkV2lyZVR5cGV9LCBnb3QgJHt0aGlzLiN3aXJlVHlwZX1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiN3aXJlVHlwZSA9IC0xO1xuICAgIH1cbiAgICBieXRlcygpIHtcbiAgICAgICAgdGhpcy4jZXhwZWN0KExFTkdUSF9ERUxJTUlURUQpO1xuICAgICAgICBjb25zdCBsZW5ndGggPSB0aGlzLiNyZWFkZXIudmFyaW50KCk7XG4gICAgICAgIHJldHVybiB0aGlzLiNyZWFkZXIuYnl0ZXMobGVuZ3RoKTtcbiAgICB9XG4gICAgc3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gbmV3IFRleHREZWNvZGVyKCkuZGVjb2RlKHRoaXMuYnl0ZXMoKSk7XG4gICAgfVxuICAgIG1lc3NhZ2UoZGVmKSB7XG4gICAgICAgIHJldHVybiByZWFkUHJvdG9idWZNZXNzYWdlKHRoaXMuYnl0ZXMoKSwgZGVmKTtcbiAgICB9XG4gICAgaW50MzIoKSB7XG4gICAgICAgIHRoaXMuI2V4cGVjdChWQVJJTlQpO1xuICAgICAgICByZXR1cm4gdGhpcy4jcmVhZGVyLnZhcmludCgpO1xuICAgIH1cbiAgICB1aW50MzIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludDMyKCk7XG4gICAgfVxuICAgIGJvb2woKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmludDMyKCkgIT09IDA7XG4gICAgfVxuICAgIHVpbnQ2NCgpIHtcbiAgICAgICAgdGhpcy4jZXhwZWN0KFZBUklOVCk7XG4gICAgICAgIHJldHVybiB0aGlzLiNyZWFkZXIudmFyaW50QmlnKCk7XG4gICAgfVxuICAgIHNpbnQ2NCgpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLnVpbnQ2NCgpO1xuICAgICAgICByZXR1cm4gKHZhbHVlID4+IDFuKSBeICgtKHZhbHVlICYgMW4pKTtcbiAgICB9XG4gICAgZG91YmxlKCkge1xuICAgICAgICB0aGlzLiNleHBlY3QoRklYRURfNjQpO1xuICAgICAgICByZXR1cm4gdGhpcy4jcmVhZGVyLmRvdWJsZSgpO1xuICAgIH1cbiAgICBtYXliZVNraXAoKSB7XG4gICAgICAgIGlmICh0aGlzLiN3aXJlVHlwZSA8IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLiN3aXJlVHlwZSA9PT0gVkFSSU5UKSB7XG4gICAgICAgICAgICB0aGlzLiNyZWFkZXIuc2tpcFZhcmludCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuI3dpcmVUeXBlID09PSBGSVhFRF82NCkge1xuICAgICAgICAgICAgdGhpcy4jcmVhZGVyLnNraXAoOCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy4jd2lyZVR5cGUgPT09IExFTkdUSF9ERUxJTUlURUQpIHtcbiAgICAgICAgICAgIGNvbnN0IGxlbmd0aCA9IHRoaXMuI3JlYWRlci52YXJpbnQoKTtcbiAgICAgICAgICAgIHRoaXMuI3JlYWRlci5za2lwKGxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy4jd2lyZVR5cGUgPT09IEZJWEVEXzMyKSB7XG4gICAgICAgICAgICB0aGlzLiNyZWFkZXIuc2tpcCg0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQcm90b0Vycm9yKGBVbmV4cGVjdGVkIHdpcmUgdHlwZSAke3RoaXMuI3dpcmVUeXBlfWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI3dpcmVUeXBlID0gLTE7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHJlYWRQcm90b2J1Zk1lc3NhZ2UoZGF0YSwgZGVmKSB7XG4gICAgY29uc3QgbXNnUmVhZGVyID0gbmV3IE1lc3NhZ2VSZWFkZXIoZGF0YSk7XG4gICAgY29uc3QgZmllbGRSZWFkZXIgPSBuZXcgRmllbGRSZWFkZXIobXNnUmVhZGVyKTtcbiAgICBsZXQgdmFsdWUgPSBkZWYuZGVmYXVsdCgpO1xuICAgIHdoaWxlICghbXNnUmVhZGVyLmVvZigpKSB7XG4gICAgICAgIGNvbnN0IGtleSA9IG1zZ1JlYWRlci52YXJpbnQoKTtcbiAgICAgICAgY29uc3QgdGFnID0ga2V5ID4+IDM7XG4gICAgICAgIGNvbnN0IHdpcmVUeXBlID0ga2V5ICYgMHg3O1xuICAgICAgICBmaWVsZFJlYWRlci5zZXR1cCh3aXJlVHlwZSk7XG4gICAgICAgIGNvbnN0IHRhZ0Z1biA9IGRlZlt0YWddO1xuICAgICAgICBpZiAodGFnRnVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHJldHVybmVkVmFsdWUgPSB0YWdGdW4oZmllbGRSZWFkZXIsIHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChyZXR1cm5lZFZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHJldHVybmVkVmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmllbGRSZWFkZXIubWF5YmVTa2lwKCk7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbiIsICJpbXBvcnQgeyBWQVJJTlQsIEZJWEVEXzY0LCBMRU5HVEhfREVMSU1JVEVEIH0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuZXhwb3J0IGNsYXNzIE1lc3NhZ2VXcml0ZXIge1xuICAgICNidWY7XG4gICAgI2FycmF5O1xuICAgICN2aWV3O1xuICAgICNwb3M7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuI2J1ZiA9IG5ldyBBcnJheUJ1ZmZlcigyNTYpO1xuICAgICAgICB0aGlzLiNhcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMuI2J1Zik7XG4gICAgICAgIHRoaXMuI3ZpZXcgPSBuZXcgRGF0YVZpZXcodGhpcy4jYnVmKTtcbiAgICAgICAgdGhpcy4jcG9zID0gMDtcbiAgICB9XG4gICAgI2Vuc3VyZShleHRyYSkge1xuICAgICAgICBpZiAodGhpcy4jcG9zICsgZXh0cmEgPD0gdGhpcy4jYnVmLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbmV3Q2FwID0gdGhpcy4jYnVmLmJ5dGVMZW5ndGg7XG4gICAgICAgIHdoaWxlIChuZXdDYXAgPCB0aGlzLiNwb3MgKyBleHRyYSkge1xuICAgICAgICAgICAgbmV3Q2FwICo9IDI7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3QnVmID0gbmV3IEFycmF5QnVmZmVyKG5ld0NhcCk7XG4gICAgICAgIGNvbnN0IG5ld0FycmF5ID0gbmV3IFVpbnQ4QXJyYXkobmV3QnVmKTtcbiAgICAgICAgY29uc3QgbmV3VmlldyA9IG5ldyBEYXRhVmlldyhuZXdCdWYpO1xuICAgICAgICBuZXdBcnJheS5zZXQobmV3IFVpbnQ4QXJyYXkodGhpcy4jYnVmLCAwLCB0aGlzLiNwb3MpKTtcbiAgICAgICAgdGhpcy4jYnVmID0gbmV3QnVmO1xuICAgICAgICB0aGlzLiNhcnJheSA9IG5ld0FycmF5O1xuICAgICAgICB0aGlzLiN2aWV3ID0gbmV3VmlldztcbiAgICB9XG4gICAgI3ZhcmludCh2YWx1ZSkge1xuICAgICAgICB0aGlzLiNlbnN1cmUoNSk7XG4gICAgICAgIHZhbHVlID0gMCB8IHZhbHVlO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBsZXQgYnl0ZSA9IHZhbHVlICYgMHg3ZjtcbiAgICAgICAgICAgIHZhbHVlID4+Pj0gNztcbiAgICAgICAgICAgIGJ5dGUgfD0gKHZhbHVlID8gMHg4MCA6IDApO1xuICAgICAgICAgICAgdGhpcy4jYXJyYXlbdGhpcy4jcG9zKytdID0gYnl0ZTtcbiAgICAgICAgfSB3aGlsZSAodmFsdWUpO1xuICAgIH1cbiAgICAjdmFyaW50QmlnKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuI2Vuc3VyZSgxMCk7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgJiAweGZmZmZmZmZmZmZmZmZmZmZuO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBsZXQgYnl0ZSA9IE51bWJlcih2YWx1ZSAmIDB4N2ZuKTtcbiAgICAgICAgICAgIHZhbHVlID4+PSA3bjtcbiAgICAgICAgICAgIGJ5dGUgfD0gKHZhbHVlID8gMHg4MCA6IDApO1xuICAgICAgICAgICAgdGhpcy4jYXJyYXlbdGhpcy4jcG9zKytdID0gYnl0ZTtcbiAgICAgICAgfSB3aGlsZSAodmFsdWUpO1xuICAgIH1cbiAgICAjdGFnKHRhZywgd2lyZVR5cGUpIHtcbiAgICAgICAgdGhpcy4jdmFyaW50KCh0YWcgPDwgMykgfCB3aXJlVHlwZSk7XG4gICAgfVxuICAgIGJ5dGVzKHRhZywgdmFsdWUpIHtcbiAgICAgICAgdGhpcy4jdGFnKHRhZywgTEVOR1RIX0RFTElNSVRFRCk7XG4gICAgICAgIHRoaXMuI3ZhcmludCh2YWx1ZS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgdGhpcy4jZW5zdXJlKHZhbHVlLmJ5dGVMZW5ndGgpO1xuICAgICAgICB0aGlzLiNhcnJheS5zZXQodmFsdWUsIHRoaXMuI3Bvcyk7XG4gICAgICAgIHRoaXMuI3BvcyArPSB2YWx1ZS5ieXRlTGVuZ3RoO1xuICAgIH1cbiAgICBzdHJpbmcodGFnLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLmJ5dGVzKHRhZywgbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHZhbHVlKSk7XG4gICAgfVxuICAgIG1lc3NhZ2UodGFnLCB2YWx1ZSwgZnVuKSB7XG4gICAgICAgIGNvbnN0IHdyaXRlciA9IG5ldyBNZXNzYWdlV3JpdGVyKCk7XG4gICAgICAgIGZ1bih3cml0ZXIsIHZhbHVlKTtcbiAgICAgICAgdGhpcy5ieXRlcyh0YWcsIHdyaXRlci5kYXRhKCkpO1xuICAgIH1cbiAgICBpbnQzMih0YWcsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuI3RhZyh0YWcsIFZBUklOVCk7XG4gICAgICAgIHRoaXMuI3ZhcmludCh2YWx1ZSk7XG4gICAgfVxuICAgIHVpbnQzMih0YWcsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuaW50MzIodGFnLCB2YWx1ZSk7XG4gICAgfVxuICAgIGJvb2wodGFnLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLmludDMyKHRhZywgdmFsdWUgPyAxIDogMCk7XG4gICAgfVxuICAgIHNpbnQ2NCh0YWcsIHZhbHVlKSB7XG4gICAgICAgIHRoaXMuI3RhZyh0YWcsIFZBUklOVCk7XG4gICAgICAgIHRoaXMuI3ZhcmludEJpZygodmFsdWUgPDwgMW4pIF4gKHZhbHVlID4+IDYzbikpO1xuICAgIH1cbiAgICBkb3VibGUodGFnLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLiN0YWcodGFnLCBGSVhFRF82NCk7XG4gICAgICAgIHRoaXMuI2Vuc3VyZSg4KTtcbiAgICAgICAgdGhpcy4jdmlldy5zZXRGbG9hdDY0KHRoaXMuI3BvcywgdmFsdWUsIHRydWUpO1xuICAgICAgICB0aGlzLiNwb3MgKz0gODtcbiAgICB9XG4gICAgZGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KHRoaXMuI2J1ZiwgMCwgdGhpcy4jcG9zKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gd3JpdGVQcm90b2J1Zk1lc3NhZ2UodmFsdWUsIGZ1bikge1xuICAgIGNvbnN0IHcgPSBuZXcgTWVzc2FnZVdyaXRlcigpO1xuICAgIGZ1bih3LCB2YWx1ZSk7XG4gICAgcmV0dXJuIHcuZGF0YSgpO1xufVxuIiwgImltcG9ydCB7IEludGVybmFsRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbi8vIEFuIGFsbG9jYXRvciBvZiBub24tbmVnYXRpdmUgaW50ZWdlciBpZHMuXG4vL1xuLy8gVGhpcyBjbGV2ZXIgZGF0YSBzdHJ1Y3R1cmUgaGFzIHRoZXNlIFwiaWRlYWxcIiBwcm9wZXJ0aWVzOlxuLy8gLSBJdCBjb25zdW1lcyBtZW1vcnkgcHJvcG9ydGlvbmFsIHRvIHRoZSBudW1iZXIgb2YgdXNlZCBpZHMgKHdoaWNoIGlzIG9wdGltYWwpLlxuLy8gLSBBbGwgb3BlcmF0aW9ucyBhcmUgTygxKSB0aW1lLlxuLy8gLSBUaGUgYWxsb2NhdGVkIGlkcyBhcmUgc21hbGwgKHdpdGggYSBzbGlnaHQgbW9kaWZpY2F0aW9uLCB3ZSBjb3VsZCBhbHdheXMgcHJvdmlkZSB0aGUgc21hbGxlc3QgcG9zc2libGVcbi8vIGlkKS5cbmV4cG9ydCBjbGFzcyBJZEFsbG9jIHtcbiAgICAvLyBTZXQgb2YgYWxsIGFsbG9jYXRlZCBpZHNcbiAgICAjdXNlZElkcztcbiAgICAvLyBTZXQgb2YgYWxsIGZyZWUgaWRzIGxvd2VyIHRoYW4gYCN1c2VkSWRzLnNpemVgXG4gICAgI2ZyZWVJZHM7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuI3VzZWRJZHMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuI2ZyZWVJZHMgPSBuZXcgU2V0KCk7XG4gICAgfVxuICAgIC8vIFJldHVybnMgYW4gaWQgdGhhdCB3YXMgZnJlZSwgYW5kIG1hcmtzIGl0IGFzIHVzZWQuXG4gICAgYWxsb2MoKSB7XG4gICAgICAgIC8vIHRoaXMgXCJsb29wXCIgaXMganVzdCBhIHdheSB0byBwaWNrIGFuIGFyYml0cmFyeSBlbGVtZW50IGZyb20gdGhlIGAjZnJlZUlkc2Agc2V0XG4gICAgICAgIGZvciAoY29uc3QgZnJlZUlkIG9mIHRoaXMuI2ZyZWVJZHMpIHtcbiAgICAgICAgICAgIHRoaXMuI2ZyZWVJZHMuZGVsZXRlKGZyZWVJZCk7XG4gICAgICAgICAgICB0aGlzLiN1c2VkSWRzLmFkZChmcmVlSWQpO1xuICAgICAgICAgICAgLy8gbWFpbnRhaW4gdGhlIGludmFyaWFudCBvZiBgI2ZyZWVJZHNgXG4gICAgICAgICAgICBpZiAoIXRoaXMuI3VzZWRJZHMuaGFzKHRoaXMuI3VzZWRJZHMuc2l6ZSAtIDEpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jZnJlZUlkcy5hZGQodGhpcy4jdXNlZElkcy5zaXplIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZnJlZUlkO1xuICAgICAgICB9XG4gICAgICAgIC8vIHRoZSBgI2ZyZWVJZHNgIHNldCBpcyBlbXB0eSwgc28gdGhlcmUgYXJlIG5vIGZyZWUgaWRzIGxvd2VyIHRoYW4gYCN1c2VkSWRzLnNpemVgXG4gICAgICAgIC8vIHRoaXMgbWVhbnMgdGhhdCBgI3VzZWRJZHNgIGlzIGEgc2V0IHRoYXQgY29udGFpbnMgYWxsIG51bWJlcnMgZnJvbSAwIHRvIGAjdXNlZElkcy5zaXplIC0gMWAsXG4gICAgICAgIC8vIHNvIGAjdXNlZElkcy5zaXplYCBpcyBmcmVlXG4gICAgICAgIGNvbnN0IGZyZWVJZCA9IHRoaXMuI3VzZWRJZHMuc2l6ZTtcbiAgICAgICAgdGhpcy4jdXNlZElkcy5hZGQoZnJlZUlkKTtcbiAgICAgICAgcmV0dXJuIGZyZWVJZDtcbiAgICB9XG4gICAgZnJlZShpZCkge1xuICAgICAgICBpZiAoIXRoaXMuI3VzZWRJZHMuZGVsZXRlKGlkKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludGVybmFsRXJyb3IoXCJGcmVlaW5nIGFuIGlkIHRoYXQgaXMgbm90IGFsbG9jYXRlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBtYWludGFpbiB0aGUgaW52YXJpYW50IG9mIGAjZnJlZUlkc2BcbiAgICAgICAgdGhpcy4jZnJlZUlkcy5kZWxldGUodGhpcy4jdXNlZElkcy5zaXplKTtcbiAgICAgICAgaWYgKGlkIDwgdGhpcy4jdXNlZElkcy5zaXplKSB7XG4gICAgICAgICAgICB0aGlzLiNmcmVlSWRzLmFkZChpZCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgSW50ZXJuYWxFcnJvciB9IGZyb20gXCIuL2Vycm9ycy5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGltcG9zc2libGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICB0aHJvdyBuZXcgSW50ZXJuYWxFcnJvcihtZXNzYWdlKTtcbn1cbiIsICJpbXBvcnQgeyBQcm90b0Vycm9yLCBNaXN1c2VFcnJvciB9IGZyb20gXCIuL2Vycm9ycy5qc1wiO1xuaW1wb3J0IHsgaW1wb3NzaWJsZSB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiB2YWx1ZVRvUHJvdG8odmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZSh2YWx1ZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiT25seSBmaW5pdGUgbnVtYmVycyAobm90IEluZmluaXR5IG9yIE5hTikgY2FuIGJlIHBhc3NlZCBhcyBhcmd1bWVudHNcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYmlnaW50XCIpIHtcbiAgICAgICAgaWYgKHZhbHVlIDwgbWluSW50ZWdlciB8fCB2YWx1ZSA+IG1heEludGVnZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiVGhpcyBiaWdpbnQgdmFsdWUgaXMgdG9vIGxhcmdlIHRvIGJlIHJlcHJlc2VudGVkIGFzIGEgNjQtYml0IGludGVnZXIgYW5kIHBhc3NlZCBhcyBhcmd1bWVudFwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID8gMW4gOiAwbjtcbiAgICB9XG4gICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICByZXR1cm4gbmV3IFVpbnQ4QXJyYXkodmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgcmV0dXJuICt2YWx1ZS52YWx1ZU9mKCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICByZXR1cm4gXCJcIiArIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5zdXBwb3J0ZWQgdHlwZSBvZiB2YWx1ZVwiKTtcbiAgICB9XG59XG5jb25zdCBtaW5JbnRlZ2VyID0gLTkyMjMzNzIwMzY4NTQ3NzU4MDhuO1xuY29uc3QgbWF4SW50ZWdlciA9IDkyMjMzNzIwMzY4NTQ3NzU4MDduO1xuZXhwb3J0IGZ1bmN0aW9uIHZhbHVlRnJvbVByb3RvKHZhbHVlLCBpbnRNb2RlKSB7XG4gICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYmlnaW50XCIpIHtcbiAgICAgICAgaWYgKGludE1vZGUgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IG51bSA9IE51bWJlcih2YWx1ZSk7XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc1NhZmVJbnRlZ2VyKG51bSkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlJlY2VpdmVkIGludGVnZXIgd2hpY2ggaXMgdG9vIGxhcmdlIHRvIGJlIHNhZmVseSByZXByZXNlbnRlZCBhcyBhIEphdmFTY3JpcHQgbnVtYmVyXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpbnRNb2RlID09PSBcImJpZ2ludFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW50TW9kZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgcmV0dXJuIFwiXCIgKyB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXN1c2VFcnJvcihcIkludmFsaWQgdmFsdWUgZm9yIEludE1vZGVcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgIC8vIFRPRE86IHdlIG5lZWQgdG8gY29weSBkYXRhIGZyb20gYFVpbnQ4QXJyYXlgIHRvIHJldHVybiBhbiBgQXJyYXlCdWZmZXJgLiBQZXJoYXBzIHdlIHNob3VsZCBhZGQgYVxuICAgICAgICAvLyBgYmxvYk1vZGVgIHBhcmFtZXRlciwgc2ltaWxhciB0byBgaW50TW9kZWAsIHdoaWNoIHdvdWxkIGFsbG93IHRoZSB1c2VyIHRvIGNob29zZSBiZXR3ZWVuIHJlY2VpdmluZ1xuICAgICAgICAvLyBgQXJyYXlCdWZmZXJgIChkZWZhdWx0LCBjb252ZW5pZW50KSBhbmQgYFVpbnQ4QXJyYXlgICh6ZXJvIGNvcHkpP1xuICAgICAgICByZXR1cm4gdmFsdWUuc2xpY2UoKS5idWZmZXI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IFByb3RvRXJyb3IoXCJSZWNlaXZlZCB1bnJlY29nbml6ZWQgdHlwZSBvZiBWYWx1ZVwiKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IGltcG9zc2libGUodmFsdWUsIFwiSW1wb3NzaWJsZSB0eXBlIG9mIFZhbHVlXCIpO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBSZXNwb25zZUVycm9yIH0gZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyB2YWx1ZUZyb21Qcm90byB9IGZyb20gXCIuL3ZhbHVlLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gc3RtdFJlc3VsdEZyb21Qcm90byhyZXN1bHQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBhZmZlY3RlZFJvd0NvdW50OiByZXN1bHQuYWZmZWN0ZWRSb3dDb3VudCxcbiAgICAgICAgbGFzdEluc2VydFJvd2lkOiByZXN1bHQubGFzdEluc2VydFJvd2lkLFxuICAgICAgICBjb2x1bW5OYW1lczogcmVzdWx0LmNvbHMubWFwKGNvbCA9PiBjb2wubmFtZSksXG4gICAgICAgIGNvbHVtbkRlY2x0eXBlczogcmVzdWx0LmNvbHMubWFwKGNvbCA9PiBjb2wuZGVjbHR5cGUpLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gcm93c1Jlc3VsdEZyb21Qcm90byhyZXN1bHQsIGludE1vZGUpIHtcbiAgICBjb25zdCBzdG10UmVzdWx0ID0gc3RtdFJlc3VsdEZyb21Qcm90byhyZXN1bHQpO1xuICAgIGNvbnN0IHJvd3MgPSByZXN1bHQucm93cy5tYXAocm93ID0+IHJvd0Zyb21Qcm90byhzdG10UmVzdWx0LmNvbHVtbk5hbWVzLCByb3csIGludE1vZGUpKTtcbiAgICByZXR1cm4geyAuLi5zdG10UmVzdWx0LCByb3dzIH07XG59XG5leHBvcnQgZnVuY3Rpb24gcm93UmVzdWx0RnJvbVByb3RvKHJlc3VsdCwgaW50TW9kZSkge1xuICAgIGNvbnN0IHN0bXRSZXN1bHQgPSBzdG10UmVzdWx0RnJvbVByb3RvKHJlc3VsdCk7XG4gICAgbGV0IHJvdztcbiAgICBpZiAocmVzdWx0LnJvd3MubGVuZ3RoID4gMCkge1xuICAgICAgICByb3cgPSByb3dGcm9tUHJvdG8oc3RtdFJlc3VsdC5jb2x1bW5OYW1lcywgcmVzdWx0LnJvd3NbMF0sIGludE1vZGUpO1xuICAgIH1cbiAgICByZXR1cm4geyAuLi5zdG10UmVzdWx0LCByb3cgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB2YWx1ZVJlc3VsdEZyb21Qcm90byhyZXN1bHQsIGludE1vZGUpIHtcbiAgICBjb25zdCBzdG10UmVzdWx0ID0gc3RtdFJlc3VsdEZyb21Qcm90byhyZXN1bHQpO1xuICAgIGxldCB2YWx1ZTtcbiAgICBpZiAocmVzdWx0LnJvd3MubGVuZ3RoID4gMCAmJiBzdG10UmVzdWx0LmNvbHVtbk5hbWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZUZyb21Qcm90byhyZXN1bHQucm93c1swXVswXSwgaW50TW9kZSk7XG4gICAgfVxuICAgIHJldHVybiB7IC4uLnN0bXRSZXN1bHQsIHZhbHVlIH07XG59XG5mdW5jdGlvbiByb3dGcm9tUHJvdG8oY29sTmFtZXMsIHZhbHVlcywgaW50TW9kZSkge1xuICAgIGNvbnN0IHJvdyA9IHt9O1xuICAgIC8vIG1ha2Ugc3VyZSB0aGF0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IGlzIG5vdCBlbnVtZXJhYmxlXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJvdywgXCJsZW5ndGhcIiwgeyB2YWx1ZTogdmFsdWVzLmxlbmd0aCB9KTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHZhbHVlcy5sZW5ndGg7ICsraSkge1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHZhbHVlRnJvbVByb3RvKHZhbHVlc1tpXSwgaW50TW9kZSk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyb3csIGksIHsgdmFsdWUgfSk7XG4gICAgICAgIGNvbnN0IGNvbE5hbWUgPSBjb2xOYW1lc1tpXTtcbiAgICAgICAgaWYgKGNvbE5hbWUgIT09IHVuZGVmaW5lZCAmJiAhT2JqZWN0Lmhhc093bihyb3csIGNvbE5hbWUpKSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocm93LCBjb2xOYW1lLCB7IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByb3c7XG59XG5leHBvcnQgZnVuY3Rpb24gZXJyb3JGcm9tUHJvdG8oZXJyb3IpIHtcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlRXJyb3IoZXJyb3IubWVzc2FnZSwgZXJyb3IpO1xufVxuIiwgImltcG9ydCB7IENsaWVudEVycm9yLCBDbG9zZWRFcnJvciwgTWlzdXNlRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbi8qKiBUZXh0IG9mIGFuIFNRTCBzdGF0ZW1lbnQgY2FjaGVkIG9uIHRoZSBzZXJ2ZXIuICovXG5leHBvcnQgY2xhc3MgU3FsIHtcbiAgICAjb3duZXI7XG4gICAgI3NxbElkO1xuICAgICNjbG9zZWQ7XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgY29uc3RydWN0b3Iob3duZXIsIHNxbElkKSB7XG4gICAgICAgIHRoaXMuI293bmVyID0gb3duZXI7XG4gICAgICAgIHRoaXMuI3NxbElkID0gc3FsSWQ7XG4gICAgICAgIHRoaXMuI2Nsb3NlZCA9IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgX2dldFNxbElkKG93bmVyKSB7XG4gICAgICAgIGlmICh0aGlzLiNvd25lciAhPT0gb3duZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXN1c2VFcnJvcihcIkF0dGVtcHRlZCB0byB1c2UgU1FMIHRleHQgb3BlbmVkIHdpdGggb3RoZXIgb2JqZWN0XCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuI2Nsb3NlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQ2xvc2VkRXJyb3IoXCJTUUwgdGV4dCBpcyBjbG9zZWRcIiwgdGhpcy4jY2xvc2VkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy4jc3FsSWQ7XG4gICAgfVxuICAgIC8qKiBSZW1vdmUgdGhlIFNRTCB0ZXh0IGZyb20gdGhlIHNlcnZlciwgcmVsZWFzaW5nIHJlc291Y2VzLiAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLl9zZXRDbG9zZWQobmV3IENsaWVudEVycm9yKFwiU1FMIHRleHQgd2FzIG1hbnVhbGx5IGNsb3NlZFwiKSk7XG4gICAgfVxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIF9zZXRDbG9zZWQoZXJyb3IpIHtcbiAgICAgICAgaWYgKHRoaXMuI2Nsb3NlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLiNjbG9zZWQgPSBlcnJvcjtcbiAgICAgICAgICAgIHRoaXMuI293bmVyLl9jbG9zZVNxbCh0aGlzLiNzcWxJZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIFRydWUgaWYgdGhlIFNRTCB0ZXh0IGlzIGNsb3NlZCAocmVtb3ZlZCBmcm9tIHRoZSBzZXJ2ZXIpLiAqL1xuICAgIGdldCBjbG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNjbG9zZWQgIT09IHVuZGVmaW5lZDtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gc3FsVG9Qcm90byhvd25lciwgc3FsKSB7XG4gICAgaWYgKHNxbCBpbnN0YW5jZW9mIFNxbCkge1xuICAgICAgICByZXR1cm4geyBzcWxJZDogc3FsLl9nZXRTcWxJZChvd25lcikgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7IHNxbDogXCJcIiArIHNxbCB9O1xuICAgIH1cbn1cbiIsICJleHBvcnQgY2xhc3MgUXVldWUge1xuICAgICNwdXNoU3RhY2s7XG4gICAgI3NoaWZ0U3RhY2s7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuI3B1c2hTdGFjayA9IFtdO1xuICAgICAgICB0aGlzLiNzaGlmdFN0YWNrID0gW107XG4gICAgfVxuICAgIGdldCBsZW5ndGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNwdXNoU3RhY2subGVuZ3RoICsgdGhpcy4jc2hpZnRTdGFjay5sZW5ndGg7XG4gICAgfVxuICAgIHB1c2goZWxlbSkge1xuICAgICAgICB0aGlzLiNwdXNoU3RhY2sucHVzaChlbGVtKTtcbiAgICB9XG4gICAgc2hpZnQoKSB7XG4gICAgICAgIGlmICh0aGlzLiNzaGlmdFN0YWNrLmxlbmd0aCA9PT0gMCAmJiB0aGlzLiNwdXNoU3RhY2subGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy4jc2hpZnRTdGFjayA9IHRoaXMuI3B1c2hTdGFjay5yZXZlcnNlKCk7XG4gICAgICAgICAgICB0aGlzLiNwdXNoU3RhY2sgPSBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy4jc2hpZnRTdGFjay5wb3AoKTtcbiAgICB9XG4gICAgZmlyc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNzaGlmdFN0YWNrLmxlbmd0aCAhPT0gMFxuICAgICAgICAgICAgPyB0aGlzLiNzaGlmdFN0YWNrW3RoaXMuI3NoaWZ0U3RhY2subGVuZ3RoIC0gMV1cbiAgICAgICAgICAgIDogdGhpcy4jcHVzaFN0YWNrWzBdO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBzcWxUb1Byb3RvIH0gZnJvbSBcIi4vc3FsLmpzXCI7XG5pbXBvcnQgeyB2YWx1ZVRvUHJvdG8gfSBmcm9tIFwiLi92YWx1ZS5qc1wiO1xuLyoqIEEgc3RhdGVtZW50IHRoYXQgY2FuIGJlIGV2YWx1YXRlZCBieSB0aGUgZGF0YWJhc2UuIEJlc2lkZXMgdGhlIFNRTCB0ZXh0LCBpdCBhbHNvIGNvbnRhaW5zIHRoZSBwb3NpdGlvbmFsXG4gKiBhbmQgbmFtZWQgYXJndW1lbnRzLiAqL1xuZXhwb3J0IGNsYXNzIFN0bXQge1xuICAgIC8qKiBUaGUgU1FMIHN0YXRlbWVudCB0ZXh0LiAqL1xuICAgIHNxbDtcbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBfYXJncztcbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBfbmFtZWRBcmdzO1xuICAgIC8qKiBJbml0aWFsaXplIHRoZSBzdGF0ZW1lbnQgd2l0aCBnaXZlbiBTUUwgdGV4dC4gKi9cbiAgICBjb25zdHJ1Y3RvcihzcWwpIHtcbiAgICAgICAgdGhpcy5zcWwgPSBzcWw7XG4gICAgICAgIHRoaXMuX2FyZ3MgPSBbXTtcbiAgICAgICAgdGhpcy5fbmFtZWRBcmdzID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICAvKiogQmluZHMgcG9zaXRpb25hbCBwYXJhbWV0ZXJzIGZyb20gdGhlIGdpdmVuIGB2YWx1ZXNgLiBBbGwgcHJldmlvdXMgcG9zaXRpb25hbCBiaW5kaW5ncyBhcmUgY2xlYXJlZC4gKi9cbiAgICBiaW5kSW5kZXhlcyh2YWx1ZXMpIHtcbiAgICAgICAgdGhpcy5fYXJncy5sZW5ndGggPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHZhbHVlcykge1xuICAgICAgICAgICAgdGhpcy5fYXJncy5wdXNoKHZhbHVlVG9Qcm90byh2YWx1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogQmluZHMgYSBwYXJhbWV0ZXIgYnkgYSAxLWJhc2VkIGluZGV4LiAqL1xuICAgIGJpbmRJbmRleChpbmRleCwgdmFsdWUpIHtcbiAgICAgICAgaWYgKGluZGV4ICE9PSAoaW5kZXggfCAwKSB8fCBpbmRleCA8PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG9mIGEgcG9zaXRpb25hbCBhcmd1bWVudCBtdXN0IGJlIHBvc2l0aXZlIGludGVnZXJcIik7XG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHRoaXMuX2FyZ3MubGVuZ3RoIDwgaW5kZXgpIHtcbiAgICAgICAgICAgIHRoaXMuX2FyZ3MucHVzaChudWxsKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9hcmdzW2luZGV4IC0gMV0gPSB2YWx1ZVRvUHJvdG8odmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEJpbmRzIGEgcGFyYW1ldGVyIGJ5IG5hbWUuICovXG4gICAgYmluZE5hbWUobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fbmFtZWRBcmdzLnNldChuYW1lLCB2YWx1ZVRvUHJvdG8odmFsdWUpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBDbGVhcnMgYWxsIGJpbmRpbmdzLiAqL1xuICAgIHVuYmluZEFsbCgpIHtcbiAgICAgICAgdGhpcy5fYXJncy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9uYW1lZEFyZ3MuY2xlYXIoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHN0bXRUb1Byb3RvKHNxbE93bmVyLCBzdG10LCB3YW50Um93cykge1xuICAgIGxldCBpblNxbDtcbiAgICBsZXQgYXJncyA9IFtdO1xuICAgIGxldCBuYW1lZEFyZ3MgPSBbXTtcbiAgICBpZiAoc3RtdCBpbnN0YW5jZW9mIFN0bXQpIHtcbiAgICAgICAgaW5TcWwgPSBzdG10LnNxbDtcbiAgICAgICAgYXJncyA9IHN0bXQuX2FyZ3M7XG4gICAgICAgIGZvciAoY29uc3QgW25hbWUsIHZhbHVlXSBvZiBzdG10Ll9uYW1lZEFyZ3MuZW50cmllcygpKSB7XG4gICAgICAgICAgICBuYW1lZEFyZ3MucHVzaCh7IG5hbWUsIHZhbHVlIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkoc3RtdCkpIHtcbiAgICAgICAgaW5TcWwgPSBzdG10WzBdO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShzdG10WzFdKSkge1xuICAgICAgICAgICAgYXJncyA9IHN0bXRbMV0ubWFwKChhcmcpID0+IHZhbHVlVG9Qcm90byhhcmcpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5hbWVkQXJncyA9IE9iamVjdC5lbnRyaWVzKHN0bXRbMV0pLm1hcCgoW25hbWUsIHZhbHVlXSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IG5hbWUsIHZhbHVlOiB2YWx1ZVRvUHJvdG8odmFsdWUpIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaW5TcWwgPSBzdG10O1xuICAgIH1cbiAgICBjb25zdCB7IHNxbCwgc3FsSWQgfSA9IHNxbFRvUHJvdG8oc3FsT3duZXIsIGluU3FsKTtcbiAgICByZXR1cm4geyBzcWwsIHNxbElkLCBhcmdzLCBuYW1lZEFyZ3MsIHdhbnRSb3dzIH07XG59XG4iLCAiaW1wb3J0IHsgUHJvdG9FcnJvciwgTWlzdXNlRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IHN0bXRSZXN1bHRGcm9tUHJvdG8sIHJvd3NSZXN1bHRGcm9tUHJvdG8sIHJvd1Jlc3VsdEZyb21Qcm90bywgdmFsdWVSZXN1bHRGcm9tUHJvdG8sIGVycm9yRnJvbVByb3RvLCB9IGZyb20gXCIuL3Jlc3VsdC5qc1wiO1xuaW1wb3J0IHsgc3RtdFRvUHJvdG8gfSBmcm9tIFwiLi9zdG10LmpzXCI7XG5pbXBvcnQgeyBpbXBvc3NpYmxlIH0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuLyoqIEEgYnVpbGRlciBmb3IgY3JlYXRpbmcgYSBiYXRjaCBhbmQgZXhlY3V0aW5nIGl0IG9uIHRoZSBzZXJ2ZXIuICovXG5leHBvcnQgY2xhc3MgQmF0Y2gge1xuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIF9zdHJlYW07XG4gICAgI3VzZUN1cnNvcjtcbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBfc3RlcHM7XG4gICAgI2V4ZWN1dGVkO1xuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIGNvbnN0cnVjdG9yKHN0cmVhbSwgdXNlQ3Vyc29yKSB7XG4gICAgICAgIHRoaXMuX3N0cmVhbSA9IHN0cmVhbTtcbiAgICAgICAgdGhpcy4jdXNlQ3Vyc29yID0gdXNlQ3Vyc29yO1xuICAgICAgICB0aGlzLl9zdGVwcyA9IFtdO1xuICAgICAgICB0aGlzLiNleGVjdXRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICAvKiogUmV0dXJuIGEgYnVpbGRlciBmb3IgYWRkaW5nIGEgc3RlcCB0byB0aGUgYmF0Y2guICovXG4gICAgc3RlcCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCYXRjaFN0ZXAodGhpcyk7XG4gICAgfVxuICAgIC8qKiBFeGVjdXRlIHRoZSBiYXRjaC4gKi9cbiAgICBleGVjdXRlKCkge1xuICAgICAgICBpZiAodGhpcy4jZXhlY3V0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXN1c2VFcnJvcihcIlRoaXMgYmF0Y2ggaGFzIGFscmVhZHkgYmVlbiBleGVjdXRlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNleGVjdXRlZCA9IHRydWU7XG4gICAgICAgIGNvbnN0IGJhdGNoID0ge1xuICAgICAgICAgICAgc3RlcHM6IHRoaXMuX3N0ZXBzLm1hcCgoc3RlcCkgPT4gc3RlcC5wcm90byksXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLiN1c2VDdXJzb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBleGVjdXRlQ3Vyc29yKHRoaXMuX3N0cmVhbSwgdGhpcy5fc3RlcHMsIGJhdGNoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBleGVjdXRlUmVndWxhcih0aGlzLl9zdHJlYW0sIHRoaXMuX3N0ZXBzLCBiYXRjaCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBleGVjdXRlUmVndWxhcihzdHJlYW0sIHN0ZXBzLCBiYXRjaCkge1xuICAgIHJldHVybiBzdHJlYW0uX2JhdGNoKGJhdGNoKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgZm9yIChsZXQgc3RlcCA9IDA7IHN0ZXAgPCBzdGVwcy5sZW5ndGg7ICsrc3RlcCkge1xuICAgICAgICAgICAgY29uc3Qgc3RlcFJlc3VsdCA9IHJlc3VsdC5zdGVwUmVzdWx0cy5nZXQoc3RlcCk7XG4gICAgICAgICAgICBjb25zdCBzdGVwRXJyb3IgPSByZXN1bHQuc3RlcEVycm9ycy5nZXQoc3RlcCk7XG4gICAgICAgICAgICBzdGVwc1tzdGVwXS5jYWxsYmFjayhzdGVwUmVzdWx0LCBzdGVwRXJyb3IpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5hc3luYyBmdW5jdGlvbiBleGVjdXRlQ3Vyc29yKHN0cmVhbSwgc3RlcHMsIGJhdGNoKSB7XG4gICAgY29uc3QgY3Vyc29yID0gYXdhaXQgc3RyZWFtLl9vcGVuQ3Vyc29yKGJhdGNoKTtcbiAgICB0cnkge1xuICAgICAgICBsZXQgbmV4dFN0ZXAgPSAwO1xuICAgICAgICBsZXQgYmVnaW5FbnRyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IHJvd3MgPSBbXTtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgY29uc3QgZW50cnkgPSBhd2FpdCBjdXJzb3IubmV4dCgpO1xuICAgICAgICAgICAgaWYgKGVudHJ5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbnRyeS50eXBlID09PSBcInN0ZXBfYmVnaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChlbnRyeS5zdGVwIDwgbmV4dFN0ZXAgfHwgZW50cnkuc3RlcCA+PSBzdGVwcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFByb3RvRXJyb3IoXCJTZXJ2ZXIgcHJvZHVjZWQgU3RlcEJlZ2luRW50cnkgZm9yIHVuZXhwZWN0ZWQgc3RlcFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYmVnaW5FbnRyeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBQcm90b0Vycm9yKFwiU2VydmVyIHByb2R1Y2VkIFN0ZXBCZWdpbkVudHJ5IGJlZm9yZSB0ZXJtaW5hdGluZyBwcmV2aW91cyBzdGVwXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBzdGVwID0gbmV4dFN0ZXA7IHN0ZXAgPCBlbnRyeS5zdGVwOyArK3N0ZXApIHtcbiAgICAgICAgICAgICAgICAgICAgc3RlcHNbc3RlcF0uY2FsbGJhY2sodW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXh0U3RlcCA9IGVudHJ5LnN0ZXAgKyAxO1xuICAgICAgICAgICAgICAgIGJlZ2luRW50cnkgPSBlbnRyeTtcbiAgICAgICAgICAgICAgICByb3dzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbnRyeS50eXBlID09PSBcInN0ZXBfZW5kXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoYmVnaW5FbnRyeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBQcm90b0Vycm9yKFwiU2VydmVyIHByb2R1Y2VkIFN0ZXBFbmRFbnRyeSBidXQgbm8gc3RlcCBpcyBhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHN0bXRSZXN1bHQgPSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbHM6IGJlZ2luRW50cnkuY29scyxcbiAgICAgICAgICAgICAgICAgICAgcm93cyxcbiAgICAgICAgICAgICAgICAgICAgYWZmZWN0ZWRSb3dDb3VudDogZW50cnkuYWZmZWN0ZWRSb3dDb3VudCxcbiAgICAgICAgICAgICAgICAgICAgbGFzdEluc2VydFJvd2lkOiBlbnRyeS5sYXN0SW5zZXJ0Um93aWQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBzdGVwc1tiZWdpbkVudHJ5LnN0ZXBdLmNhbGxiYWNrKHN0bXRSZXN1bHQsIHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgYmVnaW5FbnRyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICByb3dzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbnRyeS50eXBlID09PSBcInN0ZXBfZXJyb3JcIikge1xuICAgICAgICAgICAgICAgIGlmIChiZWdpbkVudHJ5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVudHJ5LnN0ZXAgPj0gc3RlcHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUHJvdG9FcnJvcihcIlNlcnZlciBwcm9kdWNlZCBTdGVwRXJyb3JFbnRyeSBmb3IgdW5leHBlY3RlZCBzdGVwXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IHN0ZXAgPSBuZXh0U3RlcDsgc3RlcCA8IGVudHJ5LnN0ZXA7ICsrc3RlcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RlcHNbc3RlcF0uY2FsbGJhY2sodW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkuc3RlcCAhPT0gYmVnaW5FbnRyeS5zdGVwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUHJvdG9FcnJvcihcIlNlcnZlciBwcm9kdWNlZCBTdGVwRXJyb3JFbnRyeSBmb3IgdW5leHBlY3RlZCBzdGVwXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJlZ2luRW50cnkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIHJvd3MgPSBbXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RlcHNbZW50cnkuc3RlcF0uY2FsbGJhY2sodW5kZWZpbmVkLCBlbnRyeS5lcnJvcik7XG4gICAgICAgICAgICAgICAgbmV4dFN0ZXAgPSBlbnRyeS5zdGVwICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVudHJ5LnR5cGUgPT09IFwicm93XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoYmVnaW5FbnRyeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBQcm90b0Vycm9yKFwiU2VydmVyIHByb2R1Y2VkIFJvd0VudHJ5IGJ1dCBubyBzdGVwIGlzIGFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcm93cy5wdXNoKGVudHJ5LnJvdyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbnRyeS50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvckZyb21Qcm90byhlbnRyeS5lcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbnRyeS50eXBlID09PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBQcm90b0Vycm9yKFwiU2VydmVyIHByb2R1Y2VkIHVucmVjb2duaXplZCBDdXJzb3JFbnRyeVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGltcG9zc2libGUoZW50cnksIFwiSW1wb3NzaWJsZSBDdXJzb3JFbnRyeVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoYmVnaW5FbnRyeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUHJvdG9FcnJvcihcIlNlcnZlciBjbG9zZWQgQ3Vyc29yIGJlZm9yZSB0ZXJtaW5hdGluZyBhY3RpdmUgc3RlcFwiKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBzdGVwID0gbmV4dFN0ZXA7IHN0ZXAgPCBzdGVwcy5sZW5ndGg7ICsrc3RlcCkge1xuICAgICAgICAgICAgc3RlcHNbc3RlcF0uY2FsbGJhY2sodW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICBjdXJzb3IuY2xvc2UoKTtcbiAgICB9XG59XG4vKiogQSBidWlsZGVyIGZvciBhZGRpbmcgYSBzdGVwIHRvIHRoZSBiYXRjaC4gKi9cbmV4cG9ydCBjbGFzcyBCYXRjaFN0ZXAge1xuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIF9iYXRjaDtcbiAgICAjY29uZHM7XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgX2luZGV4O1xuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIGNvbnN0cnVjdG9yKGJhdGNoKSB7XG4gICAgICAgIHRoaXMuX2JhdGNoID0gYmF0Y2g7XG4gICAgICAgIHRoaXMuI2NvbmRzID0gW107XG4gICAgICAgIHRoaXMuX2luZGV4ID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKiogQWRkIHRoZSBjb25kaXRpb24gdGhhdCBuZWVkcyB0byBiZSBzYXRpc2ZpZWQgdG8gZXhlY3V0ZSB0aGUgc3RhdGVtZW50LiBJZiB5b3UgdXNlIHRoaXMgbWV0aG9kIG11bHRpcGxlXG4gICAgICogdGltZXMsIHdlIGpvaW4gdGhlIGNvbmRpdGlvbnMgd2l0aCBhIGxvZ2ljYWwgQU5ELiAqL1xuICAgIGNvbmRpdGlvbihjb25kKSB7XG4gICAgICAgIHRoaXMuI2NvbmRzLnB1c2goY29uZC5fcHJvdG8pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEFkZCBhIHN0YXRlbWVudCB0aGF0IHJldHVybnMgcm93cy4gKi9cbiAgICBxdWVyeShzdG10KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNhZGQoc3RtdCwgdHJ1ZSwgcm93c1Jlc3VsdEZyb21Qcm90byk7XG4gICAgfVxuICAgIC8qKiBBZGQgYSBzdGF0ZW1lbnQgdGhhdCByZXR1cm5zIGF0IG1vc3QgYSBzaW5nbGUgcm93LiAqL1xuICAgIHF1ZXJ5Um93KHN0bXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2FkZChzdG10LCB0cnVlLCByb3dSZXN1bHRGcm9tUHJvdG8pO1xuICAgIH1cbiAgICAvKiogQWRkIGEgc3RhdGVtZW50IHRoYXQgcmV0dXJucyBhdCBtb3N0IGEgc2luZ2xlIHZhbHVlLiAqL1xuICAgIHF1ZXJ5VmFsdWUoc3RtdCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jYWRkKHN0bXQsIHRydWUsIHZhbHVlUmVzdWx0RnJvbVByb3RvKTtcbiAgICB9XG4gICAgLyoqIEFkZCBhIHN0YXRlbWVudCB3aXRob3V0IHJldHVybmluZyByb3dzLiAqL1xuICAgIHJ1bihzdG10KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNhZGQoc3RtdCwgZmFsc2UsIHN0bXRSZXN1bHRGcm9tUHJvdG8pO1xuICAgIH1cbiAgICAjYWRkKGluU3RtdCwgd2FudFJvd3MsIGZyb21Qcm90bykge1xuICAgICAgICBpZiAodGhpcy5faW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3VzZUVycm9yKFwiVGhpcyBCYXRjaFN0ZXAgaGFzIGFscmVhZHkgYmVlbiBhZGRlZCB0byB0aGUgYmF0Y2hcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RtdCA9IHN0bXRUb1Byb3RvKHRoaXMuX2JhdGNoLl9zdHJlYW0uX3NxbE93bmVyKCksIGluU3RtdCwgd2FudFJvd3MpO1xuICAgICAgICBsZXQgY29uZGl0aW9uO1xuICAgICAgICBpZiAodGhpcy4jY29uZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBjb25kaXRpb24gPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy4jY29uZHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICBjb25kaXRpb24gPSB0aGlzLiNjb25kc1swXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbmRpdGlvbiA9IHsgdHlwZTogXCJhbmRcIiwgY29uZHM6IHRoaXMuI2NvbmRzLnNsaWNlKCkgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm90byA9IHsgc3RtdCwgY29uZGl0aW9uIH07XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgob3V0cHV0Q2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gKHN0ZXBSZXN1bHQsIHN0ZXBFcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChzdGVwUmVzdWx0ICE9PSB1bmRlZmluZWQgJiYgc3RlcEVycm9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayhuZXcgUHJvdG9FcnJvcihcIlNlcnZlciByZXR1cm5lZCBib3RoIHJlc3VsdCBhbmQgZXJyb3JcIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGVwRXJyb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKGVycm9yRnJvbVByb3RvKHN0ZXBFcnJvcikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdGVwUmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0Q2FsbGJhY2soZnJvbVByb3RvKHN0ZXBSZXN1bHQsIHRoaXMuX2JhdGNoLl9zdHJlYW0uaW50TW9kZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0Q2FsbGJhY2sodW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5faW5kZXggPSB0aGlzLl9iYXRjaC5fc3RlcHMubGVuZ3RoO1xuICAgICAgICAgICAgdGhpcy5fYmF0Y2guX3N0ZXBzLnB1c2goeyBwcm90bywgY2FsbGJhY2sgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBCYXRjaENvbmQge1xuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIF9iYXRjaDtcbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBfcHJvdG87XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgY29uc3RydWN0b3IoYmF0Y2gsIHByb3RvKSB7XG4gICAgICAgIHRoaXMuX2JhdGNoID0gYmF0Y2g7XG4gICAgICAgIHRoaXMuX3Byb3RvID0gcHJvdG87XG4gICAgfVxuICAgIC8qKiBDcmVhdGUgYSBjb25kaXRpb24gdGhhdCBldmFsdWF0ZXMgdG8gdHJ1ZSB3aGVuIHRoZSBnaXZlbiBzdGVwIGV4ZWN1dGVzIHN1Y2Nlc3NmdWxseS5cbiAgICAgKlxuICAgICAqIElmIHRoZSBnaXZlbiBzdGVwIGZhaWxzIGVycm9yIG9yIGlzIHNraXBwZWQgYmVjYXVzZSBpdHMgY29uZGl0aW9uIGV2YWx1YXRlZCB0byBmYWxzZSwgdGhpc1xuICAgICAqIGNvbmRpdGlvbiBldmFsdWF0ZXMgdG8gZmFsc2UuXG4gICAgICovXG4gICAgc3RhdGljIG9rKHN0ZXApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCYXRjaENvbmQoc3RlcC5fYmF0Y2gsIHsgdHlwZTogXCJva1wiLCBzdGVwOiBzdGVwSW5kZXgoc3RlcCkgfSk7XG4gICAgfVxuICAgIC8qKiBDcmVhdGUgYSBjb25kaXRpb24gdGhhdCBldmFsdWF0ZXMgdG8gdHJ1ZSB3aGVuIHRoZSBnaXZlbiBzdGVwIGZhaWxzLlxuICAgICAqXG4gICAgICogSWYgdGhlIGdpdmVuIHN0ZXAgc3VjY2VlZHMgb3IgaXMgc2tpcHBlZCBiZWNhdXNlIGl0cyBjb25kaXRpb24gZXZhbHVhdGVkIHRvIGZhbHNlLCB0aGlzIGNvbmRpdGlvblxuICAgICAqIGV2YWx1YXRlcyB0byBmYWxzZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZXJyb3Ioc3RlcCkge1xuICAgICAgICByZXR1cm4gbmV3IEJhdGNoQ29uZChzdGVwLl9iYXRjaCwgeyB0eXBlOiBcImVycm9yXCIsIHN0ZXA6IHN0ZXBJbmRleChzdGVwKSB9KTtcbiAgICB9XG4gICAgLyoqIENyZWF0ZSBhIGNvbmRpdGlvbiB0aGF0IGlzIGEgbG9naWNhbCBuZWdhdGlvbiBvZiBhbm90aGVyIGNvbmRpdGlvbi5cbiAgICAgKi9cbiAgICBzdGF0aWMgbm90KGNvbmQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCYXRjaENvbmQoY29uZC5fYmF0Y2gsIHsgdHlwZTogXCJub3RcIiwgY29uZDogY29uZC5fcHJvdG8gfSk7XG4gICAgfVxuICAgIC8qKiBDcmVhdGUgYSBjb25kaXRpb24gdGhhdCBpcyBhIGxvZ2ljYWwgQU5EIG9mIG90aGVyIGNvbmRpdGlvbnMuXG4gICAgICovXG4gICAgc3RhdGljIGFuZChiYXRjaCwgY29uZHMpIHtcbiAgICAgICAgZm9yIChjb25zdCBjb25kIG9mIGNvbmRzKSB7XG4gICAgICAgICAgICBjaGVja0NvbmRCYXRjaChiYXRjaCwgY29uZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBCYXRjaENvbmQoYmF0Y2gsIHsgdHlwZTogXCJhbmRcIiwgY29uZHM6IGNvbmRzLm1hcChlID0+IGUuX3Byb3RvKSB9KTtcbiAgICB9XG4gICAgLyoqIENyZWF0ZSBhIGNvbmRpdGlvbiB0aGF0IGlzIGEgbG9naWNhbCBPUiBvZiBvdGhlciBjb25kaXRpb25zLlxuICAgICAqL1xuICAgIHN0YXRpYyBvcihiYXRjaCwgY29uZHMpIHtcbiAgICAgICAgZm9yIChjb25zdCBjb25kIG9mIGNvbmRzKSB7XG4gICAgICAgICAgICBjaGVja0NvbmRCYXRjaChiYXRjaCwgY29uZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBCYXRjaENvbmQoYmF0Y2gsIHsgdHlwZTogXCJvclwiLCBjb25kczogY29uZHMubWFwKGUgPT4gZS5fcHJvdG8pIH0pO1xuICAgIH1cbiAgICAvKiogQ3JlYXRlIGEgY29uZGl0aW9uIHRoYXQgZXZhbHVhdGVzIHRvIHRydWUgd2hlbiB0aGUgU1FMIGNvbm5lY3Rpb24gaXMgaW4gYXV0b2NvbW1pdCBtb2RlIChub3QgaW5zaWRlIGFuXG4gICAgICogZXhwbGljaXQgdHJhbnNhY3Rpb24pLiBUaGlzIHJlcXVpcmVzIHByb3RvY29sIHZlcnNpb24gMyBvciBoaWdoZXIuXG4gICAgICovXG4gICAgc3RhdGljIGlzQXV0b2NvbW1pdChiYXRjaCkge1xuICAgICAgICBiYXRjaC5fc3RyZWFtLmNsaWVudCgpLl9lbnN1cmVWZXJzaW9uKDMsIFwiQmF0Y2hDb25kLmlzQXV0b2NvbW1pdCgpXCIpO1xuICAgICAgICByZXR1cm4gbmV3IEJhdGNoQ29uZChiYXRjaCwgeyB0eXBlOiBcImlzX2F1dG9jb21taXRcIiB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBzdGVwSW5kZXgoc3RlcCkge1xuICAgIGlmIChzdGVwLl9pbmRleCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBNaXN1c2VFcnJvcihcIkNhbm5vdCBhZGQgYSBjb25kaXRpb24gcmVmZXJlbmNpbmcgYSBzdGVwIHRoYXQgaGFzIG5vdCBiZWVuIGFkZGVkIHRvIHRoZSBiYXRjaFwiKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0ZXAuX2luZGV4O1xufVxuZnVuY3Rpb24gY2hlY2tDb25kQmF0Y2goZXhwZWN0ZWRCYXRjaCwgY29uZCkge1xuICAgIGlmIChjb25kLl9iYXRjaCAhPT0gZXhwZWN0ZWRCYXRjaCkge1xuICAgICAgICB0aHJvdyBuZXcgTWlzdXNlRXJyb3IoXCJDYW5ub3QgbWl4IEJhdGNoQ29uZCBvYmplY3RzIGZvciBkaWZmZXJlbnQgQmF0Y2ggb2JqZWN0c1wiKTtcbiAgICB9XG59XG4iLCAiZXhwb3J0IGZ1bmN0aW9uIGRlc2NyaWJlUmVzdWx0RnJvbVByb3RvKHJlc3VsdCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHBhcmFtTmFtZXM6IHJlc3VsdC5wYXJhbXMubWFwKChwKSA9PiBwLm5hbWUpLFxuICAgICAgICBjb2x1bW5zOiByZXN1bHQuY29scyxcbiAgICAgICAgaXNFeHBsYWluOiByZXN1bHQuaXNFeHBsYWluLFxuICAgICAgICBpc1JlYWRvbmx5OiByZXN1bHQuaXNSZWFkb25seSxcbiAgICB9O1xufVxuIiwgImltcG9ydCB7IEJhdGNoIH0gZnJvbSBcIi4vYmF0Y2guanNcIjtcbmltcG9ydCB7IGRlc2NyaWJlUmVzdWx0RnJvbVByb3RvIH0gZnJvbSBcIi4vZGVzY3JpYmUuanNcIjtcbmltcG9ydCB7IHN0bXRSZXN1bHRGcm9tUHJvdG8sIHJvd3NSZXN1bHRGcm9tUHJvdG8sIHJvd1Jlc3VsdEZyb21Qcm90bywgdmFsdWVSZXN1bHRGcm9tUHJvdG8sIH0gZnJvbSBcIi4vcmVzdWx0LmpzXCI7XG5pbXBvcnQgeyBzcWxUb1Byb3RvIH0gZnJvbSBcIi4vc3FsLmpzXCI7XG5pbXBvcnQgeyBzdG10VG9Qcm90byB9IGZyb20gXCIuL3N0bXQuanNcIjtcbi8qKiBBIHN0cmVhbSBmb3IgZXhlY3V0aW5nIFNRTCBzdGF0ZW1lbnRzIChhIFwiZGF0YWJhc2UgY29ubmVjdGlvblwiKS4gKi9cbmV4cG9ydCBjbGFzcyBTdHJlYW0ge1xuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIGNvbnN0cnVjdG9yKGludE1vZGUpIHtcbiAgICAgICAgdGhpcy5pbnRNb2RlID0gaW50TW9kZTtcbiAgICB9XG4gICAgLyoqIEV4ZWN1dGUgYSBzdGF0ZW1lbnQgYW5kIHJldHVybiByb3dzLiAqL1xuICAgIHF1ZXJ5KHN0bXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2V4ZWN1dGUoc3RtdCwgdHJ1ZSwgcm93c1Jlc3VsdEZyb21Qcm90byk7XG4gICAgfVxuICAgIC8qKiBFeGVjdXRlIGEgc3RhdGVtZW50IGFuZCByZXR1cm4gYXQgbW9zdCBhIHNpbmdsZSByb3cuICovXG4gICAgcXVlcnlSb3coc3RtdCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jZXhlY3V0ZShzdG10LCB0cnVlLCByb3dSZXN1bHRGcm9tUHJvdG8pO1xuICAgIH1cbiAgICAvKiogRXhlY3V0ZSBhIHN0YXRlbWVudCBhbmQgcmV0dXJuIGF0IG1vc3QgYSBzaW5nbGUgdmFsdWUuICovXG4gICAgcXVlcnlWYWx1ZShzdG10KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNleGVjdXRlKHN0bXQsIHRydWUsIHZhbHVlUmVzdWx0RnJvbVByb3RvKTtcbiAgICB9XG4gICAgLyoqIEV4ZWN1dGUgYSBzdGF0ZW1lbnQgd2l0aG91dCByZXR1cm5pbmcgcm93cy4gKi9cbiAgICBydW4oc3RtdCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jZXhlY3V0ZShzdG10LCBmYWxzZSwgc3RtdFJlc3VsdEZyb21Qcm90byk7XG4gICAgfVxuICAgICNleGVjdXRlKGluU3RtdCwgd2FudFJvd3MsIGZyb21Qcm90bykge1xuICAgICAgICBjb25zdCBzdG10ID0gc3RtdFRvUHJvdG8odGhpcy5fc3FsT3duZXIoKSwgaW5TdG10LCB3YW50Um93cyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9leGVjdXRlKHN0bXQpLnRoZW4oKHIpID0+IGZyb21Qcm90byhyLCB0aGlzLmludE1vZGUpKTtcbiAgICB9XG4gICAgLyoqIFJldHVybiBhIGJ1aWxkZXIgZm9yIGNyZWF0aW5nIGFuZCBleGVjdXRpbmcgYSBiYXRjaC5cbiAgICAgKlxuICAgICAqIElmIGB1c2VDdXJzb3JgIGlzIHRydWUsIHRoZSBiYXRjaCB3aWxsIGJlIGV4ZWN1dGVkIHVzaW5nIGEgSHJhbmEgY3Vyc29yLCB3aGljaCB3aWxsIHN0cmVhbSByZXN1bHRzIGZyb21cbiAgICAgKiB0aGUgc2VydmVyIHRvIHRoZSBjbGllbnQsIHdoaWNoIGNvbnN1bWVzIGxlc3MgbWVtb3J5IG9uIHRoZSBzZXJ2ZXIuIFRoaXMgcmVxdWlyZXMgcHJvdG9jb2wgdmVyc2lvbiAzIG9yXG4gICAgICogaGlnaGVyLlxuICAgICAqL1xuICAgIGJhdGNoKHVzZUN1cnNvciA9IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQmF0Y2godGhpcywgdXNlQ3Vyc29yKTtcbiAgICB9XG4gICAgLyoqIFBhcnNlIGFuZCBhbmFseXplIGEgc3RhdGVtZW50LiBUaGlzIHJlcXVpcmVzIHByb3RvY29sIHZlcnNpb24gMiBvciBoaWdoZXIuICovXG4gICAgZGVzY3JpYmUoaW5TcWwpIHtcbiAgICAgICAgY29uc3QgcHJvdG9TcWwgPSBzcWxUb1Byb3RvKHRoaXMuX3NxbE93bmVyKCksIGluU3FsKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2Rlc2NyaWJlKHByb3RvU3FsKS50aGVuKGRlc2NyaWJlUmVzdWx0RnJvbVByb3RvKTtcbiAgICB9XG4gICAgLyoqIEV4ZWN1dGUgYSBzZXF1ZW5jZSBvZiBzdGF0ZW1lbnRzIHNlcGFyYXRlZCBieSBzZW1pY29sb25zLiBUaGlzIHJlcXVpcmVzIHByb3RvY29sIHZlcnNpb24gMiBvciBoaWdoZXIuXG4gICAgICogKi9cbiAgICBzZXF1ZW5jZShpblNxbCkge1xuICAgICAgICBjb25zdCBwcm90b1NxbCA9IHNxbFRvUHJvdG8odGhpcy5fc3FsT3duZXIoKSwgaW5TcWwpO1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VxdWVuY2UocHJvdG9TcWwpO1xuICAgIH1cbiAgICAvKiogUmVwcmVzZW50YXRpb24gb2YgaW50ZWdlcnMgcmV0dXJuZWQgZnJvbSB0aGUgZGF0YWJhc2UuIFNlZSB7QGxpbmsgSW50TW9kZX0uXG4gICAgICpcbiAgICAgKiBUaGlzIHZhbHVlIGFmZmVjdHMgdGhlIHJlc3VsdHMgb2YgYWxsIG9wZXJhdGlvbnMgb24gdGhpcyBzdHJlYW0uXG4gICAgICovXG4gICAgaW50TW9kZTtcbn1cbiIsICJleHBvcnQgY2xhc3MgQ3Vyc29yIHtcbn1cbiIsICJpbXBvcnQgeyBDbGllbnRFcnJvciwgQ2xvc2VkRXJyb3IgfSBmcm9tIFwiLi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBDdXJzb3IgfSBmcm9tIFwiLi4vY3Vyc29yLmpzXCI7XG5pbXBvcnQgeyBRdWV1ZSB9IGZyb20gXCIuLi9xdWV1ZS5qc1wiO1xuY29uc3QgZmV0Y2hDaHVua1NpemUgPSAxMDAwO1xuY29uc3QgZmV0Y2hRdWV1ZVNpemUgPSAxMDtcbmV4cG9ydCBjbGFzcyBXc0N1cnNvciBleHRlbmRzIEN1cnNvciB7XG4gICAgI2NsaWVudDtcbiAgICAjc3RyZWFtO1xuICAgICNjdXJzb3JJZDtcbiAgICAjZW50cnlRdWV1ZTtcbiAgICAjZmV0Y2hRdWV1ZTtcbiAgICAjY2xvc2VkO1xuICAgICNkb25lO1xuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIGNvbnN0cnVjdG9yKGNsaWVudCwgc3RyZWFtLCBjdXJzb3JJZCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLiNjbGllbnQgPSBjbGllbnQ7XG4gICAgICAgIHRoaXMuI3N0cmVhbSA9IHN0cmVhbTtcbiAgICAgICAgdGhpcy4jY3Vyc29ySWQgPSBjdXJzb3JJZDtcbiAgICAgICAgdGhpcy4jZW50cnlRdWV1ZSA9IG5ldyBRdWV1ZSgpO1xuICAgICAgICB0aGlzLiNmZXRjaFF1ZXVlID0gbmV3IFF1ZXVlKCk7XG4gICAgICAgIHRoaXMuI2Nsb3NlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy4jZG9uZSA9IGZhbHNlO1xuICAgIH1cbiAgICAvKiogRmV0Y2ggdGhlIG5leHQgZW50cnkgZnJvbSB0aGUgY3Vyc29yLiAqL1xuICAgIGFzeW5jIG5leHQoKSB7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLiNjbG9zZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBDbG9zZWRFcnJvcihcIkN1cnNvciBpcyBjbG9zZWRcIiwgdGhpcy4jY2xvc2VkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlICghdGhpcy4jZG9uZSAmJiB0aGlzLiNmZXRjaFF1ZXVlLmxlbmd0aCA8IGZldGNoUXVldWVTaXplKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jZmV0Y2hRdWV1ZS5wdXNoKHRoaXMuI2ZldGNoKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZW50cnkgPSB0aGlzLiNlbnRyeVF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAodGhpcy4jZG9uZSB8fCBlbnRyeSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gd2UgYXNzdW1lIHRoYXQgYEN1cnNvci5uZXh0KClgIGlzIG5ldmVyIGNhbGxlZCBjb25jdXJyZW50bHlcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuI2ZldGNoUXVldWUuc2hpZnQoKS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiByZXNwb25zZS5lbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI2VudHJ5UXVldWUucHVzaChlbnRyeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuI2RvbmUgfHw9IHJlc3BvbnNlLmRvbmU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAjZmV0Y2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNzdHJlYW0uX3NlbmRDdXJzb3JSZXF1ZXN0KHRoaXMsIHtcbiAgICAgICAgICAgIHR5cGU6IFwiZmV0Y2hfY3Vyc29yXCIsXG4gICAgICAgICAgICBjdXJzb3JJZDogdGhpcy4jY3Vyc29ySWQsXG4gICAgICAgICAgICBtYXhDb3VudDogZmV0Y2hDaHVua1NpemUsXG4gICAgICAgIH0pLnRoZW4oKHJlc3ApID0+IHJlc3AsIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5fc2V0Q2xvc2VkKGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBfc2V0Q2xvc2VkKGVycm9yKSB7XG4gICAgICAgIGlmICh0aGlzLiNjbG9zZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2Nsb3NlZCA9IGVycm9yO1xuICAgICAgICB0aGlzLiNzdHJlYW0uX3NlbmRDdXJzb3JSZXF1ZXN0KHRoaXMsIHtcbiAgICAgICAgICAgIHR5cGU6IFwiY2xvc2VfY3Vyc29yXCIsXG4gICAgICAgICAgICBjdXJzb3JJZDogdGhpcy4jY3Vyc29ySWQsXG4gICAgICAgIH0pLmNhdGNoKCgpID0+IHVuZGVmaW5lZCk7XG4gICAgICAgIHRoaXMuI3N0cmVhbS5fY3Vyc29yQ2xvc2VkKHRoaXMpO1xuICAgIH1cbiAgICAvKiogQ2xvc2UgdGhlIGN1cnNvci4gKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5fc2V0Q2xvc2VkKG5ldyBDbGllbnRFcnJvcihcIkN1cnNvciB3YXMgbWFudWFsbHkgY2xvc2VkXCIpKTtcbiAgICB9XG4gICAgLyoqIFRydWUgaWYgdGhlIGN1cnNvciBpcyBjbG9zZWQuICovXG4gICAgZ2V0IGNsb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2Nsb3NlZCAhPT0gdW5kZWZpbmVkO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBDbGllbnRFcnJvciwgQ2xvc2VkRXJyb3IsIEludGVybmFsRXJyb3IgfSBmcm9tIFwiLi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBRdWV1ZSB9IGZyb20gXCIuLi9xdWV1ZS5qc1wiO1xuaW1wb3J0IHsgU3RyZWFtIH0gZnJvbSBcIi4uL3N0cmVhbS5qc1wiO1xuaW1wb3J0IHsgV3NDdXJzb3IgfSBmcm9tIFwiLi9jdXJzb3IuanNcIjtcbmV4cG9ydCBjbGFzcyBXc1N0cmVhbSBleHRlbmRzIFN0cmVhbSB7XG4gICAgI2NsaWVudDtcbiAgICAjc3RyZWFtSWQ7XG4gICAgI3F1ZXVlO1xuICAgICNjdXJzb3I7XG4gICAgI2Nsb3Npbmc7XG4gICAgI2Nsb3NlZDtcbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBzdGF0aWMgb3BlbihjbGllbnQpIHtcbiAgICAgICAgY29uc3Qgc3RyZWFtSWQgPSBjbGllbnQuX3N0cmVhbUlkQWxsb2MuYWxsb2MoKTtcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gbmV3IFdzU3RyZWFtKGNsaWVudCwgc3RyZWFtSWQpO1xuICAgICAgICBjb25zdCByZXNwb25zZUNhbGxiYWNrID0gKCkgPT4gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBlcnJvckNhbGxiYWNrID0gKGUpID0+IHN0cmVhbS4jc2V0Q2xvc2VkKGUpO1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0geyB0eXBlOiBcIm9wZW5fc3RyZWFtXCIsIHN0cmVhbUlkIH07XG4gICAgICAgIGNsaWVudC5fc2VuZFJlcXVlc3QocmVxdWVzdCwgeyByZXNwb25zZUNhbGxiYWNrLCBlcnJvckNhbGxiYWNrIH0pO1xuICAgICAgICByZXR1cm4gc3RyZWFtO1xuICAgIH1cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBjb25zdHJ1Y3RvcihjbGllbnQsIHN0cmVhbUlkKSB7XG4gICAgICAgIHN1cGVyKGNsaWVudC5pbnRNb2RlKTtcbiAgICAgICAgdGhpcy4jY2xpZW50ID0gY2xpZW50O1xuICAgICAgICB0aGlzLiNzdHJlYW1JZCA9IHN0cmVhbUlkO1xuICAgICAgICB0aGlzLiNxdWV1ZSA9IG5ldyBRdWV1ZSgpO1xuICAgICAgICB0aGlzLiNjdXJzb3IgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuI2Nsb3NpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy4jY2xvc2VkID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvKiogR2V0IHRoZSB7QGxpbmsgV3NDbGllbnR9IG9iamVjdCB0aGF0IHRoaXMgc3RyZWFtIGJlbG9uZ3MgdG8uICovXG4gICAgY2xpZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jY2xpZW50O1xuICAgIH1cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBfc3FsT3duZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNjbGllbnQ7XG4gICAgfVxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIF9leGVjdXRlKHN0bXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3NlbmRTdHJlYW1SZXF1ZXN0KHtcbiAgICAgICAgICAgIHR5cGU6IFwiZXhlY3V0ZVwiLFxuICAgICAgICAgICAgc3RyZWFtSWQ6IHRoaXMuI3N0cmVhbUlkLFxuICAgICAgICAgICAgc3RtdCxcbiAgICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5yZXN1bHQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBfYmF0Y2goYmF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3NlbmRTdHJlYW1SZXF1ZXN0KHtcbiAgICAgICAgICAgIHR5cGU6IFwiYmF0Y2hcIixcbiAgICAgICAgICAgIHN0cmVhbUlkOiB0aGlzLiNzdHJlYW1JZCxcbiAgICAgICAgICAgIGJhdGNoLFxuICAgICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLnJlc3VsdDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIF9kZXNjcmliZShwcm90b1NxbCkge1xuICAgICAgICB0aGlzLiNjbGllbnQuX2Vuc3VyZVZlcnNpb24oMiwgXCJkZXNjcmliZSgpXCIpO1xuICAgICAgICByZXR1cm4gdGhpcy4jc2VuZFN0cmVhbVJlcXVlc3Qoe1xuICAgICAgICAgICAgdHlwZTogXCJkZXNjcmliZVwiLFxuICAgICAgICAgICAgc3RyZWFtSWQ6IHRoaXMuI3N0cmVhbUlkLFxuICAgICAgICAgICAgc3FsOiBwcm90b1NxbC5zcWwsXG4gICAgICAgICAgICBzcWxJZDogcHJvdG9TcWwuc3FsSWQsXG4gICAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UucmVzdWx0O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgX3NlcXVlbmNlKHByb3RvU3FsKSB7XG4gICAgICAgIHRoaXMuI2NsaWVudC5fZW5zdXJlVmVyc2lvbigyLCBcInNlcXVlbmNlKClcIik7XG4gICAgICAgIHJldHVybiB0aGlzLiNzZW5kU3RyZWFtUmVxdWVzdCh7XG4gICAgICAgICAgICB0eXBlOiBcInNlcXVlbmNlXCIsXG4gICAgICAgICAgICBzdHJlYW1JZDogdGhpcy4jc3RyZWFtSWQsXG4gICAgICAgICAgICBzcWw6IHByb3RvU3FsLnNxbCxcbiAgICAgICAgICAgIHNxbElkOiBwcm90b1NxbC5zcWxJZCxcbiAgICAgICAgfSkudGhlbigoX3Jlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIENoZWNrIHdoZXRoZXIgdGhlIFNRTCBjb25uZWN0aW9uIHVuZGVybHlpbmcgdGhpcyBzdHJlYW0gaXMgaW4gYXV0b2NvbW1pdCBzdGF0ZSAoaS5lLiwgb3V0c2lkZSBvZiBhblxuICAgICAqIGV4cGxpY2l0IHRyYW5zYWN0aW9uKS4gVGhpcyByZXF1aXJlcyBwcm90b2NvbCB2ZXJzaW9uIDMgb3IgaGlnaGVyLlxuICAgICAqL1xuICAgIGdldEF1dG9jb21taXQoKSB7XG4gICAgICAgIHRoaXMuI2NsaWVudC5fZW5zdXJlVmVyc2lvbigzLCBcImdldEF1dG9jb21taXQoKVwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3NlbmRTdHJlYW1SZXF1ZXN0KHtcbiAgICAgICAgICAgIHR5cGU6IFwiZ2V0X2F1dG9jb21taXRcIixcbiAgICAgICAgICAgIHN0cmVhbUlkOiB0aGlzLiNzdHJlYW1JZCxcbiAgICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5pc0F1dG9jb21taXQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAjc2VuZFN0cmVhbVJlcXVlc3QocmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc3BvbnNlQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgIHRoaXMuI3B1c2hUb1F1ZXVlKHsgdHlwZTogXCJyZXF1ZXN0XCIsIHJlcXVlc3QsIHJlc3BvbnNlQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2sgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBfb3BlbkN1cnNvcihiYXRjaCkge1xuICAgICAgICB0aGlzLiNjbGllbnQuX2Vuc3VyZVZlcnNpb24oMywgXCJjdXJzb3JcIik7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgoY3Vyc29yQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgIHRoaXMuI3B1c2hUb1F1ZXVlKHsgdHlwZTogXCJjdXJzb3JcIiwgYmF0Y2gsIGN1cnNvckNhbGxiYWNrLCBlcnJvckNhbGxiYWNrIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgX3NlbmRDdXJzb3JSZXF1ZXN0KGN1cnNvciwgcmVxdWVzdCkge1xuICAgICAgICBpZiAoY3Vyc29yICE9PSB0aGlzLiNjdXJzb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnRlcm5hbEVycm9yKFwiQ3Vyc29yIG5vdCBhc3NvY2lhdGVkIHdpdGggdGhlIHN0cmVhbSBhdHRlbXB0ZWQgdG8gZXhlY3V0ZSBhIHJlcXVlc3RcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNwb25zZUNhbGxiYWNrLCBlcnJvckNhbGxiYWNrKSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy4jY2xvc2VkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKG5ldyBDbG9zZWRFcnJvcihcIlN0cmVhbSBpcyBjbG9zZWRcIiwgdGhpcy4jY2xvc2VkKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLiNjbGllbnQuX3NlbmRSZXF1ZXN0KHJlcXVlc3QsIHsgcmVzcG9uc2VDYWxsYmFjaywgZXJyb3JDYWxsYmFjayB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIF9jdXJzb3JDbG9zZWQoY3Vyc29yKSB7XG4gICAgICAgIGlmIChjdXJzb3IgIT09IHRoaXMuI2N1cnNvcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludGVybmFsRXJyb3IoXCJDdXJzb3Igd2FzIGNsb3NlZCwgYnV0IGl0IHdhcyBub3QgYXNzb2NpYXRlZCB3aXRoIHRoZSBzdHJlYW1cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jY3Vyc29yID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLiNmbHVzaFF1ZXVlKCk7XG4gICAgfVxuICAgICNwdXNoVG9RdWV1ZShlbnRyeSkge1xuICAgICAgICBpZiAodGhpcy4jY2xvc2VkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGVudHJ5LmVycm9yQ2FsbGJhY2sobmV3IENsb3NlZEVycm9yKFwiU3RyZWFtIGlzIGNsb3NlZFwiLCB0aGlzLiNjbG9zZWQpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLiNjbG9zaW5nKSB7XG4gICAgICAgICAgICBlbnRyeS5lcnJvckNhbGxiYWNrKG5ldyBDbG9zZWRFcnJvcihcIlN0cmVhbSBpcyBjbG9zaW5nXCIsIHVuZGVmaW5lZCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy4jcXVldWUucHVzaChlbnRyeSk7XG4gICAgICAgICAgICB0aGlzLiNmbHVzaFF1ZXVlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgI2ZsdXNoUXVldWUoKSB7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gdGhpcy4jcXVldWUuZmlyc3QoKTtcbiAgICAgICAgICAgIGlmIChlbnRyeSA9PT0gdW5kZWZpbmVkICYmIHRoaXMuI2N1cnNvciA9PT0gdW5kZWZpbmVkICYmIHRoaXMuI2Nsb3NpbmcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLiNzZXRDbG9zZWQobmV3IENsaWVudEVycm9yKFwiU3RyZWFtIHdhcyBncmFjZWZ1bGx5IGNsb3NlZFwiKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbnRyeT8udHlwZSA9PT0gXCJyZXF1ZXN0XCIgJiYgdGhpcy4jY3Vyc29yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHJlcXVlc3QsIHJlc3BvbnNlQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2sgfSA9IGVudHJ5O1xuICAgICAgICAgICAgICAgIHRoaXMuI3F1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgdGhpcy4jY2xpZW50Ll9zZW5kUmVxdWVzdChyZXF1ZXN0LCB7IHJlc3BvbnNlQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2sgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlbnRyeT8udHlwZSA9PT0gXCJjdXJzb3JcIiAmJiB0aGlzLiNjdXJzb3IgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgYmF0Y2gsIGN1cnNvckNhbGxiYWNrIH0gPSBlbnRyeTtcbiAgICAgICAgICAgICAgICB0aGlzLiNxdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnNvcklkID0gdGhpcy4jY2xpZW50Ll9jdXJzb3JJZEFsbG9jLmFsbG9jKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgY3Vyc29yID0gbmV3IFdzQ3Vyc29yKHRoaXMuI2NsaWVudCwgdGhpcywgY3Vyc29ySWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwib3Blbl9jdXJzb3JcIixcbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtSWQ6IHRoaXMuI3N0cmVhbUlkLFxuICAgICAgICAgICAgICAgICAgICBjdXJzb3JJZCxcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2gsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZUNhbGxiYWNrID0gKCkgPT4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yQ2FsbGJhY2sgPSAoZSkgPT4gY3Vyc29yLl9zZXRDbG9zZWQoZSk7XG4gICAgICAgICAgICAgICAgdGhpcy4jY2xpZW50Ll9zZW5kUmVxdWVzdChyZXF1ZXN0LCB7IHJlc3BvbnNlQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2sgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy4jY3Vyc29yID0gY3Vyc29yO1xuICAgICAgICAgICAgICAgIGN1cnNvckNhbGxiYWNrKGN1cnNvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAjc2V0Q2xvc2VkKGVycm9yKSB7XG4gICAgICAgIGlmICh0aGlzLiNjbG9zZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2Nsb3NlZCA9IGVycm9yO1xuICAgICAgICBpZiAodGhpcy4jY3Vyc29yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuI2N1cnNvci5fc2V0Q2xvc2VkKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBjb25zdCBlbnRyeSA9IHRoaXMuI3F1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAoZW50cnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGVudHJ5LmVycm9yQ2FsbGJhY2soZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHsgdHlwZTogXCJjbG9zZV9zdHJlYW1cIiwgc3RyZWFtSWQ6IHRoaXMuI3N0cmVhbUlkIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlQ2FsbGJhY2sgPSAoKSA9PiB0aGlzLiNjbGllbnQuX3N0cmVhbUlkQWxsb2MuZnJlZSh0aGlzLiNzdHJlYW1JZCk7XG4gICAgICAgIGNvbnN0IGVycm9yQ2FsbGJhY2sgPSAoKSA9PiB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuI2NsaWVudC5fc2VuZFJlcXVlc3QocmVxdWVzdCwgeyByZXNwb25zZUNhbGxiYWNrLCBlcnJvckNhbGxiYWNrIH0pO1xuICAgIH1cbiAgICAvKiogSW1tZWRpYXRlbHkgY2xvc2UgdGhlIHN0cmVhbS4gKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy4jc2V0Q2xvc2VkKG5ldyBDbGllbnRFcnJvcihcIlN0cmVhbSB3YXMgbWFudWFsbHkgY2xvc2VkXCIpKTtcbiAgICB9XG4gICAgLyoqIEdyYWNlZnVsbHkgY2xvc2UgdGhlIHN0cmVhbS4gKi9cbiAgICBjbG9zZUdyYWNlZnVsbHkoKSB7XG4gICAgICAgIHRoaXMuI2Nsb3NpbmcgPSB0cnVlO1xuICAgICAgICB0aGlzLiNmbHVzaFF1ZXVlKCk7XG4gICAgfVxuICAgIC8qKiBUcnVlIGlmIHRoZSBzdHJlYW0gaXMgY2xvc2VkIG9yIGNsb3NpbmcuICovXG4gICAgZ2V0IGNsb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2Nsb3NlZCAhPT0gdW5kZWZpbmVkIHx8IHRoaXMuI2Nsb3Npbmc7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IEJhc2U2NCB9IGZyb20gXCJqcy1iYXNlNjRcIjtcbmltcG9ydCB7IGltcG9zc2libGUgfSBmcm9tIFwiLi4vdXRpbC5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIFN0bXQodywgbXNnKSB7XG4gICAgaWYgKG1zZy5zcWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB3LnN0cmluZyhcInNxbFwiLCBtc2cuc3FsKTtcbiAgICB9XG4gICAgaWYgKG1zZy5zcWxJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHcubnVtYmVyKFwic3FsX2lkXCIsIG1zZy5zcWxJZCk7XG4gICAgfVxuICAgIHcuYXJyYXlPYmplY3RzKFwiYXJnc1wiLCBtc2cuYXJncywgVmFsdWUpO1xuICAgIHcuYXJyYXlPYmplY3RzKFwibmFtZWRfYXJnc1wiLCBtc2cubmFtZWRBcmdzLCBOYW1lZEFyZyk7XG4gICAgdy5ib29sZWFuKFwid2FudF9yb3dzXCIsIG1zZy53YW50Um93cyk7XG59XG5mdW5jdGlvbiBOYW1lZEFyZyh3LCBtc2cpIHtcbiAgICB3LnN0cmluZyhcIm5hbWVcIiwgbXNnLm5hbWUpO1xuICAgIHcub2JqZWN0KFwidmFsdWVcIiwgbXNnLnZhbHVlLCBWYWx1ZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gQmF0Y2godywgbXNnKSB7XG4gICAgdy5hcnJheU9iamVjdHMoXCJzdGVwc1wiLCBtc2cuc3RlcHMsIEJhdGNoU3RlcCk7XG59XG5mdW5jdGlvbiBCYXRjaFN0ZXAodywgbXNnKSB7XG4gICAgaWYgKG1zZy5jb25kaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB3Lm9iamVjdChcImNvbmRpdGlvblwiLCBtc2cuY29uZGl0aW9uLCBCYXRjaENvbmQpO1xuICAgIH1cbiAgICB3Lm9iamVjdChcInN0bXRcIiwgbXNnLnN0bXQsIFN0bXQpO1xufVxuZnVuY3Rpb24gQmF0Y2hDb25kKHcsIG1zZykge1xuICAgIHcuc3RyaW5nUmF3KFwidHlwZVwiLCBtc2cudHlwZSk7XG4gICAgaWYgKG1zZy50eXBlID09PSBcIm9rXCIgfHwgbXNnLnR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgICB3Lm51bWJlcihcInN0ZXBcIiwgbXNnLnN0ZXApO1xuICAgIH1cbiAgICBlbHNlIGlmIChtc2cudHlwZSA9PT0gXCJub3RcIikge1xuICAgICAgICB3Lm9iamVjdChcImNvbmRcIiwgbXNnLmNvbmQsIEJhdGNoQ29uZCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1zZy50eXBlID09PSBcImFuZFwiIHx8IG1zZy50eXBlID09PSBcIm9yXCIpIHtcbiAgICAgICAgdy5hcnJheU9iamVjdHMoXCJjb25kc1wiLCBtc2cuY29uZHMsIEJhdGNoQ29uZCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1zZy50eXBlID09PSBcImlzX2F1dG9jb21taXRcIikge1xuICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBpbXBvc3NpYmxlKG1zZywgXCJJbXBvc3NpYmxlIHR5cGUgb2YgQmF0Y2hDb25kXCIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIFZhbHVlKHcsIG1zZykge1xuICAgIGlmIChtc2cgPT09IG51bGwpIHtcbiAgICAgICAgdy5zdHJpbmdSYXcoXCJ0eXBlXCIsIFwibnVsbFwiKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIG1zZyA9PT0gXCJiaWdpbnRcIikge1xuICAgICAgICB3LnN0cmluZ1JhdyhcInR5cGVcIiwgXCJpbnRlZ2VyXCIpO1xuICAgICAgICB3LnN0cmluZ1JhdyhcInZhbHVlXCIsIFwiXCIgKyBtc2cpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgbXNnID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHcuc3RyaW5nUmF3KFwidHlwZVwiLCBcImZsb2F0XCIpO1xuICAgICAgICB3Lm51bWJlcihcInZhbHVlXCIsIG1zZyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBtc2cgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdy5zdHJpbmdSYXcoXCJ0eXBlXCIsIFwidGV4dFwiKTtcbiAgICAgICAgdy5zdHJpbmcoXCJ2YWx1ZVwiLCBtc2cpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtc2cgaW5zdGFuY2VvZiBVaW50OEFycmF5KSB7XG4gICAgICAgIHcuc3RyaW5nUmF3KFwidHlwZVwiLCBcImJsb2JcIik7XG4gICAgICAgIHcuc3RyaW5nUmF3KFwiYmFzZTY0XCIsIEJhc2U2NC5mcm9tVWludDhBcnJheShtc2cpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobXNnID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgaW1wb3NzaWJsZShtc2csIFwiSW1wb3NzaWJsZSB0eXBlIG9mIFZhbHVlXCIpO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBTdG10LCBCYXRjaCB9IGZyb20gXCIuLi9zaGFyZWQvanNvbl9lbmNvZGUuanNcIjtcbmltcG9ydCB7IGltcG9zc2libGUgfSBmcm9tIFwiLi4vdXRpbC5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIENsaWVudE1zZyh3LCBtc2cpIHtcbiAgICB3LnN0cmluZ1JhdyhcInR5cGVcIiwgbXNnLnR5cGUpO1xuICAgIGlmIChtc2cudHlwZSA9PT0gXCJoZWxsb1wiKSB7XG4gICAgICAgIGlmIChtc2cuand0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHcuc3RyaW5nKFwiand0XCIsIG1zZy5qd3QpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKG1zZy50eXBlID09PSBcInJlcXVlc3RcIikge1xuICAgICAgICB3Lm51bWJlcihcInJlcXVlc3RfaWRcIiwgbXNnLnJlcXVlc3RJZCk7XG4gICAgICAgIHcub2JqZWN0KFwicmVxdWVzdFwiLCBtc2cucmVxdWVzdCwgUmVxdWVzdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBpbXBvc3NpYmxlKG1zZywgXCJJbXBvc3NpYmxlIHR5cGUgb2YgQ2xpZW50TXNnXCIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIFJlcXVlc3QodywgbXNnKSB7XG4gICAgdy5zdHJpbmdSYXcoXCJ0eXBlXCIsIG1zZy50eXBlKTtcbiAgICBpZiAobXNnLnR5cGUgPT09IFwib3Blbl9zdHJlYW1cIikge1xuICAgICAgICB3Lm51bWJlcihcInN0cmVhbV9pZFwiLCBtc2cuc3RyZWFtSWQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtc2cudHlwZSA9PT0gXCJjbG9zZV9zdHJlYW1cIikge1xuICAgICAgICB3Lm51bWJlcihcInN0cmVhbV9pZFwiLCBtc2cuc3RyZWFtSWQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtc2cudHlwZSA9PT0gXCJleGVjdXRlXCIpIHtcbiAgICAgICAgdy5udW1iZXIoXCJzdHJlYW1faWRcIiwgbXNnLnN0cmVhbUlkKTtcbiAgICAgICAgdy5vYmplY3QoXCJzdG10XCIsIG1zZy5zdG10LCBTdG10KTtcbiAgICB9XG4gICAgZWxzZSBpZiAobXNnLnR5cGUgPT09IFwiYmF0Y2hcIikge1xuICAgICAgICB3Lm51bWJlcihcInN0cmVhbV9pZFwiLCBtc2cuc3RyZWFtSWQpO1xuICAgICAgICB3Lm9iamVjdChcImJhdGNoXCIsIG1zZy5iYXRjaCwgQmF0Y2gpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtc2cudHlwZSA9PT0gXCJvcGVuX2N1cnNvclwiKSB7XG4gICAgICAgIHcubnVtYmVyKFwic3RyZWFtX2lkXCIsIG1zZy5zdHJlYW1JZCk7XG4gICAgICAgIHcubnVtYmVyKFwiY3Vyc29yX2lkXCIsIG1zZy5jdXJzb3JJZCk7XG4gICAgICAgIHcub2JqZWN0KFwiYmF0Y2hcIiwgbXNnLmJhdGNoLCBCYXRjaCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1zZy50eXBlID09PSBcImNsb3NlX2N1cnNvclwiKSB7XG4gICAgICAgIHcubnVtYmVyKFwiY3Vyc29yX2lkXCIsIG1zZy5jdXJzb3JJZCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1zZy50eXBlID09PSBcImZldGNoX2N1cnNvclwiKSB7XG4gICAgICAgIHcubnVtYmVyKFwiY3Vyc29yX2lkXCIsIG1zZy5jdXJzb3JJZCk7XG4gICAgICAgIHcubnVtYmVyKFwibWF4X2NvdW50XCIsIG1zZy5tYXhDb3VudCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1zZy50eXBlID09PSBcInNlcXVlbmNlXCIpIHtcbiAgICAgICAgdy5udW1iZXIoXCJzdHJlYW1faWRcIiwgbXNnLnN0cmVhbUlkKTtcbiAgICAgICAgaWYgKG1zZy5zcWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdy5zdHJpbmcoXCJzcWxcIiwgbXNnLnNxbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1zZy5zcWxJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3Lm51bWJlcihcInNxbF9pZFwiLCBtc2cuc3FsSWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKG1zZy50eXBlID09PSBcImRlc2NyaWJlXCIpIHtcbiAgICAgICAgdy5udW1iZXIoXCJzdHJlYW1faWRcIiwgbXNnLnN0cmVhbUlkKTtcbiAgICAgICAgaWYgKG1zZy5zcWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdy5zdHJpbmcoXCJzcWxcIiwgbXNnLnNxbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1zZy5zcWxJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3Lm51bWJlcihcInNxbF9pZFwiLCBtc2cuc3FsSWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKG1zZy50eXBlID09PSBcInN0b3JlX3NxbFwiKSB7XG4gICAgICAgIHcubnVtYmVyKFwic3FsX2lkXCIsIG1zZy5zcWxJZCk7XG4gICAgICAgIHcuc3RyaW5nKFwic3FsXCIsIG1zZy5zcWwpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtc2cudHlwZSA9PT0gXCJjbG9zZV9zcWxcIikge1xuICAgICAgICB3Lm51bWJlcihcInNxbF9pZFwiLCBtc2cuc3FsSWQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtc2cudHlwZSA9PT0gXCJnZXRfYXV0b2NvbW1pdFwiKSB7XG4gICAgICAgIHcubnVtYmVyKFwic3RyZWFtX2lkXCIsIG1zZy5zdHJlYW1JZCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBpbXBvc3NpYmxlKG1zZywgXCJJbXBvc3NpYmxlIHR5cGUgb2YgUmVxdWVzdFwiKTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgaW1wb3NzaWJsZSB9IGZyb20gXCIuLi91dGlsLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gU3RtdCh3LCBtc2cpIHtcbiAgICBpZiAobXNnLnNxbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHcuc3RyaW5nKDEsIG1zZy5zcWwpO1xuICAgIH1cbiAgICBpZiAobXNnLnNxbElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdy5pbnQzMigyLCBtc2cuc3FsSWQpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IGFyZyBvZiBtc2cuYXJncykge1xuICAgICAgICB3Lm1lc3NhZ2UoMywgYXJnLCBWYWx1ZSk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgYXJnIG9mIG1zZy5uYW1lZEFyZ3MpIHtcbiAgICAgICAgdy5tZXNzYWdlKDQsIGFyZywgTmFtZWRBcmcpO1xuICAgIH1cbiAgICB3LmJvb2woNSwgbXNnLndhbnRSb3dzKTtcbn1cbmZ1bmN0aW9uIE5hbWVkQXJnKHcsIG1zZykge1xuICAgIHcuc3RyaW5nKDEsIG1zZy5uYW1lKTtcbiAgICB3Lm1lc3NhZ2UoMiwgbXNnLnZhbHVlLCBWYWx1ZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gQmF0Y2godywgbXNnKSB7XG4gICAgZm9yIChjb25zdCBzdGVwIG9mIG1zZy5zdGVwcykge1xuICAgICAgICB3Lm1lc3NhZ2UoMSwgc3RlcCwgQmF0Y2hTdGVwKTtcbiAgICB9XG59XG5mdW5jdGlvbiBCYXRjaFN0ZXAodywgbXNnKSB7XG4gICAgaWYgKG1zZy5jb25kaXRpb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB3Lm1lc3NhZ2UoMSwgbXNnLmNvbmRpdGlvbiwgQmF0Y2hDb25kKTtcbiAgICB9XG4gICAgdy5tZXNzYWdlKDIsIG1zZy5zdG10LCBTdG10KTtcbn1cbmZ1bmN0aW9uIEJhdGNoQ29uZCh3LCBtc2cpIHtcbiAgICBpZiAobXNnLnR5cGUgPT09IFwib2tcIikge1xuICAgICAgICB3LnVpbnQzMigxLCBtc2cuc3RlcCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1zZy50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgdy51aW50MzIoMiwgbXNnLnN0ZXApO1xuICAgIH1cbiAgICBlbHNlIGlmIChtc2cudHlwZSA9PT0gXCJub3RcIikge1xuICAgICAgICB3Lm1lc3NhZ2UoMywgbXNnLmNvbmQsIEJhdGNoQ29uZCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1zZy50eXBlID09PSBcImFuZFwiKSB7XG4gICAgICAgIHcubWVzc2FnZSg0LCBtc2cuY29uZHMsIEJhdGNoQ29uZExpc3QpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtc2cudHlwZSA9PT0gXCJvclwiKSB7XG4gICAgICAgIHcubWVzc2FnZSg1LCBtc2cuY29uZHMsIEJhdGNoQ29uZExpc3QpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtc2cudHlwZSA9PT0gXCJpc19hdXRvY29tbWl0XCIpIHtcbiAgICAgICAgdy5tZXNzYWdlKDYsIHVuZGVmaW5lZCwgRW1wdHkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgaW1wb3NzaWJsZShtc2csIFwiSW1wb3NzaWJsZSB0eXBlIG9mIEJhdGNoQ29uZFwiKTtcbiAgICB9XG59XG5mdW5jdGlvbiBCYXRjaENvbmRMaXN0KHcsIG1zZykge1xuICAgIGZvciAoY29uc3QgY29uZCBvZiBtc2cpIHtcbiAgICAgICAgdy5tZXNzYWdlKDEsIGNvbmQsIEJhdGNoQ29uZCk7XG4gICAgfVxufVxuZnVuY3Rpb24gVmFsdWUodywgbXNnKSB7XG4gICAgaWYgKG1zZyA9PT0gbnVsbCkge1xuICAgICAgICB3Lm1lc3NhZ2UoMSwgdW5kZWZpbmVkLCBFbXB0eSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBtc2cgPT09IFwiYmlnaW50XCIpIHtcbiAgICAgICAgdy5zaW50NjQoMiwgbXNnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIG1zZyA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICB3LmRvdWJsZSgzLCBtc2cpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgbXNnID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHcuc3RyaW5nKDQsIG1zZyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1zZyBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgdy5ieXRlcyg1LCBtc2cpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtc2cgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBpbXBvc3NpYmxlKG1zZywgXCJJbXBvc3NpYmxlIHR5cGUgb2YgVmFsdWVcIik7XG4gICAgfVxufVxuZnVuY3Rpb24gRW1wdHkoX3csIF9tc2cpIHtcbiAgICAvLyBkbyBub3RoaW5nXG59XG4iLCAiaW1wb3J0IHsgU3RtdCwgQmF0Y2ggfSBmcm9tIFwiLi4vc2hhcmVkL3Byb3RvYnVmX2VuY29kZS5qc1wiO1xuaW1wb3J0IHsgaW1wb3NzaWJsZSB9IGZyb20gXCIuLi91dGlsLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gQ2xpZW50TXNnKHcsIG1zZykge1xuICAgIGlmIChtc2cudHlwZSA9PT0gXCJoZWxsb1wiKSB7XG4gICAgICAgIHcubWVzc2FnZSgxLCBtc2csIEhlbGxvTXNnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobXNnLnR5cGUgPT09IFwicmVxdWVzdFwiKSB7XG4gICAgICAgIHcubWVzc2FnZSgyLCBtc2csIFJlcXVlc3RNc2cpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgaW1wb3NzaWJsZShtc2csIFwiSW1wb3NzaWJsZSB0eXBlIG9mIENsaWVudE1zZ1wiKTtcbiAgICB9XG59XG5mdW5jdGlvbiBIZWxsb01zZyh3LCBtc2cpIHtcbiAgICBpZiAobXNnLmp3dCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHcuc3RyaW5nKDEsIG1zZy5qd3QpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIFJlcXVlc3RNc2codywgbXNnKSB7XG4gICAgdy5pbnQzMigxLCBtc2cucmVxdWVzdElkKTtcbiAgICBjb25zdCByZXF1ZXN0ID0gbXNnLnJlcXVlc3Q7XG4gICAgaWYgKHJlcXVlc3QudHlwZSA9PT0gXCJvcGVuX3N0cmVhbVwiKSB7XG4gICAgICAgIHcubWVzc2FnZSgyLCByZXF1ZXN0LCBPcGVuU3RyZWFtUmVxKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVxdWVzdC50eXBlID09PSBcImNsb3NlX3N0cmVhbVwiKSB7XG4gICAgICAgIHcubWVzc2FnZSgzLCByZXF1ZXN0LCBDbG9zZVN0cmVhbVJlcSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlcXVlc3QudHlwZSA9PT0gXCJleGVjdXRlXCIpIHtcbiAgICAgICAgdy5tZXNzYWdlKDQsIHJlcXVlc3QsIEV4ZWN1dGVSZXEpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZXF1ZXN0LnR5cGUgPT09IFwiYmF0Y2hcIikge1xuICAgICAgICB3Lm1lc3NhZ2UoNSwgcmVxdWVzdCwgQmF0Y2hSZXEpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZXF1ZXN0LnR5cGUgPT09IFwib3Blbl9jdXJzb3JcIikge1xuICAgICAgICB3Lm1lc3NhZ2UoNiwgcmVxdWVzdCwgT3BlbkN1cnNvclJlcSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlcXVlc3QudHlwZSA9PT0gXCJjbG9zZV9jdXJzb3JcIikge1xuICAgICAgICB3Lm1lc3NhZ2UoNywgcmVxdWVzdCwgQ2xvc2VDdXJzb3JSZXEpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZXF1ZXN0LnR5cGUgPT09IFwiZmV0Y2hfY3Vyc29yXCIpIHtcbiAgICAgICAgdy5tZXNzYWdlKDgsIHJlcXVlc3QsIEZldGNoQ3Vyc29yUmVxKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVxdWVzdC50eXBlID09PSBcInNlcXVlbmNlXCIpIHtcbiAgICAgICAgdy5tZXNzYWdlKDksIHJlcXVlc3QsIFNlcXVlbmNlUmVxKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVxdWVzdC50eXBlID09PSBcImRlc2NyaWJlXCIpIHtcbiAgICAgICAgdy5tZXNzYWdlKDEwLCByZXF1ZXN0LCBEZXNjcmliZVJlcSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlcXVlc3QudHlwZSA9PT0gXCJzdG9yZV9zcWxcIikge1xuICAgICAgICB3Lm1lc3NhZ2UoMTEsIHJlcXVlc3QsIFN0b3JlU3FsUmVxKTtcbiAgICB9XG4gICAgZWxzZSBpZiAocmVxdWVzdC50eXBlID09PSBcImNsb3NlX3NxbFwiKSB7XG4gICAgICAgIHcubWVzc2FnZSgxMiwgcmVxdWVzdCwgQ2xvc2VTcWxSZXEpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZXF1ZXN0LnR5cGUgPT09IFwiZ2V0X2F1dG9jb21taXRcIikge1xuICAgICAgICB3Lm1lc3NhZ2UoMTMsIHJlcXVlc3QsIEdldEF1dG9jb21taXRSZXEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgaW1wb3NzaWJsZShyZXF1ZXN0LCBcIkltcG9zc2libGUgdHlwZSBvZiBSZXF1ZXN0XCIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIE9wZW5TdHJlYW1SZXEodywgbXNnKSB7XG4gICAgdy5pbnQzMigxLCBtc2cuc3RyZWFtSWQpO1xufVxuZnVuY3Rpb24gQ2xvc2VTdHJlYW1SZXEodywgbXNnKSB7XG4gICAgdy5pbnQzMigxLCBtc2cuc3RyZWFtSWQpO1xufVxuZnVuY3Rpb24gRXhlY3V0ZVJlcSh3LCBtc2cpIHtcbiAgICB3LmludDMyKDEsIG1zZy5zdHJlYW1JZCk7XG4gICAgdy5tZXNzYWdlKDIsIG1zZy5zdG10LCBTdG10KTtcbn1cbmZ1bmN0aW9uIEJhdGNoUmVxKHcsIG1zZykge1xuICAgIHcuaW50MzIoMSwgbXNnLnN0cmVhbUlkKTtcbiAgICB3Lm1lc3NhZ2UoMiwgbXNnLmJhdGNoLCBCYXRjaCk7XG59XG5mdW5jdGlvbiBPcGVuQ3Vyc29yUmVxKHcsIG1zZykge1xuICAgIHcuaW50MzIoMSwgbXNnLnN0cmVhbUlkKTtcbiAgICB3LmludDMyKDIsIG1zZy5jdXJzb3JJZCk7XG4gICAgdy5tZXNzYWdlKDMsIG1zZy5iYXRjaCwgQmF0Y2gpO1xufVxuZnVuY3Rpb24gQ2xvc2VDdXJzb3JSZXEodywgbXNnKSB7XG4gICAgdy5pbnQzMigxLCBtc2cuY3Vyc29ySWQpO1xufVxuZnVuY3Rpb24gRmV0Y2hDdXJzb3JSZXEodywgbXNnKSB7XG4gICAgdy5pbnQzMigxLCBtc2cuY3Vyc29ySWQpO1xuICAgIHcudWludDMyKDIsIG1zZy5tYXhDb3VudCk7XG59XG5mdW5jdGlvbiBTZXF1ZW5jZVJlcSh3LCBtc2cpIHtcbiAgICB3LmludDMyKDEsIG1zZy5zdHJlYW1JZCk7XG4gICAgaWYgKG1zZy5zcWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB3LnN0cmluZygyLCBtc2cuc3FsKTtcbiAgICB9XG4gICAgaWYgKG1zZy5zcWxJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHcuaW50MzIoMywgbXNnLnNxbElkKTtcbiAgICB9XG59XG5mdW5jdGlvbiBEZXNjcmliZVJlcSh3LCBtc2cpIHtcbiAgICB3LmludDMyKDEsIG1zZy5zdHJlYW1JZCk7XG4gICAgaWYgKG1zZy5zcWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB3LnN0cmluZygyLCBtc2cuc3FsKTtcbiAgICB9XG4gICAgaWYgKG1zZy5zcWxJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHcuaW50MzIoMywgbXNnLnNxbElkKTtcbiAgICB9XG59XG5mdW5jdGlvbiBTdG9yZVNxbFJlcSh3LCBtc2cpIHtcbiAgICB3LmludDMyKDEsIG1zZy5zcWxJZCk7XG4gICAgdy5zdHJpbmcoMiwgbXNnLnNxbCk7XG59XG5mdW5jdGlvbiBDbG9zZVNxbFJlcSh3LCBtc2cpIHtcbiAgICB3LmludDMyKDEsIG1zZy5zcWxJZCk7XG59XG5mdW5jdGlvbiBHZXRBdXRvY29tbWl0UmVxKHcsIG1zZykge1xuICAgIHcuaW50MzIoMSwgbXNnLnN0cmVhbUlkKTtcbn1cbiIsICJpbXBvcnQgeyBCYXNlNjQgfSBmcm9tIFwianMtYmFzZTY0XCI7XG5pbXBvcnQgeyBQcm90b0Vycm9yIH0gZnJvbSBcIi4uL2Vycm9ycy5qc1wiO1xuaW1wb3J0ICogYXMgZCBmcm9tIFwiLi4vZW5jb2RpbmcvanNvbi9kZWNvZGUuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBFcnJvcihvYmopIHtcbiAgICBjb25zdCBtZXNzYWdlID0gZC5zdHJpbmcob2JqW1wibWVzc2FnZVwiXSk7XG4gICAgY29uc3QgY29kZSA9IGQuc3RyaW5nT3B0KG9ialtcImNvZGVcIl0pO1xuICAgIHJldHVybiB7IG1lc3NhZ2UsIGNvZGUgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBTdG10UmVzdWx0KG9iaikge1xuICAgIGNvbnN0IGNvbHMgPSBkLmFycmF5T2JqZWN0c01hcChvYmpbXCJjb2xzXCJdLCBDb2wpO1xuICAgIGNvbnN0IHJvd3MgPSBkLmFycmF5KG9ialtcInJvd3NcIl0pLm1hcCgocm93T2JqKSA9PiBkLmFycmF5T2JqZWN0c01hcChyb3dPYmosIFZhbHVlKSk7XG4gICAgY29uc3QgYWZmZWN0ZWRSb3dDb3VudCA9IGQubnVtYmVyKG9ialtcImFmZmVjdGVkX3Jvd19jb3VudFwiXSk7XG4gICAgY29uc3QgbGFzdEluc2VydFJvd2lkU3RyID0gZC5zdHJpbmdPcHQob2JqW1wibGFzdF9pbnNlcnRfcm93aWRcIl0pO1xuICAgIGNvbnN0IGxhc3RJbnNlcnRSb3dpZCA9IGxhc3RJbnNlcnRSb3dpZFN0ciAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gQmlnSW50KGxhc3RJbnNlcnRSb3dpZFN0cikgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHsgY29scywgcm93cywgYWZmZWN0ZWRSb3dDb3VudCwgbGFzdEluc2VydFJvd2lkIH07XG59XG5mdW5jdGlvbiBDb2wob2JqKSB7XG4gICAgY29uc3QgbmFtZSA9IGQuc3RyaW5nT3B0KG9ialtcIm5hbWVcIl0pO1xuICAgIGNvbnN0IGRlY2x0eXBlID0gZC5zdHJpbmdPcHQob2JqW1wiZGVjbHR5cGVcIl0pO1xuICAgIHJldHVybiB7IG5hbWUsIGRlY2x0eXBlIH07XG59XG5leHBvcnQgZnVuY3Rpb24gQmF0Y2hSZXN1bHQob2JqKSB7XG4gICAgY29uc3Qgc3RlcFJlc3VsdHMgPSBuZXcgTWFwKCk7XG4gICAgZC5hcnJheShvYmpbXCJzdGVwX3Jlc3VsdHNcIl0pLmZvckVhY2goKHZhbHVlLCBpKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc3RlcFJlc3VsdHMuc2V0KGksIFN0bXRSZXN1bHQoZC5vYmplY3QodmFsdWUpKSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBzdGVwRXJyb3JzID0gbmV3IE1hcCgpO1xuICAgIGQuYXJyYXkob2JqW1wic3RlcF9lcnJvcnNcIl0pLmZvckVhY2goKHZhbHVlLCBpKSA9PiB7XG4gICAgICAgIGlmICh2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc3RlcEVycm9ycy5zZXQoaSwgRXJyb3IoZC5vYmplY3QodmFsdWUpKSk7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4geyBzdGVwUmVzdWx0cywgc3RlcEVycm9ycyB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIEN1cnNvckVudHJ5KG9iaikge1xuICAgIGNvbnN0IHR5cGUgPSBkLnN0cmluZyhvYmpbXCJ0eXBlXCJdKTtcbiAgICBpZiAodHlwZSA9PT0gXCJzdGVwX2JlZ2luXCIpIHtcbiAgICAgICAgY29uc3Qgc3RlcCA9IGQubnVtYmVyKG9ialtcInN0ZXBcIl0pO1xuICAgICAgICBjb25zdCBjb2xzID0gZC5hcnJheU9iamVjdHNNYXAob2JqW1wiY29sc1wiXSwgQ29sKTtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJzdGVwX2JlZ2luXCIsIHN0ZXAsIGNvbHMgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gXCJzdGVwX2VuZFwiKSB7XG4gICAgICAgIGNvbnN0IGFmZmVjdGVkUm93Q291bnQgPSBkLm51bWJlcihvYmpbXCJhZmZlY3RlZF9yb3dfY291bnRcIl0pO1xuICAgICAgICBjb25zdCBsYXN0SW5zZXJ0Um93aWRTdHIgPSBkLnN0cmluZ09wdChvYmpbXCJsYXN0X2luc2VydF9yb3dpZFwiXSk7XG4gICAgICAgIGNvbnN0IGxhc3RJbnNlcnRSb3dpZCA9IGxhc3RJbnNlcnRSb3dpZFN0ciAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IEJpZ0ludChsYXN0SW5zZXJ0Um93aWRTdHIpIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcInN0ZXBfZW5kXCIsIGFmZmVjdGVkUm93Q291bnQsIGxhc3RJbnNlcnRSb3dpZCB9O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSBcInN0ZXBfZXJyb3JcIikge1xuICAgICAgICBjb25zdCBzdGVwID0gZC5udW1iZXIob2JqW1wic3RlcFwiXSk7XG4gICAgICAgIGNvbnN0IGVycm9yID0gRXJyb3IoZC5vYmplY3Qob2JqW1wiZXJyb3JcIl0pKTtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJzdGVwX2Vycm9yXCIsIHN0ZXAsIGVycm9yIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09IFwicm93XCIpIHtcbiAgICAgICAgY29uc3Qgcm93ID0gZC5hcnJheU9iamVjdHNNYXAob2JqW1wicm93XCJdLCBWYWx1ZSk7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwicm93XCIsIHJvdyB9O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgY29uc3QgZXJyb3IgPSBFcnJvcihkLm9iamVjdChvYmpbXCJlcnJvclwiXSkpO1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImVycm9yXCIsIGVycm9yIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgUHJvdG9FcnJvcihcIlVuZXhwZWN0ZWQgdHlwZSBvZiBDdXJzb3JFbnRyeVwiKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gRGVzY3JpYmVSZXN1bHQob2JqKSB7XG4gICAgY29uc3QgcGFyYW1zID0gZC5hcnJheU9iamVjdHNNYXAob2JqW1wicGFyYW1zXCJdLCBEZXNjcmliZVBhcmFtKTtcbiAgICBjb25zdCBjb2xzID0gZC5hcnJheU9iamVjdHNNYXAob2JqW1wiY29sc1wiXSwgRGVzY3JpYmVDb2wpO1xuICAgIGNvbnN0IGlzRXhwbGFpbiA9IGQuYm9vbGVhbihvYmpbXCJpc19leHBsYWluXCJdKTtcbiAgICBjb25zdCBpc1JlYWRvbmx5ID0gZC5ib29sZWFuKG9ialtcImlzX3JlYWRvbmx5XCJdKTtcbiAgICByZXR1cm4geyBwYXJhbXMsIGNvbHMsIGlzRXhwbGFpbiwgaXNSZWFkb25seSB9O1xufVxuZnVuY3Rpb24gRGVzY3JpYmVQYXJhbShvYmopIHtcbiAgICBjb25zdCBuYW1lID0gZC5zdHJpbmdPcHQob2JqW1wibmFtZVwiXSk7XG4gICAgcmV0dXJuIHsgbmFtZSB9O1xufVxuZnVuY3Rpb24gRGVzY3JpYmVDb2wob2JqKSB7XG4gICAgY29uc3QgbmFtZSA9IGQuc3RyaW5nKG9ialtcIm5hbWVcIl0pO1xuICAgIGNvbnN0IGRlY2x0eXBlID0gZC5zdHJpbmdPcHQob2JqW1wiZGVjbHR5cGVcIl0pO1xuICAgIHJldHVybiB7IG5hbWUsIGRlY2x0eXBlIH07XG59XG5leHBvcnQgZnVuY3Rpb24gVmFsdWUob2JqKSB7XG4gICAgY29uc3QgdHlwZSA9IGQuc3RyaW5nKG9ialtcInR5cGVcIl0pO1xuICAgIGlmICh0eXBlID09PSBcIm51bGxcIikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gXCJpbnRlZ2VyXCIpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBkLnN0cmluZyhvYmpbXCJ2YWx1ZVwiXSk7XG4gICAgICAgIHJldHVybiBCaWdJbnQodmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSBcImZsb2F0XCIpIHtcbiAgICAgICAgcmV0dXJuIGQubnVtYmVyKG9ialtcInZhbHVlXCJdKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgcmV0dXJuIGQuc3RyaW5nKG9ialtcInZhbHVlXCJdKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gXCJibG9iXCIpIHtcbiAgICAgICAgcmV0dXJuIEJhc2U2NC50b1VpbnQ4QXJyYXkoZC5zdHJpbmcob2JqW1wiYmFzZTY0XCJdKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgUHJvdG9FcnJvcihcIlVuZXhwZWN0ZWQgdHlwZSBvZiBWYWx1ZVwiKTtcbiAgICB9XG59XG4iLCAiaW1wb3J0IHsgUHJvdG9FcnJvciB9IGZyb20gXCIuLi9lcnJvcnMuanNcIjtcbmltcG9ydCAqIGFzIGQgZnJvbSBcIi4uL2VuY29kaW5nL2pzb24vZGVjb2RlLmpzXCI7XG5pbXBvcnQgeyBFcnJvciwgU3RtdFJlc3VsdCwgQmF0Y2hSZXN1bHQsIEN1cnNvckVudHJ5LCBEZXNjcmliZVJlc3VsdCB9IGZyb20gXCIuLi9zaGFyZWQvanNvbl9kZWNvZGUuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBTZXJ2ZXJNc2cob2JqKSB7XG4gICAgY29uc3QgdHlwZSA9IGQuc3RyaW5nKG9ialtcInR5cGVcIl0pO1xuICAgIGlmICh0eXBlID09PSBcImhlbGxvX29rXCIpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJoZWxsb19va1wiIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09IFwiaGVsbG9fZXJyb3JcIikge1xuICAgICAgICBjb25zdCBlcnJvciA9IEVycm9yKGQub2JqZWN0KG9ialtcImVycm9yXCJdKSk7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiaGVsbG9fZXJyb3JcIiwgZXJyb3IgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gXCJyZXNwb25zZV9va1wiKSB7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RJZCA9IGQubnVtYmVyKG9ialtcInJlcXVlc3RfaWRcIl0pO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IFJlc3BvbnNlKGQub2JqZWN0KG9ialtcInJlc3BvbnNlXCJdKSk7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwicmVzcG9uc2Vfb2tcIiwgcmVxdWVzdElkLCByZXNwb25zZSB9O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSBcInJlc3BvbnNlX2Vycm9yXCIpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdElkID0gZC5udW1iZXIob2JqW1wicmVxdWVzdF9pZFwiXSk7XG4gICAgICAgIGNvbnN0IGVycm9yID0gRXJyb3IoZC5vYmplY3Qob2JqW1wiZXJyb3JcIl0pKTtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJyZXNwb25zZV9lcnJvclwiLCByZXF1ZXN0SWQsIGVycm9yIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgUHJvdG9FcnJvcihcIlVuZXhwZWN0ZWQgdHlwZSBvZiBTZXJ2ZXJNc2dcIik7XG4gICAgfVxufVxuZnVuY3Rpb24gUmVzcG9uc2Uob2JqKSB7XG4gICAgY29uc3QgdHlwZSA9IGQuc3RyaW5nKG9ialtcInR5cGVcIl0pO1xuICAgIGlmICh0eXBlID09PSBcIm9wZW5fc3RyZWFtXCIpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJvcGVuX3N0cmVhbVwiIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09IFwiY2xvc2Vfc3RyZWFtXCIpIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJjbG9zZV9zdHJlYW1cIiB9O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSBcImV4ZWN1dGVcIikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBTdG10UmVzdWx0KGQub2JqZWN0KG9ialtcInJlc3VsdFwiXSkpO1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImV4ZWN1dGVcIiwgcmVzdWx0IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09IFwiYmF0Y2hcIikge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBCYXRjaFJlc3VsdChkLm9iamVjdChvYmpbXCJyZXN1bHRcIl0pKTtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJiYXRjaFwiLCByZXN1bHQgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gXCJvcGVuX2N1cnNvclwiKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwib3Blbl9jdXJzb3JcIiB9O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSBcImNsb3NlX2N1cnNvclwiKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiY2xvc2VfY3Vyc29yXCIgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gXCJmZXRjaF9jdXJzb3JcIikge1xuICAgICAgICBjb25zdCBlbnRyaWVzID0gZC5hcnJheU9iamVjdHNNYXAob2JqW1wiZW50cmllc1wiXSwgQ3Vyc29yRW50cnkpO1xuICAgICAgICBjb25zdCBkb25lID0gZC5ib29sZWFuKG9ialtcImRvbmVcIl0pO1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImZldGNoX2N1cnNvclwiLCBlbnRyaWVzLCBkb25lIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09IFwic2VxdWVuY2VcIikge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcInNlcXVlbmNlXCIgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gXCJkZXNjcmliZVwiKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IERlc2NyaWJlUmVzdWx0KGQub2JqZWN0KG9ialtcInJlc3VsdFwiXSkpO1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImRlc2NyaWJlXCIsIHJlc3VsdCB9O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSBcInN0b3JlX3NxbFwiKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwic3RvcmVfc3FsXCIgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gXCJjbG9zZV9zcWxcIikge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImNsb3NlX3NxbFwiIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09IFwiZ2V0X2F1dG9jb21taXRcIikge1xuICAgICAgICBjb25zdCBpc0F1dG9jb21taXQgPSBkLmJvb2xlYW4ob2JqW1wiaXNfYXV0b2NvbW1pdFwiXSk7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiZ2V0X2F1dG9jb21taXRcIiwgaXNBdXRvY29tbWl0IH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgUHJvdG9FcnJvcihcIlVuZXhwZWN0ZWQgdHlwZSBvZiBSZXNwb25zZVwiKTtcbiAgICB9XG59XG4iLCAiZXhwb3J0IGNvbnN0IEVycm9yID0ge1xuICAgIGRlZmF1bHQoKSB7IHJldHVybiB7IG1lc3NhZ2U6IFwiXCIsIGNvZGU6IHVuZGVmaW5lZCB9OyB9LFxuICAgIDEociwgbXNnKSB7IG1zZy5tZXNzYWdlID0gci5zdHJpbmcoKTsgfSxcbiAgICAyKHIsIG1zZykgeyBtc2cuY29kZSA9IHIuc3RyaW5nKCk7IH0sXG59O1xuZXhwb3J0IGNvbnN0IFN0bXRSZXN1bHQgPSB7XG4gICAgZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbHM6IFtdLFxuICAgICAgICAgICAgcm93czogW10sXG4gICAgICAgICAgICBhZmZlY3RlZFJvd0NvdW50OiAwLFxuICAgICAgICAgICAgbGFzdEluc2VydFJvd2lkOiB1bmRlZmluZWQsXG4gICAgICAgIH07XG4gICAgfSxcbiAgICAxKHIsIG1zZykgeyBtc2cuY29scy5wdXNoKHIubWVzc2FnZShDb2wpKTsgfSxcbiAgICAyKHIsIG1zZykgeyBtc2cucm93cy5wdXNoKHIubWVzc2FnZShSb3cpKTsgfSxcbiAgICAzKHIsIG1zZykgeyBtc2cuYWZmZWN0ZWRSb3dDb3VudCA9IE51bWJlcihyLnVpbnQ2NCgpKTsgfSxcbiAgICA0KHIsIG1zZykgeyBtc2cubGFzdEluc2VydFJvd2lkID0gci5zaW50NjQoKTsgfSxcbn07XG5jb25zdCBDb2wgPSB7XG4gICAgZGVmYXVsdCgpIHsgcmV0dXJuIHsgbmFtZTogdW5kZWZpbmVkLCBkZWNsdHlwZTogdW5kZWZpbmVkIH07IH0sXG4gICAgMShyLCBtc2cpIHsgbXNnLm5hbWUgPSByLnN0cmluZygpOyB9LFxuICAgIDIociwgbXNnKSB7IG1zZy5kZWNsdHlwZSA9IHIuc3RyaW5nKCk7IH0sXG59O1xuY29uc3QgUm93ID0ge1xuICAgIGRlZmF1bHQoKSB7IHJldHVybiBbXTsgfSxcbiAgICAxKHIsIG1zZykgeyBtc2cucHVzaChyLm1lc3NhZ2UoVmFsdWUpKTsgfSxcbn07XG5leHBvcnQgY29uc3QgQmF0Y2hSZXN1bHQgPSB7XG4gICAgZGVmYXVsdCgpIHsgcmV0dXJuIHsgc3RlcFJlc3VsdHM6IG5ldyBNYXAoKSwgc3RlcEVycm9yczogbmV3IE1hcCgpIH07IH0sXG4gICAgMShyLCBtc2cpIHtcbiAgICAgICAgY29uc3QgW2tleSwgdmFsdWVdID0gci5tZXNzYWdlKEJhdGNoUmVzdWx0U3RlcFJlc3VsdCk7XG4gICAgICAgIG1zZy5zdGVwUmVzdWx0cy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfSxcbiAgICAyKHIsIG1zZykge1xuICAgICAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSByLm1lc3NhZ2UoQmF0Y2hSZXN1bHRTdGVwRXJyb3IpO1xuICAgICAgICBtc2cuc3RlcEVycm9ycy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfSxcbn07XG5jb25zdCBCYXRjaFJlc3VsdFN0ZXBSZXN1bHQgPSB7XG4gICAgZGVmYXVsdCgpIHsgcmV0dXJuIFswLCBTdG10UmVzdWx0LmRlZmF1bHQoKV07IH0sXG4gICAgMShyLCBtc2cpIHsgbXNnWzBdID0gci51aW50MzIoKTsgfSxcbiAgICAyKHIsIG1zZykgeyBtc2dbMV0gPSByLm1lc3NhZ2UoU3RtdFJlc3VsdCk7IH0sXG59O1xuY29uc3QgQmF0Y2hSZXN1bHRTdGVwRXJyb3IgPSB7XG4gICAgZGVmYXVsdCgpIHsgcmV0dXJuIFswLCBFcnJvci5kZWZhdWx0KCldOyB9LFxuICAgIDEociwgbXNnKSB7IG1zZ1swXSA9IHIudWludDMyKCk7IH0sXG4gICAgMihyLCBtc2cpIHsgbXNnWzFdID0gci5tZXNzYWdlKEVycm9yKTsgfSxcbn07XG5leHBvcnQgY29uc3QgQ3Vyc29yRW50cnkgPSB7XG4gICAgZGVmYXVsdCgpIHsgcmV0dXJuIHsgdHlwZTogXCJub25lXCIgfTsgfSxcbiAgICAxKHIpIHsgcmV0dXJuIHIubWVzc2FnZShTdGVwQmVnaW5FbnRyeSk7IH0sXG4gICAgMihyKSB7IHJldHVybiByLm1lc3NhZ2UoU3RlcEVuZEVudHJ5KTsgfSxcbiAgICAzKHIpIHsgcmV0dXJuIHIubWVzc2FnZShTdGVwRXJyb3JFbnRyeSk7IH0sXG4gICAgNChyKSB7IHJldHVybiB7IHR5cGU6IFwicm93XCIsIHJvdzogci5tZXNzYWdlKFJvdykgfTsgfSxcbiAgICA1KHIpIHsgcmV0dXJuIHsgdHlwZTogXCJlcnJvclwiLCBlcnJvcjogci5tZXNzYWdlKEVycm9yKSB9OyB9LFxufTtcbmNvbnN0IFN0ZXBCZWdpbkVudHJ5ID0ge1xuICAgIGRlZmF1bHQoKSB7IHJldHVybiB7IHR5cGU6IFwic3RlcF9iZWdpblwiLCBzdGVwOiAwLCBjb2xzOiBbXSB9OyB9LFxuICAgIDEociwgbXNnKSB7IG1zZy5zdGVwID0gci51aW50MzIoKTsgfSxcbiAgICAyKHIsIG1zZykgeyBtc2cuY29scy5wdXNoKHIubWVzc2FnZShDb2wpKTsgfSxcbn07XG5jb25zdCBTdGVwRW5kRW50cnkgPSB7XG4gICAgZGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwic3RlcF9lbmRcIixcbiAgICAgICAgICAgIGFmZmVjdGVkUm93Q291bnQ6IDAsXG4gICAgICAgICAgICBsYXN0SW5zZXJ0Um93aWQ6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIDEociwgbXNnKSB7IG1zZy5hZmZlY3RlZFJvd0NvdW50ID0gci51aW50MzIoKTsgfSxcbiAgICAyKHIsIG1zZykgeyBtc2cubGFzdEluc2VydFJvd2lkID0gci51aW50NjQoKTsgfSxcbn07XG5jb25zdCBTdGVwRXJyb3JFbnRyeSA9IHtcbiAgICBkZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJzdGVwX2Vycm9yXCIsXG4gICAgICAgICAgICBzdGVwOiAwLFxuICAgICAgICAgICAgZXJyb3I6IEVycm9yLmRlZmF1bHQoKSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIDEociwgbXNnKSB7IG1zZy5zdGVwID0gci51aW50MzIoKTsgfSxcbiAgICAyKHIsIG1zZykgeyBtc2cuZXJyb3IgPSByLm1lc3NhZ2UoRXJyb3IpOyB9LFxufTtcbmV4cG9ydCBjb25zdCBEZXNjcmliZVJlc3VsdCA9IHtcbiAgICBkZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcGFyYW1zOiBbXSxcbiAgICAgICAgICAgIGNvbHM6IFtdLFxuICAgICAgICAgICAgaXNFeHBsYWluOiBmYWxzZSxcbiAgICAgICAgICAgIGlzUmVhZG9ubHk6IGZhbHNlLFxuICAgICAgICB9O1xuICAgIH0sXG4gICAgMShyLCBtc2cpIHsgbXNnLnBhcmFtcy5wdXNoKHIubWVzc2FnZShEZXNjcmliZVBhcmFtKSk7IH0sXG4gICAgMihyLCBtc2cpIHsgbXNnLmNvbHMucHVzaChyLm1lc3NhZ2UoRGVzY3JpYmVDb2wpKTsgfSxcbiAgICAzKHIsIG1zZykgeyBtc2cuaXNFeHBsYWluID0gci5ib29sKCk7IH0sXG4gICAgNChyLCBtc2cpIHsgbXNnLmlzUmVhZG9ubHkgPSByLmJvb2woKTsgfSxcbn07XG5jb25zdCBEZXNjcmliZVBhcmFtID0ge1xuICAgIGRlZmF1bHQoKSB7IHJldHVybiB7IG5hbWU6IHVuZGVmaW5lZCB9OyB9LFxuICAgIDEociwgbXNnKSB7IG1zZy5uYW1lID0gci5zdHJpbmcoKTsgfSxcbn07XG5jb25zdCBEZXNjcmliZUNvbCA9IHtcbiAgICBkZWZhdWx0KCkgeyByZXR1cm4geyBuYW1lOiBcIlwiLCBkZWNsdHlwZTogdW5kZWZpbmVkIH07IH0sXG4gICAgMShyLCBtc2cpIHsgbXNnLm5hbWUgPSByLnN0cmluZygpOyB9LFxuICAgIDIociwgbXNnKSB7IG1zZy5kZWNsdHlwZSA9IHIuc3RyaW5nKCk7IH0sXG59O1xuY29uc3QgVmFsdWUgPSB7XG4gICAgZGVmYXVsdCgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAxKHIpIHsgcmV0dXJuIG51bGw7IH0sXG4gICAgMihyKSB7IHJldHVybiByLnNpbnQ2NCgpOyB9LFxuICAgIDMocikgeyByZXR1cm4gci5kb3VibGUoKTsgfSxcbiAgICA0KHIpIHsgcmV0dXJuIHIuc3RyaW5nKCk7IH0sXG4gICAgNShyKSB7IHJldHVybiByLmJ5dGVzKCk7IH0sXG59O1xuIiwgImltcG9ydCB7IEVycm9yLCBTdG10UmVzdWx0LCBCYXRjaFJlc3VsdCwgQ3Vyc29yRW50cnksIERlc2NyaWJlUmVzdWx0IH0gZnJvbSBcIi4uL3NoYXJlZC9wcm90b2J1Zl9kZWNvZGUuanNcIjtcbmV4cG9ydCBjb25zdCBTZXJ2ZXJNc2cgPSB7XG4gICAgZGVmYXVsdCgpIHsgcmV0dXJuIHsgdHlwZTogXCJub25lXCIgfTsgfSxcbiAgICAxKHIpIHsgcmV0dXJuIHsgdHlwZTogXCJoZWxsb19va1wiIH07IH0sXG4gICAgMihyKSB7IHJldHVybiByLm1lc3NhZ2UoSGVsbG9FcnJvck1zZyk7IH0sXG4gICAgMyhyKSB7IHJldHVybiByLm1lc3NhZ2UoUmVzcG9uc2VPa01zZyk7IH0sXG4gICAgNChyKSB7IHJldHVybiByLm1lc3NhZ2UoUmVzcG9uc2VFcnJvck1zZyk7IH0sXG59O1xuY29uc3QgSGVsbG9FcnJvck1zZyA9IHtcbiAgICBkZWZhdWx0KCkgeyByZXR1cm4geyB0eXBlOiBcImhlbGxvX2Vycm9yXCIsIGVycm9yOiBFcnJvci5kZWZhdWx0KCkgfTsgfSxcbiAgICAxKHIsIG1zZykgeyBtc2cuZXJyb3IgPSByLm1lc3NhZ2UoRXJyb3IpOyB9LFxufTtcbmNvbnN0IFJlc3BvbnNlRXJyb3JNc2cgPSB7XG4gICAgZGVmYXVsdCgpIHsgcmV0dXJuIHsgdHlwZTogXCJyZXNwb25zZV9lcnJvclwiLCByZXF1ZXN0SWQ6IDAsIGVycm9yOiBFcnJvci5kZWZhdWx0KCkgfTsgfSxcbiAgICAxKHIsIG1zZykgeyBtc2cucmVxdWVzdElkID0gci5pbnQzMigpOyB9LFxuICAgIDIociwgbXNnKSB7IG1zZy5lcnJvciA9IHIubWVzc2FnZShFcnJvcik7IH0sXG59O1xuY29uc3QgUmVzcG9uc2VPa01zZyA9IHtcbiAgICBkZWZhdWx0KCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJyZXNwb25zZV9va1wiLFxuICAgICAgICAgICAgcmVxdWVzdElkOiAwLFxuICAgICAgICAgICAgcmVzcG9uc2U6IHsgdHlwZTogXCJub25lXCIgfSxcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIDEociwgbXNnKSB7IG1zZy5yZXF1ZXN0SWQgPSByLmludDMyKCk7IH0sXG4gICAgMihyLCBtc2cpIHsgbXNnLnJlc3BvbnNlID0geyB0eXBlOiBcIm9wZW5fc3RyZWFtXCIgfTsgfSxcbiAgICAzKHIsIG1zZykgeyBtc2cucmVzcG9uc2UgPSB7IHR5cGU6IFwiY2xvc2Vfc3RyZWFtXCIgfTsgfSxcbiAgICA0KHIsIG1zZykgeyBtc2cucmVzcG9uc2UgPSByLm1lc3NhZ2UoRXhlY3V0ZVJlc3ApOyB9LFxuICAgIDUociwgbXNnKSB7IG1zZy5yZXNwb25zZSA9IHIubWVzc2FnZShCYXRjaFJlc3ApOyB9LFxuICAgIDYociwgbXNnKSB7IG1zZy5yZXNwb25zZSA9IHsgdHlwZTogXCJvcGVuX2N1cnNvclwiIH07IH0sXG4gICAgNyhyLCBtc2cpIHsgbXNnLnJlc3BvbnNlID0geyB0eXBlOiBcImNsb3NlX2N1cnNvclwiIH07IH0sXG4gICAgOChyLCBtc2cpIHsgbXNnLnJlc3BvbnNlID0gci5tZXNzYWdlKEZldGNoQ3Vyc29yUmVzcCk7IH0sXG4gICAgOShyLCBtc2cpIHsgbXNnLnJlc3BvbnNlID0geyB0eXBlOiBcInNlcXVlbmNlXCIgfTsgfSxcbiAgICAxMChyLCBtc2cpIHsgbXNnLnJlc3BvbnNlID0gci5tZXNzYWdlKERlc2NyaWJlUmVzcCk7IH0sXG4gICAgMTEociwgbXNnKSB7IG1zZy5yZXNwb25zZSA9IHsgdHlwZTogXCJzdG9yZV9zcWxcIiB9OyB9LFxuICAgIDEyKHIsIG1zZykgeyBtc2cucmVzcG9uc2UgPSB7IHR5cGU6IFwiY2xvc2Vfc3FsXCIgfTsgfSxcbiAgICAxMyhyLCBtc2cpIHsgbXNnLnJlc3BvbnNlID0gci5tZXNzYWdlKEdldEF1dG9jb21taXRSZXNwKTsgfSxcbn07XG5jb25zdCBFeGVjdXRlUmVzcCA9IHtcbiAgICBkZWZhdWx0KCkgeyByZXR1cm4geyB0eXBlOiBcImV4ZWN1dGVcIiwgcmVzdWx0OiBTdG10UmVzdWx0LmRlZmF1bHQoKSB9OyB9LFxuICAgIDEociwgbXNnKSB7IG1zZy5yZXN1bHQgPSByLm1lc3NhZ2UoU3RtdFJlc3VsdCk7IH0sXG59O1xuY29uc3QgQmF0Y2hSZXNwID0ge1xuICAgIGRlZmF1bHQoKSB7IHJldHVybiB7IHR5cGU6IFwiYmF0Y2hcIiwgcmVzdWx0OiBCYXRjaFJlc3VsdC5kZWZhdWx0KCkgfTsgfSxcbiAgICAxKHIsIG1zZykgeyBtc2cucmVzdWx0ID0gci5tZXNzYWdlKEJhdGNoUmVzdWx0KTsgfSxcbn07XG5jb25zdCBGZXRjaEN1cnNvclJlc3AgPSB7XG4gICAgZGVmYXVsdCgpIHsgcmV0dXJuIHsgdHlwZTogXCJmZXRjaF9jdXJzb3JcIiwgZW50cmllczogW10sIGRvbmU6IGZhbHNlIH07IH0sXG4gICAgMShyLCBtc2cpIHsgbXNnLmVudHJpZXMucHVzaChyLm1lc3NhZ2UoQ3Vyc29yRW50cnkpKTsgfSxcbiAgICAyKHIsIG1zZykgeyBtc2cuZG9uZSA9IHIuYm9vbCgpOyB9LFxufTtcbmNvbnN0IERlc2NyaWJlUmVzcCA9IHtcbiAgICBkZWZhdWx0KCkgeyByZXR1cm4geyB0eXBlOiBcImRlc2NyaWJlXCIsIHJlc3VsdDogRGVzY3JpYmVSZXN1bHQuZGVmYXVsdCgpIH07IH0sXG4gICAgMShyLCBtc2cpIHsgbXNnLnJlc3VsdCA9IHIubWVzc2FnZShEZXNjcmliZVJlc3VsdCk7IH0sXG59O1xuY29uc3QgR2V0QXV0b2NvbW1pdFJlc3AgPSB7XG4gICAgZGVmYXVsdCgpIHsgcmV0dXJuIHsgdHlwZTogXCJnZXRfYXV0b2NvbW1pdFwiLCBpc0F1dG9jb21taXQ6IGZhbHNlIH07IH0sXG4gICAgMShyLCBtc2cpIHsgbXNnLmlzQXV0b2NvbW1pdCA9IHIuYm9vbCgpOyB9LFxufTtcbiIsICJpbXBvcnQgeyBDbGllbnQgfSBmcm9tIFwiLi4vY2xpZW50LmpzXCI7XG5pbXBvcnQgeyByZWFkSnNvbk9iamVjdCwgd3JpdGVKc29uT2JqZWN0LCByZWFkUHJvdG9idWZNZXNzYWdlLCB3cml0ZVByb3RvYnVmTWVzc2FnZSwgfSBmcm9tIFwiLi4vZW5jb2RpbmcvaW5kZXguanNcIjtcbmltcG9ydCB7IENsaWVudEVycm9yLCBQcm90b0Vycm9yLCBDbG9zZWRFcnJvciwgV2ViU29ja2V0RXJyb3IsIFByb3RvY29sVmVyc2lvbkVycm9yLCBJbnRlcm5hbEVycm9yLCB9IGZyb20gXCIuLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IElkQWxsb2MgfSBmcm9tIFwiLi4vaWRfYWxsb2MuanNcIjtcbmltcG9ydCB7IGVycm9yRnJvbVByb3RvIH0gZnJvbSBcIi4uL3Jlc3VsdC5qc1wiO1xuaW1wb3J0IHsgU3FsIH0gZnJvbSBcIi4uL3NxbC5qc1wiO1xuaW1wb3J0IHsgaW1wb3NzaWJsZSB9IGZyb20gXCIuLi91dGlsLmpzXCI7XG5pbXBvcnQgeyBXc1N0cmVhbSB9IGZyb20gXCIuL3N0cmVhbS5qc1wiO1xuaW1wb3J0IHsgQ2xpZW50TXNnIGFzIGpzb25fQ2xpZW50TXNnIH0gZnJvbSBcIi4vanNvbl9lbmNvZGUuanNcIjtcbmltcG9ydCB7IENsaWVudE1zZyBhcyBwcm90b2J1Zl9DbGllbnRNc2cgfSBmcm9tIFwiLi9wcm90b2J1Zl9lbmNvZGUuanNcIjtcbmltcG9ydCB7IFNlcnZlck1zZyBhcyBqc29uX1NlcnZlck1zZyB9IGZyb20gXCIuL2pzb25fZGVjb2RlLmpzXCI7XG5pbXBvcnQgeyBTZXJ2ZXJNc2cgYXMgcHJvdG9idWZfU2VydmVyTXNnIH0gZnJvbSBcIi4vcHJvdG9idWZfZGVjb2RlLmpzXCI7XG5leHBvcnQgY29uc3Qgc3VicHJvdG9jb2xzVjIgPSBuZXcgTWFwKFtcbiAgICBbXCJocmFuYTJcIiwgeyB2ZXJzaW9uOiAyLCBlbmNvZGluZzogXCJqc29uXCIgfV0sXG4gICAgW1wiaHJhbmExXCIsIHsgdmVyc2lvbjogMSwgZW5jb2Rpbmc6IFwianNvblwiIH1dLFxuXSk7XG5leHBvcnQgY29uc3Qgc3VicHJvdG9jb2xzVjMgPSBuZXcgTWFwKFtcbiAgICBbXCJocmFuYTMtcHJvdG9idWZcIiwgeyB2ZXJzaW9uOiAzLCBlbmNvZGluZzogXCJwcm90b2J1ZlwiIH1dLFxuICAgIFtcImhyYW5hM1wiLCB7IHZlcnNpb246IDMsIGVuY29kaW5nOiBcImpzb25cIiB9XSxcbiAgICBbXCJocmFuYTJcIiwgeyB2ZXJzaW9uOiAyLCBlbmNvZGluZzogXCJqc29uXCIgfV0sXG4gICAgW1wiaHJhbmExXCIsIHsgdmVyc2lvbjogMSwgZW5jb2Rpbmc6IFwianNvblwiIH1dLFxuXSk7XG4vKiogQSBjbGllbnQgZm9yIHRoZSBIcmFuYSBwcm90b2NvbCBvdmVyIGEgV2ViU29ja2V0LiAqL1xuZXhwb3J0IGNsYXNzIFdzQ2xpZW50IGV4dGVuZHMgQ2xpZW50IHtcbiAgICAjc29ja2V0O1xuICAgIC8vIExpc3Qgb2YgY2FsbGJhY2tzIHRoYXQgd2UgcXVldWUgdW50aWwgdGhlIHNvY2tldCB0cmFuc2l0aW9ucyBmcm9tIHRoZSBDT05ORUNUSU5HIHRvIHRoZSBPUEVOIHN0YXRlLlxuICAgICNvcGVuQ2FsbGJhY2tzO1xuICAgIC8vIEhhdmUgd2UgYWxyZWFkeSB0cmFuc2l0aW9uZWQgZnJvbSBDT05ORUNUSU5HIHRvIE9QRU4gYW5kIGZpcmVkIHRoZSBjYWxsYmFja3MgaW4gI29wZW5DYWxsYmFja3M/XG4gICAgI29wZW5lZDtcbiAgICAvLyBTdG9yZXMgdGhlIGVycm9yIHRoYXQgY2F1c2VkIHVzIHRvIGNsb3NlIHRoZSBjbGllbnQgKGFuZCB0aGUgc29ja2V0KS4gSWYgd2UgYXJlIG5vdCBjbG9zZWQsIHRoaXMgaXNcbiAgICAvLyBgdW5kZWZpbmVkYC5cbiAgICAjY2xvc2VkO1xuICAgIC8vIEhhdmUgd2UgcmVjZWl2ZWQgYSByZXNwb25zZSB0byBvdXIgXCJoZWxsb1wiIGZyb20gdGhlIHNlcnZlcj9cbiAgICAjcmVjdmRIZWxsbztcbiAgICAvLyBTdWJwcm90b2NvbCBuZWdvdGlhdGVkIHdpdGggdGhlIHNlcnZlci4gSXQgaXMgb25seSBhdmFpbGFibGUgYWZ0ZXIgdGhlIHNvY2tldCB0cmFuc2l0aW9ucyB0byB0aGUgT1BFTlxuICAgIC8vIHN0YXRlLlxuICAgICNzdWJwcm90b2NvbDtcbiAgICAvLyBIYXMgdGhlIGBnZXRWZXJzaW9uKClgIGZ1bmN0aW9uIGJlZW4gY2FsbGVkPyBUaGlzIGlzIG9ubHkgdXNlZCB0byB2YWxpZGF0ZSB0aGF0IHRoZSBBUEkgaXMgdXNlZFxuICAgIC8vIGNvcnJlY3RseS5cbiAgICAjZ2V0VmVyc2lvbkNhbGxlZDtcbiAgICAvLyBBIG1hcCBmcm9tIHJlcXVlc3QgaWQgdG8gdGhlIHJlc3BvbnNlcyB0aGF0IHdlIGV4cGVjdCB0byByZWNlaXZlIGZyb20gdGhlIHNlcnZlci5cbiAgICAjcmVzcG9uc2VNYXA7XG4gICAgLy8gQW4gYWxsb2NhdG9yIG9mIHJlcXVlc3QgaWRzLlxuICAgICNyZXF1ZXN0SWRBbGxvYztcbiAgICAvLyBBbiBhbGxvY2F0b3Igb2Ygc3RyZWFtIGlkcy5cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBfc3RyZWFtSWRBbGxvYztcbiAgICAvLyBBbiBhbGxvY2F0b3Igb2YgY3Vyc29yIGlkcy5cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBfY3Vyc29ySWRBbGxvYztcbiAgICAvLyBBbiBhbGxvY2F0b3Igb2YgU1FMIHRleHQgaWRzLlxuICAgICNzcWxJZEFsbG9jO1xuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIGNvbnN0cnVjdG9yKHNvY2tldCwgand0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuI3NvY2tldCA9IHNvY2tldDtcbiAgICAgICAgdGhpcy4jb3BlbkNhbGxiYWNrcyA9IFtdO1xuICAgICAgICB0aGlzLiNvcGVuZWQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy4jY2xvc2VkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLiNyZWN2ZEhlbGxvID0gZmFsc2U7XG4gICAgICAgIHRoaXMuI3N1YnByb3RvY29sID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLiNnZXRWZXJzaW9uQ2FsbGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuI3Jlc3BvbnNlTWFwID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLiNyZXF1ZXN0SWRBbGxvYyA9IG5ldyBJZEFsbG9jKCk7XG4gICAgICAgIHRoaXMuX3N0cmVhbUlkQWxsb2MgPSBuZXcgSWRBbGxvYygpO1xuICAgICAgICB0aGlzLl9jdXJzb3JJZEFsbG9jID0gbmV3IElkQWxsb2MoKTtcbiAgICAgICAgdGhpcy4jc3FsSWRBbGxvYyA9IG5ldyBJZEFsbG9jKCk7XG4gICAgICAgIHRoaXMuI3NvY2tldC5iaW5hcnlUeXBlID0gXCJhcnJheWJ1ZmZlclwiO1xuICAgICAgICB0aGlzLiNzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm9wZW5cIiwgKCkgPT4gdGhpcy4jb25Tb2NrZXRPcGVuKCkpO1xuICAgICAgICB0aGlzLiNzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsIChldmVudCkgPT4gdGhpcy4jb25Tb2NrZXRDbG9zZShldmVudCkpO1xuICAgICAgICB0aGlzLiNzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIChldmVudCkgPT4gdGhpcy4jb25Tb2NrZXRFcnJvcihldmVudCkpO1xuICAgICAgICB0aGlzLiNzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgKGV2ZW50KSA9PiB0aGlzLiNvblNvY2tldE1lc3NhZ2UoZXZlbnQpKTtcbiAgICAgICAgdGhpcy4jc2VuZCh7IHR5cGU6IFwiaGVsbG9cIiwgand0IH0pO1xuICAgIH1cbiAgICAvLyBTZW5kIChvciBlbnF1ZXVlIHRvIHNlbmQpIGEgbWVzc2FnZSB0byB0aGUgc2VydmVyLlxuICAgICNzZW5kKG1zZykge1xuICAgICAgICBpZiAodGhpcy4jY2xvc2VkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnRlcm5hbEVycm9yKFwiVHJ5aW5nIHRvIHNlbmQgYSBtZXNzYWdlIG9uIGEgY2xvc2VkIGNsaWVudFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4jb3BlbmVkKSB7XG4gICAgICAgICAgICB0aGlzLiNzZW5kVG9Tb2NrZXQobXNnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG9wZW5DYWxsYmFjayA9ICgpID0+IHRoaXMuI3NlbmRUb1NvY2tldChtc2cpO1xuICAgICAgICAgICAgY29uc3QgZXJyb3JDYWxsYmFjayA9ICgpID0+IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuI29wZW5DYWxsYmFja3MucHVzaCh7IG9wZW5DYWxsYmFjaywgZXJyb3JDYWxsYmFjayB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBUaGUgc29ja2V0IHRyYW5zaXRpb25lZCBmcm9tIENPTk5FQ1RJTkcgdG8gT1BFTlxuICAgICNvblNvY2tldE9wZW4oKSB7XG4gICAgICAgIGNvbnN0IHByb3RvY29sID0gdGhpcy4jc29ja2V0LnByb3RvY29sO1xuICAgICAgICBpZiAocHJvdG9jb2wgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy4jc2V0Q2xvc2VkKG5ldyBDbGllbnRFcnJvcihcIlRoZSBgV2ViU29ja2V0LnByb3RvY29sYCBwcm9wZXJ0eSBpcyB1bmRlZmluZWQuIFRoaXMgbW9zdCBsaWtlbHkgbWVhbnMgdGhhdCB0aGUgV2ViU29ja2V0IFwiICtcbiAgICAgICAgICAgICAgICBcImltcGxlbWVudGF0aW9uIHByb3ZpZGVkIGJ5IHRoZSBlbnZpcm9ubWVudCBpcyBicm9rZW4uIElmIHlvdSBhcmUgdXNpbmcgTWluaWZsYXJlIDIsIFwiICtcbiAgICAgICAgICAgICAgICBcInBsZWFzZSB1cGRhdGUgdG8gTWluaWZsYXJlIDMsIHdoaWNoIGZpeGVzIHRoaXMgcHJvYmxlbS5cIikpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHByb3RvY29sID09PSBcIlwiKSB7XG4gICAgICAgICAgICB0aGlzLiNzdWJwcm90b2NvbCA9IHsgdmVyc2lvbjogMSwgZW5jb2Rpbmc6IFwianNvblwiIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiNzdWJwcm90b2NvbCA9IHN1YnByb3RvY29sc1YzLmdldChwcm90b2NvbCk7XG4gICAgICAgICAgICBpZiAodGhpcy4jc3VicHJvdG9jb2wgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuI3NldENsb3NlZChuZXcgUHJvdG9FcnJvcihgVW5yZWNvZ25pemVkIFdlYlNvY2tldCBzdWJwcm90b2NvbDogJHtKU09OLnN0cmluZ2lmeShwcm90b2NvbCl9YCkpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGNhbGxiYWNrcyBvZiB0aGlzLiNvcGVuQ2FsbGJhY2tzKSB7XG4gICAgICAgICAgICBjYWxsYmFja3Mub3BlbkNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jb3BlbkNhbGxiYWNrcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLiNvcGVuZWQgPSB0cnVlO1xuICAgIH1cbiAgICAjc2VuZFRvU29ja2V0KG1zZykge1xuICAgICAgICBjb25zdCBlbmNvZGluZyA9IHRoaXMuI3N1YnByb3RvY29sLmVuY29kaW5nO1xuICAgICAgICBpZiAoZW5jb2RpbmcgPT09IFwianNvblwiKSB7XG4gICAgICAgICAgICBjb25zdCBqc29uTXNnID0gd3JpdGVKc29uT2JqZWN0KG1zZywganNvbl9DbGllbnRNc2cpO1xuICAgICAgICAgICAgdGhpcy4jc29ja2V0LnNlbmQoanNvbk1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZW5jb2RpbmcgPT09IFwicHJvdG9idWZcIikge1xuICAgICAgICAgICAgY29uc3QgcHJvdG9idWZNc2cgPSB3cml0ZVByb3RvYnVmTWVzc2FnZShtc2csIHByb3RvYnVmX0NsaWVudE1zZyk7XG4gICAgICAgICAgICB0aGlzLiNzb2NrZXQuc2VuZChwcm90b2J1Zk1zZyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBpbXBvc3NpYmxlKGVuY29kaW5nLCBcIkltcG9zc2libGUgZW5jb2RpbmdcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEdldCB0aGUgcHJvdG9jb2wgdmVyc2lvbiBuZWdvdGlhdGVkIHdpdGggdGhlIHNlcnZlciwgcG9zc2libHkgd2FpdGluZyB1bnRpbCB0aGUgc29ja2V0IGlzIG9wZW4uICovXG4gICAgZ2V0VmVyc2lvbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKCh2ZXJzaW9uQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgIHRoaXMuI2dldFZlcnNpb25DYWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuI2Nsb3NlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjayh0aGlzLiNjbG9zZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIXRoaXMuI29wZW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wZW5DYWxsYmFjayA9ICgpID0+IHZlcnNpb25DYWxsYmFjayh0aGlzLiNzdWJwcm90b2NvbC52ZXJzaW9uKTtcbiAgICAgICAgICAgICAgICB0aGlzLiNvcGVuQ2FsbGJhY2tzLnB1c2goeyBvcGVuQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2sgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2ZXJzaW9uQ2FsbGJhY2sodGhpcy4jc3VicHJvdG9jb2wudmVyc2lvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgbmVnb3RpYXRlZCB2ZXJzaW9uIGlzIGF0IGxlYXN0IGBtaW5WZXJzaW9uYC5cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBfZW5zdXJlVmVyc2lvbihtaW5WZXJzaW9uLCBmZWF0dXJlKSB7XG4gICAgICAgIGlmICh0aGlzLiNzdWJwcm90b2NvbCA9PT0gdW5kZWZpbmVkIHx8ICF0aGlzLiNnZXRWZXJzaW9uQ2FsbGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUHJvdG9jb2xWZXJzaW9uRXJyb3IoYCR7ZmVhdHVyZX0gaXMgc3VwcG9ydGVkIG9ubHkgb24gcHJvdG9jb2wgdmVyc2lvbiAke21pblZlcnNpb259IGFuZCBoaWdoZXIsIGAgK1xuICAgICAgICAgICAgICAgIFwiYnV0IHRoZSB2ZXJzaW9uIHN1cHBvcnRlZCBieSB0aGUgV2ViU29ja2V0IHNlcnZlciBpcyBub3QgeWV0IGtub3duLiBcIiArXG4gICAgICAgICAgICAgICAgXCJVc2UgQ2xpZW50LmdldFZlcnNpb24oKSB0byB3YWl0IHVudGlsIHRoZSB2ZXJzaW9uIGlzIGF2YWlsYWJsZS5cIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy4jc3VicHJvdG9jb2wudmVyc2lvbiA8IG1pblZlcnNpb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQcm90b2NvbFZlcnNpb25FcnJvcihgJHtmZWF0dXJlfSBpcyBzdXBwb3J0ZWQgb24gcHJvdG9jb2wgdmVyc2lvbiAke21pblZlcnNpb259IGFuZCBoaWdoZXIsIGAgK1xuICAgICAgICAgICAgICAgIGBidXQgdGhlIFdlYlNvY2tldCBzZXJ2ZXIgb25seSBzdXBwb3J0cyB2ZXJzaW9uICR7dGhpcy4jc3VicHJvdG9jb2wudmVyc2lvbn1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBTZW5kIGEgcmVxdWVzdCB0byB0aGUgc2VydmVyIGFuZCBpbnZva2UgYSBjYWxsYmFjayB3aGVuIHdlIGdldCB0aGUgcmVzcG9uc2UuXG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgX3NlbmRSZXF1ZXN0KHJlcXVlc3QsIGNhbGxiYWNrcykge1xuICAgICAgICBpZiAodGhpcy4jY2xvc2VkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrcy5lcnJvckNhbGxiYWNrKG5ldyBDbG9zZWRFcnJvcihcIkNsaWVudCBpcyBjbG9zZWRcIiwgdGhpcy4jY2xvc2VkKSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVxdWVzdElkID0gdGhpcy4jcmVxdWVzdElkQWxsb2MuYWxsb2MoKTtcbiAgICAgICAgdGhpcy4jcmVzcG9uc2VNYXAuc2V0KHJlcXVlc3RJZCwgeyAuLi5jYWxsYmFja3MsIHR5cGU6IHJlcXVlc3QudHlwZSB9KTtcbiAgICAgICAgdGhpcy4jc2VuZCh7IHR5cGU6IFwicmVxdWVzdFwiLCByZXF1ZXN0SWQsIHJlcXVlc3QgfSk7XG4gICAgfVxuICAgIC8vIFRoZSBzb2NrZXQgZW5jb3VudGVyZWQgYW4gZXJyb3IuXG4gICAgI29uU29ja2V0RXJyb3IoZXZlbnQpIHtcbiAgICAgICAgY29uc3QgZXZlbnRNZXNzYWdlID0gZXZlbnQubWVzc2FnZTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGV2ZW50TWVzc2FnZSA/PyBcIldlYlNvY2tldCB3YXMgY2xvc2VkIGR1ZSB0byBhbiBlcnJvclwiO1xuICAgICAgICB0aGlzLiNzZXRDbG9zZWQobmV3IFdlYlNvY2tldEVycm9yKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgLy8gVGhlIHNvY2tldCB3YXMgY2xvc2VkLlxuICAgICNvblNvY2tldENsb3NlKGV2ZW50KSB7XG4gICAgICAgIGxldCBtZXNzYWdlID0gYFdlYlNvY2tldCB3YXMgY2xvc2VkIHdpdGggY29kZSAke2V2ZW50LmNvZGV9YDtcbiAgICAgICAgaWYgKGV2ZW50LnJlYXNvbikge1xuICAgICAgICAgICAgbWVzc2FnZSArPSBgOiAke2V2ZW50LnJlYXNvbn1gO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI3NldENsb3NlZChuZXcgV2ViU29ja2V0RXJyb3IobWVzc2FnZSkpO1xuICAgIH1cbiAgICAvLyBDbG9zZSB0aGUgY2xpZW50IHdpdGggdGhlIGdpdmVuIGVycm9yLlxuICAgICNzZXRDbG9zZWQoZXJyb3IpIHtcbiAgICAgICAgaWYgKHRoaXMuI2Nsb3NlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jY2xvc2VkID0gZXJyb3I7XG4gICAgICAgIGZvciAoY29uc3QgY2FsbGJhY2tzIG9mIHRoaXMuI29wZW5DYWxsYmFja3MpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrcy5lcnJvckNhbGxiYWNrKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNvcGVuQ2FsbGJhY2tzLmxlbmd0aCA9IDA7XG4gICAgICAgIGZvciAoY29uc3QgW3JlcXVlc3RJZCwgcmVzcG9uc2VTdGF0ZV0gb2YgdGhpcy4jcmVzcG9uc2VNYXAuZW50cmllcygpKSB7XG4gICAgICAgICAgICByZXNwb25zZVN0YXRlLmVycm9yQ2FsbGJhY2soZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy4jcmVxdWVzdElkQWxsb2MuZnJlZShyZXF1ZXN0SWQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI3Jlc3BvbnNlTWFwLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuI3NvY2tldC5jbG9zZSgpO1xuICAgIH1cbiAgICAvLyBXZSByZWNlaXZlZCBhIG1lc3NhZ2UgZnJvbSB0aGUgc29ja2V0LlxuICAgICNvblNvY2tldE1lc3NhZ2UoZXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuI2Nsb3NlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGxldCBtc2c7XG4gICAgICAgICAgICBjb25zdCBlbmNvZGluZyA9IHRoaXMuI3N1YnByb3RvY29sLmVuY29kaW5nO1xuICAgICAgICAgICAgaWYgKGVuY29kaW5nID09PSBcImpzb25cIikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZXZlbnQuZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNzb2NrZXQuY2xvc2UoMzAwMywgXCJPbmx5IHRleHQgbWVzc2FnZXMgYXJlIGFjY2VwdGVkIHdpdGggSlNPTiBlbmNvZGluZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jc2V0Q2xvc2VkKG5ldyBQcm90b0Vycm9yKFwiUmVjZWl2ZWQgbm9uLXRleHQgbWVzc2FnZSBmcm9tIHNlcnZlciB3aXRoIEpTT04gZW5jb2RpbmdcIikpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG1zZyA9IHJlYWRKc29uT2JqZWN0KEpTT04ucGFyc2UoZXZlbnQuZGF0YSksIGpzb25fU2VydmVyTXNnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVuY29kaW5nID09PSBcInByb3RvYnVmXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIShldmVudC5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI3NvY2tldC5jbG9zZSgzMDAzLCBcIk9ubHkgYmluYXJ5IG1lc3NhZ2VzIGFyZSBhY2NlcHRlZCB3aXRoIFByb3RvYnVmIGVuY29kaW5nXCIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNzZXRDbG9zZWQobmV3IFByb3RvRXJyb3IoXCJSZWNlaXZlZCBub24tYmluYXJ5IG1lc3NhZ2UgZnJvbSBzZXJ2ZXIgd2l0aCBQcm90b2J1ZiBlbmNvZGluZ1wiKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbXNnID0gcmVhZFByb3RvYnVmTWVzc2FnZShuZXcgVWludDhBcnJheShldmVudC5kYXRhKSwgcHJvdG9idWZfU2VydmVyTXNnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGltcG9zc2libGUoZW5jb2RpbmcsIFwiSW1wb3NzaWJsZSBlbmNvZGluZ1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuI2hhbmRsZU1zZyhtc2cpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLiNzb2NrZXQuY2xvc2UoMzAwNywgXCJDb3VsZCBub3QgaGFuZGxlIG1lc3NhZ2VcIik7XG4gICAgICAgICAgICB0aGlzLiNzZXRDbG9zZWQoZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gSGFuZGxlIGEgbWVzc2FnZSBmcm9tIHRoZSBzZXJ2ZXIuXG4gICAgI2hhbmRsZU1zZyhtc2cpIHtcbiAgICAgICAgaWYgKG1zZy50eXBlID09PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFByb3RvRXJyb3IoXCJSZWNlaXZlZCBhbiB1bnJlY29nbml6ZWQgU2VydmVyTXNnXCIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1zZy50eXBlID09PSBcImhlbGxvX29rXCIgfHwgbXNnLnR5cGUgPT09IFwiaGVsbG9fZXJyb3JcIikge1xuICAgICAgICAgICAgaWYgKHRoaXMuI3JlY3ZkSGVsbG8pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUHJvdG9FcnJvcihcIlJlY2VpdmVkIGEgZHVwbGljYXRlZCBoZWxsbyByZXNwb25zZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuI3JlY3ZkSGVsbG8gPSB0cnVlO1xuICAgICAgICAgICAgaWYgKG1zZy50eXBlID09PSBcImhlbGxvX2Vycm9yXCIpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvckZyb21Qcm90byhtc2cuZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCF0aGlzLiNyZWN2ZEhlbGxvKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUHJvdG9FcnJvcihcIlJlY2VpdmVkIGEgbm9uLWhlbGxvIG1lc3NhZ2UgYmVmb3JlIGEgaGVsbG8gcmVzcG9uc2VcIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1zZy50eXBlID09PSBcInJlc3BvbnNlX29rXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RJZCA9IG1zZy5yZXF1ZXN0SWQ7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZVN0YXRlID0gdGhpcy4jcmVzcG9uc2VNYXAuZ2V0KHJlcXVlc3RJZCk7XG4gICAgICAgICAgICB0aGlzLiNyZXNwb25zZU1hcC5kZWxldGUocmVxdWVzdElkKTtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZVN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUHJvdG9FcnJvcihcIlJlY2VpdmVkIHVuZXhwZWN0ZWQgT0sgcmVzcG9uc2VcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLiNyZXF1ZXN0SWRBbGxvYy5mcmVlKHJlcXVlc3RJZCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVN0YXRlLnR5cGUgIT09IG1zZy5yZXNwb25zZS50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZGlyKHsgcmVzcG9uc2VTdGF0ZSwgbXNnIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUHJvdG9FcnJvcihcIlJlY2VpdmVkIHVuZXhwZWN0ZWQgdHlwZSBvZiByZXNwb25zZVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzcG9uc2VTdGF0ZS5yZXNwb25zZUNhbGxiYWNrKG1zZy5yZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlU3RhdGUuZXJyb3JDYWxsYmFjayhlKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1zZy50eXBlID09PSBcInJlc3BvbnNlX2Vycm9yXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RJZCA9IG1zZy5yZXF1ZXN0SWQ7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZVN0YXRlID0gdGhpcy4jcmVzcG9uc2VNYXAuZ2V0KHJlcXVlc3RJZCk7XG4gICAgICAgICAgICB0aGlzLiNyZXNwb25zZU1hcC5kZWxldGUocmVxdWVzdElkKTtcbiAgICAgICAgICAgIGlmIChyZXNwb25zZVN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUHJvdG9FcnJvcihcIlJlY2VpdmVkIHVuZXhwZWN0ZWQgZXJyb3IgcmVzcG9uc2VcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLiNyZXF1ZXN0SWRBbGxvYy5mcmVlKHJlcXVlc3RJZCk7XG4gICAgICAgICAgICByZXNwb25zZVN0YXRlLmVycm9yQ2FsbGJhY2soZXJyb3JGcm9tUHJvdG8obXNnLmVycm9yKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBpbXBvc3NpYmxlKG1zZywgXCJJbXBvc3NpYmxlIFNlcnZlck1zZyB0eXBlXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBPcGVuIGEge0BsaW5rIFdzU3RyZWFtfSwgYSBzdHJlYW0gZm9yIGV4ZWN1dGluZyBTUUwgc3RhdGVtZW50cy4gKi9cbiAgICBvcGVuU3RyZWFtKCkge1xuICAgICAgICByZXR1cm4gV3NTdHJlYW0ub3Blbih0aGlzKTtcbiAgICB9XG4gICAgLyoqIENhY2hlIGEgU1FMIHRleHQgb24gdGhlIHNlcnZlci4gVGhpcyByZXF1aXJlcyBwcm90b2NvbCB2ZXJzaW9uIDIgb3IgaGlnaGVyLiAqL1xuICAgIHN0b3JlU3FsKHNxbCkge1xuICAgICAgICB0aGlzLl9lbnN1cmVWZXJzaW9uKDIsIFwic3RvcmVTcWwoKVwiKTtcbiAgICAgICAgY29uc3Qgc3FsSWQgPSB0aGlzLiNzcWxJZEFsbG9jLmFsbG9jKCk7XG4gICAgICAgIGNvbnN0IHNxbE9iaiA9IG5ldyBTcWwodGhpcywgc3FsSWQpO1xuICAgICAgICBjb25zdCByZXNwb25zZUNhbGxiYWNrID0gKCkgPT4gdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBlcnJvckNhbGxiYWNrID0gKGUpID0+IHNxbE9iai5fc2V0Q2xvc2VkKGUpO1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0geyB0eXBlOiBcInN0b3JlX3NxbFwiLCBzcWxJZCwgc3FsIH07XG4gICAgICAgIHRoaXMuX3NlbmRSZXF1ZXN0KHJlcXVlc3QsIHsgcmVzcG9uc2VDYWxsYmFjaywgZXJyb3JDYWxsYmFjayB9KTtcbiAgICAgICAgcmV0dXJuIHNxbE9iajtcbiAgICB9XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgX2Nsb3NlU3FsKHNxbElkKSB7XG4gICAgICAgIGlmICh0aGlzLiNjbG9zZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlQ2FsbGJhY2sgPSAoKSA9PiB0aGlzLiNzcWxJZEFsbG9jLmZyZWUoc3FsSWQpO1xuICAgICAgICBjb25zdCBlcnJvckNhbGxiYWNrID0gKGUpID0+IHRoaXMuI3NldENsb3NlZChlKTtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHsgdHlwZTogXCJjbG9zZV9zcWxcIiwgc3FsSWQgfTtcbiAgICAgICAgdGhpcy5fc2VuZFJlcXVlc3QocmVxdWVzdCwgeyByZXNwb25zZUNhbGxiYWNrLCBlcnJvckNhbGxiYWNrIH0pO1xuICAgIH1cbiAgICAvKiogQ2xvc2UgdGhlIGNsaWVudCBhbmQgdGhlIFdlYlNvY2tldC4gKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy4jc2V0Q2xvc2VkKG5ldyBDbGllbnRFcnJvcihcIkNsaWVudCB3YXMgbWFudWFsbHkgY2xvc2VkXCIpKTtcbiAgICB9XG4gICAgLyoqIFRydWUgaWYgdGhlIGNsaWVudCBpcyBjbG9zZWQuICovXG4gICAgZ2V0IGNsb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2Nsb3NlZCAhPT0gdW5kZWZpbmVkO1xuICAgIH1cbn1cbiIsICJjb25zdCBfZmV0Y2ggPSBmZXRjaDtcbmNvbnN0IF9SZXF1ZXN0ID0gUmVxdWVzdDtcbmNvbnN0IF9IZWFkZXJzID0gSGVhZGVycztcbmV4cG9ydCB7XG4gICAgX2ZldGNoIGFzIGZldGNoLFxuICAgIF9SZXF1ZXN0IGFzIFJlcXVlc3QsXG4gICAgX0hlYWRlcnMgYXMgSGVhZGVycyxcbn07XG4iLCAiLy8gcXVldWVNaWNyb3Rhc2soKSBwb255ZmlsbFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2xpYnNxbC9saWJzcWwtY2xpZW50LXRzL2lzc3Vlcy80N1xubGV0IF9xdWV1ZU1pY3JvdGFzaztcbmlmICh0eXBlb2YgcXVldWVNaWNyb3Rhc2sgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBfcXVldWVNaWNyb3Rhc2sgPSBxdWV1ZU1pY3JvdGFzaztcbn1cbmVsc2Uge1xuICAgIGNvbnN0IHJlc29sdmVkID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgX3F1ZXVlTWljcm90YXNrID0gKGNhbGxiYWNrKSA9PiB7XG4gICAgICAgIHJlc29sdmVkLnRoZW4oY2FsbGJhY2spO1xuICAgIH07XG59XG5leHBvcnQgeyBfcXVldWVNaWNyb3Rhc2sgYXMgcXVldWVNaWNyb3Rhc2sgfTtcbiIsICJleHBvcnQgY2xhc3MgQnl0ZVF1ZXVlIHtcbiAgICAjYXJyYXk7XG4gICAgI3NoaWZ0UG9zO1xuICAgICNwdXNoUG9zO1xuICAgIGNvbnN0cnVjdG9yKGluaXRpYWxDYXApIHtcbiAgICAgICAgdGhpcy4jYXJyYXkgPSBuZXcgVWludDhBcnJheShuZXcgQXJyYXlCdWZmZXIoaW5pdGlhbENhcCkpO1xuICAgICAgICB0aGlzLiNzaGlmdFBvcyA9IDA7XG4gICAgICAgIHRoaXMuI3B1c2hQb3MgPSAwO1xuICAgIH1cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jcHVzaFBvcyAtIHRoaXMuI3NoaWZ0UG9zO1xuICAgIH1cbiAgICBkYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jYXJyYXkuc2xpY2UodGhpcy4jc2hpZnRQb3MsIHRoaXMuI3B1c2hQb3MpO1xuICAgIH1cbiAgICBwdXNoKGNodW5rKSB7XG4gICAgICAgIHRoaXMuI2Vuc3VyZVB1c2goY2h1bmsuYnl0ZUxlbmd0aCk7XG4gICAgICAgIHRoaXMuI2FycmF5LnNldChjaHVuaywgdGhpcy4jcHVzaFBvcyk7XG4gICAgICAgIHRoaXMuI3B1c2hQb3MgKz0gY2h1bmsuYnl0ZUxlbmd0aDtcbiAgICB9XG4gICAgI2Vuc3VyZVB1c2gocHVzaExlbmd0aCkge1xuICAgICAgICBpZiAodGhpcy4jcHVzaFBvcyArIHB1c2hMZW5ndGggPD0gdGhpcy4jYXJyYXkuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpbGxlZExlbmd0aCA9IHRoaXMuI3B1c2hQb3MgLSB0aGlzLiNzaGlmdFBvcztcbiAgICAgICAgaWYgKGZpbGxlZExlbmd0aCArIHB1c2hMZW5ndGggPD0gdGhpcy4jYXJyYXkuYnl0ZUxlbmd0aCAmJlxuICAgICAgICAgICAgMiAqIHRoaXMuI3B1c2hQb3MgPj0gdGhpcy4jYXJyYXkuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy4jYXJyYXkuY29weVdpdGhpbigwLCB0aGlzLiNzaGlmdFBvcywgdGhpcy4jcHVzaFBvcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgbmV3Q2FwID0gdGhpcy4jYXJyYXkuYnl0ZUxlbmd0aDtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBuZXdDYXAgKj0gMjtcbiAgICAgICAgICAgIH0gd2hpbGUgKGZpbGxlZExlbmd0aCArIHB1c2hMZW5ndGggPiBuZXdDYXApO1xuICAgICAgICAgICAgY29uc3QgbmV3QXJyYXkgPSBuZXcgVWludDhBcnJheShuZXcgQXJyYXlCdWZmZXIobmV3Q2FwKSk7XG4gICAgICAgICAgICBuZXdBcnJheS5zZXQodGhpcy4jYXJyYXkuc2xpY2UodGhpcy4jc2hpZnRQb3MsIHRoaXMuI3B1c2hQb3MpLCAwKTtcbiAgICAgICAgICAgIHRoaXMuI2FycmF5ID0gbmV3QXJyYXk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jcHVzaFBvcyA9IGZpbGxlZExlbmd0aDtcbiAgICAgICAgdGhpcy4jc2hpZnRQb3MgPSAwO1xuICAgIH1cbiAgICBzaGlmdChsZW5ndGgpIHtcbiAgICAgICAgdGhpcy4jc2hpZnRQb3MgKz0gbGVuZ3RoO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBQcm90b0Vycm9yIH0gZnJvbSBcIi4uL2Vycm9ycy5qc1wiO1xuaW1wb3J0ICogYXMgZCBmcm9tIFwiLi4vZW5jb2RpbmcvanNvbi9kZWNvZGUuanNcIjtcbmltcG9ydCB7IEVycm9yLCBTdG10UmVzdWx0LCBCYXRjaFJlc3VsdCwgRGVzY3JpYmVSZXN1bHQgfSBmcm9tIFwiLi4vc2hhcmVkL2pzb25fZGVjb2RlLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gUGlwZWxpbmVSZXNwQm9keShvYmopIHtcbiAgICBjb25zdCBiYXRvbiA9IGQuc3RyaW5nT3B0KG9ialtcImJhdG9uXCJdKTtcbiAgICBjb25zdCBiYXNlVXJsID0gZC5zdHJpbmdPcHQob2JqW1wiYmFzZV91cmxcIl0pO1xuICAgIGNvbnN0IHJlc3VsdHMgPSBkLmFycmF5T2JqZWN0c01hcChvYmpbXCJyZXN1bHRzXCJdLCBTdHJlYW1SZXN1bHQpO1xuICAgIHJldHVybiB7IGJhdG9uLCBiYXNlVXJsLCByZXN1bHRzIH07XG59XG5mdW5jdGlvbiBTdHJlYW1SZXN1bHQob2JqKSB7XG4gICAgY29uc3QgdHlwZSA9IGQuc3RyaW5nKG9ialtcInR5cGVcIl0pO1xuICAgIGlmICh0eXBlID09PSBcIm9rXCIpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBTdHJlYW1SZXNwb25zZShkLm9iamVjdChvYmpbXCJyZXNwb25zZVwiXSkpO1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcIm9rXCIsIHJlc3BvbnNlIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09IFwiZXJyb3JcIikge1xuICAgICAgICBjb25zdCBlcnJvciA9IEVycm9yKGQub2JqZWN0KG9ialtcImVycm9yXCJdKSk7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiZXJyb3JcIiwgZXJyb3IgfTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBQcm90b0Vycm9yKFwiVW5leHBlY3RlZCB0eXBlIG9mIFN0cmVhbVJlc3VsdFwiKTtcbiAgICB9XG59XG5mdW5jdGlvbiBTdHJlYW1SZXNwb25zZShvYmopIHtcbiAgICBjb25zdCB0eXBlID0gZC5zdHJpbmcob2JqW1widHlwZVwiXSk7XG4gICAgaWYgKHR5cGUgPT09IFwiY2xvc2VcIikge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImNsb3NlXCIgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gXCJleGVjdXRlXCIpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gU3RtdFJlc3VsdChkLm9iamVjdChvYmpbXCJyZXN1bHRcIl0pKTtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJleGVjdXRlXCIsIHJlc3VsdCB9O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSBcImJhdGNoXCIpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gQmF0Y2hSZXN1bHQoZC5vYmplY3Qob2JqW1wicmVzdWx0XCJdKSk7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiYmF0Y2hcIiwgcmVzdWx0IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09IFwic2VxdWVuY2VcIikge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcInNlcXVlbmNlXCIgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gXCJkZXNjcmliZVwiKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IERlc2NyaWJlUmVzdWx0KGQub2JqZWN0KG9ialtcInJlc3VsdFwiXSkpO1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImRlc2NyaWJlXCIsIHJlc3VsdCB9O1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlID09PSBcInN0b3JlX3NxbFwiKSB7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwic3RvcmVfc3FsXCIgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSA9PT0gXCJjbG9zZV9zcWxcIikge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImNsb3NlX3NxbFwiIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgPT09IFwiZ2V0X2F1dG9jb21taXRcIikge1xuICAgICAgICBjb25zdCBpc0F1dG9jb21taXQgPSBkLmJvb2xlYW4ob2JqW1wiaXNfYXV0b2NvbW1pdFwiXSk7XG4gICAgICAgIHJldHVybiB7IHR5cGU6IFwiZ2V0X2F1dG9jb21taXRcIiwgaXNBdXRvY29tbWl0IH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgUHJvdG9FcnJvcihcIlVuZXhwZWN0ZWQgdHlwZSBvZiBTdHJlYW1SZXNwb25zZVwiKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gQ3Vyc29yUmVzcEJvZHkob2JqKSB7XG4gICAgY29uc3QgYmF0b24gPSBkLnN0cmluZ09wdChvYmpbXCJiYXRvblwiXSk7XG4gICAgY29uc3QgYmFzZVVybCA9IGQuc3RyaW5nT3B0KG9ialtcImJhc2VfdXJsXCJdKTtcbiAgICByZXR1cm4geyBiYXRvbiwgYmFzZVVybCB9O1xufVxuIiwgImltcG9ydCB7IEVycm9yLCBTdG10UmVzdWx0LCBCYXRjaFJlc3VsdCwgRGVzY3JpYmVSZXN1bHQgfSBmcm9tIFwiLi4vc2hhcmVkL3Byb3RvYnVmX2RlY29kZS5qc1wiO1xuZXhwb3J0IGNvbnN0IFBpcGVsaW5lUmVzcEJvZHkgPSB7XG4gICAgZGVmYXVsdCgpIHsgcmV0dXJuIHsgYmF0b246IHVuZGVmaW5lZCwgYmFzZVVybDogdW5kZWZpbmVkLCByZXN1bHRzOiBbXSB9OyB9LFxuICAgIDEociwgbXNnKSB7IG1zZy5iYXRvbiA9IHIuc3RyaW5nKCk7IH0sXG4gICAgMihyLCBtc2cpIHsgbXNnLmJhc2VVcmwgPSByLnN0cmluZygpOyB9LFxuICAgIDMociwgbXNnKSB7IG1zZy5yZXN1bHRzLnB1c2goci5tZXNzYWdlKFN0cmVhbVJlc3VsdCkpOyB9LFxufTtcbmNvbnN0IFN0cmVhbVJlc3VsdCA9IHtcbiAgICBkZWZhdWx0KCkgeyByZXR1cm4geyB0eXBlOiBcIm5vbmVcIiB9OyB9LFxuICAgIDEocikgeyByZXR1cm4geyB0eXBlOiBcIm9rXCIsIHJlc3BvbnNlOiByLm1lc3NhZ2UoU3RyZWFtUmVzcG9uc2UpIH07IH0sXG4gICAgMihyKSB7IHJldHVybiB7IHR5cGU6IFwiZXJyb3JcIiwgZXJyb3I6IHIubWVzc2FnZShFcnJvcikgfTsgfSxcbn07XG5jb25zdCBTdHJlYW1SZXNwb25zZSA9IHtcbiAgICBkZWZhdWx0KCkgeyByZXR1cm4geyB0eXBlOiBcIm5vbmVcIiB9OyB9LFxuICAgIDEocikgeyByZXR1cm4geyB0eXBlOiBcImNsb3NlXCIgfTsgfSxcbiAgICAyKHIpIHsgcmV0dXJuIHIubWVzc2FnZShFeGVjdXRlU3RyZWFtUmVzcCk7IH0sXG4gICAgMyhyKSB7IHJldHVybiByLm1lc3NhZ2UoQmF0Y2hTdHJlYW1SZXNwKTsgfSxcbiAgICA0KHIpIHsgcmV0dXJuIHsgdHlwZTogXCJzZXF1ZW5jZVwiIH07IH0sXG4gICAgNShyKSB7IHJldHVybiByLm1lc3NhZ2UoRGVzY3JpYmVTdHJlYW1SZXNwKTsgfSxcbiAgICA2KHIpIHsgcmV0dXJuIHsgdHlwZTogXCJzdG9yZV9zcWxcIiB9OyB9LFxuICAgIDcocikgeyByZXR1cm4geyB0eXBlOiBcImNsb3NlX3NxbFwiIH07IH0sXG4gICAgOChyKSB7IHJldHVybiByLm1lc3NhZ2UoR2V0QXV0b2NvbW1pdFN0cmVhbVJlc3ApOyB9LFxufTtcbmNvbnN0IEV4ZWN1dGVTdHJlYW1SZXNwID0ge1xuICAgIGRlZmF1bHQoKSB7IHJldHVybiB7IHR5cGU6IFwiZXhlY3V0ZVwiLCByZXN1bHQ6IFN0bXRSZXN1bHQuZGVmYXVsdCgpIH07IH0sXG4gICAgMShyLCBtc2cpIHsgbXNnLnJlc3VsdCA9IHIubWVzc2FnZShTdG10UmVzdWx0KTsgfSxcbn07XG5jb25zdCBCYXRjaFN0cmVhbVJlc3AgPSB7XG4gICAgZGVmYXVsdCgpIHsgcmV0dXJuIHsgdHlwZTogXCJiYXRjaFwiLCByZXN1bHQ6IEJhdGNoUmVzdWx0LmRlZmF1bHQoKSB9OyB9LFxuICAgIDEociwgbXNnKSB7IG1zZy5yZXN1bHQgPSByLm1lc3NhZ2UoQmF0Y2hSZXN1bHQpOyB9LFxufTtcbmNvbnN0IERlc2NyaWJlU3RyZWFtUmVzcCA9IHtcbiAgICBkZWZhdWx0KCkgeyByZXR1cm4geyB0eXBlOiBcImRlc2NyaWJlXCIsIHJlc3VsdDogRGVzY3JpYmVSZXN1bHQuZGVmYXVsdCgpIH07IH0sXG4gICAgMShyLCBtc2cpIHsgbXNnLnJlc3VsdCA9IHIubWVzc2FnZShEZXNjcmliZVJlc3VsdCk7IH0sXG59O1xuY29uc3QgR2V0QXV0b2NvbW1pdFN0cmVhbVJlc3AgPSB7XG4gICAgZGVmYXVsdCgpIHsgcmV0dXJuIHsgdHlwZTogXCJnZXRfYXV0b2NvbW1pdFwiLCBpc0F1dG9jb21taXQ6IGZhbHNlIH07IH0sXG4gICAgMShyLCBtc2cpIHsgbXNnLmlzQXV0b2NvbW1pdCA9IHIuYm9vbCgpOyB9LFxufTtcbmV4cG9ydCBjb25zdCBDdXJzb3JSZXNwQm9keSA9IHtcbiAgICBkZWZhdWx0KCkgeyByZXR1cm4geyBiYXRvbjogdW5kZWZpbmVkLCBiYXNlVXJsOiB1bmRlZmluZWQgfTsgfSxcbiAgICAxKHIsIG1zZykgeyBtc2cuYmF0b24gPSByLnN0cmluZygpOyB9LFxuICAgIDIociwgbXNnKSB7IG1zZy5iYXNlVXJsID0gci5zdHJpbmcoKTsgfSxcbn07XG4iLCAiaW1wb3J0IHsgQnl0ZVF1ZXVlIH0gZnJvbSBcIi4uL2J5dGVfcXVldWUuanNcIjtcbmltcG9ydCB7IEN1cnNvciB9IGZyb20gXCIuLi9jdXJzb3IuanNcIjtcbmltcG9ydCAqIGFzIGpzb25kIGZyb20gXCIuLi9lbmNvZGluZy9qc29uL2RlY29kZS5qc1wiO1xuaW1wb3J0ICogYXMgcHJvdG9idWZkIGZyb20gXCIuLi9lbmNvZGluZy9wcm90b2J1Zi9kZWNvZGUuanNcIjtcbmltcG9ydCB7IENsaWVudEVycm9yLCBDbG9zZWRFcnJvciwgUHJvdG9FcnJvciwgSW50ZXJuYWxFcnJvciB9IGZyb20gXCIuLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IGltcG9zc2libGUgfSBmcm9tIFwiLi4vdXRpbC5qc1wiO1xuaW1wb3J0IHsgQ3Vyc29yUmVzcEJvZHkgYXMganNvbl9DdXJzb3JSZXNwQm9keSB9IGZyb20gXCIuL2pzb25fZGVjb2RlLmpzXCI7XG5pbXBvcnQgeyBDdXJzb3JSZXNwQm9keSBhcyBwcm90b2J1Zl9DdXJzb3JSZXNwQm9keSB9IGZyb20gXCIuL3Byb3RvYnVmX2RlY29kZS5qc1wiO1xuaW1wb3J0IHsgQ3Vyc29yRW50cnkgYXMganNvbl9DdXJzb3JFbnRyeSB9IGZyb20gXCIuLi9zaGFyZWQvanNvbl9kZWNvZGUuanNcIjtcbmltcG9ydCB7IEN1cnNvckVudHJ5IGFzIHByb3RvYnVmX0N1cnNvckVudHJ5IH0gZnJvbSBcIi4uL3NoYXJlZC9wcm90b2J1Zl9kZWNvZGUuanNcIjtcbmV4cG9ydCBjbGFzcyBIdHRwQ3Vyc29yIGV4dGVuZHMgQ3Vyc29yIHtcbiAgICAjc3RyZWFtO1xuICAgICNlbmNvZGluZztcbiAgICAjcmVhZGVyO1xuICAgICNxdWV1ZTtcbiAgICAjY2xvc2VkO1xuICAgICNkb25lO1xuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIGNvbnN0cnVjdG9yKHN0cmVhbSwgZW5jb2RpbmcpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy4jc3RyZWFtID0gc3RyZWFtO1xuICAgICAgICB0aGlzLiNlbmNvZGluZyA9IGVuY29kaW5nO1xuICAgICAgICB0aGlzLiNyZWFkZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuI3F1ZXVlID0gbmV3IEJ5dGVRdWV1ZSgxNiAqIDEwMjQpO1xuICAgICAgICB0aGlzLiNjbG9zZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuI2RvbmUgPSBmYWxzZTtcbiAgICB9XG4gICAgYXN5bmMgb3BlbihyZXNwb25zZSkge1xuICAgICAgICBpZiAocmVzcG9uc2UuYm9keSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFByb3RvRXJyb3IoXCJObyByZXNwb25zZSBib2R5IGZvciBjdXJzb3IgcmVxdWVzdFwiKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNyZWFkZXIgPSByZXNwb25zZS5ib2R5LmdldFJlYWRlcigpO1xuICAgICAgICBjb25zdCByZXNwQm9keSA9IGF3YWl0IHRoaXMuI25leHRJdGVtKGpzb25fQ3Vyc29yUmVzcEJvZHksIHByb3RvYnVmX0N1cnNvclJlc3BCb2R5KTtcbiAgICAgICAgaWYgKHJlc3BCb2R5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBQcm90b0Vycm9yKFwiRW1wdHkgcmVzcG9uc2UgdG8gY3Vyc29yIHJlcXVlc3RcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BCb2R5O1xuICAgIH1cbiAgICAvKiogRmV0Y2ggdGhlIG5leHQgZW50cnkgZnJvbSB0aGUgY3Vyc29yLiAqL1xuICAgIG5leHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNuZXh0SXRlbShqc29uX0N1cnNvckVudHJ5LCBwcm90b2J1Zl9DdXJzb3JFbnRyeSk7XG4gICAgfVxuICAgIC8qKiBDbG9zZSB0aGUgY3Vyc29yLiAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLl9zZXRDbG9zZWQobmV3IENsaWVudEVycm9yKFwiQ3Vyc29yIHdhcyBtYW51YWxseSBjbG9zZWRcIikpO1xuICAgIH1cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBfc2V0Q2xvc2VkKGVycm9yKSB7XG4gICAgICAgIGlmICh0aGlzLiNjbG9zZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2Nsb3NlZCA9IGVycm9yO1xuICAgICAgICB0aGlzLiNzdHJlYW0uX2N1cnNvckNsb3NlZCh0aGlzKTtcbiAgICAgICAgaWYgKHRoaXMuI3JlYWRlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLiNyZWFkZXIuY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIFRydWUgaWYgdGhlIGN1cnNvciBpcyBjbG9zZWQuICovXG4gICAgZ2V0IGNsb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2Nsb3NlZCAhPT0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBhc3luYyAjbmV4dEl0ZW0oanNvbkZ1biwgcHJvdG9idWZEZWYpIHtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgaWYgKHRoaXMuI2RvbmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy4jY2xvc2VkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQ2xvc2VkRXJyb3IoXCJDdXJzb3IgaXMgY2xvc2VkXCIsIHRoaXMuI2Nsb3NlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy4jZW5jb2RpbmcgPT09IFwianNvblwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QganNvbkRhdGEgPSB0aGlzLiNwYXJzZUl0ZW1Kc29uKCk7XG4gICAgICAgICAgICAgICAgaWYgKGpzb25EYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QganNvblRleHQgPSBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUoanNvbkRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBqc29uVmFsdWUgPSBKU09OLnBhcnNlKGpzb25UZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGpzb25kLnJlYWRKc29uT2JqZWN0KGpzb25WYWx1ZSwganNvbkZ1bik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy4jZW5jb2RpbmcgPT09IFwicHJvdG9idWZcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByb3RvYnVmRGF0YSA9IHRoaXMuI3BhcnNlSXRlbVByb3RvYnVmKCk7XG4gICAgICAgICAgICAgICAgaWYgKHByb3RvYnVmRGF0YSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBwcm90b2J1ZmQucmVhZFByb3RvYnVmTWVzc2FnZShwcm90b2J1ZkRhdGEsIHByb3RvYnVmRGVmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBpbXBvc3NpYmxlKHRoaXMuI2VuY29kaW5nLCBcIkltcG9zc2libGUgZW5jb2RpbmdcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy4jcmVhZGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW50ZXJuYWxFcnJvcihcIkF0dGVtcHRlZCB0byByZWFkIGZyb20gSFRUUCBjdXJzb3IgYmVmb3JlIGl0IHdhcyBvcGVuZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCB0aGlzLiNyZWFkZXIucmVhZCgpO1xuICAgICAgICAgICAgaWYgKGRvbmUgJiYgdGhpcy4jcXVldWUubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jZG9uZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFByb3RvRXJyb3IoXCJVbmV4cGVjdGVkIGVuZCBvZiBjdXJzb3Igc3RyZWFtXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy4jcXVldWUucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgI3BhcnNlSXRlbUpzb24oKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLiNxdWV1ZS5kYXRhKCk7XG4gICAgICAgIGNvbnN0IG5ld2xpbmVCeXRlID0gMTA7XG4gICAgICAgIGNvbnN0IG5ld2xpbmVQb3MgPSBkYXRhLmluZGV4T2YobmV3bGluZUJ5dGUpO1xuICAgICAgICBpZiAobmV3bGluZVBvcyA8IDApIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QganNvbkRhdGEgPSBkYXRhLnNsaWNlKDAsIG5ld2xpbmVQb3MpO1xuICAgICAgICB0aGlzLiNxdWV1ZS5zaGlmdChuZXdsaW5lUG9zICsgMSk7XG4gICAgICAgIHJldHVybiBqc29uRGF0YTtcbiAgICB9XG4gICAgI3BhcnNlSXRlbVByb3RvYnVmKCkge1xuICAgICAgICBjb25zdCBkYXRhID0gdGhpcy4jcXVldWUuZGF0YSgpO1xuICAgICAgICBsZXQgdmFyaW50VmFsdWUgPSAwO1xuICAgICAgICBsZXQgdmFyaW50TGVuZ3RoID0gMDtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgaWYgKHZhcmludExlbmd0aCA+PSBkYXRhLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYnl0ZSA9IGRhdGFbdmFyaW50TGVuZ3RoXTtcbiAgICAgICAgICAgIHZhcmludFZhbHVlIHw9IChieXRlICYgMHg3ZikgPDwgKDcgKiB2YXJpbnRMZW5ndGgpO1xuICAgICAgICAgICAgdmFyaW50TGVuZ3RoICs9IDE7XG4gICAgICAgICAgICBpZiAoIShieXRlICYgMHg4MCkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGF0YS5ieXRlTGVuZ3RoIDwgdmFyaW50TGVuZ3RoICsgdmFyaW50VmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvdG9idWZEYXRhID0gZGF0YS5zbGljZSh2YXJpbnRMZW5ndGgsIHZhcmludExlbmd0aCArIHZhcmludFZhbHVlKTtcbiAgICAgICAgdGhpcy4jcXVldWUuc2hpZnQodmFyaW50TGVuZ3RoICsgdmFyaW50VmFsdWUpO1xuICAgICAgICByZXR1cm4gcHJvdG9idWZEYXRhO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgeyBTdG10LCBCYXRjaCB9IGZyb20gXCIuLi9zaGFyZWQvanNvbl9lbmNvZGUuanNcIjtcbmltcG9ydCB7IGltcG9zc2libGUgfSBmcm9tIFwiLi4vdXRpbC5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIFBpcGVsaW5lUmVxQm9keSh3LCBtc2cpIHtcbiAgICBpZiAobXNnLmJhdG9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdy5zdHJpbmcoXCJiYXRvblwiLCBtc2cuYmF0b24pO1xuICAgIH1cbiAgICB3LmFycmF5T2JqZWN0cyhcInJlcXVlc3RzXCIsIG1zZy5yZXF1ZXN0cywgU3RyZWFtUmVxdWVzdCk7XG59XG5mdW5jdGlvbiBTdHJlYW1SZXF1ZXN0KHcsIG1zZykge1xuICAgIHcuc3RyaW5nUmF3KFwidHlwZVwiLCBtc2cudHlwZSk7XG4gICAgaWYgKG1zZy50eXBlID09PSBcImNsb3NlXCIpIHtcbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH1cbiAgICBlbHNlIGlmIChtc2cudHlwZSA9PT0gXCJleGVjdXRlXCIpIHtcbiAgICAgICAgdy5vYmplY3QoXCJzdG10XCIsIG1zZy5zdG10LCBTdG10KTtcbiAgICB9XG4gICAgZWxzZSBpZiAobXNnLnR5cGUgPT09IFwiYmF0Y2hcIikge1xuICAgICAgICB3Lm9iamVjdChcImJhdGNoXCIsIG1zZy5iYXRjaCwgQmF0Y2gpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtc2cudHlwZSA9PT0gXCJzZXF1ZW5jZVwiKSB7XG4gICAgICAgIGlmIChtc2cuc3FsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHcuc3RyaW5nKFwic3FsXCIsIG1zZy5zcWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtc2cuc3FsSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdy5udW1iZXIoXCJzcWxfaWRcIiwgbXNnLnNxbElkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChtc2cudHlwZSA9PT0gXCJkZXNjcmliZVwiKSB7XG4gICAgICAgIGlmIChtc2cuc3FsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHcuc3RyaW5nKFwic3FsXCIsIG1zZy5zcWwpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtc2cuc3FsSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdy5udW1iZXIoXCJzcWxfaWRcIiwgbXNnLnNxbElkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmIChtc2cudHlwZSA9PT0gXCJzdG9yZV9zcWxcIikge1xuICAgICAgICB3Lm51bWJlcihcInNxbF9pZFwiLCBtc2cuc3FsSWQpO1xuICAgICAgICB3LnN0cmluZyhcInNxbFwiLCBtc2cuc3FsKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobXNnLnR5cGUgPT09IFwiY2xvc2Vfc3FsXCIpIHtcbiAgICAgICAgdy5udW1iZXIoXCJzcWxfaWRcIiwgbXNnLnNxbElkKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobXNnLnR5cGUgPT09IFwiZ2V0X2F1dG9jb21taXRcIikge1xuICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBpbXBvc3NpYmxlKG1zZywgXCJJbXBvc3NpYmxlIHR5cGUgb2YgU3RyZWFtUmVxdWVzdFwiKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gQ3Vyc29yUmVxQm9keSh3LCBtc2cpIHtcbiAgICBpZiAobXNnLmJhdG9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdy5zdHJpbmcoXCJiYXRvblwiLCBtc2cuYmF0b24pO1xuICAgIH1cbiAgICB3Lm9iamVjdChcImJhdGNoXCIsIG1zZy5iYXRjaCwgQmF0Y2gpO1xufVxuIiwgImltcG9ydCB7IFN0bXQsIEJhdGNoIH0gZnJvbSBcIi4uL3NoYXJlZC9wcm90b2J1Zl9lbmNvZGUuanNcIjtcbmltcG9ydCB7IGltcG9zc2libGUgfSBmcm9tIFwiLi4vdXRpbC5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIFBpcGVsaW5lUmVxQm9keSh3LCBtc2cpIHtcbiAgICBpZiAobXNnLmJhdG9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdy5zdHJpbmcoMSwgbXNnLmJhdG9uKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCByZXEgb2YgbXNnLnJlcXVlc3RzKSB7XG4gICAgICAgIHcubWVzc2FnZSgyLCByZXEsIFN0cmVhbVJlcXVlc3QpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIFN0cmVhbVJlcXVlc3QodywgbXNnKSB7XG4gICAgaWYgKG1zZy50eXBlID09PSBcImNsb3NlXCIpIHtcbiAgICAgICAgdy5tZXNzYWdlKDEsIG1zZywgQ2xvc2VTdHJlYW1SZXEpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtc2cudHlwZSA9PT0gXCJleGVjdXRlXCIpIHtcbiAgICAgICAgdy5tZXNzYWdlKDIsIG1zZywgRXhlY3V0ZVN0cmVhbVJlcSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1zZy50eXBlID09PSBcImJhdGNoXCIpIHtcbiAgICAgICAgdy5tZXNzYWdlKDMsIG1zZywgQmF0Y2hTdHJlYW1SZXEpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtc2cudHlwZSA9PT0gXCJzZXF1ZW5jZVwiKSB7XG4gICAgICAgIHcubWVzc2FnZSg0LCBtc2csIFNlcXVlbmNlU3RyZWFtUmVxKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobXNnLnR5cGUgPT09IFwiZGVzY3JpYmVcIikge1xuICAgICAgICB3Lm1lc3NhZ2UoNSwgbXNnLCBEZXNjcmliZVN0cmVhbVJlcSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKG1zZy50eXBlID09PSBcInN0b3JlX3NxbFwiKSB7XG4gICAgICAgIHcubWVzc2FnZSg2LCBtc2csIFN0b3JlU3FsU3RyZWFtUmVxKTtcbiAgICB9XG4gICAgZWxzZSBpZiAobXNnLnR5cGUgPT09IFwiY2xvc2Vfc3FsXCIpIHtcbiAgICAgICAgdy5tZXNzYWdlKDcsIG1zZywgQ2xvc2VTcWxTdHJlYW1SZXEpO1xuICAgIH1cbiAgICBlbHNlIGlmIChtc2cudHlwZSA9PT0gXCJnZXRfYXV0b2NvbW1pdFwiKSB7XG4gICAgICAgIHcubWVzc2FnZSg4LCBtc2csIEdldEF1dG9jb21taXRTdHJlYW1SZXEpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgaW1wb3NzaWJsZShtc2csIFwiSW1wb3NzaWJsZSB0eXBlIG9mIFN0cmVhbVJlcXVlc3RcIik7XG4gICAgfVxufVxuZnVuY3Rpb24gQ2xvc2VTdHJlYW1SZXEoX3csIF9tc2cpIHtcbn1cbmZ1bmN0aW9uIEV4ZWN1dGVTdHJlYW1SZXEodywgbXNnKSB7XG4gICAgdy5tZXNzYWdlKDEsIG1zZy5zdG10LCBTdG10KTtcbn1cbmZ1bmN0aW9uIEJhdGNoU3RyZWFtUmVxKHcsIG1zZykge1xuICAgIHcubWVzc2FnZSgxLCBtc2cuYmF0Y2gsIEJhdGNoKTtcbn1cbmZ1bmN0aW9uIFNlcXVlbmNlU3RyZWFtUmVxKHcsIG1zZykge1xuICAgIGlmIChtc2cuc3FsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdy5zdHJpbmcoMSwgbXNnLnNxbCk7XG4gICAgfVxuICAgIGlmIChtc2cuc3FsSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB3LmludDMyKDIsIG1zZy5zcWxJZCk7XG4gICAgfVxufVxuZnVuY3Rpb24gRGVzY3JpYmVTdHJlYW1SZXEodywgbXNnKSB7XG4gICAgaWYgKG1zZy5zcWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB3LnN0cmluZygxLCBtc2cuc3FsKTtcbiAgICB9XG4gICAgaWYgKG1zZy5zcWxJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHcuaW50MzIoMiwgbXNnLnNxbElkKTtcbiAgICB9XG59XG5mdW5jdGlvbiBTdG9yZVNxbFN0cmVhbVJlcSh3LCBtc2cpIHtcbiAgICB3LmludDMyKDEsIG1zZy5zcWxJZCk7XG4gICAgdy5zdHJpbmcoMiwgbXNnLnNxbCk7XG59XG5mdW5jdGlvbiBDbG9zZVNxbFN0cmVhbVJlcSh3LCBtc2cpIHtcbiAgICB3LmludDMyKDEsIG1zZy5zcWxJZCk7XG59XG5mdW5jdGlvbiBHZXRBdXRvY29tbWl0U3RyZWFtUmVxKF93LCBfbXNnKSB7XG59XG5leHBvcnQgZnVuY3Rpb24gQ3Vyc29yUmVxQm9keSh3LCBtc2cpIHtcbiAgICBpZiAobXNnLmJhdG9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdy5zdHJpbmcoMSwgbXNnLmJhdG9uKTtcbiAgICB9XG4gICAgdy5tZXNzYWdlKDIsIG1zZy5iYXRjaCwgQmF0Y2gpO1xufVxuIiwgImltcG9ydCB7IFJlcXVlc3QsIEhlYWRlcnMgfSBmcm9tIFwiQGxpYnNxbC9pc29tb3JwaGljLWZldGNoXCI7XG5pbXBvcnQgeyBDbGllbnRFcnJvciwgSHR0cFNlcnZlckVycm9yLCBQcm90b2NvbFZlcnNpb25FcnJvciwgUHJvdG9FcnJvciwgQ2xvc2VkRXJyb3IsIEludGVybmFsRXJyb3IsIH0gZnJvbSBcIi4uL2Vycm9ycy5qc1wiO1xuaW1wb3J0IHsgcmVhZEpzb25PYmplY3QsIHdyaXRlSnNvbk9iamVjdCwgcmVhZFByb3RvYnVmTWVzc2FnZSwgd3JpdGVQcm90b2J1Zk1lc3NhZ2UsIH0gZnJvbSBcIi4uL2VuY29kaW5nL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBJZEFsbG9jIH0gZnJvbSBcIi4uL2lkX2FsbG9jLmpzXCI7XG5pbXBvcnQgeyBRdWV1ZSB9IGZyb20gXCIuLi9xdWV1ZS5qc1wiO1xuaW1wb3J0IHsgcXVldWVNaWNyb3Rhc2sgfSBmcm9tIFwiLi4vcXVldWVfbWljcm90YXNrLmpzXCI7XG5pbXBvcnQgeyBlcnJvckZyb21Qcm90byB9IGZyb20gXCIuLi9yZXN1bHQuanNcIjtcbmltcG9ydCB7IFNxbCB9IGZyb20gXCIuLi9zcWwuanNcIjtcbmltcG9ydCB7IFN0cmVhbSB9IGZyb20gXCIuLi9zdHJlYW0uanNcIjtcbmltcG9ydCB7IGltcG9zc2libGUgfSBmcm9tIFwiLi4vdXRpbC5qc1wiO1xuaW1wb3J0IHsgSHR0cEN1cnNvciB9IGZyb20gXCIuL2N1cnNvci5qc1wiO1xuaW1wb3J0IHsgUGlwZWxpbmVSZXFCb2R5IGFzIGpzb25fUGlwZWxpbmVSZXFCb2R5IH0gZnJvbSBcIi4vanNvbl9lbmNvZGUuanNcIjtcbmltcG9ydCB7IFBpcGVsaW5lUmVxQm9keSBhcyBwcm90b2J1Zl9QaXBlbGluZVJlcUJvZHkgfSBmcm9tIFwiLi9wcm90b2J1Zl9lbmNvZGUuanNcIjtcbmltcG9ydCB7IEN1cnNvclJlcUJvZHkgYXMganNvbl9DdXJzb3JSZXFCb2R5IH0gZnJvbSBcIi4vanNvbl9lbmNvZGUuanNcIjtcbmltcG9ydCB7IEN1cnNvclJlcUJvZHkgYXMgcHJvdG9idWZfQ3Vyc29yUmVxQm9keSB9IGZyb20gXCIuL3Byb3RvYnVmX2VuY29kZS5qc1wiO1xuaW1wb3J0IHsgUGlwZWxpbmVSZXNwQm9keSBhcyBqc29uX1BpcGVsaW5lUmVzcEJvZHkgfSBmcm9tIFwiLi9qc29uX2RlY29kZS5qc1wiO1xuaW1wb3J0IHsgUGlwZWxpbmVSZXNwQm9keSBhcyBwcm90b2J1Zl9QaXBlbGluZVJlc3BCb2R5IH0gZnJvbSBcIi4vcHJvdG9idWZfZGVjb2RlLmpzXCI7XG5leHBvcnQgY2xhc3MgSHR0cFN0cmVhbSBleHRlbmRzIFN0cmVhbSB7XG4gICAgI2NsaWVudDtcbiAgICAjYmFzZVVybDtcbiAgICAjand0O1xuICAgICNmZXRjaDtcbiAgICAjYmF0b247XG4gICAgI3F1ZXVlO1xuICAgICNmbHVzaGluZztcbiAgICAjY3Vyc29yO1xuICAgICNjbG9zaW5nO1xuICAgICNjbG9zZVF1ZXVlZDtcbiAgICAjY2xvc2VkO1xuICAgICNzcWxJZEFsbG9jO1xuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIGNvbnN0cnVjdG9yKGNsaWVudCwgYmFzZVVybCwgand0LCBjdXN0b21GZXRjaCkge1xuICAgICAgICBzdXBlcihjbGllbnQuaW50TW9kZSk7XG4gICAgICAgIHRoaXMuI2NsaWVudCA9IGNsaWVudDtcbiAgICAgICAgdGhpcy4jYmFzZVVybCA9IGJhc2VVcmwudG9TdHJpbmcoKTtcbiAgICAgICAgdGhpcy4jand0ID0gand0O1xuICAgICAgICB0aGlzLiNmZXRjaCA9IGN1c3RvbUZldGNoO1xuICAgICAgICB0aGlzLiNiYXRvbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy4jcXVldWUgPSBuZXcgUXVldWUoKTtcbiAgICAgICAgdGhpcy4jZmx1c2hpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy4jY2xvc2luZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLiNjbG9zZVF1ZXVlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLiNjbG9zZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuI3NxbElkQWxsb2MgPSBuZXcgSWRBbGxvYygpO1xuICAgIH1cbiAgICAvKiogR2V0IHRoZSB7QGxpbmsgSHR0cENsaWVudH0gb2JqZWN0IHRoYXQgdGhpcyBzdHJlYW0gYmVsb25ncyB0by4gKi9cbiAgICBjbGllbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNjbGllbnQ7XG4gICAgfVxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIF9zcWxPd25lcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBDYWNoZSBhIFNRTCB0ZXh0IG9uIHRoZSBzZXJ2ZXIuICovXG4gICAgc3RvcmVTcWwoc3FsKSB7XG4gICAgICAgIGNvbnN0IHNxbElkID0gdGhpcy4jc3FsSWRBbGxvYy5hbGxvYygpO1xuICAgICAgICB0aGlzLiNzZW5kU3RyZWFtUmVxdWVzdCh7IHR5cGU6IFwic3RvcmVfc3FsXCIsIHNxbElkLCBzcWwgfSkudGhlbigoKSA9PiB1bmRlZmluZWQsIChlcnJvcikgPT4gdGhpcy5fc2V0Q2xvc2VkKGVycm9yKSk7XG4gICAgICAgIHJldHVybiBuZXcgU3FsKHRoaXMsIHNxbElkKTtcbiAgICB9XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgX2Nsb3NlU3FsKHNxbElkKSB7XG4gICAgICAgIGlmICh0aGlzLiNjbG9zZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI3NlbmRTdHJlYW1SZXF1ZXN0KHsgdHlwZTogXCJjbG9zZV9zcWxcIiwgc3FsSWQgfSkudGhlbigoKSA9PiB0aGlzLiNzcWxJZEFsbG9jLmZyZWUoc3FsSWQpLCAoZXJyb3IpID0+IHRoaXMuX3NldENsb3NlZChlcnJvcikpO1xuICAgIH1cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBfZXhlY3V0ZShzdG10KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNzZW5kU3RyZWFtUmVxdWVzdCh7IHR5cGU6IFwiZXhlY3V0ZVwiLCBzdG10IH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UucmVzdWx0O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgX2JhdGNoKGJhdGNoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNzZW5kU3RyZWFtUmVxdWVzdCh7IHR5cGU6IFwiYmF0Y2hcIiwgYmF0Y2ggfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5yZXN1bHQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBfZGVzY3JpYmUocHJvdG9TcWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3NlbmRTdHJlYW1SZXF1ZXN0KHtcbiAgICAgICAgICAgIHR5cGU6IFwiZGVzY3JpYmVcIixcbiAgICAgICAgICAgIHNxbDogcHJvdG9TcWwuc3FsLFxuICAgICAgICAgICAgc3FsSWQ6IHByb3RvU3FsLnNxbElkXG4gICAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UucmVzdWx0O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgX3NlcXVlbmNlKHByb3RvU3FsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNzZW5kU3RyZWFtUmVxdWVzdCh7XG4gICAgICAgICAgICB0eXBlOiBcInNlcXVlbmNlXCIsXG4gICAgICAgICAgICBzcWw6IHByb3RvU3FsLnNxbCxcbiAgICAgICAgICAgIHNxbElkOiBwcm90b1NxbC5zcWxJZCxcbiAgICAgICAgfSkudGhlbigoX3Jlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIENoZWNrIHdoZXRoZXIgdGhlIFNRTCBjb25uZWN0aW9uIHVuZGVybHlpbmcgdGhpcyBzdHJlYW0gaXMgaW4gYXV0b2NvbW1pdCBzdGF0ZSAoaS5lLiwgb3V0c2lkZSBvZiBhblxuICAgICAqIGV4cGxpY2l0IHRyYW5zYWN0aW9uKS4gVGhpcyByZXF1aXJlcyBwcm90b2NvbCB2ZXJzaW9uIDMgb3IgaGlnaGVyLlxuICAgICAqL1xuICAgIGdldEF1dG9jb21taXQoKSB7XG4gICAgICAgIHRoaXMuI2NsaWVudC5fZW5zdXJlVmVyc2lvbigzLCBcImdldEF1dG9jb21taXQoKVwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3NlbmRTdHJlYW1SZXF1ZXN0KHtcbiAgICAgICAgICAgIHR5cGU6IFwiZ2V0X2F1dG9jb21taXRcIixcbiAgICAgICAgfSkudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5pc0F1dG9jb21taXQ7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAjc2VuZFN0cmVhbVJlcXVlc3QocmVxdWVzdCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc3BvbnNlQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2spID0+IHtcbiAgICAgICAgICAgIHRoaXMuI3B1c2hUb1F1ZXVlKHsgdHlwZTogXCJwaXBlbGluZVwiLCByZXF1ZXN0LCByZXNwb25zZUNhbGxiYWNrLCBlcnJvckNhbGxiYWNrIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgX29wZW5DdXJzb3IoYmF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChjdXJzb3JDYWxsYmFjaywgZXJyb3JDYWxsYmFjaykgPT4ge1xuICAgICAgICAgICAgdGhpcy4jcHVzaFRvUXVldWUoeyB0eXBlOiBcImN1cnNvclwiLCBiYXRjaCwgY3Vyc29yQ2FsbGJhY2ssIGVycm9yQ2FsbGJhY2sgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBfY3Vyc29yQ2xvc2VkKGN1cnNvcikge1xuICAgICAgICBpZiAoY3Vyc29yICE9PSB0aGlzLiNjdXJzb3IpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnRlcm5hbEVycm9yKFwiQ3Vyc29yIHdhcyBjbG9zZWQsIGJ1dCBpdCB3YXMgbm90IGFzc29jaWF0ZWQgd2l0aCB0aGUgc3RyZWFtXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2N1cnNvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4gdGhpcy4jZmx1c2hRdWV1ZSgpKTtcbiAgICB9XG4gICAgLyoqIEltbWVkaWF0ZWx5IGNsb3NlIHRoZSBzdHJlYW0uICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuX3NldENsb3NlZChuZXcgQ2xpZW50RXJyb3IoXCJTdHJlYW0gd2FzIG1hbnVhbGx5IGNsb3NlZFwiKSk7XG4gICAgfVxuICAgIC8qKiBHcmFjZWZ1bGx5IGNsb3NlIHRoZSBzdHJlYW0uICovXG4gICAgY2xvc2VHcmFjZWZ1bGx5KCkge1xuICAgICAgICB0aGlzLiNjbG9zaW5nID0gdHJ1ZTtcbiAgICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4gdGhpcy4jZmx1c2hRdWV1ZSgpKTtcbiAgICB9XG4gICAgLyoqIFRydWUgaWYgdGhlIHN0cmVhbSBpcyBjbG9zZWQuICovXG4gICAgZ2V0IGNsb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2Nsb3NlZCAhPT0gdW5kZWZpbmVkIHx8IHRoaXMuI2Nsb3Npbmc7XG4gICAgfVxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIF9zZXRDbG9zZWQoZXJyb3IpIHtcbiAgICAgICAgaWYgKHRoaXMuI2Nsb3NlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jY2xvc2VkID0gZXJyb3I7XG4gICAgICAgIGlmICh0aGlzLiNjdXJzb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy4jY3Vyc29yLl9zZXRDbG9zZWQoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuI2NsaWVudC5fc3RyZWFtQ2xvc2VkKHRoaXMpO1xuICAgICAgICBmb3IgKDs7KSB7XG4gICAgICAgICAgICBjb25zdCBlbnRyeSA9IHRoaXMuI3F1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICBpZiAoZW50cnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGVudHJ5LmVycm9yQ2FsbGJhY2soZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCh0aGlzLiNiYXRvbiAhPT0gdW5kZWZpbmVkIHx8IHRoaXMuI2ZsdXNoaW5nKSAmJiAhdGhpcy4jY2xvc2VRdWV1ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuI3F1ZXVlLnB1c2goe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwicGlwZWxpbmVcIixcbiAgICAgICAgICAgICAgICByZXF1ZXN0OiB7IHR5cGU6IFwiY2xvc2VcIiB9LFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlQ2FsbGJhY2s6ICgpID0+IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrOiAoKSA9PiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuI2Nsb3NlUXVldWVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHRoaXMuI2ZsdXNoUXVldWUoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgI3B1c2hUb1F1ZXVlKGVudHJ5KSB7XG4gICAgICAgIGlmICh0aGlzLiNjbG9zZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IENsb3NlZEVycm9yKFwiU3RyZWFtIGlzIGNsb3NlZFwiLCB0aGlzLiNjbG9zZWQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuI2Nsb3NpbmcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDbG9zZWRFcnJvcihcIlN0cmVhbSBpcyBjbG9zaW5nXCIsIHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLiNxdWV1ZS5wdXNoKGVudHJ5KTtcbiAgICAgICAgICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHRoaXMuI2ZsdXNoUXVldWUoKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgI2ZsdXNoUXVldWUoKSB7XG4gICAgICAgIGlmICh0aGlzLiNmbHVzaGluZyB8fCB0aGlzLiNjdXJzb3IgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLiNjbG9zaW5nICYmIHRoaXMuI3F1ZXVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5fc2V0Q2xvc2VkKG5ldyBDbGllbnRFcnJvcihcIlN0cmVhbSB3YXMgZ3JhY2VmdWxseSBjbG9zZWRcIikpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVuZHBvaW50ID0gdGhpcy4jY2xpZW50Ll9lbmRwb2ludDtcbiAgICAgICAgaWYgKGVuZHBvaW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuI2NsaWVudC5fZW5kcG9pbnRQcm9taXNlLnRoZW4oKCkgPT4gdGhpcy4jZmx1c2hRdWV1ZSgpLCAoZXJyb3IpID0+IHRoaXMuX3NldENsb3NlZChlcnJvcikpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpcnN0RW50cnkgPSB0aGlzLiNxdWV1ZS5zaGlmdCgpO1xuICAgICAgICBpZiAoZmlyc3RFbnRyeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZmlyc3RFbnRyeS50eXBlID09PSBcInBpcGVsaW5lXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHBpcGVsaW5lID0gW2ZpcnN0RW50cnldO1xuICAgICAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVudHJ5ID0gdGhpcy4jcXVldWUuZmlyc3QoKTtcbiAgICAgICAgICAgICAgICBpZiAoZW50cnkgIT09IHVuZGVmaW5lZCAmJiBlbnRyeS50eXBlID09PSBcInBpcGVsaW5lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcGlwZWxpbmUucHVzaChlbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuI3F1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGVudHJ5ID09PSB1bmRlZmluZWQgJiYgdGhpcy4jY2xvc2luZyAmJiAhdGhpcy4jY2xvc2VRdWV1ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcGlwZWxpbmUucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInBpcGVsaW5lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0OiB7IHR5cGU6IFwiY2xvc2VcIiB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VDYWxsYmFjazogKCkgPT4gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JDYWxsYmFjazogKCkgPT4gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jY2xvc2VRdWV1ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuI2ZsdXNoUGlwZWxpbmUoZW5kcG9pbnQsIHBpcGVsaW5lKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChmaXJzdEVudHJ5LnR5cGUgPT09IFwiY3Vyc29yXCIpIHtcbiAgICAgICAgICAgIHRoaXMuI2ZsdXNoQ3Vyc29yKGVuZHBvaW50LCBmaXJzdEVudHJ5KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGltcG9zc2libGUoZmlyc3RFbnRyeSwgXCJJbXBvc3NpYmxlIHR5cGUgb2YgUXVldWVFbnRyeVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAjZmx1c2hQaXBlbGluZShlbmRwb2ludCwgcGlwZWxpbmUpIHtcbiAgICAgICAgdGhpcy4jZmx1c2goKCkgPT4gdGhpcy4jY3JlYXRlUGlwZWxpbmVSZXF1ZXN0KHBpcGVsaW5lLCBlbmRwb2ludCksIChyZXNwKSA9PiBkZWNvZGVQaXBlbGluZVJlc3BvbnNlKHJlc3AsIGVuZHBvaW50LmVuY29kaW5nKSwgKHJlc3BCb2R5KSA9PiByZXNwQm9keS5iYXRvbiwgKHJlc3BCb2R5KSA9PiByZXNwQm9keS5iYXNlVXJsLCAocmVzcEJvZHkpID0+IGhhbmRsZVBpcGVsaW5lUmVzcG9uc2UocGlwZWxpbmUsIHJlc3BCb2R5KSwgKGVycm9yKSA9PiBwaXBlbGluZS5mb3JFYWNoKChlbnRyeSkgPT4gZW50cnkuZXJyb3JDYWxsYmFjayhlcnJvcikpKTtcbiAgICB9XG4gICAgI2ZsdXNoQ3Vyc29yKGVuZHBvaW50LCBlbnRyeSkge1xuICAgICAgICBjb25zdCBjdXJzb3IgPSBuZXcgSHR0cEN1cnNvcih0aGlzLCBlbmRwb2ludC5lbmNvZGluZyk7XG4gICAgICAgIHRoaXMuI2N1cnNvciA9IGN1cnNvcjtcbiAgICAgICAgdGhpcy4jZmx1c2goKCkgPT4gdGhpcy4jY3JlYXRlQ3Vyc29yUmVxdWVzdChlbnRyeSwgZW5kcG9pbnQpLCAocmVzcCkgPT4gY3Vyc29yLm9wZW4ocmVzcCksIChyZXNwQm9keSkgPT4gcmVzcEJvZHkuYmF0b24sIChyZXNwQm9keSkgPT4gcmVzcEJvZHkuYmFzZVVybCwgKF9yZXNwQm9keSkgPT4gZW50cnkuY3Vyc29yQ2FsbGJhY2soY3Vyc29yKSwgKGVycm9yKSA9PiBlbnRyeS5lcnJvckNhbGxiYWNrKGVycm9yKSk7XG4gICAgfVxuICAgICNmbHVzaChjcmVhdGVSZXF1ZXN0LCBkZWNvZGVSZXNwb25zZSwgZ2V0QmF0b24sIGdldEJhc2VVcmwsIGhhbmRsZVJlc3BvbnNlLCBoYW5kbGVFcnJvcikge1xuICAgICAgICBsZXQgcHJvbWlzZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3QgPSBjcmVhdGVSZXF1ZXN0KCk7XG4gICAgICAgICAgICBjb25zdCBmZXRjaCA9IHRoaXMuI2ZldGNoO1xuICAgICAgICAgICAgcHJvbWlzZSA9IGZldGNoKHJlcXVlc3QpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcHJvbWlzZSA9IFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLiNmbHVzaGluZyA9IHRydWU7XG4gICAgICAgIHByb21pc2UudGhlbigocmVzcCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFyZXNwLm9rKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVycm9yRnJvbVJlc3BvbnNlKHJlc3ApLnRoZW4oKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGRlY29kZVJlc3BvbnNlKHJlc3ApO1xuICAgICAgICB9KS50aGVuKChyKSA9PiB7XG4gICAgICAgICAgICB0aGlzLiNiYXRvbiA9IGdldEJhdG9uKHIpO1xuICAgICAgICAgICAgdGhpcy4jYmFzZVVybCA9IGdldEJhc2VVcmwocikgPz8gdGhpcy4jYmFzZVVybDtcbiAgICAgICAgICAgIGhhbmRsZVJlc3BvbnNlKHIpO1xuICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3NldENsb3NlZChlcnJvcik7XG4gICAgICAgICAgICBoYW5kbGVFcnJvcihlcnJvcik7XG4gICAgICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy4jZmx1c2hpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuI2ZsdXNoUXVldWUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgICNjcmVhdGVQaXBlbGluZVJlcXVlc3QocGlwZWxpbmUsIGVuZHBvaW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNjcmVhdGVSZXF1ZXN0KG5ldyBVUkwoZW5kcG9pbnQucGlwZWxpbmVQYXRoLCB0aGlzLiNiYXNlVXJsKSwge1xuICAgICAgICAgICAgYmF0b246IHRoaXMuI2JhdG9uLFxuICAgICAgICAgICAgcmVxdWVzdHM6IHBpcGVsaW5lLm1hcCgoZW50cnkpID0+IGVudHJ5LnJlcXVlc3QpLFxuICAgICAgICB9LCBlbmRwb2ludC5lbmNvZGluZywganNvbl9QaXBlbGluZVJlcUJvZHksIHByb3RvYnVmX1BpcGVsaW5lUmVxQm9keSk7XG4gICAgfVxuICAgICNjcmVhdGVDdXJzb3JSZXF1ZXN0KGVudHJ5LCBlbmRwb2ludCkge1xuICAgICAgICBpZiAoZW5kcG9pbnQuY3Vyc29yUGF0aCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgUHJvdG9jb2xWZXJzaW9uRXJyb3IoXCJDdXJzb3JzIGFyZSBzdXBwb3J0ZWQgb25seSBvbiBwcm90b2NvbCB2ZXJzaW9uIDMgYW5kIGhpZ2hlciwgXCIgK1xuICAgICAgICAgICAgICAgIGBidXQgdGhlIEhUVFAgc2VydmVyIG9ubHkgc3VwcG9ydHMgdmVyc2lvbiAke2VuZHBvaW50LnZlcnNpb259LmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLiNjcmVhdGVSZXF1ZXN0KG5ldyBVUkwoZW5kcG9pbnQuY3Vyc29yUGF0aCwgdGhpcy4jYmFzZVVybCksIHtcbiAgICAgICAgICAgIGJhdG9uOiB0aGlzLiNiYXRvbixcbiAgICAgICAgICAgIGJhdGNoOiBlbnRyeS5iYXRjaCxcbiAgICAgICAgfSwgZW5kcG9pbnQuZW5jb2RpbmcsIGpzb25fQ3Vyc29yUmVxQm9keSwgcHJvdG9idWZfQ3Vyc29yUmVxQm9keSk7XG4gICAgfVxuICAgICNjcmVhdGVSZXF1ZXN0KHVybCwgcmVxQm9keSwgZW5jb2RpbmcsIGpzb25GdW4sIHByb3RvYnVmRnVuKSB7XG4gICAgICAgIGxldCBib2R5RGF0YTtcbiAgICAgICAgbGV0IGNvbnRlbnRUeXBlO1xuICAgICAgICBpZiAoZW5jb2RpbmcgPT09IFwianNvblwiKSB7XG4gICAgICAgICAgICBib2R5RGF0YSA9IHdyaXRlSnNvbk9iamVjdChyZXFCb2R5LCBqc29uRnVuKTtcbiAgICAgICAgICAgIGNvbnRlbnRUeXBlID0gXCJhcHBsaWNhdGlvbi9qc29uXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZW5jb2RpbmcgPT09IFwicHJvdG9idWZcIikge1xuICAgICAgICAgICAgYm9keURhdGEgPSB3cml0ZVByb3RvYnVmTWVzc2FnZShyZXFCb2R5LCBwcm90b2J1ZkZ1bik7XG4gICAgICAgICAgICBjb250ZW50VHlwZSA9IFwiYXBwbGljYXRpb24veC1wcm90b2J1ZlwiO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgaW1wb3NzaWJsZShlbmNvZGluZywgXCJJbXBvc3NpYmxlIGVuY29kaW5nXCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICAgICAgICBoZWFkZXJzLnNldChcImNvbnRlbnQtdHlwZVwiLCBjb250ZW50VHlwZSk7XG4gICAgICAgIGlmICh0aGlzLiNqd3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoXCJhdXRob3JpemF0aW9uXCIsIGBCZWFyZXIgJHt0aGlzLiNqd3R9YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZXF1ZXN0KHVybC50b1N0cmluZygpLCB7IG1ldGhvZDogXCJQT1NUXCIsIGhlYWRlcnMsIGJvZHk6IGJvZHlEYXRhIH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGhhbmRsZVBpcGVsaW5lUmVzcG9uc2UocGlwZWxpbmUsIHJlc3BCb2R5KSB7XG4gICAgaWYgKHJlc3BCb2R5LnJlc3VsdHMubGVuZ3RoICE9PSBwaXBlbGluZS5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IFByb3RvRXJyb3IoXCJTZXJ2ZXIgcmV0dXJuZWQgdW5leHBlY3RlZCBudW1iZXIgb2YgcGlwZWxpbmUgcmVzdWx0c1wiKTtcbiAgICB9XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwaXBlbGluZS5sZW5ndGg7ICsraSkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSByZXNwQm9keS5yZXN1bHRzW2ldO1xuICAgICAgICBjb25zdCBlbnRyeSA9IHBpcGVsaW5lW2ldO1xuICAgICAgICBpZiAocmVzdWx0LnR5cGUgPT09IFwib2tcIikge1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5yZXNwb25zZS50eXBlICE9PSBlbnRyeS5yZXF1ZXN0LnR5cGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUHJvdG9FcnJvcihcIlJlY2VpdmVkIHVuZXhwZWN0ZWQgdHlwZSBvZiByZXNwb25zZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVudHJ5LnJlc3BvbnNlQ2FsbGJhY2socmVzdWx0LnJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChyZXN1bHQudHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgICAgICBlbnRyeS5lcnJvckNhbGxiYWNrKGVycm9yRnJvbVByb3RvKHJlc3VsdC5lcnJvcikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHJlc3VsdC50eXBlID09PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFByb3RvRXJyb3IoXCJSZWNlaXZlZCB1bnJlY29nbml6ZWQgdHlwZSBvZiBTdHJlYW1SZXN1bHRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBpbXBvc3NpYmxlKHJlc3VsdCwgXCJSZWNlaXZlZCBpbXBvc3NpYmxlIHR5cGUgb2YgU3RyZWFtUmVzdWx0XCIpO1xuICAgICAgICB9XG4gICAgfVxufVxuYXN5bmMgZnVuY3Rpb24gZGVjb2RlUGlwZWxpbmVSZXNwb25zZShyZXNwLCBlbmNvZGluZykge1xuICAgIGlmIChlbmNvZGluZyA9PT0gXCJqc29uXCIpIHtcbiAgICAgICAgY29uc3QgcmVzcEpzb24gPSBhd2FpdCByZXNwLmpzb24oKTtcbiAgICAgICAgcmV0dXJuIHJlYWRKc29uT2JqZWN0KHJlc3BKc29uLCBqc29uX1BpcGVsaW5lUmVzcEJvZHkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChlbmNvZGluZyA9PT0gXCJwcm90b2J1ZlwiKSB7XG4gICAgICAgIGNvbnN0IHJlc3BEYXRhID0gYXdhaXQgcmVzcC5hcnJheUJ1ZmZlcigpO1xuICAgICAgICByZXR1cm4gcmVhZFByb3RvYnVmTWVzc2FnZShuZXcgVWludDhBcnJheShyZXNwRGF0YSksIHByb3RvYnVmX1BpcGVsaW5lUmVzcEJvZHkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgaW1wb3NzaWJsZShlbmNvZGluZywgXCJJbXBvc3NpYmxlIGVuY29kaW5nXCIpO1xuICAgIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGVycm9yRnJvbVJlc3BvbnNlKHJlc3ApIHtcbiAgICBjb25zdCByZXNwVHlwZSA9IHJlc3AuaGVhZGVycy5nZXQoXCJjb250ZW50LXR5cGVcIikgPz8gXCJ0ZXh0L3BsYWluXCI7XG4gICAgaWYgKHJlc3BUeXBlID09PSBcImFwcGxpY2F0aW9uL2pzb25cIikge1xuICAgICAgICBjb25zdCByZXNwQm9keSA9IGF3YWl0IHJlc3AuanNvbigpO1xuICAgICAgICBpZiAoXCJtZXNzYWdlXCIgaW4gcmVzcEJvZHkpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvckZyb21Qcm90byhyZXNwQm9keSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgbGV0IG1lc3NhZ2UgPSBgU2VydmVyIHJldHVybmVkIEhUVFAgc3RhdHVzICR7cmVzcC5zdGF0dXN9YDtcbiAgICBpZiAocmVzcFR5cGUgPT09IFwidGV4dC9wbGFpblwiKSB7XG4gICAgICAgIGNvbnN0IHJlc3BCb2R5ID0gKGF3YWl0IHJlc3AudGV4dCgpKS50cmltKCk7XG4gICAgICAgIGlmIChyZXNwQm9keSAhPT0gXCJcIikge1xuICAgICAgICAgICAgbWVzc2FnZSArPSBgOiAke3Jlc3BCb2R5fWA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBIdHRwU2VydmVyRXJyb3IobWVzc2FnZSwgcmVzcC5zdGF0dXMpO1xufVxuIiwgImltcG9ydCB7IGZldGNoLCBSZXF1ZXN0IH0gZnJvbSBcIkBsaWJzcWwvaXNvbW9ycGhpYy1mZXRjaFwiO1xuaW1wb3J0IHsgQ2xpZW50IH0gZnJvbSBcIi4uL2NsaWVudC5qc1wiO1xuaW1wb3J0IHsgQ2xpZW50RXJyb3IsIENsb3NlZEVycm9yLCBQcm90b2NvbFZlcnNpb25FcnJvciB9IGZyb20gXCIuLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IEh0dHBTdHJlYW0gfSBmcm9tIFwiLi9zdHJlYW0uanNcIjtcbmV4cG9ydCBjb25zdCBjaGVja0VuZHBvaW50cyA9IFtcbiAgICB7XG4gICAgICAgIHZlcnNpb25QYXRoOiBcInYzLXByb3RvYnVmXCIsXG4gICAgICAgIHBpcGVsaW5lUGF0aDogXCJ2My1wcm90b2J1Zi9waXBlbGluZVwiLFxuICAgICAgICBjdXJzb3JQYXRoOiBcInYzLXByb3RvYnVmL2N1cnNvclwiLFxuICAgICAgICB2ZXJzaW9uOiAzLFxuICAgICAgICBlbmNvZGluZzogXCJwcm90b2J1ZlwiLFxuICAgIH0sXG4gICAgLypcbiAgICB7XG4gICAgICAgIHZlcnNpb25QYXRoOiBcInYzXCIsXG4gICAgICAgIHBpcGVsaW5lUGF0aDogXCJ2My9waXBlbGluZVwiLFxuICAgICAgICBjdXJzb3JQYXRoOiBcInYzL2N1cnNvclwiLFxuICAgICAgICB2ZXJzaW9uOiAzLFxuICAgICAgICBlbmNvZGluZzogXCJqc29uXCIsXG4gICAgfSxcbiAgICAqL1xuXTtcbmNvbnN0IGZhbGxiYWNrRW5kcG9pbnQgPSB7XG4gICAgdmVyc2lvblBhdGg6IFwidjJcIixcbiAgICBwaXBlbGluZVBhdGg6IFwidjIvcGlwZWxpbmVcIixcbiAgICBjdXJzb3JQYXRoOiB1bmRlZmluZWQsXG4gICAgdmVyc2lvbjogMixcbiAgICBlbmNvZGluZzogXCJqc29uXCIsXG59O1xuLyoqIEEgY2xpZW50IGZvciB0aGUgSHJhbmEgcHJvdG9jb2wgb3ZlciBIVFRQLiAqL1xuZXhwb3J0IGNsYXNzIEh0dHBDbGllbnQgZXh0ZW5kcyBDbGllbnQge1xuICAgICN1cmw7XG4gICAgI2p3dDtcbiAgICAjZmV0Y2g7XG4gICAgI2Nsb3NlZDtcbiAgICAjc3RyZWFtcztcbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBfZW5kcG9pbnRQcm9taXNlO1xuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIF9lbmRwb2ludDtcbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBjb25zdHJ1Y3Rvcih1cmwsIGp3dCwgY3VzdG9tRmV0Y2gsIHByb3RvY29sVmVyc2lvbiA9IDIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy4jdXJsID0gdXJsO1xuICAgICAgICB0aGlzLiNqd3QgPSBqd3Q7XG4gICAgICAgIHRoaXMuI2ZldGNoID0gY3VzdG9tRmV0Y2ggPz8gZmV0Y2g7XG4gICAgICAgIHRoaXMuI2Nsb3NlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy4jc3RyZWFtcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgaWYgKHByb3RvY29sVmVyc2lvbiA9PSAzKSB7XG4gICAgICAgICAgICB0aGlzLl9lbmRwb2ludFByb21pc2UgPSBmaW5kRW5kcG9pbnQodGhpcy4jZmV0Y2gsIHRoaXMuI3VybCk7XG4gICAgICAgICAgICB0aGlzLl9lbmRwb2ludFByb21pc2UudGhlbigoZW5kcG9pbnQpID0+IHRoaXMuX2VuZHBvaW50ID0gZW5kcG9pbnQsIChlcnJvcikgPT4gdGhpcy4jc2V0Q2xvc2VkKGVycm9yKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9lbmRwb2ludFByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoZmFsbGJhY2tFbmRwb2ludCk7XG4gICAgICAgICAgICB0aGlzLl9lbmRwb2ludFByb21pc2UudGhlbigoZW5kcG9pbnQpID0+IHRoaXMuX2VuZHBvaW50ID0gZW5kcG9pbnQsIChlcnJvcikgPT4gdGhpcy4jc2V0Q2xvc2VkKGVycm9yKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEdldCB0aGUgcHJvdG9jb2wgdmVyc2lvbiBzdXBwb3J0ZWQgYnkgdGhlIHNlcnZlci4gKi9cbiAgICBhc3luYyBnZXRWZXJzaW9uKCkge1xuICAgICAgICBpZiAodGhpcy5fZW5kcG9pbnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2VuZHBvaW50LnZlcnNpb247XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChhd2FpdCB0aGlzLl9lbmRwb2ludFByb21pc2UpLnZlcnNpb247XG4gICAgfVxuICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBuZWdvdGlhdGVkIHZlcnNpb24gaXMgYXQgbGVhc3QgYG1pblZlcnNpb25gLlxuICAgIC8qKiBAcHJpdmF0ZSAqL1xuICAgIF9lbnN1cmVWZXJzaW9uKG1pblZlcnNpb24sIGZlYXR1cmUpIHtcbiAgICAgICAgaWYgKG1pblZlcnNpb24gPD0gZmFsbGJhY2tFbmRwb2ludC52ZXJzaW9uKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5fZW5kcG9pbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFByb3RvY29sVmVyc2lvbkVycm9yKGAke2ZlYXR1cmV9IGlzIHN1cHBvcnRlZCBvbmx5IG9uIHByb3RvY29sIHZlcnNpb24gJHttaW5WZXJzaW9ufSBhbmQgaGlnaGVyLCBgICtcbiAgICAgICAgICAgICAgICBcImJ1dCB0aGUgdmVyc2lvbiBzdXBwb3J0ZWQgYnkgdGhlIEhUVFAgc2VydmVyIGlzIG5vdCB5ZXQga25vd24uIFwiICtcbiAgICAgICAgICAgICAgICBcIlVzZSBDbGllbnQuZ2V0VmVyc2lvbigpIHRvIHdhaXQgdW50aWwgdGhlIHZlcnNpb24gaXMgYXZhaWxhYmxlLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9lbmRwb2ludC52ZXJzaW9uIDwgbWluVmVyc2lvbikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFByb3RvY29sVmVyc2lvbkVycm9yKGAke2ZlYXR1cmV9IGlzIHN1cHBvcnRlZCBvbmx5IG9uIHByb3RvY29sIHZlcnNpb24gJHttaW5WZXJzaW9ufSBhbmQgaGlnaGVyLCBgICtcbiAgICAgICAgICAgICAgICBgYnV0IHRoZSBIVFRQIHNlcnZlciBvbmx5IHN1cHBvcnRzIHZlcnNpb24gJHt0aGlzLl9lbmRwb2ludC52ZXJzaW9ufS5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogT3BlbiBhIHtAbGluayBIdHRwU3RyZWFtfSwgYSBzdHJlYW0gZm9yIGV4ZWN1dGluZyBTUUwgc3RhdGVtZW50cy4gKi9cbiAgICBvcGVuU3RyZWFtKCkge1xuICAgICAgICBpZiAodGhpcy4jY2xvc2VkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBDbG9zZWRFcnJvcihcIkNsaWVudCBpcyBjbG9zZWRcIiwgdGhpcy4jY2xvc2VkKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdHJlYW0gPSBuZXcgSHR0cFN0cmVhbSh0aGlzLCB0aGlzLiN1cmwsIHRoaXMuI2p3dCwgdGhpcy4jZmV0Y2gpO1xuICAgICAgICB0aGlzLiNzdHJlYW1zLmFkZChzdHJlYW0pO1xuICAgICAgICByZXR1cm4gc3RyZWFtO1xuICAgIH1cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBfc3RyZWFtQ2xvc2VkKHN0cmVhbSkge1xuICAgICAgICB0aGlzLiNzdHJlYW1zLmRlbGV0ZShzdHJlYW0pO1xuICAgIH1cbiAgICAvKiogQ2xvc2UgdGhlIGNsaWVudCBhbmQgYWxsIGl0cyBzdHJlYW1zLiAqL1xuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLiNzZXRDbG9zZWQobmV3IENsaWVudEVycm9yKFwiQ2xpZW50IHdhcyBtYW51YWxseSBjbG9zZWRcIikpO1xuICAgIH1cbiAgICAvKiogVHJ1ZSBpZiB0aGUgY2xpZW50IGlzIGNsb3NlZC4gKi9cbiAgICBnZXQgY2xvc2VkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jY2xvc2VkICE9PSB1bmRlZmluZWQ7XG4gICAgfVxuICAgICNzZXRDbG9zZWQoZXJyb3IpIHtcbiAgICAgICAgaWYgKHRoaXMuI2Nsb3NlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy4jY2xvc2VkID0gZXJyb3I7XG4gICAgICAgIGZvciAoY29uc3Qgc3RyZWFtIG9mIEFycmF5LmZyb20odGhpcy4jc3RyZWFtcykpIHtcbiAgICAgICAgICAgIHN0cmVhbS5fc2V0Q2xvc2VkKG5ldyBDbG9zZWRFcnJvcihcIkNsaWVudCB3YXMgY2xvc2VkXCIsIGVycm9yKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5hc3luYyBmdW5jdGlvbiBmaW5kRW5kcG9pbnQoY3VzdG9tRmV0Y2gsIGNsaWVudFVybCkge1xuICAgIGNvbnN0IGZldGNoID0gY3VzdG9tRmV0Y2g7XG4gICAgZm9yIChjb25zdCBlbmRwb2ludCBvZiBjaGVja0VuZHBvaW50cykge1xuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGVuZHBvaW50LnZlcnNpb25QYXRoLCBjbGllbnRVcmwpO1xuICAgICAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFJlcXVlc3QodXJsLnRvU3RyaW5nKCksIHsgbWV0aG9kOiBcIkdFVFwiIH0pO1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHJlcXVlc3QpO1xuICAgICAgICBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xuICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIHJldHVybiBlbmRwb2ludDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsbGJhY2tFbmRwb2ludDtcbn1cbiIsICJpbXBvcnQgeyBXZWJTb2NrZXQgfSBmcm9tIFwiQGxpYnNxbC9pc29tb3JwaGljLXdzXCI7XG5pbXBvcnQgeyBzdWJwcm90b2NvbHNWMiwgc3VicHJvdG9jb2xzVjMgfSBmcm9tIFwiLi93cy9jbGllbnQuanNcIjtcbmltcG9ydCB7IFdlYlNvY2tldFVuc3VwcG9ydGVkRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbmltcG9ydCB7IEh0dHBDbGllbnQgfSBmcm9tIFwiLi9odHRwL2NsaWVudC5qc1wiO1xuaW1wb3J0IHsgV3NDbGllbnQgfSBmcm9tIFwiLi93cy9jbGllbnQuanNcIjtcbmV4cG9ydCB7IFdlYlNvY2tldCB9IGZyb20gXCJAbGlic3FsL2lzb21vcnBoaWMtd3NcIjtcbmV4cG9ydCB7IGZldGNoLCBSZXF1ZXN0LCBIZWFkZXJzIH0gZnJvbSBcIkBsaWJzcWwvaXNvbW9ycGhpYy1mZXRjaFwiO1xuZXhwb3J0IHsgQ2xpZW50IH0gZnJvbSBcIi4vY2xpZW50LmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbmV4cG9ydCB7IEJhdGNoLCBCYXRjaFN0ZXAsIEJhdGNoQ29uZCB9IGZyb20gXCIuL2JhdGNoLmpzXCI7XG5leHBvcnQgeyBwYXJzZUxpYnNxbFVybCB9IGZyb20gXCIuL2xpYnNxbF91cmwuanNcIjtcbmV4cG9ydCB7IFNxbCB9IGZyb20gXCIuL3NxbC5qc1wiO1xuZXhwb3J0IHsgU3RtdCB9IGZyb20gXCIuL3N0bXQuanNcIjtcbmV4cG9ydCB7IFN0cmVhbSB9IGZyb20gXCIuL3N0cmVhbS5qc1wiO1xuZXhwb3J0IHsgSHR0cENsaWVudCB9IGZyb20gXCIuL2h0dHAvY2xpZW50LmpzXCI7XG5leHBvcnQgeyBIdHRwU3RyZWFtIH0gZnJvbSBcIi4vaHR0cC9zdHJlYW0uanNcIjtcbmV4cG9ydCB7IFdzQ2xpZW50IH0gZnJvbSBcIi4vd3MvY2xpZW50LmpzXCI7XG5leHBvcnQgeyBXc1N0cmVhbSB9IGZyb20gXCIuL3dzL3N0cmVhbS5qc1wiO1xuLyoqIE9wZW4gYSBIcmFuYSBjbGllbnQgb3ZlciBXZWJTb2NrZXQgY29ubmVjdGVkIHRvIHRoZSBnaXZlbiBgdXJsYC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcGVuV3ModXJsLCBqd3QsIHByb3RvY29sVmVyc2lvbiA9IDIpIHtcbiAgICBpZiAodHlwZW9mIFdlYlNvY2tldCA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICB0aHJvdyBuZXcgV2ViU29ja2V0VW5zdXBwb3J0ZWRFcnJvcihcIldlYlNvY2tldHMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudFwiKTtcbiAgICB9XG4gICAgdmFyIHN1YnByb3RvY29scyA9IHVuZGVmaW5lZDtcbiAgICBpZiAocHJvdG9jb2xWZXJzaW9uID09IDMpIHtcbiAgICAgICAgc3VicHJvdG9jb2xzID0gQXJyYXkuZnJvbShzdWJwcm90b2NvbHNWMy5rZXlzKCkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3VicHJvdG9jb2xzID0gQXJyYXkuZnJvbShzdWJwcm90b2NvbHNWMi5rZXlzKCkpO1xuICAgIH1cbiAgICBjb25zdCBzb2NrZXQgPSBuZXcgV2ViU29ja2V0KHVybCwgc3VicHJvdG9jb2xzKTtcbiAgICByZXR1cm4gbmV3IFdzQ2xpZW50KHNvY2tldCwgand0KTtcbn1cbi8qKiBPcGVuIGEgSHJhbmEgY2xpZW50IG92ZXIgSFRUUCBjb25uZWN0ZWQgdG8gdGhlIGdpdmVuIGB1cmxgLlxuICpcbiAqIElmIHRoZSBgY3VzdG9tRmV0Y2hgIGFyZ3VtZW50IGlzIHBhc3NlZCBhbmQgbm90IGB1bmRlZmluZWRgLCBpdCBpcyB1c2VkIGluIHBsYWNlIG9mIHRoZSBgZmV0Y2hgIGZ1bmN0aW9uXG4gKiBmcm9tIGBAbGlic3FsL2lzb21vcnBoaWMtZmV0Y2hgLiBUaGlzIGZ1bmN0aW9uIGlzIGFsd2F5cyBjYWxsZWQgd2l0aCBhIGBSZXF1ZXN0YCBvYmplY3QgZnJvbVxuICogYEBsaWJzcWwvaXNvbW9ycGhpYy1mZXRjaGAuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvcGVuSHR0cCh1cmwsIGp3dCwgY3VzdG9tRmV0Y2gsIHByb3RvY29sVmVyc2lvbiA9IDIpIHtcbiAgICByZXR1cm4gbmV3IEh0dHBDbGllbnQodXJsIGluc3RhbmNlb2YgVVJMID8gdXJsIDogbmV3IFVSTCh1cmwpLCBqd3QsIGN1c3RvbUZldGNoLCBwcm90b2NvbFZlcnNpb24pO1xufVxuIiwgImltcG9ydCAqIGFzIGhyYW5hIGZyb20gXCJAbGlic3FsL2hyYW5hLWNsaWVudFwiO1xuaW1wb3J0IHsgTGlic3FsRXJyb3IgfSBmcm9tIFwiQGxpYnNxbC9jb3JlL2FwaVwiO1xuaW1wb3J0IHsgdHJhbnNhY3Rpb25Nb2RlVG9CZWdpbiwgUmVzdWx0U2V0SW1wbCB9IGZyb20gXCJAbGlic3FsL2NvcmUvdXRpbFwiO1xuZXhwb3J0IGNsYXNzIEhyYW5hVHJhbnNhY3Rpb24ge1xuICAgICNtb2RlO1xuICAgICN2ZXJzaW9uO1xuICAgIC8vIFByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSBCRUdJTiBzdGF0ZW1lbnQgY29tcGxldGVzLCBvciBgdW5kZWZpbmVkYCBpZiB3ZSBoYXZlbid0IGV4ZWN1dGVkIHRoZVxuICAgIC8vIEJFR0lOIHN0YXRlbWVudCB5ZXQuXG4gICAgI3N0YXJ0ZWQ7XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgY29uc3RydWN0b3IobW9kZSwgdmVyc2lvbikge1xuICAgICAgICB0aGlzLiNtb2RlID0gbW9kZTtcbiAgICAgICAgdGhpcy4jdmVyc2lvbiA9IHZlcnNpb247XG4gICAgICAgIHRoaXMuI3N0YXJ0ZWQgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGV4ZWN1dGUoc3RtdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5iYXRjaChbc3RtdF0pLnRoZW4oKHJlc3VsdHMpID0+IHJlc3VsdHNbMF0pO1xuICAgIH1cbiAgICBhc3luYyBiYXRjaChzdG10cykge1xuICAgICAgICBjb25zdCBzdHJlYW0gPSB0aGlzLl9nZXRTdHJlYW0oKTtcbiAgICAgICAgaWYgKHN0cmVhbS5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBMaWJzcWxFcnJvcihcIkNhbm5vdCBleGVjdXRlIHN0YXRlbWVudHMgYmVjYXVzZSB0aGUgdHJhbnNhY3Rpb24gaXMgY2xvc2VkXCIsIFwiVFJBTlNBQ1RJT05fQ0xPU0VEXCIpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBocmFuYVN0bXRzID0gc3RtdHMubWFwKHN0bXRUb0hyYW5hKTtcbiAgICAgICAgICAgIGxldCByb3dzUHJvbWlzZXM7XG4gICAgICAgICAgICBpZiAodGhpcy4jc3RhcnRlZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHRyYW5zYWN0aW9uIGhhc24ndCBzdGFydGVkIHlldCwgc28gd2UgbmVlZCB0byBzZW5kIHRoZSBCRUdJTiBzdGF0ZW1lbnQgaW4gYSBiYXRjaCB3aXRoXG4gICAgICAgICAgICAgICAgLy8gYGhyYW5hU3RtdHNgLlxuICAgICAgICAgICAgICAgIHRoaXMuX2dldFNxbENhY2hlKCkuYXBwbHkoaHJhbmFTdG10cyk7XG4gICAgICAgICAgICAgICAgY29uc3QgYmF0Y2ggPSBzdHJlYW0uYmF0Y2godGhpcy4jdmVyc2lvbiA+PSAzKTtcbiAgICAgICAgICAgICAgICBjb25zdCBiZWdpblN0ZXAgPSBiYXRjaC5zdGVwKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgYmVnaW5Qcm9taXNlID0gYmVnaW5TdGVwLnJ1bih0cmFuc2FjdGlvbk1vZGVUb0JlZ2luKHRoaXMuI21vZGUpKTtcbiAgICAgICAgICAgICAgICAvLyBFeGVjdXRlIHRoZSBgaHJhbmFTdG10c2Agb25seSBpZiB0aGUgQkVHSU4gc3VjY2VlZGVkLCB0byBtYWtlIHN1cmUgdGhhdCB3ZSBkb24ndCBleGVjdXRlIGl0XG4gICAgICAgICAgICAgICAgLy8gb3V0c2lkZSBvZiBhIHRyYW5zYWN0aW9uLlxuICAgICAgICAgICAgICAgIGxldCBsYXN0U3RlcCA9IGJlZ2luU3RlcDtcbiAgICAgICAgICAgICAgICByb3dzUHJvbWlzZXMgPSBocmFuYVN0bXRzLm1hcCgoaHJhbmFTdG10KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHN0bXRTdGVwID0gYmF0Y2hcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdGVwKClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jb25kaXRpb24oaHJhbmEuQmF0Y2hDb25kLm9rKGxhc3RTdGVwKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiN2ZXJzaW9uID49IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSBIcmFuYSB2ZXJzaW9uIHN1cHBvcnRzIGl0LCBtYWtlIHN1cmUgdGhhdCB3ZSBhcmUgc3RpbGwgaW4gYSB0cmFuc2FjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgc3RtdFN0ZXAuY29uZGl0aW9uKGhyYW5hLkJhdGNoQ29uZC5ub3QoaHJhbmEuQmF0Y2hDb25kLmlzQXV0b2NvbW1pdChiYXRjaCkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCByb3dzUHJvbWlzZSA9IHN0bXRTdGVwLnF1ZXJ5KGhyYW5hU3RtdCk7XG4gICAgICAgICAgICAgICAgICAgIHJvd3NQcm9taXNlLmNhdGNoKCgpID0+IHVuZGVmaW5lZCk7IC8vIHNpbGVuY2UgTm9kZSB3YXJuaW5nXG4gICAgICAgICAgICAgICAgICAgIGxhc3RTdGVwID0gc3RtdFN0ZXA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByb3dzUHJvbWlzZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBgdGhpcy4jc3RhcnRlZGAgaXMgcmVzb2x2ZWQgc3VjY2Vzc2Z1bGx5IG9ubHkgaWYgdGhlIGJhdGNoIGFuZCB0aGUgQkVHSU4gc3RhdGVtZW50IGluc2lkZVxuICAgICAgICAgICAgICAgIC8vIG9mIHRoZSBiYXRjaCBhcmUgYm90aCBzdWNjZXNzZnVsLlxuICAgICAgICAgICAgICAgIHRoaXMuI3N0YXJ0ZWQgPSBiYXRjaFxuICAgICAgICAgICAgICAgICAgICAuZXhlY3V0ZSgpXG4gICAgICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IGJlZ2luUHJvbWlzZSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiNzdGFydGVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGUgQkVHSU4gZmFpbGVkLCB0aGUgdHJhbnNhY3Rpb24gaXMgdW51c2FibGUgYW5kIHdlIG11c3QgY2xvc2UgaXQuIEhvd2V2ZXIsIGlmIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBCRUdJTiBzdWNlZWRzIGFuZCBgaHJhbmFTdG10c2AgZmFpbCwgdGhlIHRyYW5zYWN0aW9uIGlzIF9ub3RfIGNsb3NlZC5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLiN2ZXJzaW9uIDwgMykge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgdHJhbnNhY3Rpb24gaGFzIHN0YXJ0ZWQsIHNvIHdlIG11c3Qgd2FpdCB1bnRpbCB0aGUgQkVHSU4gc3RhdGVtZW50IGNvbXBsZXRlZCB0byBtYWtlXG4gICAgICAgICAgICAgICAgICAgIC8vIHN1cmUgdGhhdCB3ZSBkb24ndCBleGVjdXRlIGBocmFuYVN0bXRzYCBvdXRzaWRlIG9mIGEgdHJhbnNhY3Rpb24uXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuI3N0YXJ0ZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgdHJhbnNhY3Rpb24gaGFzIHN0YXJ0ZWQsIGJ1dCB3ZSB3aWxsIHVzZSBgaHJhbmEuQmF0Y2hDb25kLmlzQXV0b2NvbW1pdCgpYCB0byBtYWtlXG4gICAgICAgICAgICAgICAgICAgIC8vIHN1cmUgdGhhdCB3ZSBkb24ndCBleGVjdXRlIGBocmFuYVN0bXRzYCBvdXRzaWRlIG9mIGEgdHJhbnNhY3Rpb24sIHNvIHdlIGRvbid0IGhhdmUgdG9cbiAgICAgICAgICAgICAgICAgICAgLy8gd2FpdCBmb3IgYHRoaXMuI3N0YXJ0ZWRgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2dldFNxbENhY2hlKCkuYXBwbHkoaHJhbmFTdG10cyk7XG4gICAgICAgICAgICAgICAgY29uc3QgYmF0Y2ggPSBzdHJlYW0uYmF0Y2godGhpcy4jdmVyc2lvbiA+PSAzKTtcbiAgICAgICAgICAgICAgICBsZXQgbGFzdFN0ZXAgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgcm93c1Byb21pc2VzID0gaHJhbmFTdG10cy5tYXAoKGhyYW5hU3RtdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzdG10U3RlcCA9IGJhdGNoLnN0ZXAoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RTdGVwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0bXRTdGVwLmNvbmRpdGlvbihocmFuYS5CYXRjaENvbmQub2sobGFzdFN0ZXApKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy4jdmVyc2lvbiA+PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG10U3RlcC5jb25kaXRpb24oaHJhbmEuQmF0Y2hDb25kLm5vdChocmFuYS5CYXRjaENvbmQuaXNBdXRvY29tbWl0KGJhdGNoKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJvd3NQcm9taXNlID0gc3RtdFN0ZXAucXVlcnkoaHJhbmFTdG10KTtcbiAgICAgICAgICAgICAgICAgICAgcm93c1Byb21pc2UuY2F0Y2goKCkgPT4gdW5kZWZpbmVkKTsgLy8gc2lsZW5jZSBOb2RlIHdhcm5pbmdcbiAgICAgICAgICAgICAgICAgICAgbGFzdFN0ZXAgPSBzdG10U3RlcDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvd3NQcm9taXNlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGF3YWl0IGJhdGNoLmV4ZWN1dGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdFNldHMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgcm93c1Byb21pc2Ugb2Ygcm93c1Byb21pc2VzKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm93cyA9IGF3YWl0IHJvd3NQcm9taXNlO1xuICAgICAgICAgICAgICAgIGlmIChyb3dzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IExpYnNxbEVycm9yKFwiU3RhdGVtZW50IGluIGEgdHJhbnNhY3Rpb24gd2FzIG5vdCBleGVjdXRlZCwgXCIgK1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJwcm9iYWJseSBiZWNhdXNlIHRoZSB0cmFuc2FjdGlvbiBoYXMgYmVlbiByb2xsZWQgYmFja1wiLCBcIlRSQU5TQUNUSU9OX0NMT1NFRFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzdWx0U2V0cy5wdXNoKHJlc3VsdFNldEZyb21IcmFuYShyb3dzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0U2V0cztcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbWFwSHJhbmFFcnJvcihlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBleGVjdXRlTXVsdGlwbGUoc3FsKSB7XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IHRoaXMuX2dldFN0cmVhbSgpO1xuICAgICAgICBpZiAoc3RyZWFtLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IExpYnNxbEVycm9yKFwiQ2Fubm90IGV4ZWN1dGUgc3RhdGVtZW50cyBiZWNhdXNlIHRoZSB0cmFuc2FjdGlvbiBpcyBjbG9zZWRcIiwgXCJUUkFOU0FDVElPTl9DTE9TRURcIik7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmICh0aGlzLiNzdGFydGVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdHJhbnNhY3Rpb24gaGFzbid0IHN0YXJ0ZWQgeWV0LCBzdGFydCBpdCBub3dcbiAgICAgICAgICAgICAgICB0aGlzLiNzdGFydGVkID0gc3RyZWFtXG4gICAgICAgICAgICAgICAgICAgIC5ydW4odHJhbnNhY3Rpb25Nb2RlVG9CZWdpbih0aGlzLiNtb2RlKSlcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4gdW5kZWZpbmVkKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiNzdGFydGVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gV2FpdCB1bnRpbCB0aGUgdHJhbnNhY3Rpb24gaGFzIHN0YXJ0ZWRcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiNzdGFydGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgc3RyZWFtLnNlcXVlbmNlKHNxbCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG1hcEhyYW5hRXJyb3IoZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgcm9sbGJhY2soKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBzdHJlYW0gPSB0aGlzLl9nZXRTdHJlYW0oKTtcbiAgICAgICAgICAgIGlmIChzdHJlYW0uY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuI3N0YXJ0ZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IGhhdmUgdG8gd2FpdCBmb3IgdGhlIEJFR0lOIHN0YXRlbWVudCB0byBjb21wbGV0ZS4gSWYgdGhlIEJFR0lOIGZhaWxzLCB3ZSB3aWxsXG4gICAgICAgICAgICAgICAgLy8gZXhlY3V0ZSBhIFJPTExCQUNLIG91dHNpZGUgb2YgYW4gYWN0aXZlIHRyYW5zYWN0aW9uLCB3aGljaCBzaG91bGQgYmUgaGFybWxlc3MuXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBkaWQgbm90aGluZyBpbiB0aGUgdHJhbnNhY3Rpb24sIHNvIHRoZXJlIGlzIG5vdGhpbmcgdG8gcm9sbGJhY2suXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUGlwZWxpbmUgdGhlIFJPTExCQUNLIHN0YXRlbWVudCBhbmQgdGhlIHN0cmVhbSBjbG9zZS5cbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSBzdHJlYW0ucnVuKFwiUk9MTEJBQ0tcIikuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBtYXBIcmFuYUVycm9yKGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdHJlYW0uY2xvc2VHcmFjZWZ1bGx5KCk7XG4gICAgICAgICAgICBhd2FpdCBwcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBtYXBIcmFuYUVycm9yKGUpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgLy8gYHRoaXMuY2xvc2UoKWAgbWF5IGNsb3NlIHRoZSBgaHJhbmEuQ2xpZW50YCwgd2hpY2ggYWJvcnRzIGFsbCBwZW5kaW5nIHN0cmVhbSByZXF1ZXN0cywgc28gd2VcbiAgICAgICAgICAgIC8vIG11c3QgY2FsbCBpdCBfYWZ0ZXJfIHdlIHJlY2VpdmUgdGhlIFJPTExCQUNLIHJlc3BvbnNlLlxuICAgICAgICAgICAgLy8gQWxzbyBub3RlIHRoYXQgdGhlIGN1cnJlbnQgc3RyZWFtIHNob3VsZCBhbHJlYWR5IGJlIGNsb3NlZCwgYnV0IHdlIG5lZWQgdG8gY2FsbCBgdGhpcy5jbG9zZSgpYFxuICAgICAgICAgICAgLy8gYW55d2F5LCBiZWNhdXNlIGl0IG1heSBuZWVkIHRvIGRvIG1vcmUgY2xlYW51cC5cbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBjb21taXQoKSB7XG4gICAgICAgIC8vICh0aGlzIG1ldGhvZCBpcyBhbmFsb2dvdXMgdG8gYHJvbGxiYWNrKClgKVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qgc3RyZWFtID0gdGhpcy5fZ2V0U3RyZWFtKCk7XG4gICAgICAgICAgICBpZiAoc3RyZWFtLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBMaWJzcWxFcnJvcihcIkNhbm5vdCBjb21taXQgdGhlIHRyYW5zYWN0aW9uIGJlY2F1c2UgaXQgaXMgYWxyZWFkeSBjbG9zZWRcIiwgXCJUUkFOU0FDVElPTl9DTE9TRURcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy4jc3RhcnRlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRvIGV4ZWN1dGUgdGhlIENPTU1JVCBvbmx5IGlmIHRoZSBCRUdJTiB3YXMgc3VjY2Vzc2Z1bC5cbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLiNzdGFydGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgcHJvbWlzZSA9IHN0cmVhbS5ydW4oXCJDT01NSVRcIikuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBtYXBIcmFuYUVycm9yKGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdHJlYW0uY2xvc2VHcmFjZWZ1bGx5KCk7XG4gICAgICAgICAgICBhd2FpdCBwcm9taXNlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBtYXBIcmFuYUVycm9yKGUpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVIcmFuYUJhdGNoKG1vZGUsIHZlcnNpb24sIGJhdGNoLCBocmFuYVN0bXRzLCBkaXNhYmxlRm9yZWlnbktleXMgPSBmYWxzZSkge1xuICAgIGlmIChkaXNhYmxlRm9yZWlnbktleXMpIHtcbiAgICAgICAgYmF0Y2guc3RlcCgpLnJ1bihcIlBSQUdNQSBmb3JlaWduX2tleXM9b2ZmXCIpO1xuICAgIH1cbiAgICBjb25zdCBiZWdpblN0ZXAgPSBiYXRjaC5zdGVwKCk7XG4gICAgY29uc3QgYmVnaW5Qcm9taXNlID0gYmVnaW5TdGVwLnJ1bih0cmFuc2FjdGlvbk1vZGVUb0JlZ2luKG1vZGUpKTtcbiAgICBsZXQgbGFzdFN0ZXAgPSBiZWdpblN0ZXA7XG4gICAgY29uc3Qgc3RtdFByb21pc2VzID0gaHJhbmFTdG10cy5tYXAoKGhyYW5hU3RtdCkgPT4ge1xuICAgICAgICBjb25zdCBzdG10U3RlcCA9IGJhdGNoLnN0ZXAoKS5jb25kaXRpb24oaHJhbmEuQmF0Y2hDb25kLm9rKGxhc3RTdGVwKSk7XG4gICAgICAgIGlmICh2ZXJzaW9uID49IDMpIHtcbiAgICAgICAgICAgIHN0bXRTdGVwLmNvbmRpdGlvbihocmFuYS5CYXRjaENvbmQubm90KGhyYW5hLkJhdGNoQ29uZC5pc0F1dG9jb21taXQoYmF0Y2gpKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3RtdFByb21pc2UgPSBzdG10U3RlcC5xdWVyeShocmFuYVN0bXQpO1xuICAgICAgICBsYXN0U3RlcCA9IHN0bXRTdGVwO1xuICAgICAgICByZXR1cm4gc3RtdFByb21pc2U7XG4gICAgfSk7XG4gICAgY29uc3QgY29tbWl0U3RlcCA9IGJhdGNoLnN0ZXAoKS5jb25kaXRpb24oaHJhbmEuQmF0Y2hDb25kLm9rKGxhc3RTdGVwKSk7XG4gICAgaWYgKHZlcnNpb24gPj0gMykge1xuICAgICAgICBjb21taXRTdGVwLmNvbmRpdGlvbihocmFuYS5CYXRjaENvbmQubm90KGhyYW5hLkJhdGNoQ29uZC5pc0F1dG9jb21taXQoYmF0Y2gpKSk7XG4gICAgfVxuICAgIGNvbnN0IGNvbW1pdFByb21pc2UgPSBjb21taXRTdGVwLnJ1bihcIkNPTU1JVFwiKTtcbiAgICBjb25zdCByb2xsYmFja1N0ZXAgPSBiYXRjaFxuICAgICAgICAuc3RlcCgpXG4gICAgICAgIC5jb25kaXRpb24oaHJhbmEuQmF0Y2hDb25kLm5vdChocmFuYS5CYXRjaENvbmQub2soY29tbWl0U3RlcCkpKTtcbiAgICByb2xsYmFja1N0ZXAucnVuKFwiUk9MTEJBQ0tcIikuY2F0Y2goKF8pID0+IHVuZGVmaW5lZCk7XG4gICAgaWYgKGRpc2FibGVGb3JlaWduS2V5cykge1xuICAgICAgICBiYXRjaC5zdGVwKCkucnVuKFwiUFJBR01BIGZvcmVpZ25fa2V5cz1vblwiKTtcbiAgICB9XG4gICAgYXdhaXQgYmF0Y2guZXhlY3V0ZSgpO1xuICAgIGNvbnN0IHJlc3VsdFNldHMgPSBbXTtcbiAgICBhd2FpdCBiZWdpblByb21pc2U7XG4gICAgZm9yIChjb25zdCBzdG10UHJvbWlzZSBvZiBzdG10UHJvbWlzZXMpIHtcbiAgICAgICAgY29uc3QgaHJhbmFSb3dzID0gYXdhaXQgc3RtdFByb21pc2U7XG4gICAgICAgIGlmIChocmFuYVJvd3MgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IExpYnNxbEVycm9yKFwiU3RhdGVtZW50IGluIGEgYmF0Y2ggd2FzIG5vdCBleGVjdXRlZCwgcHJvYmFibHkgYmVjYXVzZSB0aGUgdHJhbnNhY3Rpb24gaGFzIGJlZW4gcm9sbGVkIGJhY2tcIiwgXCJUUkFOU0FDVElPTl9DTE9TRURcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0U2V0cy5wdXNoKHJlc3VsdFNldEZyb21IcmFuYShocmFuYVJvd3MpKTtcbiAgICB9XG4gICAgYXdhaXQgY29tbWl0UHJvbWlzZTtcbiAgICByZXR1cm4gcmVzdWx0U2V0cztcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdG10VG9IcmFuYShzdG10KSB7XG4gICAgaWYgKHR5cGVvZiBzdG10ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiBuZXcgaHJhbmEuU3RtdChzdG10KTtcbiAgICB9XG4gICAgY29uc3QgaHJhbmFTdG10ID0gbmV3IGhyYW5hLlN0bXQoc3RtdC5zcWwpO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHN0bXQuYXJncykpIHtcbiAgICAgICAgaHJhbmFTdG10LmJpbmRJbmRleGVzKHN0bXQuYXJncyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzdG10LmFyZ3MpKSB7XG4gICAgICAgICAgICBocmFuYVN0bXQuYmluZE5hbWUoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhyYW5hU3RtdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiByZXN1bHRTZXRGcm9tSHJhbmEoaHJhbmFSb3dzKSB7XG4gICAgY29uc3QgY29sdW1ucyA9IGhyYW5hUm93cy5jb2x1bW5OYW1lcy5tYXAoKGMpID0+IGMgPz8gXCJcIik7XG4gICAgY29uc3QgY29sdW1uVHlwZXMgPSBocmFuYVJvd3MuY29sdW1uRGVjbHR5cGVzLm1hcCgoYykgPT4gYyA/PyBcIlwiKTtcbiAgICBjb25zdCByb3dzID0gaHJhbmFSb3dzLnJvd3M7XG4gICAgY29uc3Qgcm93c0FmZmVjdGVkID0gaHJhbmFSb3dzLmFmZmVjdGVkUm93Q291bnQ7XG4gICAgY29uc3QgbGFzdEluc2VydFJvd2lkID0gaHJhbmFSb3dzLmxhc3RJbnNlcnRSb3dpZCAhPT0gdW5kZWZpbmVkXG4gICAgICAgID8gaHJhbmFSb3dzLmxhc3RJbnNlcnRSb3dpZFxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gbmV3IFJlc3VsdFNldEltcGwoY29sdW1ucywgY29sdW1uVHlwZXMsIHJvd3MsIHJvd3NBZmZlY3RlZCwgbGFzdEluc2VydFJvd2lkKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYXBIcmFuYUVycm9yKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIGhyYW5hLkNsaWVudEVycm9yKSB7XG4gICAgICAgIGNvbnN0IGNvZGUgPSBtYXBIcmFuYUVycm9yQ29kZShlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBMaWJzcWxFcnJvcihlLm1lc3NhZ2UsIGNvZGUsIHVuZGVmaW5lZCwgZSk7XG4gICAgfVxuICAgIHJldHVybiBlO1xufVxuZnVuY3Rpb24gbWFwSHJhbmFFcnJvckNvZGUoZSkge1xuICAgIGlmIChlIGluc3RhbmNlb2YgaHJhbmEuUmVzcG9uc2VFcnJvciAmJiBlLmNvZGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZS5jb2RlO1xuICAgIH1cbiAgICBlbHNlIGlmIChlIGluc3RhbmNlb2YgaHJhbmEuUHJvdG9FcnJvcikge1xuICAgICAgICByZXR1cm4gXCJIUkFOQV9QUk9UT19FUlJPUlwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChlIGluc3RhbmNlb2YgaHJhbmEuQ2xvc2VkRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGUuY2F1c2UgaW5zdGFuY2VvZiBocmFuYS5DbGllbnRFcnJvclxuICAgICAgICAgICAgPyBtYXBIcmFuYUVycm9yQ29kZShlLmNhdXNlKVxuICAgICAgICAgICAgOiBcIkhSQU5BX0NMT1NFRF9FUlJPUlwiO1xuICAgIH1cbiAgICBlbHNlIGlmIChlIGluc3RhbmNlb2YgaHJhbmEuV2ViU29ja2V0RXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIFwiSFJBTkFfV0VCU09DS0VUX0VSUk9SXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGUgaW5zdGFuY2VvZiBocmFuYS5IdHRwU2VydmVyRXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIFwiU0VSVkVSX0VSUk9SXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGUgaW5zdGFuY2VvZiBocmFuYS5Qcm90b2NvbFZlcnNpb25FcnJvcikge1xuICAgICAgICByZXR1cm4gXCJQUk9UT0NPTF9WRVJTSU9OX0VSUk9SXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGUgaW5zdGFuY2VvZiBocmFuYS5JbnRlcm5hbEVycm9yKSB7XG4gICAgICAgIHJldHVybiBcIklOVEVSTkFMX0VSUk9SXCI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gXCJVTktOT1dOXCI7XG4gICAgfVxufVxuIiwgImV4cG9ydCBjbGFzcyBTcWxDYWNoZSB7XG4gICAgI293bmVyO1xuICAgICNzcWxzO1xuICAgIGNhcGFjaXR5O1xuICAgIGNvbnN0cnVjdG9yKG93bmVyLCBjYXBhY2l0eSkge1xuICAgICAgICB0aGlzLiNvd25lciA9IG93bmVyO1xuICAgICAgICB0aGlzLiNzcWxzID0gbmV3IExydSgpO1xuICAgICAgICB0aGlzLmNhcGFjaXR5ID0gY2FwYWNpdHk7XG4gICAgfVxuICAgIC8vIFJlcGxhY2VzIFNRTCBzdHJpbmdzIHdpdGggY2FjaGVkIGBocmFuYS5TcWxgIG9iamVjdHMgaW4gdGhlIHN0YXRlbWVudHMgaW4gYGhyYW5hU3RtdHNgLiBBZnRlciB0aGlzXG4gICAgLy8gZnVuY3Rpb24gcmV0dXJucywgd2UgZ3VhcmFudGVlIHRoYXQgYWxsIGBocmFuYVN0bXRzYCByZWZlciB0byB2YWxpZCAobm90IGNsb3NlZCkgYGhyYW5hLlNxbGAgb2JqZWN0cyxcbiAgICAvLyBidXQgX3dlIG1heSBpbnZhbGlkYXRlIGFueSBvdGhlciBgaHJhbmEuU3FsYCBvYmplY3RzXyAoYnkgY2xvc2luZyB0aGVtLCB0aHVzIHJlbW92aW5nIHRoZW0gZnJvbSB0aGVcbiAgICAvLyBzZXJ2ZXIpLlxuICAgIC8vXG4gICAgLy8gSW4gcHJhY3RpY2UsIHRoaXMgbWVhbnMgdGhhdCBhZnRlciBjYWxsaW5nIHRoaXMgZnVuY3Rpb24sIHlvdSBjYW4gdXNlIHRoZSBzdGF0ZW1lbnRzIG9ubHkgdXAgdG8gdGhlXG4gICAgLy8gZmlyc3QgYGF3YWl0YCwgYmVjYXVzZSBjb25jdXJyZW50IGNvZGUgbWF5IGFsc28gdXNlIHRoZSBjYWNoZSBhbmQgaW52YWxpZGF0ZSB0aG9zZSBzdGF0ZW1lbnRzLlxuICAgIGFwcGx5KGhyYW5hU3RtdHMpIHtcbiAgICAgICAgaWYgKHRoaXMuY2FwYWNpdHkgPD0gMCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHVzZWRTcWxPYmpzID0gbmV3IFNldCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGhyYW5hU3RtdCBvZiBocmFuYVN0bXRzKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGhyYW5hU3RtdC5zcWwgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNxbFRleHQgPSBocmFuYVN0bXQuc3FsO1xuICAgICAgICAgICAgLy8gU3RvcmVkIFNRTCBjYW5ub3QgZXhjZWVkIDVrYi5cbiAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS90dXJzb2RhdGFiYXNlL2xpYnNxbC9ibG9iL2U5ZDYzN2UwNTE2ODVmOTJiMGRhNDM4NDk1MDdiNWVmNDIzMmZiZWIvbGlic3FsLXNlcnZlci9zcmMvaHJhbmEvaHR0cC9yZXF1ZXN0LnJzI0wxMFxuICAgICAgICAgICAgaWYgKHNxbFRleHQubGVuZ3RoID49IDUwMDApIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzcWxPYmogPSB0aGlzLiNzcWxzLmdldChzcWxUZXh0KTtcbiAgICAgICAgICAgIGlmIChzcWxPYmogPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHdoaWxlICh0aGlzLiNzcWxzLnNpemUgKyAxID4gdGhpcy5jYXBhY2l0eSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBbZXZpY3RTcWxUZXh0LCBldmljdFNxbE9ial0gPSB0aGlzLiNzcWxzLnBlZWtMcnUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVzZWRTcWxPYmpzLmhhcyhldmljdFNxbE9iaikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZSBTUUwgb2JqZWN0IHRoYXQgd2UgYXJlIHRyeWluZyB0byBldmljdCBpcyBhbHJlYWR5IGluIHVzZSBpbiB0aGlzIGJhdGNoLCBzbyB3ZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbXVzdCBub3QgZXZpY3QgYW5kIGNsb3NlIGl0LlxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZXZpY3RTcWxPYmouY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jc3Fscy5kZWxldGUoZXZpY3RTcWxUZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuI3NxbHMuc2l6ZSArIDEgPD0gdGhpcy5jYXBhY2l0eSkge1xuICAgICAgICAgICAgICAgICAgICBzcWxPYmogPSB0aGlzLiNvd25lci5zdG9yZVNxbChzcWxUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4jc3Fscy5zZXQoc3FsVGV4dCwgc3FsT2JqKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3FsT2JqICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBocmFuYVN0bXQuc3FsID0gc3FsT2JqO1xuICAgICAgICAgICAgICAgIHVzZWRTcWxPYmpzLmFkZChzcWxPYmopO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuY2xhc3MgTHJ1IHtcbiAgICAvLyBUaGlzIG1hcHMga2V5cyB0byB0aGUgY2FjaGUgdmFsdWVzLiBUaGUgZW50cmllcyBhcmUgb3JkZXJlZCBieSB0aGVpciBsYXN0IHVzZSAoZW50aXJlcyB0aGF0IHdlcmUgdXNlZFxuICAgIC8vIG1vc3QgcmVjZW50bHkgYXJlIGF0IHRoZSBlbmQpLlxuICAgICNjYWNoZTtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy4jY2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIGdldChrZXkpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSB0aGlzLiNjYWNoZS5nZXQoa2V5KTtcbiAgICAgICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIC8vIG1vdmUgdGhlIGVudHJ5IHRvIHRoZSBiYWNrIG9mIHRoZSBNYXBcbiAgICAgICAgICAgIHRoaXMuI2NhY2hlLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgdGhpcy4jY2FjaGUuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgc2V0KGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy4jY2FjaGUuc2V0KGtleSwgdmFsdWUpO1xuICAgIH1cbiAgICBwZWVrTHJ1KCkge1xuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHRoaXMuI2NhY2hlLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVudHJ5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGRlbGV0ZShrZXkpIHtcbiAgICAgICAgdGhpcy4jY2FjaGUuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jY2FjaGUuc2l6ZTtcbiAgICB9XG59XG4iLCAiaW1wb3J0ICogYXMgaHJhbmEgZnJvbSBcIkBsaWJzcWwvaHJhbmEtY2xpZW50XCI7XG5pbXBvcnQgeyBMaWJzcWxFcnJvciB9IGZyb20gXCJAbGlic3FsL2NvcmUvYXBpXCI7XG5pbXBvcnQgeyBleHBhbmRDb25maWcgfSBmcm9tIFwiQGxpYnNxbC9jb3JlL2NvbmZpZ1wiO1xuaW1wb3J0IHsgSHJhbmFUcmFuc2FjdGlvbiwgZXhlY3V0ZUhyYW5hQmF0Y2gsIHN0bXRUb0hyYW5hLCByZXN1bHRTZXRGcm9tSHJhbmEsIG1hcEhyYW5hRXJyb3IsIH0gZnJvbSBcIi4vaHJhbmEuanNcIjtcbmltcG9ydCB7IFNxbENhY2hlIH0gZnJvbSBcIi4vc3FsX2NhY2hlLmpzXCI7XG5pbXBvcnQgeyBlbmNvZGVCYXNlVXJsIH0gZnJvbSBcIkBsaWJzcWwvY29yZS91cmlcIjtcbmltcG9ydCB7IHN1cHBvcnRlZFVybExpbmsgfSBmcm9tIFwiQGxpYnNxbC9jb3JlL3V0aWxcIjtcbmltcG9ydCBwcm9taXNlTGltaXQgZnJvbSBcInByb21pc2UtbGltaXRcIjtcbmV4cG9ydCAqIGZyb20gXCJAbGlic3FsL2NvcmUvYXBpXCI7XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlQ2xpZW50KGNvbmZpZykge1xuICAgIHJldHVybiBfY3JlYXRlQ2xpZW50KGV4cGFuZENvbmZpZyhjb25maWcsIGZhbHNlKSk7XG59XG4vKiogQHByaXZhdGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBfY3JlYXRlQ2xpZW50KGNvbmZpZykge1xuICAgIGlmIChjb25maWcuc2NoZW1lICE9PSBcIndzc1wiICYmIGNvbmZpZy5zY2hlbWUgIT09IFwid3NcIikge1xuICAgICAgICB0aHJvdyBuZXcgTGlic3FsRXJyb3IoJ1RoZSBXZWJTb2NrZXQgY2xpZW50IHN1cHBvcnRzIG9ubHkgXCJsaWJzcWw6XCIsIFwid3NzOlwiIGFuZCBcIndzOlwiIFVSTHMsICcgK1xuICAgICAgICAgICAgYGdvdCAke0pTT04uc3RyaW5naWZ5KGNvbmZpZy5zY2hlbWUgKyBcIjpcIil9LiBGb3IgbW9yZSBpbmZvcm1hdGlvbiwgcGxlYXNlIHJlYWQgJHtzdXBwb3J0ZWRVcmxMaW5rfWAsIFwiVVJMX1NDSEVNRV9OT1RfU1VQUE9SVEVEXCIpO1xuICAgIH1cbiAgICBpZiAoY29uZmlnLmVuY3J5cHRpb25LZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aHJvdyBuZXcgTGlic3FsRXJyb3IoXCJFbmNyeXB0aW9uIGtleSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSByZW1vdGUgY2xpZW50LlwiLCBcIkVOQ1JZUFRJT05fS0VZX05PVF9TVVBQT1JURURcIik7XG4gICAgfVxuICAgIGlmIChjb25maWcuc2NoZW1lID09PSBcIndzXCIgJiYgY29uZmlnLnRscykge1xuICAgICAgICB0aHJvdyBuZXcgTGlic3FsRXJyb3IoYEEgXCJ3czpcIiBVUkwgY2Fubm90IG9wdCBpbnRvIFRMUyBieSB1c2luZyA/dGxzPTFgLCBcIlVSTF9JTlZBTElEXCIpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb25maWcuc2NoZW1lID09PSBcIndzc1wiICYmICFjb25maWcudGxzKSB7XG4gICAgICAgIHRocm93IG5ldyBMaWJzcWxFcnJvcihgQSBcIndzczpcIiBVUkwgY2Fubm90IG9wdCBvdXQgb2YgVExTIGJ5IHVzaW5nID90bHM9MGAsIFwiVVJMX0lOVkFMSURcIik7XG4gICAgfVxuICAgIGNvbnN0IHVybCA9IGVuY29kZUJhc2VVcmwoY29uZmlnLnNjaGVtZSwgY29uZmlnLmF1dGhvcml0eSwgY29uZmlnLnBhdGgpO1xuICAgIGxldCBjbGllbnQ7XG4gICAgdHJ5IHtcbiAgICAgICAgY2xpZW50ID0gaHJhbmEub3BlbldzKHVybCwgY29uZmlnLmF1dGhUb2tlbik7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgaHJhbmEuV2ViU29ja2V0VW5zdXBwb3J0ZWRFcnJvcikge1xuICAgICAgICAgICAgY29uc3Qgc3VnZ2VzdGVkU2NoZW1lID0gY29uZmlnLnNjaGVtZSA9PT0gXCJ3c3NcIiA/IFwiaHR0cHNcIiA6IFwiaHR0cFwiO1xuICAgICAgICAgICAgY29uc3Qgc3VnZ2VzdGVkVXJsID0gZW5jb2RlQmFzZVVybChzdWdnZXN0ZWRTY2hlbWUsIGNvbmZpZy5hdXRob3JpdHksIGNvbmZpZy5wYXRoKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBMaWJzcWxFcnJvcihcIlRoaXMgZW52aXJvbm1lbnQgZG9lcyBub3Qgc3VwcG9ydCBXZWJTb2NrZXRzLCBwbGVhc2Ugc3dpdGNoIHRvIHRoZSBIVFRQIGNsaWVudCBieSB1c2luZyBcIiArXG4gICAgICAgICAgICAgICAgYGEgXCIke3N1Z2dlc3RlZFNjaGVtZX06XCIgVVJMICgke0pTT04uc3RyaW5naWZ5KHN1Z2dlc3RlZFVybCl9KS4gYCArXG4gICAgICAgICAgICAgICAgYEZvciBtb3JlIGluZm9ybWF0aW9uLCBwbGVhc2UgcmVhZCAke3N1cHBvcnRlZFVybExpbmt9YCwgXCJXRUJTT0NLRVRTX05PVF9TVVBQT1JURURcIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbWFwSHJhbmFFcnJvcihlKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBXc0NsaWVudChjbGllbnQsIHVybCwgY29uZmlnLmF1dGhUb2tlbiwgY29uZmlnLmludE1vZGUsIGNvbmZpZy5jb25jdXJyZW5jeSk7XG59XG5jb25zdCBtYXhDb25uQWdlTWlsbGlzID0gNjAgKiAxMDAwO1xuY29uc3Qgc3FsQ2FjaGVDYXBhY2l0eSA9IDEwMDtcbmV4cG9ydCBjbGFzcyBXc0NsaWVudCB7XG4gICAgI3VybDtcbiAgICAjYXV0aFRva2VuO1xuICAgICNpbnRNb2RlO1xuICAgIC8vIFN0YXRlIG9mIHRoZSBjdXJyZW50IGNvbm5lY3Rpb24uIFRoZSBgaHJhbmEuV3NDbGllbnRgIGluc2lkZSBtYXkgYmUgY2xvc2VkIGF0IGFueSBtb21lbnQgZHVlIHRvIGFuXG4gICAgLy8gYXN5bmNocm9ub3VzIGVycm9yLlxuICAgICNjb25uU3RhdGU7XG4gICAgLy8gSWYgZGVmaW5lZCwgdGhpcyBpcyBhIGNvbm5lY3Rpb24gdGhhdCB3aWxsIGJlIHVzZWQgaW4gdGhlIGZ1dHVyZSwgb25jZSBpdCBpcyByZWFkeS5cbiAgICAjZnV0dXJlQ29ublN0YXRlO1xuICAgIGNsb3NlZDtcbiAgICBwcm90b2NvbDtcbiAgICAjaXNTY2hlbWFEYXRhYmFzZTtcbiAgICAjcHJvbWlzZUxpbWl0RnVuY3Rpb247XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgY29uc3RydWN0b3IoY2xpZW50LCB1cmwsIGF1dGhUb2tlbiwgaW50TW9kZSwgY29uY3VycmVuY3kpIHtcbiAgICAgICAgdGhpcy4jdXJsID0gdXJsO1xuICAgICAgICB0aGlzLiNhdXRoVG9rZW4gPSBhdXRoVG9rZW47XG4gICAgICAgIHRoaXMuI2ludE1vZGUgPSBpbnRNb2RlO1xuICAgICAgICB0aGlzLiNjb25uU3RhdGUgPSB0aGlzLiNvcGVuQ29ubihjbGllbnQpO1xuICAgICAgICB0aGlzLiNmdXR1cmVDb25uU3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMucHJvdG9jb2wgPSBcIndzXCI7XG4gICAgICAgIHRoaXMuI3Byb21pc2VMaW1pdEZ1bmN0aW9uID0gcHJvbWlzZUxpbWl0KGNvbmN1cnJlbmN5KTtcbiAgICB9XG4gICAgYXN5bmMgbGltaXQoZm4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3Byb21pc2VMaW1pdEZ1bmN0aW9uKGZuKTtcbiAgICB9XG4gICAgYXN5bmMgZXhlY3V0ZShzdG10T3JTcWwsIGFyZ3MpIHtcbiAgICAgICAgbGV0IHN0bXQ7XG4gICAgICAgIGlmICh0eXBlb2Ygc3RtdE9yU3FsID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBzdG10ID0ge1xuICAgICAgICAgICAgICAgIHNxbDogc3RtdE9yU3FsLFxuICAgICAgICAgICAgICAgIGFyZ3M6IGFyZ3MgfHwgW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RtdCA9IHN0bXRPclNxbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5saW1pdChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdHJlYW1TdGF0ZSA9IGF3YWl0IHRoaXMuI29wZW5TdHJlYW0oKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaHJhbmFTdG10ID0gc3RtdFRvSHJhbmEoc3RtdCk7XG4gICAgICAgICAgICAgICAgLy8gU2NoZWR1bGUgYWxsIG9wZXJhdGlvbnMgc3luY2hyb25vdXNseSwgc28gdGhleSB3aWxsIGJlIHBpcGVsaW5lZCBhbmQgZXhlY3V0ZWQgaW4gYSBzaW5nbGVcbiAgICAgICAgICAgICAgICAvLyBuZXR3b3JrIHJvdW5kdHJpcC5cbiAgICAgICAgICAgICAgICBzdHJlYW1TdGF0ZS5jb25uLnNxbENhY2hlLmFwcGx5KFtocmFuYVN0bXRdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBocmFuYVJvd3NQcm9taXNlID0gc3RyZWFtU3RhdGUuc3RyZWFtLnF1ZXJ5KGhyYW5hU3RtdCk7XG4gICAgICAgICAgICAgICAgc3RyZWFtU3RhdGUuc3RyZWFtLmNsb3NlR3JhY2VmdWxseSgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGhyYW5hUm93c1Jlc3VsdCA9IGF3YWl0IGhyYW5hUm93c1Byb21pc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdFNldEZyb21IcmFuYShocmFuYVJvd3NSZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBtYXBIcmFuYUVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2xvc2VTdHJlYW0oc3RyZWFtU3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgYmF0Y2goc3RtdHMsIG1vZGUgPSBcImRlZmVycmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGltaXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RyZWFtU3RhdGUgPSBhd2FpdCB0aGlzLiNvcGVuU3RyZWFtKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhyYW5hU3RtdHMgPSBzdG10cy5tYXAoc3RtdFRvSHJhbmEpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZlcnNpb24gPSBhd2FpdCBzdHJlYW1TdGF0ZS5jb25uLmNsaWVudC5nZXRWZXJzaW9uKCk7XG4gICAgICAgICAgICAgICAgLy8gU2NoZWR1bGUgYWxsIG9wZXJhdGlvbnMgc3luY2hyb25vdXNseSwgc28gdGhleSB3aWxsIGJlIHBpcGVsaW5lZCBhbmQgZXhlY3V0ZWQgaW4gYSBzaW5nbGVcbiAgICAgICAgICAgICAgICAvLyBuZXR3b3JrIHJvdW5kdHJpcC5cbiAgICAgICAgICAgICAgICBzdHJlYW1TdGF0ZS5jb25uLnNxbENhY2hlLmFwcGx5KGhyYW5hU3RtdHMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gc3RyZWFtU3RhdGUuc3RyZWFtLmJhdGNoKHZlcnNpb24gPj0gMyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0c1Byb21pc2UgPSBleGVjdXRlSHJhbmFCYXRjaChtb2RlLCB2ZXJzaW9uLCBiYXRjaCwgaHJhbmFTdG10cyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHJlc3VsdHNQcm9taXNlO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBtYXBIcmFuYUVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2xvc2VTdHJlYW0oc3RyZWFtU3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgbWlncmF0ZShzdG10cykge1xuICAgICAgICByZXR1cm4gdGhpcy5saW1pdChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzdHJlYW1TdGF0ZSA9IGF3YWl0IHRoaXMuI29wZW5TdHJlYW0oKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaHJhbmFTdG10cyA9IHN0bXRzLm1hcChzdG10VG9IcmFuYSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdmVyc2lvbiA9IGF3YWl0IHN0cmVhbVN0YXRlLmNvbm4uY2xpZW50LmdldFZlcnNpb24oKTtcbiAgICAgICAgICAgICAgICAvLyBTY2hlZHVsZSBhbGwgb3BlcmF0aW9ucyBzeW5jaHJvbm91c2x5LCBzbyB0aGV5IHdpbGwgYmUgcGlwZWxpbmVkIGFuZCBleGVjdXRlZCBpbiBhIHNpbmdsZVxuICAgICAgICAgICAgICAgIC8vIG5ldHdvcmsgcm91bmR0cmlwLlxuICAgICAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gc3RyZWFtU3RhdGUuc3RyZWFtLmJhdGNoKHZlcnNpb24gPj0gMyk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0c1Byb21pc2UgPSBleGVjdXRlSHJhbmFCYXRjaChcImRlZmVycmVkXCIsIHZlcnNpb24sIGJhdGNoLCBocmFuYVN0bXRzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgcmVzdWx0c1Byb21pc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG1hcEhyYW5hRXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jbG9zZVN0cmVhbShzdHJlYW1TdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyB0cmFuc2FjdGlvbihtb2RlID0gXCJ3cml0ZVwiKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxpbWl0KGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHN0cmVhbVN0YXRlID0gYXdhaXQgdGhpcy4jb3BlblN0cmVhbSgpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gYXdhaXQgc3RyZWFtU3RhdGUuY29ubi5jbGllbnQuZ2V0VmVyc2lvbigpO1xuICAgICAgICAgICAgICAgIC8vIHRoZSBCRUdJTiBzdGF0ZW1lbnQgd2lsbCBiZSBiYXRjaGVkIHdpdGggdGhlIGZpcnN0IHN0YXRlbWVudCBvbiB0aGUgdHJhbnNhY3Rpb24gdG8gc2F2ZSBhXG4gICAgICAgICAgICAgICAgLy8gbmV0d29yayByb3VuZHRyaXBcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFdzVHJhbnNhY3Rpb24odGhpcywgc3RyZWFtU3RhdGUsIG1vZGUsIHZlcnNpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jbG9zZVN0cmVhbShzdHJlYW1TdGF0ZSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbWFwSHJhbmFFcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIGV4ZWN1dGVNdWx0aXBsZShzcWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGltaXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3RyZWFtU3RhdGUgPSBhd2FpdCB0aGlzLiNvcGVuU3RyZWFtKCk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIFNjaGVkdWxlIGFsbCBvcGVyYXRpb25zIHN5bmNocm9ub3VzbHksIHNvIHRoZXkgd2lsbCBiZSBwaXBlbGluZWQgYW5kIGV4ZWN1dGVkIGluIGEgc2luZ2xlXG4gICAgICAgICAgICAgICAgLy8gbmV0d29yayByb3VuZHRyaXAuXG4gICAgICAgICAgICAgICAgY29uc3QgcHJvbWlzZSA9IHN0cmVhbVN0YXRlLnN0cmVhbS5zZXF1ZW5jZShzcWwpO1xuICAgICAgICAgICAgICAgIHN0cmVhbVN0YXRlLnN0cmVhbS5jbG9zZUdyYWNlZnVsbHkoKTtcbiAgICAgICAgICAgICAgICBhd2FpdCBwcm9taXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBtYXBIcmFuYUVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2xvc2VTdHJlYW0oc3RyZWFtU3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3luYygpIHtcbiAgICAgICAgdGhyb3cgbmV3IExpYnNxbEVycm9yKFwic3luYyBub3Qgc3VwcG9ydGVkIGluIHdzIG1vZGVcIiwgXCJTWU5DX05PVF9TVVBQT1JURURcIik7XG4gICAgfVxuICAgIGFzeW5jICNvcGVuU3RyZWFtKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBMaWJzcWxFcnJvcihcIlRoZSBjbGllbnQgaXMgY2xvc2VkXCIsIFwiQ0xJRU5UX0NMT1NFRFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBjb25zdCBhZ2VNaWxsaXMgPSBub3cudmFsdWVPZigpIC0gdGhpcy4jY29ublN0YXRlLm9wZW5UaW1lLnZhbHVlT2YoKTtcbiAgICAgICAgaWYgKGFnZU1pbGxpcyA+IG1heENvbm5BZ2VNaWxsaXMgJiZcbiAgICAgICAgICAgIHRoaXMuI2Z1dHVyZUNvbm5TdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBUaGUgZXhpc3RpbmcgY29ubmVjdGlvbiBpcyB0b28gb2xkLCBsZXQncyBvcGVuIGEgbmV3IG9uZS5cbiAgICAgICAgICAgIGNvbnN0IGZ1dHVyZUNvbm5TdGF0ZSA9IHRoaXMuI29wZW5Db25uKCk7XG4gICAgICAgICAgICB0aGlzLiNmdXR1cmVDb25uU3RhdGUgPSBmdXR1cmVDb25uU3RhdGU7XG4gICAgICAgICAgICAvLyBIb3dldmVyLCBpZiB3ZSB1c2VkIGBmdXR1cmVDb25uU3RhdGVgIGltbWVkaWF0ZWx5LCB3ZSB3b3VsZCBpbnRyb2R1Y2UgYWRkaXRpb25hbCBsYXRlbmN5LFxuICAgICAgICAgICAgLy8gYmVjYXVzZSB3ZSB3b3VsZCBoYXZlIHRvIHdhaXQgZm9yIHRoZSBXZWJTb2NrZXQgaGFuZHNoYWtlIHRvIGNvbXBsZXRlLCBldmVuIHRob3VnaCB3ZSBtYXkgYVxuICAgICAgICAgICAgLy8gaGF2ZSBwZXJmZWN0bHkgZ29vZCBleGlzdGluZyBjb25uZWN0aW9uIGluIGB0aGlzLiNjb25uU3RhdGVgIVxuICAgICAgICAgICAgLy9cbiAgICAgICAgICAgIC8vIFNvIHdlIHdhaXQgdW50aWwgdGhlIGBocmFuYS5DbGllbnQuZ2V0VmVyc2lvbigpYCBvcGVyYXRpb24gY29tcGxldGVzICh3aGljaCBoYXBwZW5zIHdoZW4gdGhlXG4gICAgICAgICAgICAvLyBXZWJTb2NrZXQgaGFuc2hha2UgY29tcGxldGVzKSwgYW5kIG9ubHkgdGhlbiB3ZSByZXBsYWNlIGB0aGlzLiNjb25uU3RhdGVgIHdpdGhcbiAgICAgICAgICAgIC8vIGBmdXR1cmVDb25uU3RhdGVgLCB3aGljaCBpcyBzdG9yZWQgaW4gYHRoaXMuI2Z1dHVyZUNvbm5TdGF0ZWAgaW4gdGhlIG1lYW50aW1lLlxuICAgICAgICAgICAgZnV0dXJlQ29ublN0YXRlLmNsaWVudC5nZXRWZXJzaW9uKCkudGhlbigoX3ZlcnNpb24pID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy4jY29ublN0YXRlICE9PSBmdXR1cmVDb25uU3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBjbG9zZSBgdGhpcy4jY29ublN0YXRlYCBiZWZvcmUgd2UgcmVwbGFjZSBpdC4gSG93ZXZlciwgaXQgaXMgcG9zc2libGVcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhhdCBgdGhpcy4jY29ublN0YXRlYCBoYXMgYWxyZWFkeSBiZWVuIHJlcGxhY2VkOiBzZWUgdGhlIGNvZGUgYmVsb3cuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLiNjb25uU3RhdGUuc3RyZWFtU3RhdGVzLnNpemUgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuI2Nvbm5TdGF0ZS5jbGllbnQuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBleGlzdGluZyBzdHJlYW1zIG9uIHRoZSBjb25uZWN0aW9uLCB3ZSBtdXN0IG5vdCBjbG9zZSBpdCwgYmVjYXVzZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlc2Ugc3RyZWFtcyB3b3VsZCBiZSBicm9rZW4uIFRoZSBsYXN0IHN0cmVhbSB0byBiZSBjbG9zZWQgd2lsbCBhbHNvIGNsb3NlIHRoZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29ubmVjdGlvbiBpbiBgX2Nsb3NlU3RyZWFtKClgLlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuI2Nvbm5TdGF0ZSA9IGZ1dHVyZUNvbm5TdGF0ZTtcbiAgICAgICAgICAgICAgICB0aGlzLiNmdXR1cmVDb25uU3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9LCAoX2UpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgbmV3IGNvbm5lY3Rpb24gY291bGQgbm90IGJlIGVzdGFibGlzaGVkLCBsZXQncyBqdXN0IGlnbm9yZSB0aGUgZXJyb3IgYW5kIGtlZXBcbiAgICAgICAgICAgICAgICAvLyB1c2luZyB0aGUgZXhpc3RpbmcgY29ubmVjdGlvbi5cbiAgICAgICAgICAgICAgICB0aGlzLiNmdXR1cmVDb25uU3RhdGUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy4jY29ublN0YXRlLmNsaWVudC5jbG9zZWQpIHtcbiAgICAgICAgICAgIC8vIEFuIGVycm9yIGhhcHBlbmVkIG9uIHRoaXMgY29ubmVjdGlvbiBhbmQgaXQgaGFzIGJlZW4gY2xvc2VkLiBMZXQncyB0cnkgdG8gc2VhbWxlc3NseSByZWNvbm5lY3QuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLiNmdXR1cmVDb25uU3RhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSBhcmUgYWxyZWFkeSBpbiB0aGUgcHJvY2VzcyBvZiBvcGVuaW5nIGEgbmV3IGNvbm5lY3Rpb24sIHNvIGxldCdzIGp1c3QgdXNlIGl0XG4gICAgICAgICAgICAgICAgICAgIC8vIGltbWVkaWF0ZWx5LlxuICAgICAgICAgICAgICAgICAgICB0aGlzLiNjb25uU3RhdGUgPSB0aGlzLiNmdXR1cmVDb25uU3RhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLiNjb25uU3RhdGUgPSB0aGlzLiNvcGVuQ29ubigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbWFwSHJhbmFFcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjb25uU3RhdGUgPSB0aGlzLiNjb25uU3RhdGU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBOb3cgd2Ugd2FpdCBmb3IgdGhlIFdlYlNvY2tldCBoYW5kc2hha2UgdG8gY29tcGxldGUgKGlmIGl0IGhhc24ndCBjb21wbGV0ZWQgeWV0KS4gTm90ZSB0aGF0XG4gICAgICAgICAgICAvLyB0aGlzIGRvZXMgbm90IGluY3JlYXNlIGxhdGVuY3ksIGJlY2F1c2UgYW55IG1lc3NhZ2VzIHRoYXQgd2Ugd291bGQgc2VuZCBvbiB0aGUgV2ViU29ja2V0IGJlZm9yZVxuICAgICAgICAgICAgLy8gdGhlIGhhbmRzaGFrZSB3b3VsZCBiZSBxdWV1ZWQgdW50aWwgdGhlIGhhbmRzaGFrZSBpcyBjb21wbGV0ZWQgYW55d2F5LlxuICAgICAgICAgICAgaWYgKGNvbm5TdGF0ZS51c2VTcWxDYWNoZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgY29ublN0YXRlLnVzZVNxbENhY2hlID1cbiAgICAgICAgICAgICAgICAgICAgKGF3YWl0IGNvbm5TdGF0ZS5jbGllbnQuZ2V0VmVyc2lvbigpKSA+PSAyO1xuICAgICAgICAgICAgICAgIGlmIChjb25uU3RhdGUudXNlU3FsQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29ublN0YXRlLnNxbENhY2hlLmNhcGFjaXR5ID0gc3FsQ2FjaGVDYXBhY2l0eTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzdHJlYW0gPSBjb25uU3RhdGUuY2xpZW50Lm9wZW5TdHJlYW0oKTtcbiAgICAgICAgICAgIHN0cmVhbS5pbnRNb2RlID0gdGhpcy4jaW50TW9kZTtcbiAgICAgICAgICAgIGNvbnN0IHN0cmVhbVN0YXRlID0geyBjb25uOiBjb25uU3RhdGUsIHN0cmVhbSB9O1xuICAgICAgICAgICAgY29ublN0YXRlLnN0cmVhbVN0YXRlcy5hZGQoc3RyZWFtU3RhdGUpO1xuICAgICAgICAgICAgcmV0dXJuIHN0cmVhbVN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBtYXBIcmFuYUVycm9yKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgICNvcGVuQ29ubihjbGllbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNsaWVudCA/Pz0gaHJhbmEub3BlbldzKHRoaXMuI3VybCwgdGhpcy4jYXV0aFRva2VuKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2xpZW50LFxuICAgICAgICAgICAgICAgIHVzZVNxbENhY2hlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgc3FsQ2FjaGU6IG5ldyBTcWxDYWNoZShjbGllbnQsIDApLFxuICAgICAgICAgICAgICAgIG9wZW5UaW1lOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgIHN0cmVhbVN0YXRlczogbmV3IFNldCgpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbWFwSHJhbmFFcnJvcihlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY2xvc2VTdHJlYW0oc3RyZWFtU3RhdGUpIHtcbiAgICAgICAgc3RyZWFtU3RhdGUuc3RyZWFtLmNsb3NlKCk7XG4gICAgICAgIGNvbnN0IGNvbm5TdGF0ZSA9IHN0cmVhbVN0YXRlLmNvbm47XG4gICAgICAgIGNvbm5TdGF0ZS5zdHJlYW1TdGF0ZXMuZGVsZXRlKHN0cmVhbVN0YXRlKTtcbiAgICAgICAgaWYgKGNvbm5TdGF0ZS5zdHJlYW1TdGF0ZXMuc2l6ZSA9PT0gMCAmJlxuICAgICAgICAgICAgY29ublN0YXRlICE9PSB0aGlzLiNjb25uU3RhdGUpIHtcbiAgICAgICAgICAgIC8vIFdlIGFyZSBub3QgdXNpbmcgdGhpcyBjb25uZWN0aW9uIGFueW1vcmUgYW5kIHRoaXMgaXMgdGhlIGxhc3Qgc3RyZWFtIHRoYXQgd2FzIHVzaW5nIGl0LCBzbyB3ZVxuICAgICAgICAgICAgLy8gbXVzdCBjbG9zZSBpdCBub3cuXG4gICAgICAgICAgICBjb25uU3RhdGUuY2xpZW50LmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuI2Nvbm5TdGF0ZS5jbGllbnQuY2xvc2UoKTtcbiAgICAgICAgdGhpcy5jbG9zZWQgPSB0cnVlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBXc1RyYW5zYWN0aW9uIGV4dGVuZHMgSHJhbmFUcmFuc2FjdGlvbiB7XG4gICAgI2NsaWVudDtcbiAgICAjc3RyZWFtU3RhdGU7XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgY29uc3RydWN0b3IoY2xpZW50LCBzdGF0ZSwgbW9kZSwgdmVyc2lvbikge1xuICAgICAgICBzdXBlcihtb2RlLCB2ZXJzaW9uKTtcbiAgICAgICAgdGhpcy4jY2xpZW50ID0gY2xpZW50O1xuICAgICAgICB0aGlzLiNzdHJlYW1TdGF0ZSA9IHN0YXRlO1xuICAgIH1cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBfZ2V0U3RyZWFtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jc3RyZWFtU3RhdGUuc3RyZWFtO1xuICAgIH1cbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBfZ2V0U3FsQ2FjaGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNzdHJlYW1TdGF0ZS5jb25uLnNxbENhY2hlO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy4jY2xpZW50Ll9jbG9zZVN0cmVhbSh0aGlzLiNzdHJlYW1TdGF0ZSk7XG4gICAgfVxuICAgIGdldCBjbG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNzdHJlYW1TdGF0ZS5zdHJlYW0uY2xvc2VkO1xuICAgIH1cbn1cbiIsICJpbXBvcnQgKiBhcyBocmFuYSBmcm9tIFwiQGxpYnNxbC9ocmFuYS1jbGllbnRcIjtcbmltcG9ydCB7IExpYnNxbEVycm9yIH0gZnJvbSBcIkBsaWJzcWwvY29yZS9hcGlcIjtcbmltcG9ydCB7IGV4cGFuZENvbmZpZyB9IGZyb20gXCJAbGlic3FsL2NvcmUvY29uZmlnXCI7XG5pbXBvcnQgeyBIcmFuYVRyYW5zYWN0aW9uLCBleGVjdXRlSHJhbmFCYXRjaCwgc3RtdFRvSHJhbmEsIHJlc3VsdFNldEZyb21IcmFuYSwgbWFwSHJhbmFFcnJvciwgfSBmcm9tIFwiLi9ocmFuYS5qc1wiO1xuaW1wb3J0IHsgU3FsQ2FjaGUgfSBmcm9tIFwiLi9zcWxfY2FjaGUuanNcIjtcbmltcG9ydCB7IGVuY29kZUJhc2VVcmwgfSBmcm9tIFwiQGxpYnNxbC9jb3JlL3VyaVwiO1xuaW1wb3J0IHsgc3VwcG9ydGVkVXJsTGluayB9IGZyb20gXCJAbGlic3FsL2NvcmUvdXRpbFwiO1xuaW1wb3J0IHByb21pc2VMaW1pdCBmcm9tIFwicHJvbWlzZS1saW1pdFwiO1xuZXhwb3J0ICogZnJvbSBcIkBsaWJzcWwvY29yZS9hcGlcIjtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDbGllbnQoY29uZmlnKSB7XG4gICAgcmV0dXJuIF9jcmVhdGVDbGllbnQoZXhwYW5kQ29uZmlnKGNvbmZpZywgdHJ1ZSkpO1xufVxuLyoqIEBwcml2YXRlICovXG5leHBvcnQgZnVuY3Rpb24gX2NyZWF0ZUNsaWVudChjb25maWcpIHtcbiAgICBpZiAoY29uZmlnLnNjaGVtZSAhPT0gXCJodHRwc1wiICYmIGNvbmZpZy5zY2hlbWUgIT09IFwiaHR0cFwiKSB7XG4gICAgICAgIHRocm93IG5ldyBMaWJzcWxFcnJvcignVGhlIEhUVFAgY2xpZW50IHN1cHBvcnRzIG9ubHkgXCJsaWJzcWw6XCIsIFwiaHR0cHM6XCIgYW5kIFwiaHR0cDpcIiBVUkxzLCAnICtcbiAgICAgICAgICAgIGBnb3QgJHtKU09OLnN0cmluZ2lmeShjb25maWcuc2NoZW1lICsgXCI6XCIpfS4gRm9yIG1vcmUgaW5mb3JtYXRpb24sIHBsZWFzZSByZWFkICR7c3VwcG9ydGVkVXJsTGlua31gLCBcIlVSTF9TQ0hFTUVfTk9UX1NVUFBPUlRFRFwiKTtcbiAgICB9XG4gICAgaWYgKGNvbmZpZy5lbmNyeXB0aW9uS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IExpYnNxbEVycm9yKFwiRW5jcnlwdGlvbiBrZXkgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgcmVtb3RlIGNsaWVudC5cIiwgXCJFTkNSWVBUSU9OX0tFWV9OT1RfU1VQUE9SVEVEXCIpO1xuICAgIH1cbiAgICBpZiAoY29uZmlnLnNjaGVtZSA9PT0gXCJodHRwXCIgJiYgY29uZmlnLnRscykge1xuICAgICAgICB0aHJvdyBuZXcgTGlic3FsRXJyb3IoYEEgXCJodHRwOlwiIFVSTCBjYW5ub3Qgb3B0IGludG8gVExTIGJ5IHVzaW5nID90bHM9MWAsIFwiVVJMX0lOVkFMSURcIik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNvbmZpZy5zY2hlbWUgPT09IFwiaHR0cHNcIiAmJiAhY29uZmlnLnRscykge1xuICAgICAgICB0aHJvdyBuZXcgTGlic3FsRXJyb3IoYEEgXCJodHRwczpcIiBVUkwgY2Fubm90IG9wdCBvdXQgb2YgVExTIGJ5IHVzaW5nID90bHM9MGAsIFwiVVJMX0lOVkFMSURcIik7XG4gICAgfVxuICAgIGNvbnN0IHVybCA9IGVuY29kZUJhc2VVcmwoY29uZmlnLnNjaGVtZSwgY29uZmlnLmF1dGhvcml0eSwgY29uZmlnLnBhdGgpO1xuICAgIHJldHVybiBuZXcgSHR0cENsaWVudCh1cmwsIGNvbmZpZy5hdXRoVG9rZW4sIGNvbmZpZy5pbnRNb2RlLCBjb25maWcuZmV0Y2gsIGNvbmZpZy5jb25jdXJyZW5jeSk7XG59XG5jb25zdCBzcWxDYWNoZUNhcGFjaXR5ID0gMzA7XG5leHBvcnQgY2xhc3MgSHR0cENsaWVudCB7XG4gICAgI2NsaWVudDtcbiAgICBwcm90b2NvbDtcbiAgICAjYXV0aFRva2VuO1xuICAgICNwcm9taXNlTGltaXRGdW5jdGlvbjtcbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBjb25zdHJ1Y3Rvcih1cmwsIGF1dGhUb2tlbiwgaW50TW9kZSwgY3VzdG9tRmV0Y2gsIGNvbmN1cnJlbmN5KSB7XG4gICAgICAgIHRoaXMuI2NsaWVudCA9IGhyYW5hLm9wZW5IdHRwKHVybCwgYXV0aFRva2VuLCBjdXN0b21GZXRjaCk7XG4gICAgICAgIHRoaXMuI2NsaWVudC5pbnRNb2RlID0gaW50TW9kZTtcbiAgICAgICAgdGhpcy5wcm90b2NvbCA9IFwiaHR0cFwiO1xuICAgICAgICB0aGlzLiNhdXRoVG9rZW4gPSBhdXRoVG9rZW47XG4gICAgICAgIHRoaXMuI3Byb21pc2VMaW1pdEZ1bmN0aW9uID0gcHJvbWlzZUxpbWl0KGNvbmN1cnJlbmN5KTtcbiAgICB9XG4gICAgYXN5bmMgbGltaXQoZm4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3Byb21pc2VMaW1pdEZ1bmN0aW9uKGZuKTtcbiAgICB9XG4gICAgYXN5bmMgZXhlY3V0ZShzdG10T3JTcWwsIGFyZ3MpIHtcbiAgICAgICAgbGV0IHN0bXQ7XG4gICAgICAgIGlmICh0eXBlb2Ygc3RtdE9yU3FsID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBzdG10ID0ge1xuICAgICAgICAgICAgICAgIHNxbDogc3RtdE9yU3FsLFxuICAgICAgICAgICAgICAgIGFyZ3M6IGFyZ3MgfHwgW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc3RtdCA9IHN0bXRPclNxbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5saW1pdChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGhyYW5hU3RtdCA9IHN0bXRUb0hyYW5hKHN0bXQpO1xuICAgICAgICAgICAgICAgIC8vIFBpcGVsaW5lIGFsbCBvcGVyYXRpb25zLCBzbyBgaHJhbmEuSHR0cENsaWVudGAgY2FuIG9wZW4gdGhlIHN0cmVhbSwgZXhlY3V0ZSB0aGUgc3RhdGVtZW50IGFuZFxuICAgICAgICAgICAgICAgIC8vIGNsb3NlIHRoZSBzdHJlYW0gaW4gYSBzaW5nbGUgSFRUUCByZXF1ZXN0LlxuICAgICAgICAgICAgICAgIGxldCByb3dzUHJvbWlzZTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW0gPSB0aGlzLiNjbGllbnQub3BlblN0cmVhbSgpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJvd3NQcm9taXNlID0gc3RyZWFtLnF1ZXJ5KGhyYW5hU3RtdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW0uY2xvc2VHcmFjZWZ1bGx5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJvd3NSZXN1bHQgPSBhd2FpdCByb3dzUHJvbWlzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0U2V0RnJvbUhyYW5hKHJvd3NSZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBtYXBIcmFuYUVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgYmF0Y2goc3RtdHMsIG1vZGUgPSBcImRlZmVycmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGltaXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBocmFuYVN0bXRzID0gc3RtdHMubWFwKHN0bXRUb0hyYW5hKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gYXdhaXQgdGhpcy4jY2xpZW50LmdldFZlcnNpb24oKTtcbiAgICAgICAgICAgICAgICAvLyBQaXBlbGluZSBhbGwgb3BlcmF0aW9ucywgc28gYGhyYW5hLkh0dHBDbGllbnRgIGNhbiBvcGVuIHRoZSBzdHJlYW0sIGV4ZWN1dGUgdGhlIGJhdGNoIGFuZFxuICAgICAgICAgICAgICAgIC8vIGNsb3NlIHRoZSBzdHJlYW0gaW4gYSBzaW5nbGUgSFRUUCByZXF1ZXN0LlxuICAgICAgICAgICAgICAgIGxldCByZXN1bHRzUHJvbWlzZTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW0gPSB0aGlzLiNjbGllbnQub3BlblN0cmVhbSgpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEl0IG1ha2VzIHNlbnNlIHRvIHVzZSBhIFNRTCBjYWNoZSBldmVuIGZvciBhIHNpbmdsZSBiYXRjaCwgYmVjYXVzZSBpdCBtYXkgY29udGFpbiB0aGUgc2FtZVxuICAgICAgICAgICAgICAgICAgICAvLyBzdGF0ZW1lbnQgcmVwZWF0ZWQgbXVsdGlwbGUgdGltZXMuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNxbENhY2hlID0gbmV3IFNxbENhY2hlKHN0cmVhbSwgc3FsQ2FjaGVDYXBhY2l0eSk7XG4gICAgICAgICAgICAgICAgICAgIHNxbENhY2hlLmFwcGx5KGhyYW5hU3RtdHMpO1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiB3ZSBkbyBub3QgdXNlIGEgY3Vyc29yIGhlcmUsIGJlY2F1c2UgaXQgd291bGQgY2F1c2UgdGhyZWUgcm91bmR0cmlwczpcbiAgICAgICAgICAgICAgICAgICAgLy8gMS4gcGlwZWxpbmUgcmVxdWVzdCB0byBzdG9yZSBTUUwgdGV4dHNcbiAgICAgICAgICAgICAgICAgICAgLy8gMi4gY3Vyc29yIHJlcXVlc3RcbiAgICAgICAgICAgICAgICAgICAgLy8gMy4gcGlwZWxpbmUgcmVxdWVzdCB0byBjbG9zZSB0aGUgc3RyZWFtXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gc3RyZWFtLmJhdGNoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0c1Byb21pc2UgPSBleGVjdXRlSHJhbmFCYXRjaChtb2RlLCB2ZXJzaW9uLCBiYXRjaCwgaHJhbmFTdG10cyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW0uY2xvc2VHcmFjZWZ1bGx5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCByZXN1bHRzUHJvbWlzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbWFwSHJhbmFFcnJvcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGFzeW5jIG1pZ3JhdGUoc3RtdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGltaXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBocmFuYVN0bXRzID0gc3RtdHMubWFwKHN0bXRUb0hyYW5hKTtcbiAgICAgICAgICAgICAgICBjb25zdCB2ZXJzaW9uID0gYXdhaXQgdGhpcy4jY2xpZW50LmdldFZlcnNpb24oKTtcbiAgICAgICAgICAgICAgICAvLyBQaXBlbGluZSBhbGwgb3BlcmF0aW9ucywgc28gYGhyYW5hLkh0dHBDbGllbnRgIGNhbiBvcGVuIHRoZSBzdHJlYW0sIGV4ZWN1dGUgdGhlIGJhdGNoIGFuZFxuICAgICAgICAgICAgICAgIC8vIGNsb3NlIHRoZSBzdHJlYW0gaW4gYSBzaW5nbGUgSFRUUCByZXF1ZXN0LlxuICAgICAgICAgICAgICAgIGxldCByZXN1bHRzUHJvbWlzZTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdHJlYW0gPSB0aGlzLiNjbGllbnQub3BlblN0cmVhbSgpO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gc3RyZWFtLmJhdGNoKGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0c1Byb21pc2UgPSBleGVjdXRlSHJhbmFCYXRjaChcImRlZmVycmVkXCIsIHZlcnNpb24sIGJhdGNoLCBocmFuYVN0bXRzLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIHN0cmVhbS5jbG9zZUdyYWNlZnVsbHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IHJlc3VsdHNQcm9taXNlO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHRzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBtYXBIcmFuYUVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgdHJhbnNhY3Rpb24obW9kZSA9IFwid3JpdGVcIikge1xuICAgICAgICByZXR1cm4gdGhpcy5saW1pdChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZlcnNpb24gPSBhd2FpdCB0aGlzLiNjbGllbnQuZ2V0VmVyc2lvbigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgSHR0cFRyYW5zYWN0aW9uKHRoaXMuI2NsaWVudC5vcGVuU3RyZWFtKCksIG1vZGUsIHZlcnNpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBtYXBIcmFuYUVycm9yKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgZXhlY3V0ZU11bHRpcGxlKHNxbCkge1xuICAgICAgICByZXR1cm4gdGhpcy5saW1pdChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIC8vIFBpcGVsaW5lIGFsbCBvcGVyYXRpb25zLCBzbyBgaHJhbmEuSHR0cENsaWVudGAgY2FuIG9wZW4gdGhlIHN0cmVhbSwgZXhlY3V0ZSB0aGUgc2VxdWVuY2UgYW5kXG4gICAgICAgICAgICAgICAgLy8gY2xvc2UgdGhlIHN0cmVhbSBpbiBhIHNpbmdsZSBIVFRQIHJlcXVlc3QuXG4gICAgICAgICAgICAgICAgbGV0IHByb21pc2U7XG4gICAgICAgICAgICAgICAgY29uc3Qgc3RyZWFtID0gdGhpcy4jY2xpZW50Lm9wZW5TdHJlYW0oKTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBwcm9taXNlID0gc3RyZWFtLnNlcXVlbmNlKHNxbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBzdHJlYW0uY2xvc2VHcmFjZWZ1bGx5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF3YWl0IHByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG1hcEhyYW5hRXJyb3IoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzeW5jKCkge1xuICAgICAgICB0aHJvdyBuZXcgTGlic3FsRXJyb3IoXCJzeW5jIG5vdCBzdXBwb3J0ZWQgaW4gaHR0cCBtb2RlXCIsIFwiU1lOQ19OT1RfU1VQUE9SVEVEXCIpO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy4jY2xpZW50LmNsb3NlKCk7XG4gICAgfVxuICAgIGdldCBjbG9zZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiNjbGllbnQuY2xvc2VkO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBIdHRwVHJhbnNhY3Rpb24gZXh0ZW5kcyBIcmFuYVRyYW5zYWN0aW9uIHtcbiAgICAjc3RyZWFtO1xuICAgICNzcWxDYWNoZTtcbiAgICAvKiogQHByaXZhdGUgKi9cbiAgICBjb25zdHJ1Y3RvcihzdHJlYW0sIG1vZGUsIHZlcnNpb24pIHtcbiAgICAgICAgc3VwZXIobW9kZSwgdmVyc2lvbik7XG4gICAgICAgIHRoaXMuI3N0cmVhbSA9IHN0cmVhbTtcbiAgICAgICAgdGhpcy4jc3FsQ2FjaGUgPSBuZXcgU3FsQ2FjaGUoc3RyZWFtLCBzcWxDYWNoZUNhcGFjaXR5KTtcbiAgICB9XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgX2dldFN0cmVhbSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3N0cmVhbTtcbiAgICB9XG4gICAgLyoqIEBwcml2YXRlICovXG4gICAgX2dldFNxbENhY2hlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4jc3FsQ2FjaGU7XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLiNzdHJlYW0uY2xvc2UoKTtcbiAgICB9XG4gICAgZ2V0IGNsb3NlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI3N0cmVhbS5jbG9zZWQ7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IExpYnNxbEVycm9yIH0gZnJvbSBcIkBsaWJzcWwvY29yZS9hcGlcIjtcbmltcG9ydCB7IGV4cGFuZENvbmZpZyB9IGZyb20gXCJAbGlic3FsL2NvcmUvY29uZmlnXCI7XG5pbXBvcnQgeyBzdXBwb3J0ZWRVcmxMaW5rIH0gZnJvbSBcIkBsaWJzcWwvY29yZS91dGlsXCI7XG5pbXBvcnQgeyBfY3JlYXRlQ2xpZW50IGFzIF9jcmVhdGVXc0NsaWVudCB9IGZyb20gXCIuL3dzLmpzXCI7XG5pbXBvcnQgeyBfY3JlYXRlQ2xpZW50IGFzIF9jcmVhdGVIdHRwQ2xpZW50IH0gZnJvbSBcIi4vaHR0cC5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIkBsaWJzcWwvY29yZS9hcGlcIjtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDbGllbnQoY29uZmlnKSB7XG4gICAgcmV0dXJuIF9jcmVhdGVDbGllbnQoZXhwYW5kQ29uZmlnKGNvbmZpZywgdHJ1ZSkpO1xufVxuLyoqIEBwcml2YXRlICovXG5leHBvcnQgZnVuY3Rpb24gX2NyZWF0ZUNsaWVudChjb25maWcpIHtcbiAgICBpZiAoY29uZmlnLnNjaGVtZSA9PT0gXCJ3c1wiIHx8IGNvbmZpZy5zY2hlbWUgPT09IFwid3NzXCIpIHtcbiAgICAgICAgcmV0dXJuIF9jcmVhdGVXc0NsaWVudChjb25maWcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjb25maWcuc2NoZW1lID09PSBcImh0dHBcIiB8fCBjb25maWcuc2NoZW1lID09PSBcImh0dHBzXCIpIHtcbiAgICAgICAgcmV0dXJuIF9jcmVhdGVIdHRwQ2xpZW50KGNvbmZpZyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgTGlic3FsRXJyb3IoJ1RoZSBjbGllbnQgdGhhdCB1c2VzIFdlYiBzdGFuZGFyZCBBUElzIHN1cHBvcnRzIG9ubHkgXCJsaWJzcWw6XCIsIFwid3NzOlwiLCBcIndzOlwiLCBcImh0dHBzOlwiIGFuZCBcImh0dHA6XCIgVVJMcywgJyArXG4gICAgICAgICAgICBgZ290ICR7SlNPTi5zdHJpbmdpZnkoY29uZmlnLnNjaGVtZSArIFwiOlwiKX0uIEZvciBtb3JlIGluZm9ybWF0aW9uLCBwbGVhc2UgcmVhZCAke3N1cHBvcnRlZFVybExpbmt9YCwgXCJVUkxfU0NIRU1FX05PVF9TVVBQT1JURURcIik7XG4gICAgfVxufVxuIiwgImltcG9ydCB7IHNxbCB9IGZyb20gJ2RyaXp6bGUtb3JtJztcbmltcG9ydCB7IGludGVnZXIsIHNxbGl0ZVRhYmxlLCB0ZXh0IH0gZnJvbSAnZHJpenpsZS1vcm0vc3FsaXRlLWNvcmUnO1xuXG5leHBvcnQgY29uc3Qgbm90ZXNUYWJsZSA9IHNxbGl0ZVRhYmxlKCdub3RlcycsIHtcbiAgICBwYXRoOiB0ZXh0KCdwYXRoJykubm90TnVsbCgpLnByaW1hcnlLZXkoKSxcbiAgICBjb250ZW50OiB0ZXh0KCdjb250ZW50Jykubm90TnVsbCgpLFxuICAgIGRlbGV0ZWQ6IGludGVnZXIoXCJkZWxldGVkXCIsIHsgbW9kZTogXCJib29sZWFuXCIgfSkuZGVmYXVsdChmYWxzZSksXG4gICAgY3JlYXRlZEF0OiBpbnRlZ2VyKFwiY3JlYXRlZEFkXCIsIHsgbW9kZTogXCJ0aW1lc3RhbXBcIiB9KSxcbiAgICB1cGRhdGVkQXQ6IGludGVnZXIoXCJ1cGRhdGVkQXRcIiwgeyBtb2RlOiBcInRpbWVzdGFtcFwiIH0pXG59KTtcblxuZXhwb3J0IHR5cGUgSW5zZXJ0VXNlciA9IHR5cGVvZiBub3Rlc1RhYmxlLiRpbmZlckluc2VydDtcbmV4cG9ydCB0eXBlIFNlbGVjdFVzZXIgPSB0eXBlb2Ygbm90ZXNUYWJsZS4kaW5mZXJTZWxlY3Q7IiwgImltcG9ydCB7IGRyaXp6bGUsIExpYlNRTERhdGFiYXNlIH0gZnJvbSAnZHJpenpsZS1vcm0vbGlic3FsJztcbmltcG9ydCB7IG1pZ3JhdGUgfSBmcm9tIFwiZHJpenpsZS1vcm0vbGlic3FsL21pZ3JhdG9yXCI7XG5pbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tICdAbGlic3FsL2NsaWVudCc7XG5pbXBvcnQgKiBhcyBzY2hlbWEgZnJvbSBcIi4vZGIvc2NoZW1hXCJcbmltcG9ydCB7IG5vdGVzVGFibGUgfSBmcm9tICcuL2RiL3NjaGVtYSc7XG5pbXBvcnQgeyBlcSB9IGZyb20gJ2RyaXp6bGUtb3JtJztcbmltcG9ydCB7IFZhdWx0IH0gZnJvbSAnb2JzaWRpYW4nO1xuXG5leHBvcnQgY2xhc3MgRGF0YWJhc2VNYW5hZ2VyIHtcbiAgICBwcml2YXRlIGNsaWVudDogUmV0dXJuVHlwZTx0eXBlb2YgY3JlYXRlQ2xpZW50PjtcbiAgICBwcml2YXRlIGRiOiBMaWJTUUxEYXRhYmFzZTx0eXBlb2Ygc2NoZW1hPlxuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgY29uZmlnRGlyOiBzdHJpbmcsXG4gICAgICAgIHByaXZhdGUgbG9jYWxEYk5hbWU6IHN0cmluZyxcbiAgICAgICAgcHJpdmF0ZSByZW1vdGVEYlVybDogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIGF1dGhUb2tlbjogc3RyaW5nLFxuICAgICAgICBwcml2YXRlIHN5bmNJbnRlcnZhbDogbnVtYmVyID0gNjAgLy8gc3luYyBldmVyeSA2MCBzZWNvbmRzIGJ5IGRlZmF1bHRcbiAgICApIHsgfVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZSgpIHtcbiAgICAgICAgLy8gY29uc3QgbG9jYWxEYlBhdGggPSBwYXRoLmpvaW4odGhpcy5jb25maWdEaXIsIHRoaXMubG9jYWxEYk5hbWUpO1xuXG4gICAgICAgIHRoaXMuY2xpZW50ID0gY3JlYXRlQ2xpZW50KHtcbiAgICAgICAgICAgIHVybDogdGhpcy5yZW1vdGVEYlVybCxcbiAgICAgICAgICAgIC8vIHVybDogYGZpbGU6JHtsb2NhbERiUGF0aH1gLFxuICAgICAgICAgICAgLy8gc3luY1VybDogdGhpcy5yZW1vdGVEYlVybCxcbiAgICAgICAgICAgIGF1dGhUb2tlbjogdGhpcy5hdXRoVG9rZW4sXG4gICAgICAgICAgICAvLyBzeW5jSW50ZXJ2YWw6IHRoaXMuc3luY0ludGVydmFsXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmRiID0gZHJpenpsZSh0aGlzLmNsaWVudCwgeyBzY2hlbWEgfSlcbiAgICAgICAgdGhpcy5taWdyYXRlKClcblxuICAgICAgICAvLyBUT0RPOiBDcmVhdGUgdGFibGUgaWYgbm90IGV4aXN0c1xuICAgICAgICAvLyBXaWxsIG5lZWQgdG8gbWlncmF0ZSBtYXliZT8gbm90IGV4YWN0bHkgc3VyZSBob3cgZG8gZG8gdGhpcy5cbiAgICB9XG4gICAgYXN5bmMgbWlncmF0ZSgpIHtcbiAgICAgICAgdGhpcy5jbGllbnQuZXhlY3V0ZShgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgXFxgbm90ZXNcXGAgKFxcYHBhdGhcXGAgdGV4dCBQUklNQVJZIEtFWSBOT1QgTlVMTCxcXGBjb250ZW50XFxgIHRleHQgTk9UIE5VTEwsXFxgZGVsZXRlZFxcYCBpbnRlZ2VyIERFRkFVTFQgZmFsc2UsXFxgY3JlYXRlZEFkXFxgIGludGVnZXIsXFxgdXBkYXRlZEF0XFxgIGludGVnZXIpO2ApXG4gICAgfVxuICAgIGFzeW5jIHB1bGxGcm9tUmVtb3RlKHZhdWx0OiBWYXVsdCwgZm9yY2UgPSBmYWxzZSkge1xuICAgICAgICBpZiAoZm9yY2UpIHtcbiAgICAgICAgICAgIC8vcHVsbCBmcm9tIHRoZSBkYiBhbmQgb3ZlcndyaXRlIGFueSBjb25mbGljdHMgd2l0aCB0aGUgdmVyc2lvbiBvbiByZW1vdGVcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG5vdGVzID0gYXdhaXQgdGhpcy5kYi5xdWVyeS5ub3Rlc1RhYmxlLmZpbmRNYW55KClcbiAgICAgICAgICAgIGNvbnN0IGNvbmZsaWN0cyA9IFtdXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5vdGUgb2Ygbm90ZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoUGFydHMgPSBub3RlLnBhdGguc3BsaXQoJy8nKVxuICAgICAgICAgICAgICAgIGlmICghdmF1bHQuZ2V0RmlsZUJ5UGF0aChub3RlLnBhdGgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwYXRoUGFydHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIHRoZSBkaXJlY3RvcnlcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHZhdWx0LmNyZWF0ZUZvbGRlcihwYXRoUGFydHMuc2xpY2UoMCwgcGF0aFBhcnRzLmxlbmd0aCAtIDEpLmpvaW4oJy8nKSlcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCB2YXVsdC5jcmVhdGUobm90ZS5wYXRoLCBub3RlLmNvbnRlbnQpXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbm90ZSBleGlzdHMgYWRkIGEgY29uZmxpY3RcbiAgICAgICAgICAgICAgICAgICAgY29uZmxpY3RzLnB1c2gobm90ZSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29uZmxpY3RzXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBhZGROb3RlKHBhdGg6IHN0cmluZywgY29udGVudDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuZGIuaW5zZXJ0KG5vdGVzVGFibGUpLnZhbHVlcyh7XG4gICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgIGNyZWF0ZWRBdDogbmV3IERhdGUoKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGFzeW5jIGdldE5vdGUocGF0aDogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IFtyZXN1bHRdID0gYXdhaXQgdGhpcy5kYi5zZWxlY3QoKS5mcm9tKG5vdGVzVGFibGUpLndoZXJlKGVxKG5vdGVzVGFibGUucGF0aCwgcGF0aCkpXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG5cbiAgICBhc3luYyBnZXRBbGxOb3RlcygpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5kYi5zZWxlY3QoKS5mcm9tKG5vdGVzVGFibGUpXG4gICAgICAgIHJldHVybiByZXN1bHRcbiAgICB9XG5cbiAgICBhc3luYyB1cGRhdGVOb3RlKHBhdGg6IHN0cmluZywgY29udGVudDogc3RyaW5nKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZGIudXBkYXRlKG5vdGVzVGFibGUpLnNldCh7XG4gICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgcGF0aCxcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKVxuICAgICAgICB9KS53aGVyZShlcShub3Rlc1RhYmxlLnBhdGgsIHBhdGgpKVxuICAgIH1cblxuICAgIGFzeW5jIGRlbGV0ZU5vdGUocGF0aDogc3RyaW5nKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZGIudXBkYXRlKG5vdGVzVGFibGUpLnNldCh7IGRlbGV0ZWQ6IHRydWUgfSkud2hlcmUoZXEobm90ZXNUYWJsZS5wYXRoLCBwYXRoKSlcbiAgICB9XG4gICAgYXN5bmMgaGFyZERlbGV0ZShwYXRoOiBzdHJpbmcpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kYi5kZWxldGUobm90ZXNUYWJsZSkud2hlcmUoZXEobm90ZXNUYWJsZS5wYXRoLCBwYXRoKSlcbiAgICB9XG5cbiAgICBhc3luYyBzeW5jKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICBhd2FpdCB0aGlzLmNsaWVudC5zeW5jKCk7XG4gICAgfVxufSJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUEsd0ZBQUFBLFNBQUE7QUFBQSxhQUFTLFFBQVMsT0FBTztBQUN2QixVQUFJLGNBQWM7QUFDbEIsVUFBSSxPQUFPLENBQUM7QUFFWixlQUFTLFNBQVU7QUFDakI7QUFFQSxZQUFJLGNBQWMsT0FBTztBQUN2QixrQkFBUTtBQUFBLFFBQ1Y7QUFBQSxNQUNGO0FBRUEsZUFBUyxVQUFXO0FBQ2xCLFlBQUksTUFBTSxLQUFLLE1BQU07QUFDckIsa0JBQVUsUUFBUSxLQUFLO0FBRXZCLFlBQUksS0FBSztBQUNQLGNBQUksSUFBSSxFQUFFLEVBQUUsS0FBSyxJQUFJLE9BQU8sRUFBRSxNQUFNLElBQUksTUFBTTtBQUFBLFFBQ2hEO0FBQUEsTUFDRjtBQUVBLGVBQVMsTUFBTyxJQUFJO0FBQ2xCLGVBQU8sSUFBSSxRQUFRLFNBQVUsU0FBUyxRQUFRO0FBQzVDLGVBQUssS0FBSyxFQUFDLElBQVEsU0FBa0IsT0FBYyxDQUFDO0FBQ3BELG9CQUFVLFFBQVEsS0FBSztBQUFBLFFBQ3pCLENBQUM7QUFBQSxNQUNIO0FBRUEsZUFBUyxJQUFLLElBQUk7QUFDaEI7QUFDQSxZQUFJO0FBQ0YsaUJBQU8sUUFBUSxRQUFRLEdBQUcsQ0FBQyxFQUFFLEtBQUssU0FBVSxRQUFRO0FBQ2xELG1CQUFPO0FBQ1AsbUJBQU87QUFBQSxVQUNULEdBQUcsU0FBVSxPQUFPO0FBQ2xCLG1CQUFPO0FBQ1Asa0JBQU07QUFBQSxVQUNSLENBQUM7QUFBQSxRQUNILFNBQVMsS0FBUDtBQUNBLGlCQUFPO0FBQ1AsaUJB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TUFDZCxLQUFLLFNBQVM7QUFBQSxNQUNkLEtBQUssU0FBUztBQUFBLE1BQ2Q7QUFBQTtBQUFBLElBQ0o7QUFDQSxVQUFNLEtBQUssR0FBRyxXQUFXO0FBRXpCLGtDQUFRLGtCQUFrQixTQUFTO0FBRW5DLFNBQUssY0FBYyxrQkFBa0IsNEJBQTRCLE9BQU8sUUFBb0I7QUFDeEYsWUFBTSxLQUFLLEdBQUcsZUFBZSxLQUFLLElBQUksS0FBSztBQUFBLElBQy9DLENBQUM7QUFFRCxTQUFLLFdBQVc7QUFBQSxNQUNaLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLFVBQVUsTUFBTSxLQUFLLEdBQUcsUUFBUSxZQUFZLHFCQUFxQjtBQUFBLElBQ3JFLENBQUM7QUFFRCxTQUFLLFdBQVc7QUFBQSxNQUNaLElBQUk7QUFBQSxNQUNKLE1BQU07QUFBQSxNQUNOLFVBQVUsTUFBTSxLQUFLLEdBQUcsWUFBWTtBQUFBLElBQ3hDLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFFQSxXQUFXO0FBQUEsRUFFWDtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ2pCLFNBQUssV0FBVyxPQUFPLE9BQU8sQ0FBQyxHQUFHLGtCQUFrQixNQUFNLEtBQUssU0FBUyxDQUFDO0FBQUEsRUFDN0U7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNqQixVQUFNLEtBQUssU0FBUyxLQUFLLFFBQVE7QUFBQSxFQUNyQztBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ2pCLFFBQUk7QUFDQSxZQUFNLEtBQUssR0FBRyxLQUFLO0FBQ25CLFVBQUksd0JBQU8sOEJBQThCO0FBQUEsSUFDN0MsU0FBUyxPQUFQO0FBQ0UsY0FBUSxNQUFNLGdCQUFnQixLQUFLO0FBQ25DLFVBQUksd0JBQU8seUNBQXlDO0FBQUEsSUFDeEQ7QUFBQSxFQUNKO0FBQ0o7IiwKICAibmFtZXMiOiBbIm1vZHVsZSIsICJpbXBvcnRfb2JzaWRpYW4iLCAidGV4dCIsICJfYSIsICJfYSIsICJfYSIsICJfYSIsICJfYSIsICJfYSIsICJfYSIsICJfYSIsICJ2YWx1ZSIsICJzdGFydEZyb20iLCAiYXJyYXkiLCAiX2EiLCAicmVmIiwgImFjdGlvbnMiLCAiX2EiLCAiX2EiLCAic3FsIiwgIm90ZWwiLCAicmF3VHJhY2VyIiwgIl9hIiwgIl9hIiwgInBhcmFtIiwgInNxbCIsICJwbGFjZWhvbGRlciIsICJuYW1lIiwgIlNRTCIsICJfYSIsICJfYSIsICJuYW1lIiwgIl9hIiwgInJlbGF0aW9ucyIsICJfYSIsICJfYSIsICJfYSIsICJJbmxpbmVGb3JlaWduS2V5cyIsICJfYSIsICJuYW1lIiwgInJlc3VsdCIsICJfYSIsICJfYSIsICJfYSIsICJfYSIsICJGb3JlaWduS2V5QnVpbGRlciIsICJGb3JlaWduS2V5IiwgInVuaXF1ZUtleU5hbWUiLCAiX2EiLCAiVW5pcXVlQ29uc3RyYWludEJ1aWxkZXIiLCAiVW5pcXVlQ29uc3RyYWludCIsICJVbmlxdWVPbkNvbnN0cmFpbnRCdWlsZGVyIiwgInVuaXF1ZUtleU5hbWUiLCAiX2EiLCAicmVmIiwgImFjdGlvbnMiLCAiRm9yZWlnbktleUJ1aWxkZXIiLCAidW5pcXVlS2V5TmFtZSIsICJfYSIsICJfYSIsICJfYSIsICJfYSIsICJ0YWJsZSIsICJzcWwiLCAiam9pbk9uIiwgImZpZWxkIiwgIl9hIiwgIl9hIiwgIl9hIiwgInNlbGYiLCAiX2EiLCAiX2EiLCAiX2EiLCAiX2EiLCAic2VsZiIsICJzcWwiLCAiX2EiLCAiX2EiLCAicm93cyIsICJfYSIsICJ0ZXh0IiwgInZlcnNpb24iLCAiYXNjIiwgImVuY29kZVVSSSIsICJhcnJheSIsICJmcmVlSWQiLCAic3FsIiwgInNxbCIsICJlbnRyeSIsICJTdG10IiwgIkJhdGNoIiwgIkJhdGNoU3RlcCIsICJCYXRjaENvbmQiLCAiUmVxdWVzdCIsICJTdG10IiwgIkJhdGNoIiwgIlN0bXQiLCAiVmFsdWUiLCAiTmFtZWRBcmciLCAiQmF0Y2giLCAiQmF0Y2hTdGVwIiwgIkJhdGNoQ29uZCIsICJDbGllbnRNc2ciLCAiU3RtdCIsICJCYXRjaCIsICJFcnJvciIsICJWYWx1ZSIsICJFcnJvciIsICJFcnJvciIsICJTdG10UmVzdWx0IiwgIkNvbCIsICJWYWx1ZSIsICJCYXRjaFJlc3VsdCIsICJDdXJzb3JFbnRyeSIsICJEZXNjcmliZVJlc3VsdCIsICJEZXNjcmliZVBhcmFtIiwgIkRlc2NyaWJlQ29sIiwgIlNlcnZlck1zZyIsICJFcnJvciIsICJTdG10UmVzdWx0IiwgIkJhdGNoUmVzdWx0IiwgIkN1cnNvckVudHJ5IiwgIkRlc2NyaWJlUmVzdWx0IiwgIkNsaWVudE1zZyIsICJTZXJ2ZXJNc2ciLCAic3FsIiwgIkVycm9yIiwgIlBpcGVsaW5lUmVzcEJvZHkiLCAiU3RyZWFtUmVzdWx0IiwgIlN0cmVhbVJlc3BvbnNlIiwgIkVycm9yIiwgIlN0bXRSZXN1bHQiLCAiQmF0Y2hSZXN1bHQiLCAiRGVzY3JpYmVSZXN1bHQiLCAiQ3Vyc29yUmVzcEJvZHkiLCAiQ3Vyc29yUmVzcEJvZHkiLCAiQ3Vyc29yRW50cnkiLCAiU3RtdCIsICJCYXRjaCIsICJQaXBlbGluZVJlcUJvZHkiLCAiU3RyZWFtUmVxdWVzdCIsICJDbG9zZVN0cmVhbVJlcSIsICJTdG10IiwgIkJhdGNoIiwgIkN1cnNvclJlcUJvZHkiLCAic3FsIiwgImZldGNoIiwgIlBpcGVsaW5lUmVxQm9keSIsICJDdXJzb3JSZXFCb2R5IiwgIlBpcGVsaW5lUmVzcEJvZHkiLCAiZmV0Y2giLCAidmVyc2lvbiIsICJzcWwiLCAiV3NDbGllbnQiLCAicHJvbWlzZUxpbWl0IiwgInZlcnNpb24iLCAic3FsIiwgImltcG9ydF9wcm9taXNlX2xpbWl0IiwgIl9jcmVhdGVDbGllbnQiLCAiSHR0cENsaWVudCIsICJzcWxDYWNoZUNhcGFjaXR5IiwgInByb21pc2VMaW1pdCIsICJ2ZXJzaW9uIiwgInNxbCIsICJfY3JlYXRlQ2xpZW50Il0KfQo=
